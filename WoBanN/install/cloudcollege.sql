-- MySQL dump 10.14  Distrib 5.5.56-MariaDB, for Linux (x86_64)
--
-- Host: localhost    Database: cloudcollege
-- ------------------------------------------------------
-- Server version	5.5.56-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `BuyCart`
--

DROP TABLE IF EXISTS `BuyCart`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `BuyCart` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cart_owner_id` int(11) DEFAULT NULL,
  `date_added` datetime NOT NULL,
  `quantity` int(11) NOT NULL,
  `total_price` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `BuyCar_cart_id_id_3d2e61dd383e74f3_uniq` (`cart_owner_id`),
  CONSTRAINT `BuyCar_cart_owner_id_3abcf1b72715c3db_fk_app01_admin_id` FOREIGN KEY (`cart_owner_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BuyCart`
--

LOCK TABLES `BuyCart` WRITE;
/*!40000 ALTER TABLE `BuyCart` DISABLE KEYS */;
INSERT INTO `BuyCart` VALUES (1,1,'2017-12-19 09:22:21',1,0);
/*!40000 ALTER TABLE `BuyCart` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `BuyCart_product`
--

DROP TABLE IF EXISTS `BuyCart_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `BuyCart_product` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `buycart_id` int(11) DEFAULT NULL,
  `news_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `buycar_id` (`buycart_id`,`news_id`),
  KEY `BuyCar_product_news_id_6821441f66cd12e4_fk_app01_news_id` (`news_id`),
  CONSTRAINT `BuyCar_product_buycart_id_2cbd3442f325453e_fk_BuyCar_id` FOREIGN KEY (`buycart_id`) REFERENCES `BuyCart` (`id`),
  CONSTRAINT `BuyCar_product_news_id_6821441f66cd12e4_fk_app01_news_id` FOREIGN KEY (`news_id`) REFERENCES `app01_news` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BuyCart_product`
--

LOCK TABLES `BuyCart_product` WRITE;
/*!40000 ALTER TABLE `BuyCart_product` DISABLE KEYS */;
/*!40000 ALTER TABLE `BuyCart_product` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_admin`
--

DROP TABLE IF EXISTS `app01_admin`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_admin` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(254) DEFAULT NULL,
  `user_valid` tinyint(1) NOT NULL,
  `userpic` varchar(100) NOT NULL,
  `gender` varchar(1) NOT NULL,
  `signature` varchar(100) NOT NULL,
  `focus_count` int(11) NOT NULL,
  `create_date` datetime DEFAULT NULL,
  `user_type_id` int(11),
  `username_id` int(11),
  `my_cart_id` int(11),
  PRIMARY KEY (`id`),
  UNIQUE KEY `username_id` (`username_id`),
  UNIQUE KEY `my_cart_id` (`my_cart_id`),
  KEY `app01_admin_4da4d835` (`user_type_id`),
  CONSTRAINT `app01_admin_my_cart_id_60326842ee74eac7_fk_BuyCart_id` FOREIGN KEY (`my_cart_id`) REFERENCES `BuyCart` (`id`),
  CONSTRAINT `app01_admin_username_id_68e8095b41bcd227_fk_auth_user_id` FOREIGN KEY (`username_id`) REFERENCES `auth_user` (`id`),
  CONSTRAINT `app01_admin_user_type_id_3b5feee2468e3a2b_fk_app01_usertype_id` FOREIGN KEY (`user_type_id`) REFERENCES `app01_usertype` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_admin`
--

LOCK TABLES `app01_admin` WRITE;
/*!40000 ALTER TABLE `app01_admin` DISABLE KEYS */;
INSERT INTO `app01_admin` VALUES (1,'1076158802@qq.com',1,'medias/upload_imgss/20171219122611_CloudCollege.png','M','hello world',0,'2017-12-19 09:22:21',1,2,NULL);
/*!40000 ALTER TABLE `app01_admin` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_admin_focususer`
--

DROP TABLE IF EXISTS `app01_admin_focususer`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_admin_focususer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `from_admin_id` int(11) NOT NULL,
  `to_admin_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `from_admin_id` (`from_admin_id`,`to_admin_id`),
  KEY `app01_admin_focus_to_admin_id_62f075a117ad4517_fk_app01_admin_id` (`to_admin_id`),
  CONSTRAINT `app01_admin_focus_to_admin_id_62f075a117ad4517_fk_app01_admin_id` FOREIGN KEY (`to_admin_id`) REFERENCES `app01_admin` (`id`),
  CONSTRAINT `app01_admin_foc_from_admin_id_67800fb451acc766_fk_app01_admin_id` FOREIGN KEY (`from_admin_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_admin_focususer`
--

LOCK TABLES `app01_admin_focususer` WRITE;
/*!40000 ALTER TABLE `app01_admin_focususer` DISABLE KEYS */;
/*!40000 ALTER TABLE `app01_admin_focususer` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_category`
--

DROP TABLE IF EXISTS `app01_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  `administrator_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `app01_catego_administrator_id_359e6acbae7f56fb_fk_app01_admin_id` (`administrator_id`),
  CONSTRAINT `app01_catego_administrator_id_359e6acbae7f56fb_fk_app01_admin_id` FOREIGN KEY (`administrator_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_category`
--

LOCK TABLES `app01_category` WRITE;
/*!40000 ALTER TABLE `app01_category` DISABLE KEYS */;
INSERT INTO `app01_category` VALUES (1,'OpenStack',1),(2,'Docker',1),(3,'Python',1),(4,'机器学习',1),(5,'自动化',1),(6,'云计算',1);
/*!40000 ALTER TABLE `app01_category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_chat`
--

DROP TABLE IF EXISTS `app01_chat`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_chat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` longtext NOT NULL,
  `chat_date` datetime NOT NULL,
  `username_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `app01_chat_username_id_6876b8229f864f95_fk_app01_admin_id` (`username_id`),
  CONSTRAINT `app01_chat_username_id_6876b8229f864f95_fk_app01_admin_id` FOREIGN KEY (`username_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_chat`
--

LOCK TABLES `app01_chat` WRITE;
/*!40000 ALTER TABLE `app01_chat` DISABLE KEYS */;
/*!40000 ALTER TABLE `app01_chat` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_documentdata`
--

DROP TABLE IF EXISTS `app01_documentdata`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_documentdata` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(30) NOT NULL,
  `summary` varchar(256) DEFAULT NULL,
  `content` longtext,
  `document_data` varchar(100) NOT NULL,
  `newpic` varchar(100) NOT NULL,
  `url` varchar(200) DEFAULT NULL,
  `favor_count` int(11) NOT NULL,
  `reply_count` int(11) NOT NULL,
  `focus_count` int(11) NOT NULL,
  `create_date` datetime NOT NULL,
  `category_id` int(11) DEFAULT NULL,
  `news_type_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `course_price` int(11) NOT NULL,
  `check_enable` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `app01_document_category_id_2e734ea036fe2f2b_fk_app01_category_id` (`category_id`),
  KEY `app01_document_news_type_id_12c8b60dbfae4ae1_fk_app01_newtype_id` (`news_type_id`),
  KEY `app01_documentdata_user_id_daf009b2f4a634b_fk_app01_admin_id` (`user_id`),
  CONSTRAINT `app01_documentdata_user_id_daf009b2f4a634b_fk_app01_admin_id` FOREIGN KEY (`user_id`) REFERENCES `app01_admin` (`id`),
  CONSTRAINT `app01_document_category_id_2e734ea036fe2f2b_fk_app01_category_id` FOREIGN KEY (`category_id`) REFERENCES `app01_category` (`id`),
  CONSTRAINT `app01_document_news_type_id_12c8b60dbfae4ae1_fk_app01_newtype_id` FOREIGN KEY (`news_type_id`) REFERENCES `app01_newtype` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_documentdata`
--

LOCK TABLES `app01_documentdata` WRITE;
/*!40000 ALTER TABLE `app01_documentdata` DISABLE KEYS */;
INSERT INTO `app01_documentdata` VALUES (1,'Docker是什么','Docker是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者在笔记本上编译测试通过的容器可以批量地在生产环境中部署，包括VMs（虚拟机）、bare metal、OpenStack 集群和其他的基础应用平台。 ','<h4>Docker通常用于如下场景：</h4>\r\n\r\n<ul>\r\n	<li>web应用的自动化打包和发布；</li>\r\n	<li>自动化测试和持续集成、发布；</li>\r\n	<li>在服务型环境中部署和调整数据库或其他的后台应用；</li>\r\n	<li>从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>1</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/what-is-docker-16.html\">什么是Docker?</a></p>\r\n\r\n<p><strong>2</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-getting-started-14.html\">关于docker入门教程</a></p>\r\n\r\n<p><strong>3</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/prepare-docker-5.html\">准备</a></p>\r\n\r\n<p><strong>4</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-search-image-6.html\">搜索可用docker镜像</a></p>\r\n\r\n<p><strong>5</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-download-image-7.html\">下载容器镜像</a></p>\r\n\r\n<p><strong>6</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-run-8.html\">在docker容器中运行hello world!</a></p>\r\n\r\n<p><strong>7</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-install-package-9.html\">在容器中安装新的程序</a></p>\r\n\r\n<p><strong>8</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docer-save-changes-10.html\">保存对容器的修改</a></p>\r\n\r\n<p><strong>9</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/run-saved-image-11.html\">运行新的镜像</a></p>\r\n\r\n<p><strong>10</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/checking-running-image-12.html\">检查运行中的镜像</a></p>\r\n\r\n<p><strong>11</strong>&nbsp;<a href=\"http://www.docker.org.cn/book/docker/docker-push-image-13.html\">发布自己的镜像</a></p>\r\n','statics/document/20170209130422_Broods.txt','statics/images/timg_mVF1cGL.jpg','http://www.askeds.com/server',18,0,0,'2017-12-19 10:52:06',2,1,1,0,1),(2,'Python 3 教程全集','Python的3.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是一个较大的升级。为了不带入过多的累赘，Python 3.0在设计的时候没有考虑向下兼容。Python 介绍及安装教程我们在Python 2.X版本的教程中已有介绍，这里就不再赘述。你也可以点击 Python2.x与3​​.x版本区别 来查看两者的不同。本教程主要针对Python 3.x版本的学习，如果你使用的是Python 2.x版本请移步至Python 2.X版本的教程。','<p><a href=\"http://www.runoob.com/python3/python3-tutorial.html\" target=\"_top\" title=\"Python3 教程\">Python3 教程</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-basic-syntax.html\" target=\"_top\" title=\" Python3 基础语法\">Python3 基础语法</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-data-type.html\" target=\"_top\" title=\" Python3 基本数据类型\">Python3 基本数据类型</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-interpreter.html\" target=\"_top\" title=\"Python3 解释器\">Python3 解释器</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-comment.html\" target=\"_top\" title=\"Python3 注释\">Python3 注释</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-basic-operators.html\" target=\"_top\" title=\"Python3 运算符\">Python3 运算符</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-number.html\" target=\"_top\" title=\"Python3 数字(Number)\">Python3 数字(Number)</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-string.html\" target=\"_top\" title=\"Python3 字符串\">Python3 字符串</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-list.html\" target=\"_top\" title=\"Python3 列表\">Python3 列表</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-tuple.html\" target=\"_top\" title=\"Python3 元组\">Python3 元组</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-dictionary.html\" target=\"_top\" title=\"Python3 字典\">Python3 字典</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-step1.html\" target=\"_top\" title=\"Python3 编程第一步\">Python3 编程第一步</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-conditional-statements.html\" target=\"_top\" title=\"Python3 条件控制\">Python3 条件控制</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-loop.html\" target=\"_top\" title=\"Python3 循环语句\">Python3 循环语句</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-iterator-generator.html\" target=\"_top\" title=\"Python3 迭代器与生成器\">Python3 迭代器与生成器</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-function.html\" target=\"_top\" title=\"Python3 函数\">Python3 函数</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-data-structure.html\" target=\"_top\" title=\"Python3 数据结构\">Python3 数据结构</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-module.html\" target=\"_top\" title=\"Python3 模块\">Python3 模块</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-inputoutput.html\" target=\"_top\" title=\"Python3 输入和输出\">Python3 输入和输出</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-file-methods.html\" target=\"_top\" title=\"Python3 File\">Python3 File</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-os-file-methods.html\" target=\"_top\" title=\"Python3 OS\">Python3 OS</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-errors-execptions.html\" target=\"_top\" title=\"Python3 错误和异常\">Python3 错误和异常</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-class.html\" target=\"_top\" title=\"Python3 面向对象\">Python3 面向对象</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-stdlib.html\" target=\"_top\" title=\"Python3 标准库概览\">Python3 标准库概览</a>&nbsp;</p>\r\n\r\n<p>&nbsp;<a href=\"http://www.runoob.com/python3/python3-examples.html\" target=\"_top\" title=\"Python3 实例\">Python3 实例</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-reg-expressions.html\" target=\"_top\" title=\"Python3 正则表达式\">Python3 正则表达式</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-cgi-programming.html\" target=\"_top\" title=\"Python3 CGI编程\">Python3 CGI编程</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-mysql.html\" target=\"_top\" title=\"Python3 MySQL 数据库连接\">Python3 MySQL</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-socket.html\" target=\"_top\" title=\"Python3 网络编程\">Python3 网络编程</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-smtp.html\" target=\"_top\" title=\"Python3 SMTP发送邮件\">Python3 SMTP发送邮件</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-multithreading.html\" target=\"_top\" title=\"Python3 多线程\">Python3 多线程</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-basic-syntax.html\" rel=\"next\" title=\" Python3 基础语法\">Python3 基础语法</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-xml-processing.html\" target=\"_top\" title=\"Python3 XML解析\">Python3 XML解析</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-json.html\" target=\"_top\" title=\"Python3 JSON 数据解析\">Python3 JSON</a>&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-date-time.html\" target=\"_top\" title=\"Python3 日期和时间\">Python3 日期和时间</a>&nbsp;&nbsp;</p>\r\n\r\n<p><a href=\"http://www.runoob.com/python3/python3-built-in-functions.html\" target=\"_top\" title=\"Python3 内置函数\">Python3 内置函数</a></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h1>Python 3 教程</h1>\r\n\r\n<p><img alt=\"python3\" src=\"http://www.runoob.com/wp-content/uploads/2014/05/python3.png\" style=\"height:81px; width:150px\" /></p>\r\n\r\n<p>Python的3.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是一个较大的升级。为了不带入过多的累赘，Python 3.0在设计的时候没有考虑向下兼容。</p>\r\n\r\n<p>Python 介绍及安装教程我们在<a href=\"http://www.runoob.com/python/python-tutorial.html\" target=\"_blank\">Python 2.X版本的教程</a>中已有介绍，这里就不再赘述。</p>\r\n\r\n<p>你也可以点击<a href=\"http://www.runoob.com/python3/python-2x-3x.html\" target=\"_top\">&nbsp;Python2.x与3​​.x版本区别&nbsp;</a>来查看两者的不同。</p>\r\n\r\n<p>本教程主要针对Python 3.x版本的学习，如果你使用的是Python 2.x版本请移步至<a href=\"http://www.runoob.com/python/python-tutorial.html\" target=\"_blank\">Python 2.X版本的教程</a>。</p>\r\n\r\n<hr />\r\n<h2>查看python版本</h2>\r\n\r\n<p>我们可以使用以下命令来查看我们使用的Python版本：</p>\r\n\r\n<pre>\r\npython -V</pre>\r\n\r\n<p>以上命令执行结果如下：</p>\r\n\r\n<pre>\r\nPython 3.3.2</pre>\r\n\r\n<p>你也可以进入Python的交互式编程模式，查看版本：</p>\r\n\r\n<pre>\r\nPython 3.3.2 (v3.3.2:d047928ae3f6, May 16 2013, 00:03:43) [MSC v.1600 32 bit (Intel)] on win32\r\nType &quot;copyright&quot;, &quot;credits&quot; or &quot;license()&quot; for more information.\r\n&gt;&gt;&gt; </pre>\r\n\r\n<hr />\r\n<h2>第一个Python3.x程序</h2>\r\n\r\n<p>对于大多数程序语言，第一个入门编程代码便是&quot;Hello World！&quot;，以下代码为使用Python输出&quot;Hello World！&quot;：</p>\r\n\r\n<h2>实例(Python 3.0+)</h2>\r\n\r\n<p>#!/usr/bin/python3 print(&quot;Hello, World!&quot;);</p>\r\n\r\n<p><br />\r\n<a href=\"http://www.runoob.com/try/runcode.php?filename=HelloWorld&amp;type=python3\" target=\"_blank\">运行实例 &raquo;</a></p>\r\n\r\n<p>你可以将以上代码保存在hello.py文件中并使用python命令执行该脚本文件。</p>\r\n\r\n<pre>\r\n$ python3 hello.py</pre>\r\n\r\n<p>以上命令输出结果为：</p>\r\n\r\n<pre>\r\nHello, World!</pre>\r\n','medias/document/20170209130422_Broods.txt','medias/upload_imgss/20171220123703_CloudCollege.jpg','http://www.askeds.com/server',5,0,0,'2017-12-20 12:37:15',3,6,1,0,1),(5,'Docker命令大全','Docker 命令大全','<h3><strong>Docker 命令大全</strong></h3>\r\n\r\n<h3>容器生命周期管理</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-run-command.html\" target=\"_blank\">run</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-start-stop-restart-command.html\" target=\"_blank\">start/stop/restart</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-kill-command.html\" target=\"_blank\">kill</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-rm-command.html\" target=\"_blank\">rm</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-pause-unpause-command.html\" target=\"_blank\">pause/unpause</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-create-command.html\" target=\"_blank\">create</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-exec-command.html\" target=\"_blank\">exec</a></li>\r\n</ul>\r\n\r\n<h3>容器操作</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-ps-command.html\" target=\"_blank\">ps</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-inspect-command.html\" target=\"_blank\">inspect</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-top-command.html\" target=\"_blank\">top</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-attach-command.html\" target=\"_blank\">attach</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-events-command.html\" target=\"_blank\">events</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-logs-command.html\" target=\"_blank\">logs</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-wait-command.html\" target=\"_blank\">wait</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-export-command.html\" target=\"_blank\">export</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-port-command.html\" target=\"_blank\">port</a></li>\r\n</ul>\r\n\r\n<h3>容器rootfs命令</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-commit-command.html\" target=\"_blank\">commit</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-cp-command.html\" target=\"_blank\">cp</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-diff-command.html\" target=\"_blank\">diff</a></li>\r\n</ul>\r\n\r\n<h3>镜像仓库</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-login-command.html\" target=\"_blank\">login</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-pull-command.html\" target=\"_blank\">pull</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-push-command.html\" target=\"_blank\">push</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-search-command.html\" target=\"_blank\">search</a></li>\r\n</ul>\r\n\r\n<h3>本地镜像管理</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-images-command.html\" target=\"_blank\">images</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-rmi-command.html\" target=\"_blank\">rmi</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-tag-command.html\" target=\"_blank\">tag</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-build-command.html\" target=\"_blank\">build</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-history-command.html\" target=\"_blank\">history</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-save-command.html\" target=\"_blank\">save</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-import-command.html\" target=\"_blank\">import</a></li>\r\n</ul>\r\n\r\n<h3>info|version</h3>\r\n\r\n<ul>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-info-command.html\" target=\"_blank\">info</a></li>\r\n	<li><a href=\"http://www.runoob.com/docker/docker-version-command.html\" target=\"_blank\">version</a></li>\r\n</ul>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-tutorial.html\" target=\"_top\" title=\"Docker 教程\">Docker 教程</a>&nbsp; &nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-architecture.html\" target=\"_top\" title=\"Docker 架构\">Docker 架构</a></p>\r\n\r\n<h2>Docker 安装</h2>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/ubuntu-docker-install.html\" target=\"_top\" title=\"Ubuntu Docker 安装\">Ubuntu Docker 安装</a>&nbsp; &nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/centos-docker-install.html\" target=\"_top\" title=\"CentOS Docker 安装\">CentOS Docker 安装</a>&nbsp; &nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/windows-docker-install.html\" target=\"_top\" title=\"Windows Docker 安装\">Windows Docker 安装</a></p>\r\n\r\n<h2>Docker 使用</h2>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-hello-world.html\" target=\"_top\" title=\"Docker Hello World\">Docker Hello&nbsp;World</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-container-usage.html\" target=\"_top\" title=\"Docker 容器使用\">Docker 容器使用</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-image-usage.html\" target=\"_top\" title=\"Docker 镜像使用\">Docker 镜像使用</a><a href=\"http://www.runoob.com/docker/docker-container-connection.html\" target=\"_top\" title=\"Docker 容器连接\">Docker 容器连接</a></p>\r\n\r\n<h2>Docker 实例</h2>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-install-nginx.html\" target=\"_top\" title=\"Docker 安装 Nginx\">Docker 安装 Nginx</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-php.html\" target=\"_top\" title=\"Docker 安装 PHP\">Docker 安装 PHP</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-mysql.html\" target=\"_top\" title=\"Docker 安装 MySQL\">Docker 安装 MySQL</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-tomcat.html\" target=\"_top\" title=\"Docker 安装 Tomcat\">Docker 安装 Tomcat</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-python.html\" target=\"_top\" title=\"Docker 安装 Python\">Docker 安装 Python</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-install-redis.html\" target=\"_top\" title=\"Docker 安装 Redis\">Docker 安装 Redis</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-mongodb.html\" target=\"_top\" title=\"Docker 安装 MongoDB\">Docker 安装 MongoDB</a>&nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-install-apache.html\" target=\"_top\" title=\"Docker 安装 Apache\">Docker 安装 Apache</a></p>\r\n\r\n<h2>Docker 参考手册</h2>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-command-manual.html\" target=\"_top\" title=\"Docker 命令大全\">Docker 命令大全</a>&nbsp; &nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-resources.html\" target=\"_top\" title=\"Docker 资源汇总\">Docker 资源汇总</a></p>\r\n\r\n<p><a href=\"http://www.runoob.com/docker/docker-install-apache.html\" rel=\"prev\" title=\"Docker 安装 Apache\">Docker 安装 Apache</a>&nbsp; &nbsp;&nbsp;<a href=\"http://www.runoob.com/docker/docker-resources.html\" rel=\"next\" title=\"Docker 资源汇总\">Docker 资源汇总</a>&nbsp;</p>\r\n','medias/document/20170209130422_Broods.txt','medias/upload_imgss/20171220131749ti11mg2.jpg','http://www.askeds.com/server',0,0,0,'2017-12-20 13:18:10',2,1,1,0,1),(8,'什么是python','介绍python 是什么，以及它强大的地方，告诉你什么加入大学课本中。','<p>　Python(大蟒蛇)是一门解释型、面向对象、带有动态语义的高级程序设计语言。</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在于1989年，由一位名叫Guido van Rossum(吉多.范罗苏姆)，为打发时间设计了Python语言，第一个发行版公开于1991年。</p>\r\n\r\n<p>　　Python是一款纯粹的自由软件，源代码和解释器CPython都遵循了GPL(GNU General Public License)协议。</p>\r\n\r\n<p>　　Python语法清晰简洁，最有特色的是用空白符作为语句的缩进。</p>\r\n\r\n<p>　　Python具有强大而丰富的类库，也经常被别人说是胶水语言，可以跟其它语言（c/c++）写的模块结合在一起。常见的情况是使用Python快速生成程序的原型，然后有一部分需要有特别高的要求，需要其它语言改写。例如3D游戏中的图形渲染需要用到C/C++编写，然后封装成.py扩展类库由Python调用。需要注意的使用扩展类型需要考虑跨平台性。</p>\r\n\r\n<p>　　优点:</p>\r\n\r\n<p>　　　　1.简单：Python是一种代表简单主义思想的语言。</p>\r\n\r\n<p>　　　　2.易用：Python简单容易上手，因为有简单容易看懂的文档。</p>\r\n\r\n<p>　　　　3.速度快：运行速度快，因为Python中的标准库和第三方库都是C语言编写的，所以很快。</p>\r\n\r\n<p>　　　　4.免费、开源：Python是一款FLOSS(自由/源代码软件)之一，使用者可以自由地发布这个软件的拷贝、阅读它的源代码、对它做改动、把它的一部分用于新的自由软件中。FLOSS是基于一个团体分享知识的概念。</p>\r\n\r\n<p>　　　　5.高层语言：用Python语言编写程序的时候无需考虑诸如如何管理你的程序使用的内存一类的底层细节。</p>\r\n\r\n<p>　　　　6.可移植性：由于它的开源本质，Python已经被移植在许多平台上（经过改动使它能够工作在不同平台上）。这些平台包括Linux、Windows、 FreeBSD、Macintosh、Solaris、OS/2、Amiga、AROS、AS/400、BeOS、OS/390、z/OS、Palm OS、QNX、VMS、Psion、Acom RISC OS、VxWorks、PlayStation、Sharp Zaurus、Windows CE、PocketPC、Symbian以及Google基于linux开发的android平台。</p>\r\n\r\n<p>　　　　7.解释性：一个用编译性语言比如C或C++写的程序可以从源文件（即C或C++语言）转换到一个你的计算机使用的语言（二进制代码，即0和1）。这个过程通过编译器和不同的标记、选项完成。运行程序的时候，连接/转载器软件把你的程序从硬盘复制到内存中并且运行。而Python语言写的程序不需要编译成二进制代码。你可以直接从源代码运行 程序。在计算机内部，Python解释器把源代码转换成称为字节码的中间形式，然后再把它翻译成计算机使用的机器语言并运行。这使得使用Python更加简单。也使得Python程序更加易于移植。</p>\r\n\r\n<p>　　　　8.面向对象：Python既支持面向过程的编程也支持面向对象的编程。在&ldquo;面向过程&rdquo;的语言中，程序是由过程或仅仅是可重用代码的函数构建起来的。在&ldquo;面向对象&rdquo;的语言中，程序是由数据和功能组合而成的对象构建起来的。</p>\r\n\r\n<p>　　　　9.可扩展性：如果需要一段关键代码运行得更快或者希望某些算法不公开，可以部分程序用C或C++编写，然后在Python程序中使用它们。</p>\r\n\r\n<p>　　　　10.可嵌入性：可以把Python嵌入C/C++程序，从而向程序用户提供脚本功能。</p>\r\n\r\n<p>　　　　11.丰富的库：Python标准库确实很庞大。它可以帮助处理各种工作，包括<a href=\"http://baike.baidu.com/view/94238.htm\" target=\"_blank\">正则表达式</a>、文档生成、<a href=\"http://baike.baidu.com/view/106237.htm\" target=\"_blank\">单元测试</a>、<a href=\"http://baike.baidu.com/view/1053.htm\" target=\"_blank\">线程</a>、数据库、网页浏览器、CGI、FTP、电子邮件、XML、XML-RPC、HTML、WAV文件、密码系统、GUI（<a href=\"http://baike.baidu.com/view/185360.htm\" target=\"_blank\">图形用户界面</a>）、Tk和其他与系统有关的操作。这被称作Python的&ldquo;功能齐全&rdquo;理念。除了标准库以外，还有许多其他高质量的库，如wxPython、Twisted和Python图像库等等。</p>\r\n\r\n<p>　　　　12.规范的代码：Python采用强制缩进的方式使得代码具有较好可读性。而Python语言写的程序不需要编译成二进制代码。</p>\r\n\r\n<p>　　缺点：</p>\r\n\r\n<p>　　　　1.单行语句和命令行输出问题：很多时候不能将程序连写成一行，如import sys;for i in sys.path:print i。而perl和awk就无此限制，可以较为方便的在shell下完成简单程序，不需要如Python一样，必须将程序写入一个.py文件。</p>\r\n\r\n<p>　　　　2.独特的语法：这也许不应该被称为局限，但是它用缩进来区分语句关系的方式还是给很多初学者带来了困惑。即便是很有经验的Python程序员，也可能陷入陷阱当中。最常见的情况是tab和空格的混用会导致错误，而这是用肉眼无法分别的。</p>\r\n\r\n<p>　　　　3.运行速度慢：这里是指与C和C++相比。</p>\r\n\r\n<p>　　</p>\r\n\r\n<p>　　应用：</p>\r\n\r\n<p>　　　　系统编程：提供<a href=\"http://baike.baidu.com/view/16068.htm\" target=\"_blank\">API</a>（<a href=\"http://baike.baidu.com/view/1583431.htm\" target=\"_blank\">Application Programming Interface</a>应用程序编程接口），能方便进行系统维护和管理，Linux下标志性语言之一，是很多系统管理员理想的编程工具[6]<a name=\"ref_[6]_21087\"></a>&nbsp; 。</p>\r\n\r\n<p><strong>　　　　图形处理：</strong>有PIL、<a href=\"http://baike.baidu.com/view/2395822.htm\" target=\"_blank\">Tkinter</a>等图形库支持，能方便进行图形处理。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　　　数学处理：</strong>NumPy扩展提供大量与许多标准数学库的接口。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　　　文本处理：</strong>python提供的re模块能支持<a href=\"http://baike.baidu.com/view/94238.htm\" target=\"_blank\">正则表达式</a>，还提供SGML，XML分析模块，许多程序员利用python进行XML程序的开发。数据库编程：程序员可通过遵循Python DB-API（数据库<a href=\"http://baike.baidu.com/view/185287.htm\" target=\"_blank\">应用程序编程接口</a>）规范的模块与Microsoft SQL Server，Oracle，Sybase，DB2，MySQL、SQLite等数据库通信。python自带有一个Gadfly模块，提供了一个完整的SQL环境。<a href=\"http://baike.baidu.com/view/1317473.htm\" target=\"_blank\">网络编程</a>：提供丰富的模块支持sockets编程，能方便快速地开发<a href=\"http://baike.baidu.com/view/553502.htm\" target=\"_blank\">分布式应用程序</a>。很多大规模软件开发计划例如<a href=\"http://baike.baidu.com/view/464287.htm\" target=\"_blank\">Zope</a>，Mnet 及<a href=\"http://baike.baidu.com/view/3460.htm\" target=\"_blank\">BitTorrent</a>. Google都在广泛地使用它。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　　　Web编程</strong>：应用的开发语言，支持最新的XML技术。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　　　多媒体应用：</strong>Python的PyOpenGL模块封装了&ldquo;OpenGL应用程序编程接口&rdquo;，能进行二维和三维<a href=\"http://baike.baidu.com/view/14662.htm\" target=\"_blank\">图像处理</a>。PyGame模块可用于编写游戏软件。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　　　pymo引擎：</strong>PYMO全称为python memories off，是一款运行于Symbian S60V3,Symbian3,S60V5, Symbian3, Android系统上的AVG游戏引擎。因其基于python2.0平台开发，并且适用于创建<a href=\"http://baike.baidu.com/view/34865.htm\" target=\"_blank\">秋之回忆</a>（<a href=\"http://baike.baidu.com/view/263962.htm\" target=\"_blank\">memories off</a>）风格的AVG游戏，故命名为PYMO。</p>\r\n\r\n<p><strong>　　　　黑客编程：</strong>python有一个hack的库,内置了你熟悉的或不熟悉的函数，但是缺少成就感。</p>\r\n\r\n<p>　　标准库：　　　　</p>\r\n\r\n<p>　　　　Python拥有一个强大的标准库。Python语言的核心只包含数字、 字符串、列表、字典、文件等常见类型和函数，而由Python标准库提供了系统管理、网络通信、文本处理、数据库接口、图形系统、XML处理等额外的功 能。Python标准库命名接口清晰、文档良好，很容易学习和使用。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　　　　Python社区提供了大量的第三方模块，使用方式与标准库类似。它们的功能无所不包，覆盖科学计算、Web开发、数据库接口、图形系统多个领域，并且大多成熟而稳定。第三方模块可以使用Python或者<a href=\"http://baike.baidu.com/view/1219.htm\" target=\"_blank\">C语言</a>编写。<a href=\"http://baike.baidu.com/view/3013266.htm\" target=\"_blank\">SWIG</a>,SIP 常用于将C语言编写的程序库转化为Python模块。Boost C++ Libraries包含了一组库，Boost.Python，使得以 Python 或 C++ 编写的程序能互相调用。借助于拥有基于标准库的大量工具、能够使用低级语言如C和可以作为其他库接口的C++，Python已成为一种强大的应用于其他语 言与工具之间的<a href=\"http://baike.baidu.com/view/2993364.htm\" target=\"_blank\">胶水语言</a>。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　　　　Python标准库的主要功能有：文本处理，包含文本格式化、正则表达式匹配、文本差异计算与合并、Unicode支持，二进制数据，文件处理，包含文件操作、创建临时文件、文件压缩与归档、操作配置文件等功能，操作系统功能，包含线程与进程支持、IO复用、日期与时间处理、调用系统函数、写日记(logging)等功能，网络通信，包含网络套接字，SSL加密通信、异步网络通信等功能网络协议，支持HTTP，FTP，SMTP，POP，IMAP，NNTP，XMLRPC等多种网络协议，并提供了编写网络服务器的框架，W3C格式支持，包含HTML，SGML，XML的处理。其它功能，包括国际化支持、数学运算、HASH、Tkinter等</p>\r\n','medias/document/20170209130422_Broods.txt','medias/upload_imgss/2017122310355517-176D1C0FEB2E.jpeg','http://www.askeds.com/server',2,0,0,'2017-12-23 10:37:59',3,2,1,0,1),(9,'什么是机器学习','如果你还不了解机器学习的简史，请看这篇文章','<p>机器学习这个词是让人疑惑的，首先它是英文名称Machine Learning(简称ML)的直译，在计算界Machine一般指计算机。这个名字使用了拟人的手法，说明了这门技术是让机器&ldquo;学习&rdquo;的技术。但是计算机是死的，怎么可能像人类一样&ldquo;学习&rdquo;呢？</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>传统上如果我们想让计算机工作，我们给它一串指令，然后它遵照这个指令一步步执行下去。有因有果，非常明确。但这样的方式在机器学习中行不通。机器学习根本不接受你输入的指令，相反，它接受你输入的数据! 也就是说，机器学习是一种让计算机利用数据而不是指令来进行各种工作的方法。这听起来非常不可思议，但结果上却是非常可行的。&ldquo;统计&rdquo;思想将在你学习&ldquo;机器学习&rdquo;相关理念时无时无刻不伴随，相关而不是因果的概念将是支撑机器学习能够工作的核心概念。你会颠覆对你以前所有程序中建立的因果无处不在的根本理念。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>下面我通过一个故事来简单地阐明什么是机器学习。这个故事比较适合用在知乎上作为一个概念的阐明。在这里，这个故事没有展开，但相关内容与核心是存在的。如果你想简单的了解一下什么是机器学习，那么看完这个故事就足够了。如果你想了解机器学习的更多知识以及与它关联紧密的当代技术，那么请你继续往下看，后面有更多的丰富的内容。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>这个例子来源于我真实的生活经验，我在思考这个问题的时候突然发现它的过程可以被扩充化为一个完整的机器学习的过程，因此我决定使用这个例子作为所有介绍的开始。这个故事称为&ldquo;等人问题&rdquo;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>我相信大家都有跟别人相约，然后等人的经历。现实中不是每个人都那么守时的，于是当你碰到一些爱迟到的人，你的时间不可避免的要浪费。我就碰到过这样的一个例子。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>对我的一个朋友小Y而言，他就不是那么守时，最常见的表现是他经常迟到。当有一次我跟他约好3点钟在某个麦当劳见面时，在我出门的那一刻我突然想到一个问题：我现在出发合适么？我会不会又到了地点后，花上30分钟去等他？我决定采取一个策略解决这个问题。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>要想解决这个问题，有好几种方法。第一种方法是采用知识：我搜寻能够解决这个问题的知识。但很遗憾，没有人会把如何等人这个问题作为知识传授，因此我不可能找到已有的知识能够解决这个问题。第二种方法是问他人：我去询问他人获得解决这个问题的能力。但是同样的，这个问题没有人能够解答，因为可能没人碰上跟我一样的情况。第三种方法是准则法：我问自己的内心，我有否设立过什么准则去面对这个问题？例如，无论别人如何，我都会守时到达。但我不是个死板的人，我没有设立过这样的规则。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>事实上，我相信有种方法比以上三种都合适。我把过往跟小Y相约的经历在脑海中重现一下，看看跟他相约的次数中，迟到占了多大的比例。而我利用这来预测他这次迟到的可能性。如果这个值超出了我心里的某个界限，那我选择等一会再出发。假设我跟小Y约过5次，他迟到的次数是1次，那么他按时到的比例为80%，我心中的阈值为70%，我认为这次小Y应该不会迟到，因此我按时出门。如果小Y在5次迟到的次数中占了4次，也就是他按时到达的比例为20%，由于这个值低于我的阈值，因此我选择推迟出门的时间。这个方法从它的利用层面来看，又称为经验法。在经验法的思考过程中，我事实上利用了以往所有相约的数据。因此也可以称之为依据数据做的判断。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>依据数据所做的判断跟机器学习的思想根本上是一致的。</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>刚才的思考过程我只考虑&ldquo;频次&rdquo;这种属性。在真实的机器学习中，这可能都不算是一个应用。一般的机器学习模型至少考虑两个量：一个是因变量，也就是我们希望预测的结果，在这个例子里就是小Y迟到与否的判断。另一个是自变量，也就是用来预测小Y是否迟到的量。假设我把时间作为自变量，譬如我发现小Y所有迟到的日子基本都是星期五，而在非星期五情况下他基本不迟到。于是我可以建立一个模型，来模拟小Y迟到与否跟日子是否是星期五的概率。见下图：</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/302230238567547.jpg\" style=\"height:365px; width:701px\" /></p>\r\n\r\n<p><em>图3 决策树模型</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>这样的图就是一个最简单的机器学习模型，称之为决策树。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>当我们考虑的自变量只有一个时，情况较为简单。如果把我们的自变量再增加一个。例如小Y迟到的部分情况时是在他开车过来的时候(你可以理解为他开车水平较臭，或者路较堵)。于是我可以关联考虑这些信息。建立一个更复杂的模型，这个模型包含两个自变量与一个因变量。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>再更复杂一点，小Y的迟到跟天气也有一定的原因，例如下雨的时候，这时候我需要考虑三个自变量。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>如果我希望能够预测小Y迟到的具体时间，我可以把他每次迟到的时间跟雨量的大小以及前面考虑的自变量统一建立一个模型。于是我的模型可以预测值，例如他大概会迟到几分钟。这样可以帮助我更好的规划我出门的时间。在这样的情况下，决策树就无法很好地支撑了，因为决策树只能预测离散值。我们可以用节2所介绍的线型回归方法建立这个模型。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>如果我把这些建立模型的过程交给电脑。比如把所有的自变量和因变量输入，然后让计算机帮我生成一个模型，同时让计算机根据我当前的情况，给出我是否需要迟出门，需要迟几分钟的建议。那么计算机执行这些辅助决策的过程就是机器学习的过程。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>机器学习方法是计算机利用已有的数据(经验)，得出了某种模型(迟到的规律)，并利用此模型预测未来(是否迟到)的一种方法。</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过上面的分析，可以看出机器学习与人类思考的经验过程是类似的，不过它能考虑更多的情况，执行更加复杂的计算。事实上，机器学习的一个主要目的就是把人类思考归纳经验的过程转化为计算机通过对数据的处理计算得出模型的过程。经过计算机得出的模型能够以近似于人的方式解决很多灵活复杂的问题。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>下面，我会开始对机器学习的正式介绍，包括定义、范围，方法、应用等等，都有所包含。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>2.机器学习的定义</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>从广义上来说，机器学习是一种能够赋予机器学习的能力以此让它完成直接编程无法完成的功能的方法。但从实践的意义上来说，机器学习是一种通过利用数据，训练出模型，然后使用模型预测的一种方法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>让我们具体看一个例子。</p>\r\n\r\n<p><img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAokAAAFQCAIAAABcbHMMAAAgAElEQVR4nOzdd1hTZ8PH8cMKEFkBFbSKyiN1FrfgwlVB27rq3ttaRZ8Oa6211q21PGi1rdVqW8XWUWutdS+SMGTJDnsjskcgOzkn7x8HzxsDKishyO9zvdd7XQ+5E27SyJdzzn3OIdQv9snJzJc8CgAAAA3y8rAyjxIvHxQHAAAAzaR52vySRwEAAKBB0GYAAADDgjYDAAAYFrQZAADAsKDNAAAAhgVtBgAAMCz1bfMnJzNf8n96mSoAAECb8PLmam83x8XFtdxUAQAA2q7aCUabAQAAWhLaDAAAYFjQZgAAgIYJaLKXvz7aDAAA0DABAQF/NgHaDAAA0MzQZgAAAMOCNgMAABgWtBkAAMCwoM0AAACGBW0GAAAwLGgzAACAYUGbAQAADAvaDAAAYFhe1ObaI9FmAAAAfXjJdrPmMGw3AwAA6MnL92nTY14yAG0GAABoZjjeDAAAYFjQZgAAAMPSittcWVkZGRnJ5XJTU1MpitJ6tLy8nPtMaGhodXV1nS9SXFysOUwikTRxVgAAAE3UWtssl8v9/f2dnZ0Jgli3bp1SqWQeIkkyIiJi8+bNxDP29vY7duwoLi7WfAWSJENCQj788ENmWPv27ffv319ZWdmUiQEAADRRq2wzRVFpaWkzZsxwcXHhcDhabY6MjHz77betrKy2bNmyd+/eXbt2DR061NjYePv27SRJMsMePXo0atQoDofz+eef08P69+9vZGT07bffag4DAADQs1bZZolEcuzYsTFjxuzevbtfv36aba6urvbx8bG0tPzuu+/EYrFarSZJ8v79+3369OnUqVN6ejo9rKqqasWKFRYWFr/88gu9H5skyZs3b3bv3t3V1TUrK6vRcwMAAGiiVtnmxMTEvn37btq0KSAgYNCgQZptTkpKGjNmjLOzc0lJCTNeqVTu2rXL1tb2119/pY9Mx8fHDx482MXFRfMAs0Kh+Pzzz+3t7f/444/aB7ABAAD0o/W1WaFQrFq1auTIkUlJSVFRUVptvnHjxptvvvnFF1/I5XLNZ92/f5/D4cyfP1+lUqnV6suXL3fr1m3Pnj1aL37z5k02m7169Wp6GAAAgP4FNNnLX7+Z20xRVHBwcMeOHffu3UuSpFabVSrVyZMnnZycTp06pRXX5OTkjh07ent7C4VClUp1+PBhBweHCxcuaL2+QCCwsrKaPXv2i9Z1AwAAtHbN3Oby8vKpU6dOnjy5vLxcrVZrtVmhUGzbto3FYvn7+2u1OT8/v0ePHnSb5XK5j4+Pqanp1atXtV4/Ly+vQ4cOjWhzWVlZYr1lZGSIRKJG/PgAAABN15xtViqVx44d69at24MHD+jjwS9q87Vr17TWWtfZZi6Xq/UtGt3miIiI/fV28uRJLDcDAICW0pxtTk9Pd3d3X716NXMs+UVtPnfuXH22m//55x+tb4E2AwDAa6/Z2lxdXf3FF1/06tUrKiqK+WLt480nTpxwdHSsfbw5JSXF0dGROd7s5+dX5/HmxMTExh1vRpsBAKC1aLY2P336dPr06aampp06deryjKOjo5mZmZWVVZcuXaZPn15UVHTu3LmuXbvu3LlToVBoPj0gIMDe3n7OnDlKpZJZMvbtt99qfZe7d++y2eyVK1c2dJ12ZGTkN887cOAAE+ODBw9qPnT69Ons7OwGvT4AAEBzabY2FxUVbdiwoe/zXFxcLCwsOBxOnz59FixYUFZWlpCQMGLEiNmzZwuFQua5KpVq3759HA7nxo0b9Feio6Pd3NwWLVqkeaqVUqn88ssvO3TocO/evcb8rM87deoU0+agoKCmvyAAAECz0O19qGqf31xUVDR//nwzMzN/f39601mhUAQEBPTr169///7MJbULCgree+89MzOzq1ev0s+Vy+V37txxcXEZMWJEaWlp0+eGNgMAgGHSd5tJkrxx40b37t27dOly4MCBI0eO7N+/f/DgwRwO58KFC8zVvkiSvHLlipOTU8+ePQ8ePHjkyJF9+/b169fP3t7+1q1bzXJRMLQZAAAMk77brFarJRLJxYsXx48fz9xgysPD4/vvv9e6/6NYLD579qyHhwczzNPT88SJE5ov1RRoMwAAGCbdtlkoFAYGBsbHx9fe0k1MTLzxTFxcnEwme9H8mGEJCQlaK8iaAm0GAADDpNs2GzK0GQAADBPajDYDAIBhQZvRZgAAMCxoM9oMAACGBW1GmwEAwLCgzWgzAAAYFrQZbQYAAMOCNqPNAABgWNBmtBkAAAwL2ow2AwCAYUGb0WYAADAsaDPaDAAAhgVtRpsBAMCwoM1oMwAAGBa0GW0GAADDgjajzQAAYFjQZrQZAAAMC9qMNgMAgGFBm9FmAAAwLGgz2gwAAIYFbUabAaDBSImk4uFDZXl5A54ilVZFRkqzs9UkqbuJwesBbUabAaBhVCJR/k8/BTs4pKxbJ8vPr+dTCv39w3r1Spg1S5KaqusZQmuHNqPNANAw8vx8wezZPDMzvoVF6vr10qysl48nJZLCc+fC+/blEkRwhw5lt27pZZrQiqHNaDMANAxFkpU8XvSYMVwjo0Abm9QNG6SZmS8ZXHjuXHjv3lyCCHF0zNmzR1lRoc/ZQmuENqPNANBwJFkVHh45cCCXIIJsbVM3bJDl5NQ5sPivv0JdXLgEEdyxY87evYqSEj3PFFojtBltBoBGoShhaGjEW29xCSLQyip1wwZFcbHWkJKrV8N69uQSRLC9ffauXQ1aOwZtGdqMNgNAY5FkVXh4lLs7z8SEZ2qavGKForSUfoSSy4vOnw91ceEaGQW3b5+zbx8plbbsZKEVQZvRZgBoApIUBgfHeHryWCwuQSSvXi0vLFSJxYXnzoW5unIJIsjePvfAAUqpbOmJQmuCNqPNANA0JFkREBAzbhzPzIzHYqWsXZv/ww81q7Lbt8/euRNhhoZCm9FmAGgqiiQrAgKiPT15xsZ8c/PgDh24BBHSsWP27t2qqqqWnh20Pmgz2gwAzYEkhSEhYf/5D5cg6NVhWdu3M4efARoEbUabAaB5lFy5EmRvT7eZZ2qavGqV/OnTlp4UtEpoM9oMAE1FqVTFf/4Z1rMn18iIb2ERbG/PNTbmm5unrF2LTWdoBLQZbQaAJqEvyUnvzQ52cMjZt68yMDB6zBiemRmXIJKXL8f1RqCh0Ga0GQAajz5dKrxPHzrM2bt3U0rl/6/cZrF4JiapGzbIcnNbeqbQmqDNaDMANBIplxf+/nvN6VIdO2bv3KkSieiHKJKsePgw2tOTZ2pKXzXsJdfcBtCCNqPNANBIRefPh735Zs3pUnv2aB9aJsnKwMAoDw8uQQTZ2aX6+LzyjlUANLQZbQZoTsqKCqVQ2KCnkDKZvLBQR/PRnZKrV2tuYtG+ffbu3XUfVCbJqvDwiP79a26J4eNTz/s9QxuHNqPNAM1GlpeX8sEHScuWSbOz6/kUUiLJ2LIl/r33RPHxOp1b8yq5ejXM1ZVrZBRkZ5e1Y4eysvKFQ0lSGBJC3xKDb2mZumFDg+54oayslBcUqCmq/k+hFApJenqDngKGBm1GmwGah6q6Omf/fvqy0vEzZkjS01/5FGVlZdrGjf9/NnBBgR7m2XTilJSYiRN5xsbB7dvn1Oda2RRVFR4ePWoUz9Q0kM0uPHu2Xt+GoqRZWYmLFkUOGVJ+9y6lUNTnScrKytQNGx45O5dcuVLPp4ABQpvRZoBmQlHVMTHx777Lt7DgEkTCzJkv33qWFxRkfPYZj8XimZpGeXiU3b5NkaTeJttEpVevRo0YkbNvX32vlU2SlTxe3Lvvpn/8sbKioj7PoFSqoj/+CLSx4RLEY3f38rt3X/m95AUF6Zs388zMeKamgjlzZE+e1GtuYHjQZrQZoPlQVFV4ePzUqXwLC66RUdLixeLk5DoHyvLyMj77LMjWlmdsHOXuXnbzZisKM60qLIySy+s/niJJcVKSoqys/k+RP32atmFDkJ1dTZ7v3XvJYFlubvrmzYE2Njxj4ygPj7Jbt1rdWwoMtBltBmhWJFkVERH3zjs8MzO+hUXSkiXixEStIXSYgx0cuAQROWBA+b17qEjdKEqanZ22cWNNnocOrQwMrHOgLC8vffPmmrd04MDy+/fxlrZqaDPaDNDcKEoUGxv79ttcgghs1y5pyRLNrWd5UVHGZ58F29tzCSK8d++KBw/UqMhLUJQsJyd1w4ZAa2uukVHUqFEVXK7WEHlhYfrmzUHMW/rwId7S1q7525ybmzt06NB+z5w+fVoqldYeFhwczIyZOHGiQCCo89Xu3LnDDPPy8squ9+LPV0KbAXSIoiTp6Y+HDKEXJyctWUKf2quqrs747LNAa2u6IvU5hgpqipIXFqasXs03N+eZmESNGlXJ5zMPqqqq0jdv/v+39N49SqVqwclCs2jONstksunTpzs6Or7xjIODg4WFxcqVK2UyGTOsqqrqo48+srKycnJyeuONNzp37tyuXTtzc/N7zx9KqaysXLt2raWlJTOMzWabm5uHh4c3/MesA9oMoGuS9PSY8eN5pqY8Y+OEWbPESUmpPj48ExOeiUnk4MEVDx+iIvVHSiSpH37IZ7G4RkaPhw0rv3+fUipVIlHq+vX0W/p48OCKgAC8pa+H5myzXC7fsmXLxYsXma/weLyRI0eamJhER0fTX1Eqlf/73/84HM6ECROKi4vVarVCodi7d6+9vX3fvn0rn50jSH/Ryspq+vTppaWl9Fe++OILGxsbDw8PYQOvbFAntBlA5yhKFB8fN2UKvXI7vHdvrpERz9Q0yt29/M4dHBBtKFIqTVm1KtDKil4aVnL1avonn3CNjemF7uV37+rnLSXF4gY/RSLB+dYNotvjzSRJ+vn52dranjt3jv5KXl6et7e3nZ1dpsalZauqqpYsWWJtbX3z5k2KotRqdVZW1qhRoxwcHEo0LrUjFArff//99u3b379/v+lzQ5sB9IGiqiIiYidNom/KxDU2jnBzK7txo0XCrKqqauhmJSmVkhq7/VqcvKgodf16emnYoy5d+CwWz8QkysNDbwvdJenpef/7nzQjo/5PkWZnPzl6VPyCA5dQJ52vBfv55585HA7TZj6f7+bmNmvWLPHzf3ldvHiRw+F8+umnJEmq1ep79+65urouWrSIfP7TdvbsWWtr66+++ops8qcQbQbQD1lOTtLixfQ1SXjGxtGjR4sSElpgGnl52Xv2lPz9d/034BTFxU++/77Q319VVaXTuTUARclyclLWrOFbWnIJgksQYa6uetsJIcvLS1y4MJDNTlm9WpKaWp+nSDMzUzdsCLSxiZ82TZqTo+sZvjZ02+bq6uq1a9eam5uHhYWp1WqSJC9evNi9e/fvvvtO+fwCkMjISAcHh/fee08sFpMk+euvv3bu3Pn06dNaLxgaGmppaTl//nyJRNLEuaHN0DikXK4oLm7os9rsVSDoC4zQ5/bQOalZuZ2UpM9pKEpKMr/4IsjOLszVtfTff+vzFGVlZfbu3SFOTqE9ehSdP0825FRmnZI/fZqydi39tw6XIEK7d68ICNDTty4sjBk/nksQgdbWKatXv/LSb9Ls7FTm/Oxhw1rLdd8MgQ7bXFpa+tlnn9na2q5bt45eqq1UKnfv3s1ms0+dOqV6fs9Sbm6us7Ozt7e3UChUKBSfffaZhYXFhQsXtF4zOzvb3t5+9uzZ1dXVDZpMdnb27ecdOXLkwDO//fab5kOBgYGlWveTAVCr1Wo1pVDk//RTwsyZVQ1Zk1j811/RY8ZUtr0/AZWVlfQFRuiDzcWXLkUNH84liEA2O2nJEklD9os2ESmR5OzbF8ThcAkivG/f0uvXXz6eUiiyd++mz0oKdXEpv3vXQNZYKSsqMjZvpt9SvqUl19i49sptHaIoUVxc5IABXIIItLJKWb36JfellhcW1pz6RRAR/fsLQ0NxyLn+mr/N33zzjb29vb29PYfDYbFY+/fvLyoqoh9SKBTbtm1jsVhXr17V2imdn5/fo0cPus1yudzHx8fU1PThw4daL56Xl9ehQ4dGtDkiIuLg8/ZrOHDggOZDp06dysKt3KAu5XfvBlpb80xMYiZMqAoLe+WOREqpLPrjj9Bu3bjGxlEeHnreWGxZpESStmkT39ycPsZMryuWpKZGjx7NMzHhmZkJ5s+XZmXp7fe1qro6a/v2IDs7rpFReO/eJX///aLTt0i5PGffPvrSZuFvvln8558Nuv6X7pBicdrGjXwWi2dsHOnmVnbjRsqaNTwzM/pCYHpapE1RotjYKA8P+j9i0tKl8rrurKUoLU1Zs4bHYvGMjR8PHSoMDcXSvwZp/jafPHlyyDP/+c9/zM3N161b9/TpU7VGm//666/6tPlerQvUNaXN++vt5MmTaDPUSVlZmbhgAZ/N5hJEtKenMCTkJb8NVWJxwW+/hfboQd/fN+/bb9vOubyK0tKMzZvpm1g8Hj68/N69mqthUJQ4MTFu8mS+uXnNNbf1+G+NUiiyd+0KsrFhtuPJWldfUFZUZO/Zw7e05JmYRPTvX3L5soFsMStKS9M//ZR+S6Pc3cvv31eTJKVQpKxaFdiuHZcg6PdZH/e3oKjqqKiYCRP4LBaXIATz5mnd4lNRXJy8ciWXIHhmZtFjxghDQrDF3FC6Pd4cHh6+bNkyNpu9evVqsVisVCoPHjxobW1de592dnZ2ly5dmH3aX375Zbt27Wrv087IyOBwOGgztCBZbm7ysmX0nrrosWOFjx7VOUwlEhX89ltYr170/X1zv/mm7YRZnp+fsWVLYLt2dEW0V2VTVFVkJHNLDMH8+frcuU0plZlbt9JXJYt46y2tPCuKi7P37Al2cOAaGUX071988aKBhFmWn5/x2Wd8NrvmviAaq7IVpaWp69bRe7mjPDz0dAFUkhQGB8dOmkT/jZW8ejXzN5YsNzd1wwaeqSmPxYoZN64iIAAXKWsEna/TLiwsnDRpUufOndPS0kiS9Pf379q16//+9z+ttWBhYWH29vZTp06VSqUqlerEiROOjo4nTpzQerXg4GBLS8uFCxfWea2xl8jIyPjneX5+fkyMT506pfnQw4cPixu+2AfaCoqSpKYmr1jB5LkqMlJrCCmVFvz2W3jv3lyCCHF0zNm3r/b22etKlpeXsWULfaT28dChdd9xgSSrwsLi332Xb27OMzPT89IwZUVF1vbtwR06MHmmA6woKsresyfEyYle/Fzy11+GEubc3IzPPgvicOirjtR+S2W5uWk+PjVLroYPr31RT50gycrAwNi33+aZmfEtLVPWrJGkpUkzM1N9fAKtrHgmJtGenhUPH2JXduPovM1KpfKjjz7q1KlTTEwMRVEBAQFvvfXWpk2bZM+fMujv729vb3/o0CGKoiiKun37tqur6+eff049vyfk1KlTdnZ2x44doxq4h0ShUFQ/78SJE0ybHz58qPmQWCxWGca/STBQFCVJSUlevjywXTuukVGsl5cwNFTz8cIzZ8J69uQSRIiTU+6BA8ry8paaqZ7Jnz7N2LIluH175sLOL/zVTJJVkZFx3t48E5NANjtp6VJ95llRVJS1Ywed5/DevUuuXlWWl2fv2RPSqRO9+IsJdouT5+czC93D+/SpCAio4y2lKGlWVtqGDTVbzyNG6GlpGEkKQ0Njxo2jV24L5sxJXLiQ/hMhavjwyqAgbDE3ms7bXFpa6unp+cYbb9B7iTMyMsaOHdupU6d0jcX3FRUV77//vrW1dcKzsx5TU1OHDBnStWvXQo3DGOXl5V5eXo6OjskvuOtcg+AcKmgSipJmZiYtWsRjsXhmZrFeXlVhYfQjJX/99ahrVy5BBHfsmLN/v7Ih9wRs1VQiUZ6fX81a6N69y+/cecWvZooSCwTRo0fTJ1al/fe/WoctdYiiFEVFWdu309v3Ya6uSUuX0n9ShLm4FF+8aCBnTClKS2u2mJ9dfvyFbylFyfLyUj/4IJDN5pmYRI8eXcnj6WOK9MrtgQO5BMFnsehd3BH9+1eFhSHMTdGcbY6NjZ04cWJwcLD8mczMzPfee4/FYu3cuZPeiS2Xy/fv329nZzdx4sTS0lK5XF5SUvLBBx+w2eyNGzcqnq1ikMlk27dvb9eu3cyZM8vKyuRyeVFR0eLFiy0sLLZv365sjuN2aDM0FUUpiosFs2fT16GMnTSpKiKi+M8/6cVfwQ4OOXv36vWaFRQlLyxUFBc3aN2Nqrq62RZLk2RlYGDkoEHhffuW37lTr+PrFCVJSYkaPjy0R4+i33/X86aqsrIyc+vWQBsbrpERfbpwTZgN40JglFL59MQJet9MeN++9bkviKK0NGXVKp6ZGc/UNH7q1Feef9xME6WEoaH0Lgf6IA52ZTddc7Y5Pj7+vffe43A4hIZOnTpNmTJFobF0sLS0dM6cOQ4ODswYJtWar1ZSUvLOO+/Y2dkxwzgcjpeXV0OPNL8I2gzNghSLBXPm0MuaQrt1o3cqhjg66nlVNkWSotjYuClT6OVp9Yyc7MkTwZw5EW+91Yz3gxIlJIgFggZtM8mfPtXTPthaFGVlcd7eXGNj+oTd7N27G3GxaN2R5+cnLlgQPWpU/W/7SCkUKWvX0gvZdD09mrKsLGnpUi5BcI2MuEZGNSu3cZmRpmnmfdoqleqHH354T8OdO3fq3Mz9+eefmTHfffddRUVF7TEURX333XfMsOPHjzd0efZLoM3QXOT5+YkLF9J78+gLa+Tq/XQpUiJ5cvQofReEmPHjX7R6XJMsJydpyRIuQfDNzVM3bGjExc5aO0VJSfaePfQeY56pKb0ztvjSJbLJlx1sRrL8fFF8fIM2Q1UikZ52aKvVsidPUn186B0PEW5ukYMG1azcXrHiJZclgVfS+fFmg4U2Q3MhxeK8w4fpZdv03mzhs2PP+kOvHmdO7vL0rH5287c6SdLSklet4pmZ8VmsOG9vYXBwWzs6KNdcld2zZ9KyZfTx5gg3t+JLl/RxlnDrJ83KSvXxCWSzeaamMZ6e5ffvV/J4sZMm8Vgsvrl5ypo1etqp/jpCm9FmaBqSLDxzJuzNN+krLfBMTLgEobk0TH8oSpycnLxsGX0lirjJk190YVFJamryqlX0iS6xEycKHz1qa2FWlJb+/6rsHj2K//xTXlCQ9dVXNSu3+/YtuXKlpedo6KRZWWk+PjUrw0eOrOTxKJKkz3uOGT+ea2wcaGVFn1jV0jNtldBmtBmapPjPP0O7daOv/JW5bZtg7ly+hQXPzCzW27tltp7T0pIWLaLPG64zz9KMjORVq+jN6ygPj+ro6LYWZpVIlL1nT3DHjjWLvy5coBQKeiVd1vbtNWcr9e5deuNGS8/UcMny8pgzqiP6968KD///TxFJVkdFPR42jEsQgTY2KWvW6PPSb68NtBlthsYruXKlZlW2vX32nj3Kigp5fn7Nym0zs1hv7+rHj/U9J4qS5+cLZs2it+PjJk+ujopiHpTn5yevWkVfczRy4EBRXFwbvJhizr599NZeaPfuRRcuaF4WRllWlvn55/TK7Yh+/cpu3mzBeRosRVlZqo8PvXsmon9/YXCw9qeIoqqjo+lbYvDZ7JQ1a7A0rKHQZrQZGoOUyQr9/R85O9NbzLmHDjG3QyAlEsGsWXwWi2tk1KBV0805PYkkYcYMeg4x48YJw8IolUr25Ilg/nz6jK8YT09RQkJbC7NKJMrZv59nasozNg7v06fOK3+RMlnW11/TW4Rhb75ZfPmygZzrbCCU5eVJy5dzjY15pqZRI0a88DxmihLFxUWPGcMzNeUaGSUuWCB/+lTvk23F0Ga0GRpMJRIxV/4KdnCovSpbXliYtGgRvWERM26cMCRE//uN5QUFiQsX1sxh/Pjye/cSFyygV2XTp2K3tTArSkuz9+4NsrXlGRu//FrZlEKRtX07vW0d0a9f8Z9/GtTK7RakrKxM3bCBSxA8Fiva07OSx3vZB5uiqsLCYidOpFduJy1d2nYukNd0aDPaDA2jEosLz5yhr5Ud3KFDzp49dZwuRVHSjIzk5cv//5rbERH6nihFSdLTk5YupecQ2r0718iIb24e6+XVBldlq4TCXF9f+hhzeJ8+r7yJBSmRZG7dSh97jnBzK7t9u+3cquQlJKmpUe7uPDOzmLFjKx48ePWZXfQ1tydN4rNYEf37i5vjko5tBNqMNkMDUEpl4Zkz4b16MTexeOGVvyhKkpycvHw5fc5x7Ntvt0iexcnJgrlz6Q0XnrFxlLt7GwyzWq1WVlRkbtsWZGsb2r17PW9ioSgpoW+JEersXPLXXzirilZ+507iokV1X9a7TiRZGRSUtGxZydWrOp7aawVtRpuhASoDA0NdXGrCvH+/4uXXyqYoSWpq0pIlfEtLnqlp/LRpUj3eDJEmSUtLmDWLvrAG18gocvBgrdtytB2ynJysHTtKrlyp/+F/eWHhk6NHC379VSUU6nRurQlFSbOyGvbnHUnKcnIM5N4hrQXajDZDA8ifPo329Axu3z5n7956HTyjKFlubuK8eXw2O/2TT/R8PUhZXl7y6tX0IWf6//NYrLgpU6r0v3rcMCgrKhq2+UtRKpEIB5tB/9BmtBkagqJkOTklf//doMoqKysLTp/W8x0UZPn5SUuW8ExNeSYmUSNHVoWFJUyfTv9Pegc77kYAYLDQZrQZXkPyggLB3Ln0bftiJ06sfvxYTVGKkhJ6C77mmtuhocgzgGFCm9FmeN1IMzOTV6+uOV1Kc1U2fc/pJUuYW2K0wPI0AKgHtBlthteKJDU1ZfVqvqUlz8wsdtKkyqCg55btMNfcZlaPt9VjzwCGDG1Gm+H1IUlLS1m9mj6hOWbcuLqv2URR4uTkpCVL+Gw2z8QkbsqUF90SAwBaCtqMNsNrQpqdnbJ6Nb1BHDlgwMsuyUlR0szMxHnzeKamNSu3IyP1O1kAeBm0GW2G14Gqujpn3z6+pSXX2Pjx0KHVMTGvuCQnRSlKShKmT+cZG/PMzJJXrJA9eanbmigAACAASURBVKKvyQLAK6DNaDO8JsSJiQnTp8d6eb06zM8oKysT582LGjmy/O5dXU8PAOoPbUab4fUhSU+XpKc36JpNipIS7NAGMDRoM9oMAACGBW1GmwEAwLCgzWgzAAAYFrQZbQYAAMOCNqPNAABgWNBmtLlNoiiVSNTQJ6nE4nqemwQA0BRoM9rcFomTk3O/+UaSllb/p0gzMnJ9fUUJCbqbFQAADW1Gm9scWU6OYPbsQDY7eeVKcUpKfZ4iSUtLWbs20MoqfupUaXa2rmcIAG0c2ow2tzmKoqKYceO4BBFobZ28cuUrt56lmZkpa9cG2thwCSJqxAh5YaF+5gkAbRbajDa3PRQlSkiIHDiQSxCB7dolr1wpy8t70Vj506cpa9cGtmvHJYhIN7fqqCgccgYAXUOb0eY2iaJECQnRo0fzTE15JiaJCxfWmWd5QUHS0qX0mKgRI6qjoxFmANADtBltbqsoqjoqKnbSJL65OZcgBHPmyJ8+1XxcXlCQtGQJlyD4LFbM+PFVYWEIMwDoB9qMNrdhJCkMCYnz9qbznLxqlTQjg35EmpWV8sEHPBMTPosV+/bblYGBDbqBBABAU6DNaHPbRpLC4OBYLy+emRnf0jJ51SpJSookPT3lgw8C27XjmZrGTJhQyecjzACgT2gz2tzmkWRVeDizcjvh/fcFc+bQq7KjR44UhoYizACgZ2gz2qwnyrIypVDYoKeQEom8oEBH83kORYkFAnrlNo/F4rNYNauysfgLAFoC2ow26x5FSdLTkxYvTpw/X5KeXs/aKcvLU9evj/Xy0tNpSxQlfPQopFMnLkFwCSLEyamSx8MWMwC0CLQZbdY5VXV1zr599Hqr+GnTJKmpr3yKorQ0efVqLkHwzMxSP/xQUVSk60kqiosTFyzgEgTXyIhrZMQlCMHcufL8fF1/XwCA2tBmtFn3KKo6JiZ+2jS+pSWXIBJmzJA8Ww5dJ1leXtrGjTxTU56ZWbSnZ8XDh7refpXm5KR88AF9ulTk4MGPhw6l/5JIWr4cV+gEAP1Dm9FmvaCoqsjIhOnT+RYWXGPjxIULxYmJdQ6UZmWlbdwYaG3NMzGJHj264v59Ssdhpldl8y0teWZmMRMmVAQEVPL5sV5ePBaLb26evGpVfTb0AQCaEdqMNusLSVY/fhz/3nv02UqJCxfWvqeTNDs7bdOmIDs7LkE8Hjasks/XT5hrVmV7egqDg9UkqSZJYWhozIQJXGPjQCsr5BkA9AxtRpv1iKLEAkHsxIlcgghksxMXLhQnJzMPyp8+Tdu0KcjWlksQEf36CUNCdL0rW5aTw4Q50s2tOibm/78jRYliYx8PG1ZzS4xVq6SZmTqdDAAAA21Gm/WLoqRZWXTz+ObmiQsX0s1TVlambdzIZ7O5BBHRv39lYKCut5gVxcX0rmwuQUQOGFAVEaG9GpyiRLGxkYMGcQmCb2GRvGqVnk7oAoA2D21Gm1uANCsrztubx2LRK7dFcXFJy5dzCYJnahpFX+5DxydNKYqK6FXZ9HKzF57HTFGihISY8eN5Zmb0ym3Zkyc6nRgAgFoXbRaLxXfv3r31TF5eHlnXBlBJSQkzJiAgQPiCq1IUFBQww7hcrkgkatysakObWxJFieLi4qdOpTdbw3v1qsnkmDEVAQG63pWtLC9PWbOm5iYWEybUHGN+8VSrwsKYW2IkLV2qLCvT6fQAAJqzzSqV6t9//921axeLxSKeWbRoUWhoKKWxUUKSZEhIyKZNm5gxHA7n888/L3z+lvUkSfJ4vFWrVjHDHBwcduzYUVFR0fAfsw5ocwujqKrIyDhvb3qTlGds/HjIkHLdr8pWq9WStLQod3eemVnshAn1usAISQqDgmK9vPgsVuTAgVgXBgC61pxtFgqFkyZNmj59up+fn5+fn6+v77x582xsbEaOHFlSUsIMCwsLGz9+vJWV1Y4dO/z8/A4dOuTu7m5sbLxlyxbNLeygoCAPDw97e/uvv/6aHjZgwABjY+P9+/fXuSHeUGhzi5NmZgrmzmXaHD1mjCg+Xj/fuvzevaRlyxpwdymSFIaEJK9cWXbjho6nBgDQrG2Wy+XBwcHp6en0/6QoKj09ffz48cbGxjdv3qS/WF1dvX79egsLi59++kkikaifbR/369fP0dEx9dkWiVAoXLp0qbm5+e+//y6VSulh9+7dc3Fx6dmzZ8ZLr1xRT2hzy5I9ecKcLkXv2Q5ksxMXLXrRec/NjKJkubkN23lOkrK8PEql0tmcAABq6HYtGEVRhw8ftrW19fPzo3drJyYmjh49ulu3bqWlpcwwpVK5d+9eW1vb06dP08NiY2MHDRrUs2dPOszMsC+//NLe3v7cuXNUk9cKoc0tSFlWlrZpU6CVFX26VNn16zUrty0tExctevlVwwAAXns6X6d94sQJDofj6+tL1/Tff/91dXX96quvFAqF5rCHDx/a29vPmTNHqVSq1epLly45OzsfPHhQ69Xu3LnDZrNXrFihavLmC9rcUpSVlcmrVvFMTHgmJo+HDxeGhFAkKc3MjJ0wgWdqyjM2Tnj/fUlaGm4ABQBtlm7bLJPJtm7d2q5du2vXrqnVapVKdeLECUdHx1OnTmnFNSUlxdHR0dvbWygUqlQqPz8/BweHCxcuaL2gQCCwsrKaPXt2dXV1E+eGNrcIeWFh6oYNNauyR4+u5HJrdixTlFggiH/3Xb6FBZcg4qdPl2LrGQDaKt22WSAQjBw5sk+fPvQabIVCsW3bNhaLde7cOa025+fn9+jRg26zXC738fExNTX9559/tF4wLy+vQ4cOjWizWCwufN7x48eZNt++fVvzodLSUrlc3sSfHWqT5eSkbdpEX7k6eswY7VXZFFX9+DFzSwzBvHlYEQ0AbZMO21xaWrpt27auXbueOnWKXlnNtPnatWtaa63rbDOXy9V6zUa3OSkpyf953377LdPmH374QfOha9euFeAKUM1NmpVVc0lOI6OokSMrHjyo43QpkqyKiIifOpVvbs5jsRIXLRILBC0xWQCAlqSrNotEoh9++KFTp04rVqxgOse02d/fvz7bzVevXtV62Ua3OSIiYn+9nTx5Misrqwk/PWiT5eam/fe/QRwOlyAi3NxedrkPkqyOjo6bPJlnbMzX58ptAACDoZM2K5XKq1evOjs7e3l5RUdHM5vIKpXq5MmTTk5OtY83Jycnd+zYkTnefPjw4eY93ow2tyBVVVXOgQP0LSUi+vWrDAx8xTovipKkpkaPGsUlCD6bnbZpk/z569IAALzemr/NJEnevHmzY8eOXl5ejx8/1tx3TZLkH3/84ezsvGPHDq112vfv37e3t1+wYIFKpVKpVKdOnerUqVPtddq3bt1is9lr1qxp6DrtyMjIQ887cOAAE+ODBw9qPnT69Ons7OzG/fhQB4oShoREeXg8HjKkMiionqcISzMyoj09w/v2LblyRQ8XCwMAMBzN3GaSJENDQ21tbT09PQMDA2ufhSwQCEaMGDFjxgzNS28qlcrdu3dzOJxbt27RX4mJiXFzc5s/f75MJmOGKRSKrVu3dujQ4cGDBw2dWHFxcdTzjh07xrT5zz//1HwoMTGxqqqqET8+vIQoIUGcktKAy31QlPzpU2FIiC4nBQBgiJqzzRRFRUVFde/evXfv3lwut87LgxQXFy9atIjFYp0+fZredJbL5Xfu3OnTp8/AgQOZS3sWFhZOnz7dzMzs0qVLzLDr16937959zJgxZc1xswGcQwUAAIapOdtcVlZGd7dv37779u3TPIJ7+PBh+lqeJEnevn3bxcWlc+fOO3bs2L9//44dOwYMGGBvb//XX38xOSdJ8tq1a506dXJxcfn666/379//1Vdf9e7d28HB4d69e02/KJgabQYAAEPVnG3OyMgYPHgwUZeOHTuGPNs5KZFIrl69OmnSJObR0aNH//zzz/TltRkSieTSpUujR49mhk2YMOG3336jLxzWdGgzAAAYpuZss0QiiYiIeFiXoKAgrZXVaWlpzKNJSUkvutZHUlISMyw1NbW5wqxGmwEAwFDp/HraBgttBgAAw4Q2o80AAGBY0Ga0GQAADAvajDYDAIBhQZvRZgAAMCxoM9oMAACGBW1GmwEAwLCgzWgzAAAYFrQZbQYAAMOCNqPNAABgWNBmtBkAAAwL2ow2AwCAYUGb0WYAADAsaDPaDAAAhgVtRpsBAMCwoM1oMwAAGBa0GW3WLUVJSUOfoqyooJRKXUwGAKBVQJvRZh2qjolJWrKkgsut/1NECQlpGzeWXLlCqVS6mxgAgCFDm9FmXZGkpcVNnswzM4saMaIiIKA+TxEnJycuWMBns0O7dROGhOh4ggAABgptRpt1hZRIUtev55ub80xMHru7VwQEqEnyhaMpSpKeLpg7l8dicY2No0aOVBQX63GyAAAGBG1Gm3WIUihS16/ns9lcgogcMqTs9m1KoahzpDglJX7qVC5B8M3N46ZMkWZm6nmqAACGA21Gm3VLVVWV+uGHQba2XIJ4PHx42e3btdd5STMy4qdN4xIE39Iyfto0UVycmqJaZLYAAIYAbUabdU7+9Gnaxo1BHA6XIB4PG1Z+967mo+LExMQFC7hGRnxLy4QZM6ojIxFmAGjj0Ga0WfcoSpaTk7ZpU5CdHZcgHg8ZUsnj0Y+IEhISFyzgW1jwzMzip06tfvz4ZcekAQDaBrQZbdYLipLl5qb5+ARaW3ONjOiV2/QWM300OtbLS5yQgC1mAAA12ow26w9FKYqLU9asoVduh/fpEz1qFN/Cgt7RLc3JQZgBAGhoM9qsV6RcnubjwzM15RIElyB4JiaxkyZJs7Nbel4AAAYEbUab9U2cmBji5ES3OYjDKfT3p+Tylp4UAIABQZvRZr0SJycL5s3jEgTX2Jjeen48fHj5nTstPS8AAAOCNqPN+iNKSEhcuJDPYvFZrNhJk5KWLKFXbkcOHlzJ57f07AAADAXajDbriVggSFy4kM9mc42M4iZPFsXGSrOz03x8Am1suARR/2tuAwC89tBmtFkfJGlpiQsX8i0t6QxLMzLUFKWmKHlBQeoHH/AtLXkmJlEjR1Y8O+8ZAKAtQ5vRZh2jKElaWsL77/NMTHimpjHjx0uzsjQfV1VXp65fz2exuMbGj4cNK79/HzdvBoA2Dm1Gm3VLkp5ec61sC4v4d98VJyXVPo+ZUihSVq8OtLKquajnnTsvuiUGAEBbgDajzTokSU0VzJnD3MSiOirqRRcYUZSUpK5fX3NRT3f38jt3KFy8EwDaKrQZbdYVWX5+0rJlPFNTvrl5/LRpVRERL79/sywvL23jxpo8Dx0qSkjQ42QBAAwI2ow264qitDR52TK+uXncO+9UR0e/+iYWFCXNzk7buDHI1jZy8GBpRoZepgkAYHDQZrRZh2S5uVlffSVJSanvtbIpSvbkSZ6fn/DRI9yQCgDaLLQZbdYtUiJp6E0sSJkMYQaAtgxtRpsBAMCwoM1oMwAAGBa0uc21WVFa2tCnKMvLcUYTAIDeoM1tq81VERHJq1ZVhYXV/ynV0dGp69dXPHyou1kBAIAmtLkNtVmcnBw9ZgzPzCxu8uSq8PD6PKU6NjZh5ky+hUWEmxtOOAYA0A9dtTk1NXXhwoUjRowIDQ2lal+jkaL4fL7LM6NGjYqLi6tz2I0bN5hhY8aMyWi+c17bYJtV1dWCWbO4BMEzM4v19q6Oinr5eHFSUsLMmXwWi0sQMePHq6qq9DNPAIA2rvnbXF1d/c8//7DZbIIgOnfuzOVytaJbXl7+4Ycfmpubd+/evWfPnv/5z39sbGyMjIyuX7+uOaysrGzp0qVmZmY9evSgh1lZWREE0VwdbYNtVqvVpEQimDWLb27OJYhoT0/ho0eUSlXHOIqqjo2N9fLiEgSfxYqfOlVRXKz3yQIAtFHN3OaysrK9e/eyWKw+ffp069atdpsVCsWhQ4fs7OwmT55cUlKiVquVSuU333zTvn373r17l5eX08PkcvmuXbusrKzmzp1bWlpKP3HHjh22trbu7u6VlZWNmJuWttlmtVotz89PWrQosF07emtY+OhR7fOPRfHxsZMncwmCz2YLZs+WpKU19BxlAABotGZu85UrV3r27Ll58+bbt29/9NFHtducm5vr5eXF4XCyNG4UWF1dvXz5cmtr6+vXr9ODMzMzR40a1b59+1KNRcVVVVVz5sxp37793bt3a+8Ab6g222b6po3Jy5YFWltzCSJ67FitnduihIS4d9/lEkRgu3aCefNE8fEIMwCAPjVzm2NiYs6fP09RVEVFxccff1y7zTwez83Nbe7cuRKJRPOJly5d4nA4H330EUmSarX67t27rq6uS5cuJZ8/dcff39/a2vrLL78km3xKT9tts1qtpihxcnLysmX0bRljvb2ZpWHVMTH0vZb5lpaCuXNFcXEIMwCAnulqLVidbSZJ8sKFC926dTt69KhSqdQc//jxYwcHh3fffVcsFpMk+csvv3Tq1OmXX37RetmwsDBLS8v58+drpb0R2nSb1TVbz0mLF/MtLGpWboeF0WHmW1jwTE0TZs4UJyYizAAA+qfXNiuVyl27drHZ7FOnTqmeX4KUl5fn7Ozs7e0tFAoVCsXmzZstLCwuXLig9bLZ2dkODg6zZ8+urq5u0HxEItHT5x0/fpxp861btzQfKi4ulslkTfnxWweKkj15Ipg9m2tkxGOxHg8dGjViBL1MLHbSJFlODsIMANAi9NpmhUKxbds2Fov1zz//aO2Uzs/P79GjB91muVzu4+NjamoaEBCg9bJ5eXkdOnRoRJsjIyO/ed6BAweYNh88eFDzodOnT2dnZzfhp29NVCJRwowZPBMTrpER18iIZ2IS5+2NVdkAAC2oZdp8+fLl+rT57t27Wi/b6DZHRETsr7eTJ09qLlV77QmDg0McHbkEwSWI4Pbty27exBU6AQBakL73aX/zzTc2Nja192lnZWV16dKFbrNSqfzqq6+srKxq79POyMjgcDhoczMSJyXFTZ7MJQiesTHPxIRLEDHjxlVFRrb0vAAA2i59rwXz9/fv2rWrr6+v1lqwsLAwe3v7adOmSaVSlUp14sQJR0fHn376Setlg4KCLC0tFy5c2NDjwbGxsT8+j96tTfPz89N86Pz583l5eU358VuL6tjYhPff5xoZ8S0t4955J2HmzJqV25MmIc8AAC1Fr22mKIo+h2rjxo1acT179qy9vb2fnx9FURRF0edQbdmyRes85pMnT9rZ2f34448NPb9ZKBRmPe/HH39kNpSvX7+u+VB+fn7T14EbvppV2ebmPBYr4f33RfHx4qSkpCVL+JaWPFPT+l9zGwAAmpde26xWqzMzM8eOHduhQ4e0tDTNwdOnT7e2tk5MTKS/kpqaOmTIkE6dOhUUFDDDysrKJk6c6OTklJKS0pS50dr4OVSihAT6dCkuQcS98440I0NNUWqKkmZnC+bO5ZmY8FisuClTsPUMAKB/zdxmpVIpFAorKyuzs7PXr1/fqVOn69evV1RUCIVC+gCzQqHw9fXlcDijRo3Kzc2trKzMzc1dtmyZpaXlZ599xuzolsvlu3fvtrKymjx58pMnT+gXnD17toWFxd69e1V1XgK6gdpumylKJBDET5vGMzXlmZjEjB+vKCrSfFxZXk6v3OaZmtbs3MbSMAAAPWrmNgcEBDg4OBC1ODk5xcTE0GPKysoWL17s6OjIPOrg4PDOO++UlZVpvlRJScnMmTM1X61Dhw7Tpk1rrjOP22ybRXFx9OIvvoVFwvTpstzc2mOUZWWCuXP5lpb00jBhaChWbgMA6E0zt1kgEKxcuXJOLWvWrNE6Y/i3335jHv3xxx/rvH0FRVE//vgjM+z06dMikagRs6pT22yzOCkp1tubSxCBbLZg9mxxUtKLLjAizc5OWrKEXhoWM348jj0DAOiNro43G7422GZZXp5g9uyau0vNnSuKjX3Zlb8oSkJfc9vamksQMRMnStvM9VgAAFoW2tyG2iwvLIyfOpVvbi6YNateN7GgKHFyctKSJYFsdvTo0fL8fL1MEwCgrUOb21Cb1Wq1JCUl84svJCkp9b1WNkVJMzKyd+3Suo8kAADoDtrcttqsVqtVIlHDbmJBUSqxGPe9AADQG7S5zbUZAAAMHNqMNgMAgGFBm9FmAAAwLGgz2gwAAIYFbUabAQDAsKDNaDMAABgWtBltBgAAw4I2o80AAGBY0Ga0GQAADAvajDYDAIBhQZvRZgAAMCxoM9oMAACGBW1GmwEAwLCgzWgzAAAYFrQZbQYAAMOCNqPNAABgWNBmtBkAAAwL2ow2AwCAYUGb0WYAADAsaDPaDAAAhgVtRpsBAMCwoM1oMwAAGBa0GW0GAADDgjajzQAAYFjQZrQZAAAMC9qMNgMAgGFBm9FmAAAwLGgz2gwAAIYFbUabAQDAsKDNaDMAABgWtBltBgAAw4I2o80AAGBY0Ga0GQAADAvajDYDAIBhQZvRZgAAMCxoM9oMAACGBW1GmwEAwLCgzWgzAAAYFrQZbQYAAMOCNqPNAABgWAy9zSkpKd8+c/LkyfLy8uZ65ZMnT+57JjAwsLle9vUmkUhyNbT0dFqNgoIC5k2rrKxs6em0GlVVVcz79vTp05aeTqvx5MkT5n0TiUQtPZ1Wo7y8nHnfiouLW3YyhttmlUp1/vx5Ly8v4hlra+sFCxYUFRU1y+sfP3581zM8Hq9ZXvO1l5WVdeKZkydPtvR0Wo3Lly8z71tkZGRLT6fViI2NZd638+fPt/R0Wo1ff/2Ved9SUlJaejqtRlBQEPO+Xb9+vWUnY7ht/vfff3v37u3k5HT+/Pm7d+/euHHD09PT2NjYx8eHJMmmv/6PP/749TNcLrfpL9gWJCYmMm/azp07W3o6rcbx48eZ9y0gIKClp9NqhISEMO/bkSNHWno6rcb+/fuZ9y0mJqalp9Nq3Lhxg3nfzpw507KTMdA2l5eXT58+ncViPXr0SKVSqdVqiqISEhL69u3bpUsXgUDQ9G+BNjcC2tw4aHPjoM2NgzY3Dtr8aqGhof369XN3d6fDzDhy5Iidnd2xY8coimrit0CbGwFtbhy0uXHQ5sZBmxsHbX4FiqL++OOPLl26fPfdd1oPBQQEsNnsJUuWKBSKJn4XtLkR0ObGQZsbB21uHLS5cdDmV1Aqlfv377e1tb1w4YLWQykpKTY2NrNnz66urm7id0GbGwFtbhy0uXHQ5sZBmxsHbX4FuVzu4+Njamp648YNrYfy8vI6dOjQiDbn5ubef96hQ4eY/wynTp26A/Xwxx9/fK2hpafTauDD1ji//vor874dOHCgpafTauzevZt53/z9/Vt6Oq2G5t/QaHMdmDbX3pxtdJsjIiL2P2/nzp1fAwAA1II214Fp8+XLl7UeQpsBAEDX0OY6qFSq48ePOzo6/v7771oPRUdHs9nsOXPmNPRiN2gzAADUE9pcB5Ikf//99y5duuzatUvrob/++svKymrz5s0NvfxIUlKSv7//WQ379u1j/jP4+fmdhnr4/vvvNT++LT2dVgMftsY5cuQI877t2bOnpafTauzatYt5344ePdrS02k1fH190eZXiI+PHzhw4KRJkzT3XUskknXr1nXs2DE4OLjp3wLrtBsB67QbB+u0GwfrtBsH67QbB+u0X62srGzx4sXm5uaHDx+WyWRqtVoikZw4ccLJyWnGjBlCobDp3wJtbgS0uXHQ5sZBmxsHbW4ctPnVKIoKDAzs2rWro6PjnDlzFi5cOHv27DfeeKNz585RUVFNvyiYGm1uFLS5cdDmxkGbGwdtbhy0uV4UCkV0dPTUqVOZ+1DNnj07MDCwWW50oUabGwVtbhy0uXHQ5sZBmxsHbW6Aqqqqkmeqq6ubZYuZduLEiT3P8Pn85nrZ11tSUtIeDS09nVbj5MmTzJuGG5LW36NHj5j37dixYy09nVbj0KFDzPsWGxvb0tNpNW7dusW8b/7+/i07GUNvs+4IBIKIZ3Db9nqqqKhg3jTch7j+ND9s+fn5LT2dVqOwsJB5317730jNKCoqinnfSktLW3o6rUZOTg7zvrX4fa/bbpsBAAAME9oMAABgWNBmAAAAw4I2AwAAGBa0GQAAwLCgzQAAAIYFbQYAADAsaDMAAIBhQZsBAAAMC9oMAABgWNBmAAAAw4I2AwAAGBa0GQAAwLCgzQAAAIaljba5pKTE19d327Zt27Zt27NnT2hoaDPeGbrVuXr16rZajh07Vl1drTlMoVDweDxmwOHDh0mSrP1qMpns3r17zLDjx4/XOayVUigUly5d2r17d3BwcJ2fmeLi4m+++Yb+2ffu3RsZGVnnsKKioj179tDD9u3bFxcXV3tYSUnJt99+y3xKw8PDW++nNDEx0dfX18/PT6FQaD108+bN2h8/Pz+/qqoqrZFSqfT27dvMmJ9//rn2R0sulwcEBDBjvvvuu1b68auqqmI+SNu2bQsICKj91qnV6oKCgu3bt9NjDhw48KI7G2ZnZzMvdfDgwezs7Dpf6quvvqLH7N+/Pzk5uZl/JN1TKBRcLlfzpxAKhVoDLl26VPvzdurUKZFIpPVq1dXVzODt27dfunSp9j9AiURy7do15nXOnj3bXP9I21ybSZLk8XiLFy+2srIiCIIgCBaLNWTIkOvXr9f50W8L1q1bR9QycODAwsJCZoxUKt2zZ8+AAQOYATY2NuvXry8vL9d8qcrKyh07dvTt25cZ5uDg8Omnn1ZUVOj9x2p+crn8ww8/7Natm52d3ZEjR7R+6ZMk+fDhw4ULF7LZbOajNWzYsNu3byuVSs1ht27dmjNnDovFooeZm5uPHDmSx+OpVCpmTEBAwKJFi9q1a8e81NChQ2/evNnqPqUkSd6+fXv8+PFWVlZvvvmmRCLRGrB58+baH78333xT667qZWVl27dv7927NzOmY8eOW7duraysZMaIxeLdu3e/9dZbPE980gAAGOpJREFUzBhbW9uNGzdqfUoNnFKpPH78+MyZM5kPEkEQb7311q+//iqVSplhJElevXp1xowZRkZG9BgLCwtPT8+IiAjNPJAkeenSpSlTpjAvZWlpOXHixISEBM0x165dmzlzprGxMfNSY8aMCQsLa0V/2eTm5i5evNjNzU3zp1i7dm1iYiIzRiKRLF68uPbnbcKECSUlJcwwiqKysrI++eSTbt260QOMjIy6d+/+7bffam6xFBQUbN261dXVlXmdzp0779y5U+sPgsZpc22OjY195513WCzW4cOHw8PDw8LCduzYYW5uPmzYsKSkpJaeXctYt27dW2+9dffu3QgNAoFAMwPff/+9ra2tu7v7vXv3IiIigoKCXF1draysdu3apfmvd9++fTY2NhMmTHjw4EFERERgYGCnTp04HI6vr28r+kdep/j4+OnTp5ubmxMEUWebo6KivL29zczMvv/++4iIiNDQ0C+++ILFYrm7u6enpzPDHj16NHbsWFNT0zNnztDDNm3aZGZmNnr06IKCAnpMdHT05MmTzczMjh49Sn9Kt2/fzmKxhg8fnpqaqtcfu2nEYvH333/v7OxM/7p8UZtdXV1v376t+fGLj4/X+itkx44d1tbW3t7eDx8+pD9aDg4ODg4OmlvGR44csbGxGTly5P379+lPqYuLi7W19d69e1vRx6+ysnLBggWrVq0KCgqKiIgICws7dOhQly5dHB0dIyMjmWEBAQHu7u4mJiZXrlyJiIh49OjRypUrTU1NJ0yYoLnL4fbt2wMGDLC0tPz333/pYfPmzTM1NfX29mb+FuRyuR4eHiYmJpcvX6bHrF692szMbNy4cZp/+hi44ODg/v37nzp1iv4IPXr0aOLEiRYWFh9++CETS7rNo0aNoj8hjOTkZM0/oIVC4caNG9u1a7d06VI+nx8REXHt2jU2m+3s7Hz+/Hn6Tx+5XP75559bWVnNnDmTy+VGRERwudx27do5OjqePHmy6VvPbavNEonk0KFDbDbbz8+P2YNRXl7+8ccfW1paHj9+vNVtlDSLdevWeXh4FBUVvWhAfn6+q6tr7969MzIy6M8cRVFJSUkcDsfDw4OpRW5urpOT07Bhw7Kzs5lhYWFhdnZ2EydOzMzM1M+PowsJCQmTJk3icDhbt249duxY7TaLxeK9e/ey2ezvv/+eyU9ZWdmGDRssLCxOnTpF/x6sqqr6/PPPLS0tz5w5I5fL6WHFxcXLly83Nze/ePEi/VIHDhxgs9lHjx4Vi8XMS23atMnS0vLkyZOav0QMGUVRP/zwg62t7dixY3/55RcPD48XtdnNzU1zJ01tOTk5HA5n1KhROTk5zEeLz+fb2tpOmTKF3kP75MkTFxeXfv36ZWZmMmPi4+PpJ6alpensB21mFEWJRCKJRML8fheLxevXr2exWL6+vvRXKisr169fb2Fh8ffffzOJLSgomDVrFovFunv3Lv2V8vLyJUuWmJubP3jwgPm4PnnyxNvbm8VihYaGqp91yMLC4vLly8xHq7CwkN61c/PmTb394E2kVCqFQqHmvw6BQED/14+Ojqa/Qrf5nXfeKS0tfclLBQYG2trazpkzp6CggP6voFAozp8/b21tvWLFCvqzKhAI7OzsvLy8njx5wnzebt68aWtrO2vWrLy8vCb+OG2rzfn5+UuXLnV1deXz+Zp/1zx48OCtt96aPXt2s+yLaHVe2eYbN27Y29uvWbNGs0YURfn4+Dg7O1+4cIF+M//++28rK6uPP/5Yc5hEIlm9erWrq+s///zTeg+XhoSE+Pj4pKamKpXK3377rXabc3NzFyxY0KtXr0ePHmk+8e7du3369Jk3bx7dpPT09OnTp/fv3z8+Pl5z2LVr13r06LF8+XKSJPPy8hYtWvTmm29qHdK+d+9ev3795s6dW/vAmGGiKOrgwYMHDx4kSTI7O3v06NGNbvPly5fZbPaWLVs03/Pq6uoVK1b07t37xo0bFEX9+++/dnZ269at0xyjUqnWr1/fvXv3Og8WtiKXLl3q2rXrf//7X/qnEwgEb7/99sCBA7OysjSHXbx4sVOnTsy/wejo6FGjRg0dOlRzh61arT5z5gyHw9m5cydJkklJSd7e3gMGDMjIyNAc8+eff3bu3Hnjxo2taJeDFqFQOG/ePDc3t4cPH9L/9evZZl9fX3t7ez8/P83PTG5u7owZM4YPH06vT/r111+tra3p95AZU1paunDhQjc3twcPHjTx89a22iwQCDw9PRctWqT1R01KSsq4ceN69OihdYirjXh5mymK8vX15XA4t27d0nro559/trKy+vrrr5VKJUVRe/bs6dChw/379zXHKBSKw4cP29jY+Pr6tpYNvpd4UZtjYmJGjRq1fPlyrY9QUlLSyJEjXVxc6N8Fjx49GjZs2IYNG7R+V8bFxQ0YMKBXr15SqTQuLm7MmDFLly7Nz8/XHJOcnDxmzBgXF5fi4mJd/og60ZQ2UxS1Y8cOR0fHgIAAza/LZLJDhw7Z2dkdPXpUoVB888039vb2t2/f1hxDkuRPP/1kZWW1e/fu1vvxoyjq3Llzb7zxxtatWymKoijqwYMHbm5uW7Zs0dqcePz48X/+8x8PDw+ZTEZR1PXr13v16rVz507NA9VqtTo0NNTJycnb21smkwUEBAwYMGDz5s1au6+joqJcXV2HDRum9dxWpLy8fMaMGYMHDw4MDKS/Up82kyS5dOnS/v37h4eHa73ap59+2qFDB3oHw8cff9y9e/egoCDNMSKRaOfOnfb29qdPn2b2ZzROG2ozvROse/fuH374odZvxsLCwmnTpnXp0kXzuGDbsW7duq5du37xxRd7n9Hc/yyXy1euXGltbR0REaH1xBs3btjY2GzZskUikcjl8nnz5nXs2JHZfURTqVQXL160s7PbvXt36/1HzqizzRRF3b9/39nZ+b///W9ZWZnm+IKCgsmTJ3ft2jUvL49evPPGG298+eWXWr9Snzx5Mnr06B49epSVlQUEBHTr1s3Hx0fr10dhYeG7777bpUuXOhfZGriXt9nJyWnr1q3Mx09rhbBcLp85c2bnzp1jY2M1v65UKv39/TkczsGDB6uqqpYtW2ZnZ6d5RFatVlMUde3aNRsbmy+++KL2t24tJBLJ9u3bra2tf//9d7VarVKp/P39HR0dDx48yBz1oOXk5Li5uQ0aNKiiokKlUh0/frx9+/bHjh1jDqDQsrKyevToMXbs2PLy8j/++MPJyWnfvn1a+2Nyc3MHDRrk5ubWehdypqam9urVy8vLi9klQLe5V69eX375Jf1hO3DggNbf01KpdNCgQUOGDNFa9C4Wiw8ePNi+ffuzZ8+KRKK33367Z8+eAoFAc4xMJvvpp5/s7e1rv+cN1YbaTJLkjRs32Gz2J598ovUXYnl5+bx587p27dpm26y1anHKlClHjx6lUyqVSidNmtSuXbvap2dwuVwHBwe6zVKp1N3dvWPHjlrvIUmS//77b/v27V/jNpMk+ffff7PZ7K1bt2qd+VNWVjZz5kxnZ+e8vDyVSnXmzBkLC4t9+/Zp/UotKSl5++236c1retVJ7U2i8vLyWbNmOTs7v35t1vr4TZw40dfXlxkpkUgGDRrUpUsXrZ2uKpXqr7/+6tChw8GDBysrKydMmGBjY6O1Vo7exHRwcGjVbY6NjR03btzIkSPpd0CpVB49etTc3PzYsWMymUxzZFFR0fDhw+k2K5XKvXv3slis3377TWufQUFBQZ8+fcaOHVtWVvbDDz9YWFh89913Wv88i4qKPDw8WnWbjxw50rFjx0OHDjHvUu112sbGxjNnzjx16hQzRiwWczgcd3d3rd2rMpns6NGjTk5OZ8+eFQqFPXv27NWrl9Y/RoVCcfbs2Y4dO6LNDcC0eevWrVp/IbbxNqempnI1/O9//7OwsHjjjTd++OEHkiSZNufm5mo9sXabnZycnjx5ojmmTbV5x44dWtGts82+vr5ab0XtNn/55Ze1P6WvZZszMjI0P35HjhyxtrZ2dHT08/Oj32G6zc7Ozlo7+etss9an9DVoc3Fx8aeffvrGG28w6weZNv/8889aAaizzRcuXNDav1q7zT/99FPtl2rVbQ4PD3dxcZk0aVJOTg7zRfr4uubnbe/evUZGRi4uLv7+/vQRYrrNI0eO1DrMV7vNffr0Yc6toKHNjUGS5M2bN9u1a7dhwwatvYXl5eVz585ts23WIpPJ/q+9849qqn7juJoluxtubGwDZQnm2FZIbgMShoyxCVsmYEpyTvTLCA+n1E4onFJSSEKl4sxyhIeT0Ul2LDKCqSWCAYfk6KHkcMpM+wKZHIYHEBrb2I+77x+f873nfi/CF9OvbfK8Dn/dPVx2Pzz3vj+f5/M8zz127NjcuXOffvrp4eFhu92ekpKCYdiPP/5IsaRoc2xsLJfLpXjOLNHmuro6Op3++uuvU0pph4aG0tPTCW3+7LPPaDRaYWEhZXl948YNtVqNtLmhoYFOp2/dupUSHh8aGrovtZmC3W43mUxz587VarVoBKxWq0wmW7RoESWBzuVy1dbWEtqsVqv9/f0pWypou8F3tdlisbz33nsMBmPLli2EVLhcrg8//NDPz+/AgQOUizKbzdHR0YQ2l5SULFiwwGAwUHSiv79fLBYjbTYYDH5+fqWlpZRppe9qM47jly9flslkfD6/ra1t+pys8fFxg8Ewb9687OxsFKkaHx/ncDhyuZyS22+z2fR6PZ/PR9osFAqFQiGl8tbhcFRXV4M23x44jnd2dkZFReXk5FAmRL29vatXrw4JCaEkPc5arl27xuPxNBpNT0+P0+ksLCxksVg//PADxcxoNKI4hM1mczqdeXl5PB6Psi3tdDpRylhJSQkl/uaLTLXf3NHRIZVKJyd59fT0KJVKgUBw/fp1HMebm5sjIiIKCgooz7srV67I5fKlS5eOjIxcuHBBLpfn5uZScr56enqSkpIEAsHkAIb3M3Nt9ng8w8PDQUFB8fHxaK7sdDq3bdsWHBzc2dlJNpuYmDh06JC/v39ZWdn4+PjOnTvZbDYlTx5lUdHp9J07d/qc+1mt1srKShaL9fzzz5NTQNxut8lkCg8Pf+eddyjBlUuXLoWHh8tkstHRUdR1JDQ0tLy8nHLt3d3dixYtUqlUo6OjJ0+eFIlERUVFlD6Av/76q1gsfvzxx32regWtjJOSkvh8/vHjx2fyK11dXYGBgRs2bEAxP4fDkZaWJpVKyU1LPB7P6Ojorl272Gz20aNHrVbrSy+99Mgjj1y8eJFsY7Vay8rKmEymwWC4w4rc2aXNP//8s1qtTktLo6yPL1y4EBMTk5CQ4HMzxP8TZrM5KioKabPL5dLr9QEBAZ9//jnZBiVm83i8iooKHMddLte+ffs4HM6XX35JNrPb7W+99dbixYvvYje7f5CptLmrq0upVK5fv54yvevo6JDJZImJiRaLBVV7r1y5Misri5J+0traKhaLUTuI7u5ulUq1bt06SkX4+fPno6KilErl5GaW3s9tafPY2NgTTzxBaLPL5dq7d29gYODXX39NNhsfH9+xY4dAIDAajU6ns7y8PCAgoKamhmzjdruLioruVjuIe4nL5Tpy5AiTyXzmmWcoqR44jp89e1Yqlebk5FCCK42NjQ8//HBmZqbb7cZx/NSpU48++ui2bdsoEn7ixAkul7t582aXy9XS0iKTybKzsynRxDNnzoSGhmZkZPhQDRV6yK9duzYkJOTIkSMz/OaXL1+OjIwktNnpdGZnZ4eHhzc1NZHNBgYGNm3aJBKJmpubnU5nQUHB4sWLTSYT2ebmzZtbtmwJCwurq6uDGqrb4MaNG6+99lp4ePh3331HbMA4HI7Dhw8HBweXl5ffYRTivqG9vZ1Op2dkZKAAQ0dHR2BgYHZ2NnlmPTY2Fh8fL5fLiUzFtrY2f3//rVu3koNj/f39K1euTEhImKrTr28xVQ2V2WzevHmzWCxubm4mXAst7Ph8/qFDh1AyzvXr15999tmIiAhyC3dUC8Rms6urqz0ez+DgYG5urkgkamxsJJ+qoqIiKCjo4MGDvlgLdFvafPHiRQzDnnrqKWIzr6WlBcOwvLw8smv19fXFxMRoNBoUezx37hybzc7JySHr0MjIiEKhiImJoayBvByXy2U0Gvl8fmpqamdn5+SnfG9vL1rbkVtv2my23bt3L1y4sL6+Hh25evWqRqOJjo4mTxmtVuv27dsxDGtpafF4PH19fevWrVuxYkVXVxfxh2w2W1FREZPJpMyHvBkcx69evZqZmbl06dL3339/hst9lMlPp9NfeeUVYnZSXV3NZrP3799PbMPhOH7+/Pnly5dnZWWhvAeTyeTv779r1y6yS1+6dEkmk6Wmpt55CHZ2abPdbq+qquLz+WvXriXCZadPn46Ojl6xYoVPv0vgb9PY2Ihyvogjzc3NWq0WLTWQDAwODqpUqsDAwMOHD6Ppy+joaEFBAZPJzM/PJx6XZrNZLpejJTIyu3nzZm5uLofD2bNnjy/u9k1mKm222WwGg4HL5aanp6P9YIfDcfLkSZlMJpPJfvrpJyLNpKysjM1mb9y4Ec17JiYmjh8/HhERQfTjtNlslZWVPB4vLS0NLZ0dDse3334rl8ulUuktn9Tez1TafPbs2YMHD5JHsrW1NT09nc1mf/TRR0RUcGBgICIiYsmSJTU1NejgyMjIpk2buFxuSUkJeoAODg4mJCTweLyqqirCS/Py8lgslm9tNrvd7qamJpFIhEKmt/x3//XXX7t372YymS+88AKKo9jt9qNHjwqFwri4OCIqMzY2tn37dgaD8eqrr6IRsFqtVVVVS5YsUSqVSL0sFktxcTGLxXruuedQAYvdbq+pqRGJRLGxsZTUTm8GdXhkMplvvvnmVOXL9fX1n3zyCdnfTCZTfHw8ci1i1otqu5cvX37q1Cl0sK+vLz09XSAQEPl3v//+u0QiEQqFX331FfLJoaGhjRs3BgUFffDBB3e+gTK7tNnj8fT19WVmZmIYFhsbq9PpUlJSJBIJh8MxGAw+dPfeRfbv38/j8bRare4/SCQSOp1eWlpK+DcKjtFotJCQkOTkZJ1Ol5SUxGAwFAoFee8Tx3Gj0Uij0UJDQwkzDMNQW7t/6PruDr29vXl5eTqdTqvVRkZGzp8/XyKRoOFCzQdQc/z169djGKZQKJBricViDodTVVVFnn3/9ttvWq0WwzClUqnT6ZKTk5ctW8blco1GIxG26e3tzcjIwDAsLi6OfKrKykof8lIcx+vq6tAoJSYmBgQE0On0lJQUnU739ttvo9308vLyoKAgsvs99thjCxYsKC4uprx74NNPP6XRaGFhYegMKpWKRqOtWbOGSN5GrcFoNJpAICDcj06nJyQk+NYO/eDgYFZW1kMPPcRkMskjo9Pp1qxZ09ra6vF4cBz/5Zdf4uPjMQxTq9U6nW716tWhoaF8Pr+hoYEIt6DdFplMxmAwNBoNMgsJCQkODiYauaD+u0qlEsOwpKQk5JNhYWF8Pv+bb765wwYa95IzZ86w2ewHH3wwMjJS998UFxej+UpBQUFwcDB5VIVCIZvN1uv15A1Ni8Vy4MABGo0mkUiQvykUCgzDXn75ZSILxOFwVFRU0Gi0ZcuWIZvExEQ/Pz/U6fPOL2fWabPb7Tabzfv27QsICED1bVKptL6+3lf6IN51hoaGjh075ufnRxT8bdiwobu7m5IYMjEx0d7erlarCbM33nhjsuLabLampqZVq1YRZnv27LkPuq11d3crFIrJr6+ZM2dObW0tsnG73QMDA3v37l24cCH6KDo6+sSJExTXcrvd/f39hYWFxJivWrWqsbGRLLroVO+++y6LxUI26FVpvuWlOI7r9fpbDtqTTz6JKluGh4eRoBIfpaWldXZ2Tt5Tt1qtp0+fjouLIyxLS0spD8GJiYm2tjaVSkXY5OfnUyqvvJ9r166lpKTcctzmz5/f3t6OzFwu159//rljxw7itUvJycktLS2UFZvL5frjjz9yc3OJk6Smpp47d46cqYROlZ+f/8ADDyAbjUbz/fff+1b2XG1t7S0Hbc6cOS+++CJyFbPZXFlZid5YQ3x05coVyp2F4/jY2NgXX3xBvNOMwWB8/PHHlExPi8XS0NAQFRWFbObNm6fX66dpfnxbzDptRqDcJQJfDBLeRSijMU0Chdvtvl2z+2NsKUM0jfOQLVE+zv884VRm94GXTjVulMbsM3Q/z8xca4Ze6s2QL2F6f/sbt+RUZr4+btPcpH/P32ZyA+I4/n963M1SbQYAAAAArwW0GQAAAAC8C9BmAAAAAPAuQJsBAAAAwLsAbQYAAAAA7wK0GQAAAAC8C9BmAAAAAPAuQJsBAAAAwLsAbQYAAAAA7wK0GQAAAAC8C9BmAAAAAPAubqHNbxz+1zQ//8i3BAAAAID7kuk1l5DdOdOf4p58VQAAAACYFUwvrKDNAAAAAHCvAW0GAAAAAO8CtBkAAAAAvAvQZgAAAADwLkCbAQAAAMC7mKE2/xs96HqDgcPqHAAAAABJRU5ErkJggg==\" /><br />\r\n<em>图4 房价的例子</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>拿国民话题的房子来说。现在我手里有一栋房子需要售卖，我应该给它标上多大的价格？房子的面积是100平方米，价格是100万，120万，还是140万？</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>很显然，我希望获得房价与面积的某种规律。那么我该如何获得这个规律？用报纸上的房价平均数据么？还是参考别人面积相似的？无论哪种，似乎都并不是太靠谱。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>我现在希望获得一个合理的，并且能够最大程度的反映面积与房价关系的规律。于是我调查了周边与我房型类似的一些房子，获得一组数据。这组数据中包含了大大小小房子的面积与价格，如果我能从这组数据中找出面积与价格的规律，那么我就可以得出房子的价格。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>对规律的寻找很简单，拟合出一条直线，让它&ldquo;穿过&rdquo;所有的点，并且与各个点的距离尽可能的小。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过这条直线，我获得了一个能够最佳反映房价与面积规律的规律。这条直线同时也是一个下式所表明的函数：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<pre>\r\n　　房价 = 面积 * a + b</pre>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>上述中的a、b都是直线的参数。获得这些参数以后，我就可以计算出房子的价格。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>假设a = 0.75,b = 50，则房价 = 100 * 0.75 + 50 = 125万。这个结果与我前面所列的100万，120万，140万都不一样。由于这条直线综合考虑了大部分的情况，因此从&ldquo;统计&rdquo;意义上来说，这是一个最合理的预测。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在求解过程中透露出了两个信息：<br />\r\n1.房价模型是根据拟合的函数类型决定的。如果是直线，那么拟合出的就是直线方程。如果是其他类型的线，例如抛物线，那么拟合出的就是抛物线方程。机器学习有众多算法，一些强力算法可以拟合出复杂的非线性模型，用来反映一些不是直线所能表达的情况。<br />\r\n2.如果我的数据越多，我的模型就越能够考虑到越多的情况，由此对于新情况的预测效果可能就越好。这是机器学习界&ldquo;数据为王&rdquo;思想的一个体现。一般来说(不是绝对)，数据越多，最后机器学习生成的模型预测的效果越好。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过我拟合直线的过程，我们可以对机器学习过程做一个完整的回顾。首先，我们需要在计算机中存储历史的数据。接着，我们将这些 数据通过机器学习算法进行处理，这个过程在机器学习中叫做&ldquo;训练&rdquo;，处理的结果可以被我们用来对新的数据进行预测，这个结果一般称之为&ldquo;模型&rdquo;。对新数据 的预测过程在机器学习中叫做&ldquo;预测&rdquo;。&ldquo;训练&rdquo;与&ldquo;预测&rdquo;是机器学习的两个过程，&ldquo;模型&rdquo;则是过程的中间输出结果，&ldquo;训练&rdquo;产生&ldquo;模型&rdquo;，&ldquo;模型&rdquo;指导 &ldquo;预测&rdquo;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>让我们把机器学习的过程与人类对历史经验归纳的过程做个比对。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/221227224214301.png\" style=\"height:383px; width:796px\" /></p>\r\n\r\n<p><em>图5 机器学习与人类思考的类比</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>人类在成长、生活过程中积累了很多的历史与经验。人类定期地对这些经验进行&ldquo;归纳&rdquo;，获得了生活的&ldquo;规律&rdquo;。当人类遇到未知的问题或者需要对未来进行&ldquo;推测&rdquo;的时候，人类使用这些&ldquo;规律&rdquo;，对未知问题与未来进行&ldquo;推测&rdquo;，从而指导自己的生活和工作。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>机器学习中的&ldquo;训练&rdquo;与&ldquo;预测&rdquo;过程可以对应到人类的&ldquo;归纳&rdquo;和&ldquo;推测&rdquo;过程。通过这样的对应，我们可以发现，机器学习的思想并不复杂，仅仅是对人类在生活中学习成长的一个模拟。由于机器学习不是基于编程形成的结果，因此它的处理过程不是因果的逻辑，而是通过归纳思想得出的相关性结论。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>这也可以联想到人类为什么要学习历史，历史实际上是人类过往经验的总结。有句话说得很好，&ldquo;历史往往不一样，但历史总是惊人的相似&rdquo;。通过学习历史，我们从历史中归纳出人生与国家的规律，从而指导我们的下一步工作，这是具有莫大价值的。当代一些人忽视了历史的本来价值，而是把其作为一种宣扬功绩的手段，这其实是对历史真实价值的一种误用。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>3.机器学习的范围</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>上文虽然说明了机器学习是什么，但是并没有给出机器学习的范围。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>其实，机器学习跟模式识别，统计学习，数据挖掘，计算机视觉，语音识别，自然语言处理等领域有着很深的联系。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>从范围上来说，机器学习跟模式识别，统计学习，数据挖掘是类似的，同时，机器学习与其他领域的处理技术的结合，形成了计算机视觉、语音识别、自然语言处理等交叉学科。因此，一般说数据挖掘时，可以等同于说机器学习。同时，我们平常所说的机器学习应用，应该是通用的，不仅仅局限在结构化数据，还有图像，音频等应用。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在这节对机器学习这些相关领域的介绍有助于我们理清机器学习的应用场景与研究范围，更好的理解后面的算法与应用层次。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>下图是机器学习所牵扯的一些相关范围的学科与研究领域。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/221213379524716.png\" style=\"height:490px; width:855px\" /><br />\r\n<em>图6 机器学习与相关学科</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>模式识别<br />\r\n模式识别=机器学习。两者的主要区别在于前者是从工业界发展起来的概念，后者则主要源自计算机学科。在著名的《Pattern Recognition And Machine Learning》这本书中，Christopher M. Bishop在开头是这样说的&ldquo;模式识别源自工业界，而机器学习来自于计算机学科。不过，它们中的活动可以被视为同一个领域的两个方面，同时在过去的10年间，它们都有了长足的发展&rdquo;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>数据挖掘<br />\r\n数据挖掘=机器学习+数据库。这几年数据挖掘的概念实在是太耳熟能详。几乎等同于炒作。但凡说数据挖掘都会吹嘘数据挖掘如何如何，例如从数据中挖出金子，以及将废弃的数据转化为价值等等。但是，我尽管可能会挖出金子，但我也可能挖的是&ldquo;石头&rdquo;啊。这个说法的意思是，数据挖掘仅仅是一种思考方式，告诉我们应该尝试从数据中挖掘出知识，但不是每个数据都能挖掘出金子的，所以不要神话它。一个系统绝对不会因为上了一个数据挖掘模块就变得无所不能(这是IBM最喜欢吹嘘的)，恰恰相反，一个拥有数据挖掘思维的人员才是关键，而且他还必须对数据有深刻的认识，这样才可能从数据中导出模式指引业务的改善。大部分数据挖掘中的算法是机器学习的算法在数据库中的优化。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>统计学习<br />\r\n统计学习近似等于机器学习。统计学习是个与机器学习高度重叠的学科。因为机器学习中的大多数方法来自统计学，甚至可以认为，统计学的发展促进机器学习的繁荣昌盛。例如著名的支持向量机算法，就是源自统计学科。但是在某种程度上两者是有分别的，这个分别在于：统计学习者重点关注的是统计模型的发展与优化，偏数学，而机器学习者更关注的是能够解决问题，偏实践，因此机器学习研究者会重点研究学习算法在计算机上执行的效率与准确性的提升。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>计算机视觉<br />\r\n计算机视觉=图像处理+机器学习。图像处理技术用于将图像处理为适合进入机器学习模型中的输入，机器学习则负责从图像中识别出相关的模式。计算机视觉相关的应用非常的多，例如百度识图、手写字符识别、车牌识别等等应用。这个领域是应用前景非常火热的，同时也是研究的热门方向。随着机器学习的新领域深度学习的发展，大大促进了计算机图像识别的效果，因此未来计算机视觉界的发展前景不可估量。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>语音识别<br />\r\n语音识别=语音处理+机器学习。语音识别就是音频处理技术与机器学习的结合。语音识别技术一般不会单独使用，一般会结合自然语言处理的相关技术。目前的相关应用有苹果的语音助手siri等。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>自然语言处理<br />\r\n自然语言处理=文本处理+机器学习。自然语言处理技术主要是让机器理解人类的语言的一门领域。在自然语言处理技术中，大量使用了编译原理相关的技术，例如词法分析，语法分析等等，除此之外，在理解这个层面，则使用了语义理解，机器学习等技术。作为唯一由人类自身创造的符号，自然语言处理一直是机器学习界不断研究的方向。按照百度机器学习专家余凯的说法&ldquo;听与看，说白了就是阿猫和阿狗都会的，而只有语言才是人类独有的&rdquo;。如何利用机器学习技术进行自然语言的的深度理解，一直是工业和学术界关注的焦点。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>可以看出机器学习在众多领域的外延和应用。机器学习技术的发展促使了很多智能领域的进步，改善着我们的生活。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>4.机器学习的方法</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过上节的介绍我们知晓了机器学习的大致范围，那么机器学习里面究竟有多少经典的算法呢？在这个部分我会简要介绍一下机器学习中的经典代表方法。这部分介绍的重点是这些方法内涵的思想，数学与实践细节不会在这讨论。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>1、回归算法</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在大部分机器学习课程中，回归算法都是介绍的第一个算法。原因有两个：一.回归算法比较简单，介绍它可以让人平滑地从统计学迁移到机器学习中。二.回归算法是后面若干强大算法的基石，如果不理解回归算法，无法学习那些强大的算法。回归算法有两个重要的子类：即线性回归和逻辑回归。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>线性回归就是我们前面说过的房价求解问题。如何拟合出一条直线最佳匹配我所有的数据？一般使用&ldquo;最小二乘法&rdquo;来求解。&ldquo;最小二乘法&rdquo;的思想是这样的，假设我们拟合出的直线代表数据的真实值，而观测到的数据代表拥有误差的值。为了尽可能减小误差的影响，需要求解一条直线使所有误差的平方和最小。最小二乘法将最优问题转化为求函数极值问题。函数极值在数学上我们一般会采用求导数为0的方法。但这种做法并不适合计算机，可能求解不出来，也可能计算量太大。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>计算机科学界专门有一个学科叫&ldquo;数值计算&rdquo;，专门用来提升计算机进行各类计算时的准确性和效率问题。例如，著名的&ldquo;梯度下降&rdquo;以及&ldquo;牛顿法&rdquo;就是数值计算中的经典算法，也非常适合来处理求解函数极值的问题。梯度下降法是解决回归模型中最简单且有效的方法之一。从严格意义上来说，由于后文中的神经网络和推荐算法中都有线性回归的因子，因此梯度下降法在后面的算法实现中也有应用。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>逻辑回归是一种与线性回归非常类似的算法，但是，从本质上讲，线型回归处理的问题类型与逻辑回归不一致。线性回归处理的是数值问题，也就是最后预测出的结果是数字，例如房价。而逻辑回归属于分类算法，也就是说，逻辑回归预测结果是离散的分类，例如判断这封邮件是否是垃圾邮件，以及用户是否会点击此广告等等。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>实现方面的话，逻辑回归只是对对线性回归的计算结果加上了一个Sigmoid函数，将数值结果转化为了0到1之间的概率(Sigmoid函数的图像一般来说并不直观，你只需要理解对数值越大，函数越逼近1，数值越小，函数越逼近0)，接着我们根据这个概率可以做预测，例如概率大于0.5，则这封邮件就是垃圾邮件，或者肿瘤是否是恶性的等等。从直观上来说，逻辑回归是画出了一条分类线，见下图。</p>\r\n\r\n<p><em>图7 逻辑回归的直观解释</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>假设我们有一组肿瘤患者的数据，这些患者的肿瘤中有些是良性的(图中的蓝色点)，有些是恶性的(图中的红色点)。这里肿瘤的红蓝色可以被称作数据的&ldquo;标签&rdquo;。同时每个数据包括两个&ldquo;特征&rdquo;：患者的年龄与肿瘤的大小。我们将这两个特征与标签映射到这个二维空间上，形成了我上图的数据。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>当我有一个绿色的点时，我该判断这个肿瘤是恶性的还是良性的呢？根据红蓝点我们训练出了一个逻辑回归模型，也就是图中的分类线。这时，根据绿点出现在分类线的左侧，因此我们判断它的标签应该是红色，也就是说属于恶性肿瘤。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>逻辑回归算法划出的分类线基本都是线性的(也有划出非线性分类线的逻辑回归，不过那样的模型在处理数据量较大的时候效率会很低)，这意味着当两类之间的界线不是线性时，逻辑回归的表达能力就不足。下面的两个算法是机器学习界最强大且重要的算法，都可以拟合出非线性的分类线。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>2、神经网络</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>神经网络(也称之为人工神经网络，ANN)算法是80年代机器学习界非常流行的算法，不过在90年代中途衰落。现在，携着&ldquo;深度学习&rdquo;之势，神经网络重装归来，重新成为最强大的机器学习算法之一。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>神经网络的诞生起源于对大脑工作机理的研究。早期生物界学者们使用神经网络来模拟大脑。机器学习的学者们使用神经网络进行机器学习的实验，发现在视觉与语音的识别上效果都相当好。在BP算法(加速神经网络训练过程的数值算法)诞生以后，神经网络的发展进入了一个热潮。BP算法的发明人之一是前面介绍的机器学习大牛Geoffrey Hinton(图1中的中间者)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>具体说来，神经网络的学习机理是什么？简单来说，就是分解与整合。在著名的Hubel-Wiesel试验中，学者们研究猫的视觉分析机理是这样的。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/221209098439656.png\" style=\"height:364px; width:956px\" /><br />\r\n<em>图8 Hubel-Wiesel试验与大脑视觉机理</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>比方说，一个正方形，分解为四个折线进入视觉处理的下一层中。四个神经元分别处理一个折线。每个折线再继续被分解为两条直线，每条直线再被分解为黑白两个面。于是，一个复杂的图像变成了大量的细节进入神经元，神经元处理以后再进行整合，最后得出了看到的是正方形的结论。这就是大脑视觉识别的机理，也是神经网络工作的机理。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>让我们看一个简单的神经网络的逻辑架构。在这个网络中，分成输入层，隐藏层，和输出层。输入层负责接收信号，隐藏层负责对数据的分解与处理，最后的结果被整合到输出层。每层中的一个圆代表一个处理单元，可以认为是模拟了一个神经元，若干个处理单元组成了一个层，若干个层再组成了一个网络，也就是&quot;神经网络&quot;。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/221224194835024.png\" style=\"height:322px; width:593px\" /><br />\r\n<em>图9 神经网络的逻辑架构</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在神经网络中，每个处理单元事实上就是一个逻辑回归模型，逻辑回归模型接收上层的输入，把模型的预测结果作为输出传输到下一个层次。通过这样的过程，神经网络可以完成非常复杂的非线性分类。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>下图会演示神经网络在图像识别领域的一个著名应用，这个程序叫做LeNet，是一个基于多个隐层构建的神经网络。通过LeNet可以识别多种手写数字，并且达到很高的识别精度与拥有较好的鲁棒性。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242108049057308.gif\" style=\"height:302px; width:488px\" /></p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242108416558480.gif\" style=\"height:118px; width:482px\" /><em>图10 LeNet的效果展示</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>右下方的方形中显示的是输入计算机的图像，方形上方的红色字样&ldquo;answer&rdquo;后面显示的是计算机的输出。左边的三条竖直的图像列显示的是神经网络中三个隐藏层的输出，可以看出，随着层次的不断深入，越深的层次处理的细节越低，例如层3基本处理的都已经是线的细节了。LeNet的发明人就是前文介绍过的机器学习的大牛Yann LeCun(图1右者)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>进入90年代，神经网络的发展进入了一个瓶颈期。其主要原因是尽管有BP算法的加速，神经网络的训练过程仍然很困难。因此90年代后期支持向量机(SVM)算法取代了神经网络的地位。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>3、SVM（支持向量机）</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>支持向量机算法是诞生于统计学习界，同时在机器学习界大放光彩的经典算法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>支持向量机算法从某种意义上来说是逻辑回归算法的强化：通过给予逻辑回归算法更严格的优化条件，支持向量机算法可以获得比逻辑回归更好的分类界线。但是如果没有某类函数技术，则支持向量机算法最多算是一种更好的线性分类技术。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>但是，通过跟高斯&ldquo;核&rdquo;的结合，支持向量机可以表达出非常复杂的分类界线，从而达成很好的的分类效果。&ldquo;核&rdquo;事实上就是一种特殊的函数，最典型的特征就是可以将低维的空间映射到高维的空间。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>例如下图所示：</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/100907289157780.png\" style=\"height:282px; width:359px\" /><em>图11 支持向量机图例</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>我们如何在二维平面划分出一个圆形的分类界线？在二维平面可能会很困难，但是通过&ldquo;核&rdquo;可以将二维空间映射到三维空间，然后使用一个线性平面就可以达成类似效果。也就是说，二维平面划分出的非线性分类界线可以等价于三维平面的线性分类界线。于是，我们可以通过在三维空间中进行简单的线性划分就可以达到在二维平面中的非线性划分效果。<br />\r\n<img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/100907449932793.gif\" style=\"height:356px; width:444px\" /></p>\r\n\r\n<p><em>图12 三维空间的切割</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>支持向量机是一种数学成分很浓的机器学习算法（相对的，神经网络则有生物科学成分）。在算法的核心步骤中，有一步证明，即将数据从低维映射到高维不会带来最后计算复杂性的提升。于是，通过支持向量机算法，既可以保持计算效率，又可以获得非常好的分类效果。因此支持向量机在90年代后期一直占据着机器学习中最核心的地位，基本取代了神经网络算法。直到现在神经网络借着深度学习重新兴起，两者之间才又发生了微妙的平衡转变。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>4、聚类算法</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>前面的算法中的一个显著特征就是我的训练数据中包含了标签，训练出的模型可以对其他未知数据预测标签。在下面的算法中，训练数据都是不含标签的，而算法的目的则是通过训练，推测出这些数据的标签。这类算法有一个统称，即无监督算法(前面有标签的数据的算法则是有监督算法)。无监督算法中最典型的代表就是聚类算法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>让我们还是拿一个二维的数据来说，某一个数据包含两个特征。我希望通过聚类算法，给他们中不同的种类打上标签，我该怎么做呢？简单来说，聚类算法就是计算种群中的距离，根据距离的远近将数据划分为多个族群。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>聚类算法中最典型的代表就是K-Means算法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>5、降维算法</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>降维算法也是一种无监督学习算法，其主要特征是将数据从高维降低到低维层次。在这里，维度其实表示的是数据的特征量的大小，例如，房价包含房子的长、宽、面积与房间数量四个特征，也就是维度为4维的数据。可以看出来，长与宽事实上与面积表示的信息重叠了，例如面积=长 &times; 宽。通过降维算法我们就可以去除冗余信息，将特征减少为面积与房间数量两个特征，即从4维的数据压缩到2维。于是我们将数据从高维降低到低维，不仅利于表示，同时在计算上也能带来加速。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>刚才说的降维过程中减少的维度属于肉眼可视的层次，同时压缩也不会带来信息的损失(因为信息冗余了)。如果肉眼不可视，或者没有冗余的特征，降维算法也能工作，不过这样会带来一些信息的损失。但是，降维算法可以从数学上证明，从高维压缩到的低维中最大程度地保留了数据的信息。因此，使用降维算法仍然有很多的好处。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>降维算法的主要作用是压缩数据与提升机器学习其他算法的效率。通过降维算法，可以将具有几千个特征的数据压缩至若干个特征。另外，降维算法的另一个好处是数据的可视化，例如将5维的数据压缩至2维，然后可以用二维平面来可视。降维算法的主要代表是PCA算法(即主成分分析算法)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>6、推荐算法</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>推荐算法是目前业界非常火的一种算法，在电商界，如亚马逊，天猫，京东等得到了广泛的运用。推荐算法的主要特征就是可以自动向用户推荐他们最感兴趣的东西，从而增加购买率，提升效益。推荐算法有两个主要的类别：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>一类是基于物品内容的推荐，是将与用户购买的内容近似的物品推荐给用户，这样的前提是每个物品都得有若干个标签，因此才可以找出与用户购买物品类似的物品，这样推荐的好处是关联程度较大，但是由于每个物品都需要贴标签，因此工作量较大。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>另一类是基于用户相似度的推荐，则是将与目标用户兴趣相同的其他用户购买的东西推荐给目标用户，例如小A历史上买了物品B和C，经过算法分析，发现另一个与小A近似的用户小D购买了物品E，于是将物品E推荐给小A。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>两类推荐都有各自的优缺点，在一般的电商应用中，一般是两类混合使用。推荐算法中最有名的算法就是协同过滤算法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>7、其他</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>除了以上算法之外，机器学习界还有其他的如高斯判别，朴素贝叶斯，决策树等等算法。但是上面列的六个算法是使用最多，影响最广，种类最全的典型。机器学习界的一个特色就是算法众多，发展百花齐放。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>下面做一个总结，按照训练的数据有无标签，可以将上面算法分为监督学习算法和无监督学习算法，但推荐算法较为特殊，既不属于监督学习，也不属于非监督学习，是单独的一类。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>监督学习算法：</strong><br />\r\n线性回归，逻辑回归，神经网络，SVM</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>无监督学习算法：</strong><br />\r\n聚类算法，降维算法</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>特殊算法：</strong><br />\r\n推荐算法</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>除了这些算法以外，有一些算法的名字在机器学习领域中也经常出现。但他们本身并不算是一个机器学习算法，而是为了解决某个子问题而诞生的。你可以理解他们为以上算法的子算法，用于大幅度提高训练过程。其中的代表有：梯度下降法，主要运用在线型回归，逻辑回归，神经网络，推荐算法中；牛顿法，主要运用在线型回归中；BP算法，主要运用在神经网络中；SMO算法，主要运用在SVM中。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>5.机器学习的应用--大数据</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>说完机器学习的方法，下面要谈一谈机器学习的应用了。无疑，在2010年以前，机器学习的应用在某些特定领域发挥了巨大的作用，如车牌识别，网络攻击防范，手写字符识别等等。但是，从2010年以后，随着大数据概念的兴起，机器学习大量的应用都与大数据高度耦合，几乎可以认为大数据是机器学习应用的最佳场景。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>譬如，但凡你能找到的介绍大数据魔力的文章，都会说大数据如何准确准确预测到了某些事。例如经典的Google利用大数据预测了H1N1在美国某小镇的爆发。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242044433744851.png\" style=\"height:207px; width:634px\" /></p>\r\n\r\n<p><em>图13 Google成功预测H1N1</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>百度预测2014年世界杯，从淘汰赛到决赛全部预测正确。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242049525625891.jpg\" style=\"height:421px; width:600px\" /></p>\r\n\r\n<p><em>图14 百度世界杯成功预测了所有比赛结果</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>这些实在太神奇了，那么究竟是什么原因导致大数据具有这些魔力的呢？简单来说，就是机器学习技术。正是基于机器学习技术的应用，数据才能发挥其魔力。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>大数据的核心是利用数据的价值，机器学习是利用数据价值的关键技术，对于大数据而言，机器学习是不可或缺的。相反，对于机器学习而言，越多的数据会越 可能提升模型的精确性，同时，复杂的机器学习算法的计算时间也迫切需要分布式计算与内存计算这样的关键技术。因此，机器学习的兴盛也离不开大数据的帮助。 大数据与机器学习两者是互相促进，相依相存的关系。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>机器学习与大数据紧密联系。但是，必须清醒的认识到，大数据并不等同于机器学习，同理，机器学习也不等同于大数据。大数据中包含有分布式计算，内存数据库，多维分析等等多种技术。单从分析方法来看，大数据也包含以下四种分析方法：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>1.<strong>大数据，小分析：</strong>即数据仓库领域的OLAP分析思路，也就是多维分析思想。<br />\r\n2.<strong>大数据，大分析：</strong>这个代表的就是数据挖掘与机器学习分析法。<br />\r\n3.<strong>流式分析：</strong>这个主要指的是事件驱动架构。<br />\r\n4.<strong>查询分析：</strong>经典代表是NoSQL数据库。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>也就是说，机器学习仅仅是大数据分析中的一种而已。尽管机器学习的一些结果具有很大的魔力，在某种场合下是大数据价值最好的说明。但这并不代表机器学习是大数据下的唯一的分析方法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>机器学习与大数据的结合产生了巨大的价值。基于机器学习技术的发展，数据能够&ldquo;预测&rdquo;。对人类而言，积累的经验越丰富，阅历也广泛，对未来的判断越准确。例如常说的&ldquo;经验丰富&rdquo;的人比&ldquo;初出茅庐&rdquo;的小伙子更有工作上的优势，就在于经验丰富的人获得的规律比他人更准确。而在机器学习领域，根据著名的一个实验，有效的证实了机器学习界一个理论：即机器学习模型的数据越多，机器学习的预测的效率就越好。见下图：</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/301631492162492.png\" style=\"height:490px; width:522px\" /></p>\r\n\r\n<p><em>图15 机器学习准确率与数据的关系</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过这张图可以看出，各种不同算法在输入的数据量达到一定级数后，都有相近的高准确度。于是诞生了机器学习界的名言：<strong>成功的机器学习应用不是拥有最好的算法，而是拥有最多的数据！</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在大数据的时代，有好多优势促使机器学习能够应用更广泛。例如随着物联网和移动设备的发展，我们拥有的数据越来越多，种类也包括图片、文本、视频等非结构化数据，这使得机器学习模型可以获得越来越多的数据。同时大数据技术中的分布式计算Map-Reduce使得机器学习的速度越来越快，可以更方便的使用。种种优势使得在大数据时代，机器学习的优势可以得到最佳的发挥。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>6.机器学习的子类--深度学习</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>近来，机器学习的发展产生了一个新的方向，即&ldquo;深度学习&rdquo;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>虽然深度学习这四字听起来颇为高大上，但其理念却非常简单，就是传统的神经网络发展到了多隐藏层的情况。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在上文介绍过，自从90年代以后，神经网络已经消寂了一段时间。但是BP算法的发明人Geoffrey Hinton一直没有放弃对神经网络的研究。由于神经网络在隐藏层扩大到两个以上，其训练速度就会非常慢，因此实用性一直低于支持向量机。2006年，Geoffrey Hinton在科学杂志《Science》上发表了一篇文章，论证了两个观点：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>　　1.多隐层的神经网络具有优异的特征学习能力，学习得到的特征对数据有更本质的刻画，从而有利于可视化或分类；</strong></p>\r\n\r\n<p><strong>　　2.深度神经网络在训练上的难度，可以通过&ldquo;逐层初始化&rdquo; 来有效克服。</strong></p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242050441877753.png\" style=\"height:382px; width:856px\" /><br />\r\n<em>图16 Geoffrey Hinton与他的学生在Science上发表文章</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过这样的发现，不仅解决了神经网络在计算上的难度，同时也说明了深层神经网络在学习上的优异性。从此，神经网络重新成为了机器学习界中的主流强大学习技术。同时，具有多个隐藏层的神经网络被称为深度神经网络，基于深度神经网络的学习研究称之为深度学习。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>由于深度学习的重要性质，在各方面都取得极大的关注，按照时间轴排序，有以下四个标志性事件值得一说：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2012年6月，《纽约时报》披露了Google Brain项目，这个项目是由Andrew Ng和Map-Reduce发明人Jeff Dean共同主导，用16000个CPU Core的并行计算平台训练一种称为&ldquo;深层神经网络&rdquo;的机器学习模型，在语音识别和图像识别等领域获得了巨大的成功。Andrew Ng就是文章开始所介绍的机器学习的大牛(图1中左者)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2012年11月，微软在中国天津的一次活动上公开演示了一个全自动的同声传译系统，讲演者用英文演讲，后台的计算机一气呵成自动完成语音识别、英中机器翻译，以及中文语音合成，效果非常流畅，其中支撑的关键技术是深度学习；</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2013年1月，在百度的年会上，创始人兼CEO李彦宏高调宣布要成立百度研究院，其中第一个重点方向就是深度学习，并为此而成立深度学习研究院(IDL)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2013年4月，《麻省理工学院技术评论》杂志将深度学习列为2013年十大突破性技术(Breakthrough Technology)之首。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/242119267339172.png\" style=\"height:338px; width:717px\" /></p>\r\n\r\n<p><em>图17 深度学习的发展热潮</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>文章开头所列的三位机器学习的大牛，不仅都是机器学习界的专家，更是深度学习研究领域的先驱。因此，使他们担任各个大型互联网公司技术掌舵者的原因不仅在于他们的技术实力，更在于他们研究的领域是前景无限的深度学习技术。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>目前业界许多的图像识别技术与语音识别技术的进步都源于深度学习的发展，除了本文开头所提的Cortana等语音助手，还包括一些图像识别应用，其中典型的代表就是下图的百度识图功能。</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/301558029039641.png\" style=\"height:327px; width:646px\" /></p>\r\n\r\n<p><em>图18 百度识图</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>深度学习属于机器学习的子类。基于深度学习的发展极大的促进了机器学习的地位提高，更进一步地，推动了业界对机器学习父类人工智能梦想的再次重视。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>7.机器学习的父类--人工智能</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>人工智能是机器学习的父类。深度学习则是机器学习的子类。如果把三者的关系用图来表明的话，则是下图：</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/301611254811216.png\" style=\"height:410px; width:426px\" /><br />\r\n<em>图19 深度学习、机器学习、人工智能三者关系</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>毫无疑问，人工智能(AI)是人类所能想象的科技界最突破性的发明了，某种意义上来说，人工智能就像游戏最终幻想的名字一样，是人类对于科技界的最终梦想。从50年代提出人工智能的理念以后，科技界，产业界不断在探索，研究。这段时间各种小说、电影都在以各种方式展现对于人工智能的想象。人类可以发明类似于人类的机器，这是多么伟大的一种理念！但事实上，自从50年代以后，人工智能的发展就磕磕碰碰，未有见到足够震撼的科学技术的进步。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>总结起来，人工智能的发展经历了如下若干阶段，从早期的逻辑推理，到中期的专家系统，这些科研进步确实使我们离机器的智能有点接近了，但还有一大段距离。直到机器学习诞生以后，人工智能界感觉终于找对了方向。基于机器学习的图像识别和语音识别在某些垂直领域达到了跟人相媲美的程度。机器学习使人类第一次如此接近人工智能的梦想。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>事实上，如果我们把人工智能相关的技术以及其他业界的技术做一个类比，就可以发现机器学习在人工智能中的重要地位不是没有理由的。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>人类区别于其他物体，植物，动物的最主要区别，作者认为是<strong>&ldquo;智慧&rdquo;</strong>。而智慧的最佳体现是什么？</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>是计算能力么，应该不是，心算速度快的人我们一般称之为天才。<br />\r\n是反应能力么，也不是，反应快的人我们称之为灵敏。<br />\r\n是记忆能力么，也不是，记忆好的人我们一般称之为过目不忘。<br />\r\n是推理能力么，这样的人我也许会称他智力很高，类似&ldquo;福尔摩斯&rdquo;，但不会称他拥有智慧。<br />\r\n是知识能力么，这样的人我们称之为博闻广，也不会称他拥有智慧。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>想想看我们一般形容谁有大智慧？圣人，诸如庄子，老子等。<strong>智慧是对生活的感悟，是对人生的积淀与思考</strong>，这与我们机器学习的思想何其相似？通过经验获取规律，指导人生与未来。没有经验就没有智慧。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/301636181536962.png\" style=\"height:349px; width:847px\" /></p>\r\n\r\n<p><em>图20 机器学习与智慧</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>那么，从计算机来看，以上的种种能力都有种种技术去应对。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>例如计算能力我们有分布式计算，反应能力我们有事件驱动架构，检索能力我们有搜索引擎，知识存储能力我们有数据仓库，逻辑推理能力我们有专家系统，但是，唯有对应智慧中最显著特征的归纳与感悟能力，只有机器学习与之对应。这也是机器学习能力最能表征智慧的根本原因。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>让我们再看一下机器人的制造，在我们具有了强大的计算，海量的存储，快速的检索，迅速的反应，优秀的逻辑推理后我们如果再配合上一个强大的智慧大脑，一个真正意义上的人工智能也许就会诞生，这也是为什么说在机器学习快速发展的现在，人工智能可能不再是梦想的原因。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>人工智能的发展可能不仅取决于机器学习，更取决于前面所介绍的深度学习，深度学习技术由于深度模拟了人类大脑的构成，在视觉识别与语音识别上显著性的突破了原有机器学习技术的界限，因此极有可能是真正实现人工智能梦想的关键技术。无论是谷歌大脑还是百度大脑，都是通过海量层次的深度学习网络所构成的。也许借助于深度学习技术，在不远的将来，一个具有人类智能的计算机真的有可能实现。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>最后再说一下题外话，由于人工智能借助于深度学习技术的快速发展，已经在某些地方引起了传统技术界达人的担忧。真实世界的&ldquo;钢铁侠&rdquo;，特斯拉CEO马斯克就是其中之一。最近马斯克在参加MIT讨论会时，就表达了对于人工智能的担忧。&ldquo;人工智能的研究就类似于召唤恶魔，我们必须在某些地方加强注意。&rdquo;</p>\r\n\r\n<p><img alt=\"\" src=\"http://images.cnitblog.com/blog/673793/201412/292123300283048.png\" style=\"height:435px; width:696px\" /></p>\r\n\r\n<p><em>图21 马斯克与人工智能</em></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>尽管马斯克的担心有些危言耸听，但是马斯克的推理不无道理。&ldquo;如果人工智能想要消除垃圾邮件的话，可能它最后的决定就是消灭人类。&rdquo;马斯克认为预防此类现象的方法是引入政府的监管。在这里作者的观点与马斯克类似，在人工智能诞生之初就给其加上若干规则限制可能有效，也就是不应该使用单纯的机器学习，而应该是机器学习与规则引擎等系统的综合能够较好的解决这类问题。因为如果学习没有限制，极有可能进入某个误区，必须要加上某些引导。正如人类社会中，法律就是一个最好的规则，杀人者死就是对于人类在探索提高生产力时不可逾越的界限。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>在这里，必须提一下这里的规则与机器学习引出的规律的不同，规律不是一个严格意义的准则，其代表的更多是概率上的指导，而规则则是神圣不可侵犯，不可修改的。规律可以调整，但规则是不能改变的。有效的结合规律与规则的特点，可以引导出一个合理的，可控的学习型人工智能。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>8.机器学习的思考--计算机的潜意识</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>最后，作者想谈一谈关于机器学习的一些思考。主要是作者在日常生活总结出来的一些感悟。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>回想一下我在节1里所说的故事，我把小Y过往跟我相约的经历做了一个罗列。但是这种罗列以往所有经历的方法只有少数人会这么做，大部分的人采用的是更直接的方法，即利用直觉。那么，直觉是什么？其实直觉也是你在潜意识状态下思考经验后得出的规律。就像你通过机器学习算法，得到了一个模型，那么你下次只要直接使用就行了。那么这个规律你是什么时候思考的？可能是在你无意识的情况下，例如睡觉，走路等情况。这种时候，大脑其实也在默默地做一些你察觉不到的工作。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>这种直觉与潜意识，我把它与另一种人类思考经验的方式做了区分。如果一个人勤于思考，例如他会每天做一个小结，譬如&ldquo;吾日三省吾身&rdquo;，或者他经常与同伴讨论最近工作的得失，那么他这种训练模型的方式是直接的，明意识的思考与归纳。这样的效果很好，记忆性强，并且更能得出有效反应现实的规律。但是大部分的人可能很少做这样的总结，那么他们得出生活中规律的方法使用的就是潜意识法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>举一个作者本人关于潜意识的例子。作者本人以前没开过车，最近一段时间买了车后，天天开车上班。我每天都走固定的路线。有趣的是，在一开始的几天，我非常紧张的注意着前方的路况，而现在我已经在无意识中就把车开到了目标。这个过程中我的眼睛是注视着前方的，我的大脑是没有思考，但是我手握着的方向盘会自动的调整方向。也就是说。随着我开车次数的增多，我已经把我开车的动作交给了潜意识。这是非常有趣的一件事。在这段过程中，我的大脑将前方路况的图像记录了下来，同时大脑也记忆了我转动方向盘的动作。经过大脑自己的潜意识思考，最后生成的潜意识可以直接根据前方的图像调整我手的动作。假设我们将前方的录像交给计算机，然后让计算机记录与图像对应的驾驶员的动作。经过一段时间的学习，计算机生成的机器学习模型就可以进行自动驾驶了。这很神奇，不是么。其实包括Google、特斯拉在内的自动驾驶汽车技术的原理就是这样。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>除了自动驾驶汽车以外，潜意识的思想还可以扩展到人的交际。譬如说服别人，一个最佳的方法就是给他展示一些信息，然后让他自己去归纳得出我们想要的结论。<strong>这</strong>就好比在<strong>阐述一个观点时，用一个事实，或者一个故事，比大段的道理要好很多。</strong>古往今来，但凡优秀的说客，无不采用的是这种方法。春秋战国时期，各国合纵连横，经常有各种说客去跟一国之君交流，直接告诉君主该做什么，无异于自寻死路，但是跟君主讲故事，通过这些故事让君主恍然大悟，就是一种正确的过程。这里面有许多杰出的代表，如墨子，苏秦等等。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>基本上所有的交流过程，使用故事说明的效果都要远胜于阐述道义之类的效果好很多。为什么用故事的方法比道理或者其他的方法好很多，这是因为在人成长的过程，经过自己的思考，已经形成了很多规律与潜意识。如果你告诉的规律与对方的不相符，很有可能出于保护，他们会本能的拒绝你的新规律，但是如果你跟他讲一个故事，传递一些信息，输送一些数据给他，他会思考并自我改变。他的思考过程实际上就是机器学习的过程，他把新的数据纳入到他的旧有的记忆与数据中，经过重新训练。如果你给出的数据的信息量非常大，大到调整了他的模型，那么他就会按照你希望的规律去做事。有的时候，他会本能的拒绝执行这个思考过程，但是数据一旦输入，无论他希望与否，他的大脑都会在潜意识状态下思考，并且可能改变他的看法。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>如果计算机也拥有潜意识(正如本博客的名称一样)，那么会怎么样？譬如让计算机在工作的过程中，逐渐产生了自身的潜意识，于是甚至可以在你不需要告诉它做什么时它就会完成那件事。这是个非常有意思的设想，这里留给各位读者去发散思考吧。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>9.总结</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>本文首先介绍了互联网界与机器学习大牛结合的趋势，以及使用机器学习的相关应用，接着以一个&ldquo;等人故事&rdquo;展开对机器学习的介绍。介绍中首先是机器学习的概念与定义，然后是机器学习的相关学科，机器学习中包含的各类学习算法，接着介绍机器学习与大数据的关系，机器学习的新子类深度学习，最后探讨了一下机器学习与人工智能发展的联系以及机器学习与潜意识的关联。经过本文的介绍，相信大家对机器学习技术有一定的了解，例如机器学习是什么，它的内核思想是什么(即统计和归纳)，通过了解机器学习与人类思考的近似联系可以知晓机器学习为什么具有智慧能力的原因等等。其次，本文漫谈了机器学习与外延学科的关系，机器学习与大数据相互促进相得益彰的联系，机器学习界最新的深度学习的迅猛发展，以及对于人类基于机器学习开发智能机器人的一种展望与思考，最后作者简单谈了一点关于让计算机拥有潜意识的设想。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>机器学习是目前业界最为Amazing与火热的一项技术，从网上的每一次淘宝的购买东西，到自动驾驶汽车技术，以及网络攻击抵御系统等等，都有机器学习的因子在内，同时机器学习也是最有可能使人类完成AI dream的一项技术，各种人工智能目前的应用，如微软小冰聊天机器人，到计算机视觉技术的进步，都有机器学习努力的成分。作为一名当代的计算机领域的开发或管理人员，以及身处这个世界，使用者IT技术带来便利的人们，最好都应该了解一些机器学习的相关知识与概念，因为这可以帮你更好的理解为你带来莫大便利技术的背后原理，以及让你更好的理解当代科技的进程。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>10.后记</strong></p>\r\n\r\n<p>这篇文档花了作者两个月的时间，终于在2014年的最后一天的前一天基本完成。通过这篇文章，作者希望对机器学习在国内的普及做一点贡献，同时也是作者本人自己对于所学机器学习知识的一个融汇贯通，整体归纳的提高过程。作者把这么多的知识经过自己的大脑思考，训练出了一个模型，形成了这篇文档，可以说这也是一种机器学习的过程吧(笑)。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>作者所在的行业会接触到大量的数据，因此对于数据的处理和分析是平常非常重要的工作，机器学习课程的思想和理念对于作者日常的工作指引作用极大，几乎导致了作者对于数据价值的重新认识。想想半年前，作者还对机器学习似懂非懂，如今也可以算是一个机器学习的Expert了(笑)。但作者始终认为，机器学习的真正应用不是通过概念或者思想的方式，而是通过实践。只有当把机器学习技术真正应用时，才可算是对机器学习的理解进入了一个层次。正所谓再&ldquo;阳春白雪&rdquo;的技术，也必须落到&ldquo;下里巴人&rdquo;的场景下运用。目前有一种风气，国内外研究机器学习的某些学者，有一种高贵的逼格，认为自己的研究是普通人无法理解的，但是这样的理念是根本错误的，没有在真正实际的地方发挥作用，凭什么证明你的研究有所价值呢？作者认为必须将高大上的技术用在改变普通人的生活上，才能发挥其根本的价值。一些简单的场景，恰恰是实践机器学习技术的最好地方。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>最后，作者很感谢能够阅读到这里的读者。如果看完觉得好的话，还请轻轻点一下赞或者分享给更多的人，你们的鼓励就是作者继续行文的动力。</strong></p>\r\n\r\n<p><strong>&nbsp;</strong></p>\r\n\r\n<p><strong>参考文献：</strong></p>\r\n\r\n<p>　　1.Andrew Ng Courera Machine Learning</p>\r\n\r\n<p>　　2.LeNet Homepage</p>\r\n\r\n<p>　　3.pluskid svm</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>厚积薄发，行胜于言@飞鸟各投林</p>\r\n\r\n<p>&nbsp;</p>\r\n','medias/document/20170209130422_Broods.txt','medias/upload_imgss/20171223105742BC-7CB2906D1896.jpeg','http://www.askeds.com/server',4,0,0,'2017-12-23 10:59:30',4,8,1,0,1),(10,'AI、机器学习和深度学习之间的区别是什么？','','<div style=\"margin-left:0px; margin-right:0px\">\r\n<p style=\"margin-left:0px; margin-right:0px\">有人说，人工智能（AI）是未来，人工智能是科幻，人工智能也是我们日常生活中的一部分。这些评价可以说都是正确的，就看你指的是哪一种人工智能。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">今年早些时候，Google DeepMind的AlphaGo打败了韩国的围棋大师李世乭九段。在媒体描述DeepMind胜利的时候，<strong>将人工智能（AI）、机器学习（machine learning）和深度学习（deep learning）</strong>都用上了。这三者在AlphaGo击败李世乭的过程中都起了作用，但它们说的并不是一回事。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">今天我们就用最简单的方法&mdash;&mdash;同心圆，可视化地展现出它们三者的关系和应用。</p>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\"><a href=\"https://cms-bucket.nosdn.127.net/2707e7a39b514677a44c6b44028b3d7c20160907073005.jpeg\" style=\"margin:0px; padding:0px; border:0px; text-decoration:none; -webkit-touch-callout:none; color:#4d86c6\"><img alt=\"\" src=\"https://cms-bucket.nosdn.127.net/2707e7a39b514677a44c6b44028b3d7c20160907073005.jpeg?imageView&amp;thumbnail=750x0&amp;quality=85&amp;type=jpg&amp;interlace=1\" style=\"-webkit-touch-callout:none; border-width:0px; display:block; margin:auto; max-width:100%; padding:0px\" /></a></div>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">如上图，人工智能是最早出现的，也是最大、最外侧的同心圆；其次是机器学习，稍晚一点；最内侧，是深度学习，当今人工智能大爆炸的核心驱动。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">五十年代，人工智能曾一度被极为看好。之后，人工智能的一些较小的子集发展了起来。先是机器学习，然后是深度学习。深度学习又是机器学习的子集。深度学习造成了前所未有的巨大的影响。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>|</strong><strong>从概念的提出到走向繁荣</strong></p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">1956年，几个计算机科学家相聚在达特茅斯会议（Dartmouth Conferences），提出了&ldquo;人工智能&rdquo;的概念。其后，人工智能就一直萦绕于人们的脑海之中，并在科研实验室中慢慢孵化。之后的几十年，人工智能一直在两极反转，或被称作人类文明耀眼未来的预言；或者被当成技术疯子的狂想扔到垃圾堆里。坦白说，直到2012年之前，这两种声音还在同时存在。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">过去几年，尤其是2015年以来，人工智能开始大爆发。很大一部分是由于GPU的广泛应用，使得并行计算变得更快、更便宜、更有效。当然，无限拓展的存储能力和骤然爆发的数据洪流（大数据）的组合拳，也使得图像数据、文本数据、交易数据、映射数据全面海量爆发。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">让我们慢慢梳理一下计算机科学家们是如何将人工智能从最早的一点点苗头，发展到能够支撑那些每天被数亿用户使用的应用的。</p>\r\n</div>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\">\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>|</strong><strong>人工智能（Artificial Intelligence）&mdash;&mdash;为机器赋予人的智能</strong></p>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\"><a href=\"https://cms-bucket.nosdn.127.net/d0f958dc9d78499eaf0bd54c1f6d586d20160907073013.jpeg\" style=\"margin:0px; padding:0px; border:0px; text-decoration:none; -webkit-touch-callout:none; color:#4d86c6\"><img alt=\"\" src=\"https://cms-bucket.nosdn.127.net/d0f958dc9d78499eaf0bd54c1f6d586d20160907073013.jpeg?imageView&amp;thumbnail=750x0&amp;quality=85&amp;type=jpg&amp;interlace=1\" style=\"-webkit-touch-callout:none; border-width:0px; display:block; margin:auto; max-width:100%; padding:0px\" /></a></div>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">早在1956年夏天那次会议，人工智能的先驱们就梦想着用当时刚刚出现的计算机来构造复杂的、拥有与人类智慧同样本质特性的机器。这就是我们现在所说的&ldquo;<strong>强人工智能</strong>&rdquo;（General AI）。这个无所不能的机器，它有着我们所有的感知（甚至比人更多），我们所有的理性，可以像我们一样思考。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">人们在电影里也总是看到这样的机器：友好的，像星球大战中的C-3PO；邪恶的，如终结者。强人工智能现在还只存在于电影和科幻小说中，原因不难理解，我们还没法实现它们，至少目前还不行。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">我们目前能实现的，一般被称为&ldquo;<strong>弱人工智能</strong>&rdquo;（Narrow AI）。<strong>弱人工智能是能够与人一样，甚至比人更好地执行特定任务的技术。</strong>例如，Pinterest上的图像分类；或者Facebook的人脸识别。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">这些是弱人工智能在实践中的例子。这些技术实现的是人类智能的一些具体的局部。但它们是如何实现的？这种智能是从何而来？这就带我们来到同心圆的里面一层，机器学习。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>|</strong><strong>机器学习&mdash;&mdash; 一种实现人工智能的方法</strong></p>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\"><a href=\"https://cms-bucket.nosdn.127.net/b1853c331ca14567a7cc7f28e363a29f20160907073037.jpeg\" style=\"margin:0px; padding:0px; border:0px; text-decoration:none; -webkit-touch-callout:none; color:#4d86c6\"><img alt=\"\" src=\"https://cms-bucket.nosdn.127.net/b1853c331ca14567a7cc7f28e363a29f20160907073037.jpeg?imageView&amp;thumbnail=750x0&amp;quality=85&amp;type=jpg&amp;interlace=1\" style=\"-webkit-touch-callout:none; border-width:0px; display:block; margin:auto; max-width:100%; padding:0px\" /></a></div>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>机器学习最基本的做法，是使用算法来解析数据、从中学习，然后对真实世界中的事件做出决策和预测。</strong>与传统的为解决特定任务、硬编码的软件程序不同，机器学习是用大量的数据来&ldquo;训练&rdquo;，通过各种算法从数据中学习如何完成任务。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">机器学习直接来源于早期的人工智能领域。传统算法包括决策树学习、推导逻辑规划、聚类、强化学习和贝叶斯网络等等。众所周知，我们还没有实现强人工智能。早期机器学习方法甚至都无法实现弱人工智能。</p>\r\n</div>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\">\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>机器学习最成功的应用领域是计算机视觉</strong>，虽然也还是需要大量的手工编码来完成工作。人们需要手工编写分类器、边缘检测滤波器，以便让程序能识别物体从哪里开始，到哪里结束；写形状检测程序来判断检测对象是不是有八条边；写分类器来识别字母&ldquo;ST-O-P&rdquo;。使用以上这些手工编写的分类器，人们总算可以开发算法来感知图像，判断图像是不是一个停止标志牌。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">这个结果还算不错，但并不是那种能让人为之一振的成功。特别是遇到云雾天，标志牌变得不是那么清晰可见，又或者被树遮挡一部分，算法就难以成功了。这就是为什么前一段时间，计算机视觉的性能一直无法接近到人的能力。它太僵化，太容易受环境条件的干扰。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">随着时间的推进，学习算法的发展改变了一切。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>|</strong><strong>深度学习&mdash;&mdash;一种实现机器学习的技术</strong></p>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\"><a href=\"https://cms-bucket.nosdn.127.net/0b366c4ee5314683aa0cd0e22227745420160907073045.jpeg\" style=\"margin:0px; padding:0px; border:0px; text-decoration:none; -webkit-touch-callout:none; color:#4d86c6\"><img alt=\"\" src=\"https://cms-bucket.nosdn.127.net/0b366c4ee5314683aa0cd0e22227745420160907073045.jpeg?imageView&amp;thumbnail=750x0&amp;quality=85&amp;type=jpg&amp;interlace=1\" style=\"-webkit-touch-callout:none; border-width:0px; display:block; margin:auto; max-width:100%; padding:0px\" /></a></div>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">人工神经网络（Artificial Neural Networks）是早期机器学习中的一个重要的算法，历经数十年风风雨雨。神经网络的原理是受我们大脑的生理结构&mdash;&mdash;互相交叉相连的神经元启发。但与大脑中一个神经元可以连接一定距离内的任意神经元不同，<strong>人工神经网络具有离散的层、连接和数据传播的方向</strong>。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">例如，我们可以把一幅图像切分成图像块，输入到神经网络的第一层。在第一层的每一个神经元都把数据传递到第二层。第二层的神经元也是完成类似的工作，把数据传递到第三层，以此类推，直到最后一层，然后生成结果。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">每一个神经元都为它的输入分配权重，这个权重的正确与否与其执行的任务直接相关。最终的输出由这些权重加总来决定。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">我们仍以停止（Stop）标志牌为例。将一个停止标志牌图像的所有元素都打碎，然后用神经元进行&ldquo;检查&rdquo;：八边形的外形、救火车般的红颜色、鲜明突出的字母、交通标志的典型尺寸和静止不动运动特性等等。神经网络的任务就是给出结论，它到底是不是一个停止标志牌。神经网络会根据所有权重，给出一个经过深思熟虑的猜测&mdash;&mdash;&ldquo;概率向量&rdquo;。</p>\r\n</div>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\">\r\n<p style=\"margin-left:0px; margin-right:0px\">这个例子里，系统可能会给出这样的结果：86%可能是一个停止标志牌；7%的可能是一个限速标志牌；5%的可能是一个风筝挂在树上等等。然后网络结构告知神经网络，它的结论是否正确。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">即使是这个例子，也算是比较超前了。直到前不久，神经网络也还是为人工智能圈所淡忘。其实在人工智能出现的早期，神经网络就已经存在了，但神经网络对于&ldquo;智能&rdquo;的贡献微乎其微。主要问题是，即使是最基本的神经网络，也需要大量的运算。神经网络算法的运算需求难以得到满足。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">不过，还是有一些虔诚的研究团队，以多伦多大学的Geoffrey Hinton为代表，坚持研究，实现了以超算为目标的并行算法的运行与概念证明。但也直到GPU得到广泛应用，这些努力才见到成效。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">我们回过头来看这个停止标志识别的例子。<strong>神经网络</strong>是调制、训练出来的，时不时还是很容易出错的。它<strong>最需要的，就是训练</strong>。需要成百上千甚至几百万张图像来训练，直到神经元的输入的权值都被调制得十分精确，无论是否有雾，晴天还是雨天，每次都能得到正确的结果。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">只有这个时候，我们才可以说神经网络成功地自学习到一个停止标志的样子；或者在Facebook的应用里，神经网络自学习了你妈妈的脸；又或者是2012年吴恩达（Andrew Ng）教授在Google实现了神经网络学习到猫的样子等等。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">吴教授的突破在于，把这些神经网络从基础上显著地增大了。层数非常多，神经元也非常多，然后给系统输入海量的数据，来训练网络。在吴教授这里，数据是一千万YouTube视频中的图像。吴教授为深度学习（deep learning）加入了&ldquo;深度&rdquo;（deep）。这里的<strong>&ldquo;深度&rdquo;就是说神经网络中众多的层</strong>。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\">现在，经过深度学习训练的图像识别，在一些场景中甚至可以比人做得更好：从识别猫，到辨别血液中癌症的早期成分，到识别核磁共振成像中的肿瘤。Google的AlphaGo先是学会了如何下围棋，然后与它自己下棋训练。它训练自己神经网络的方法，就是不断地与自己下棋，反复地下，永不停歇。</p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><strong>|</strong><strong>深度学习，给人工智能以璀璨的未来</strong></p>\r\n</div>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\">\r\n<p style=\"margin-left:0px; margin-right:0px\"><span style=\"color:#404040\"><strong>深度学习使得机器学习能够实现众多的应用，并拓展了人工智能的领域范围。</strong>深度学习摧枯拉朽般地实现了各种任务，使得似乎所有的机器辅助功能都变为可能。无人驾驶汽车，预防性医疗保健，甚至是更好的电影推荐，都近在眼前，或者即将实现。</span></p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><span style=\"color:#404040\">人工智能就在现在，就在明天。有了深度学习，人工智能甚至可以达到我们畅想的科幻小说一般。你的C-3PO我拿走了，你有你的终结者就好了。</span></p>\r\n\r\n<p style=\"margin-left:0px; margin-right:0px\"><span style=\"color:#404040\">注：本文原文来自NVIDIA官网，作者Michael Copeland，Long-time Tech记者。</span></p>\r\n\r\n<div>&nbsp;</div>\r\n\r\n<div style=\"margin-left:0px; margin-right:0px\">&nbsp;</div>\r\n</div>\r\n','medias/document/20170209130422_Broods.txt','medias/upload_imgss/2017122311040701-13FF7C8663B2.jpeg','http://www.askeds.com/server',12,0,0,'2017-12-23 11:04:11',4,8,1,0,1),(12,'Openstack 中 HTTPD 运行 Keystone','Openstack 是目前世界上增长最快速的开源软件之一，提供了基础设施即服务 (IaaS) 解决方案，是除亚马逊 AWS 和微软的 Azure 之外的最重要的云计算产品。来自于一百多个国家的数万开发技术人员和云计算专家工作在 Openstack 社区，为包括公有云和私有云在内的云计算平台提供各种解决方案，制定相关的技术标准。','<h1>Openstack 简介</h1>\r\n\r\n<p>Openstack 是目前世界上增长最快速的开源软件之一，提供了基础设施即服务 (IaaS) 解决方案，是除亚马逊 AWS 和微软的 Azure 之外的最重要的云计算产品。来自于一百多个国家的数万开发技术人员和云计算专家工作在 Openstack 社区，为包括公有云和私有云在内的云计算平台提供各种解决方案，制定相关的技术标准。</p>\r\n\r\n<p>Openstack 由多个核心开源项目组成，主要有以下：</p>\r\n\r\n<p>计算服务（Compute）- Nova</p>\r\n\r\n<p>对象存储（Object Storage）- Swift</p>\r\n\r\n<p>镜像服务（Image）- Glance</p>\r\n\r\n<p>身份服务（Identity）- Keystone</p>\r\n\r\n<p>网络服务（Network）- Neutron</p>\r\n\r\n<p>随着 Openstack 不断发展，还有很多新的项目被加入，这里就不一一介绍了。（具体见参考资源一）。</p>\r\n\r\n<h2>Keystone 简介</h2>\r\n\r\n<p>身份服务（Identity）- Keystone 是 Openstack 核心开源项目中的最重要的组件之一，自从 Openstack Essex 发布的时候就被采用（具体见参考资源二）。</p>\r\n\r\n<p>它是为 Openstack 的其他核心组件，诸如计算、存储等提供用户认证、令牌、策略和目录服务的，它本身并不提供这些功能，只是一个抽象层，类似于封装器，用来集成具体的插件，例如，PAM（Pluggable Authentication Module），LDAP 或者 OAuth。通过这些插件，它能够实现多种形式的身份验证。</p>\r\n\r\n<h2>使用 Apache HTTPD 运行 Keystone</h2>\r\n\r\n<p>Keystone 缺省是使用内置的 Eventlet 服务器来运行的，Eventlet 本身非常简单易用，但是它已经缺失了很多早已经实现的、基于互联网的网络服务器的安全功能，所以从安全性考虑，随着 Openstack 最新的版本 Kilo 发布以后，不建议使用 Eventlet 来启动 Keystone，推荐使用 Apache HTTPD。而对于使用 EventLet 的支持将从 Openstack 的 Mitaka 版本中彻底移除。</p>\r\n\r\n<p>那如何使用 HTTPD 来运行 Keystone，过程如下：</p>\r\n\r\n<ul>\r\n	<li>安装 Keystone 软件</li>\r\n	<li>配置 Keystone</li>\r\n	<li>创建 Keystone 数据库</li>\r\n	<li>配置并同步数据库</li>\r\n	<li>安装 HTTPD 相关的软件</li>\r\n	<li>配置 Apache HTTPD</li>\r\n	<li>启动并验证 HTTPD 服务</li>\r\n	<li>后续配置和验证</li>\r\n</ul>\r\n\r\n<p>注意：以下所有操作均在 Red Hat Enterprise Linux 7 上运行。</p>\r\n\r\n<h3>步骤一，安装 Keystone 软件</h3>\r\n\r\n<p>注意：必须要有 RHEL 的 yum repo 的支持。（具体见参考资源五）</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>Openstack 简介<br />\r\n			Openstack 是目前世界上增长最快速的开源软件之一，提供了基础设施即服务 (IaaS) 解决方案，是除亚马逊 AWS 和微软的 Azure 之外的最重要的云计算产品。来自于一百多个国家的数万开发技术人员和云计算专家工作在 Openstack 社区，为包括公有云和私有云在内的云计算平台提供各种解决方案，制定相关的技术标准。<br />\r\n			Openstack 由多个核心开源项目组成，主要有以下：<br />\r\n			计算服务（Compute）- Nova<br />\r\n			对象存储（Object Storage）- Swift<br />\r\n			镜像服务（Image）- Glance<br />\r\n			身份服务（Identity）- Keystone<br />\r\n			网络服务（Network）- Neutron<br />\r\n			随着 Openstack 不断发展，还有很多新的项目被加入，这里就不一一介绍了。（具体见参考资源一）。<br />\r\n			Keystone 简介<br />\r\n			身份服务（Identity）- Keystone 是 Openstack 核心开源项目中的最重要的组件之一，自从 Openstack Essex 发布的时候就被采用（具体见参考资源二）。<br />\r\n			它是为 Openstack 的其他核心组件，诸如计算、存储等提供用户认证、令牌、策略和目录服务的，它本身并不提供这些功能，只是一个抽象层，类似于封装器，用来集成具体的插件，例如，PAM（Pluggable Authentication Module），LDAP 或者 OAuth。通过这些插件，它能够实现多种形式的身份验证。<br />\r\n			使用 Apache HTTPD 运行 Keystone<br />\r\n			Keystone 缺省是使用内置的 Eventlet 服务器来运行的，Eventlet 本身非常简单易用，但是它已经缺失了很多早已经实现的、基于互联网的网络服务器的安全功能，所以从安全性考虑，随着 Openstack 最新的版本 Kilo 发布以后，不建议使用 Eventlet 来启动 Keystone，推荐使用 Apache HTTPD。而对于使用 EventLet 的支持将从 Openstack 的 Mitaka 版本中彻底移除。<br />\r\n			那如何使用 HTTPD 来运行 Keystone，过程如下：<br />\r\n			安装 Keystone 软件<br />\r\n			配置 Keystone<br />\r\n			创建 Keystone 数据库<br />\r\n			配置并同步数据库<br />\r\n			安装 HTTPD 相关的软件<br />\r\n			配置 Apache HTTPD<br />\r\n			启动并验证 HTTPD 服务<br />\r\n			后续配置和验证<br />\r\n			注意：以下所有操作均在 Red Hat Enterprise Linux 7 上运行。<br />\r\n			步骤一，安装 Keystone 软件<br />\r\n			注意：必须要有 RHEL 的 yum repo 的支持。（具体见参考资源五）</p>\r\n\r\n			<p>yum install openstack-keystone python-openstackclient<br />\r\n			步骤二，配置 Keystone<br />\r\n			Keystone 的配置文件一般是/etc/keystone/keystone.conf<br />\r\n			1．首先需要先产生一个随机数，用作初始配置时的管理员令牌</p>\r\n\r\n			<p># openssl rand -hex 10<br />\r\n			5eb4014ecffaa4f053b5<br />\r\n			2．编辑/etc/keystone/keystone.conf，在 DEFAULT 段落定义刚刚得到的管理员令牌</p>\r\n\r\n			<p>[DEFAULT]<br />\r\n			&hellip;<br />\r\n			admin_token =<br />\r\n			3．在 token 段落定义令牌供应和后台驱动器</p>\r\n\r\n			<p>[token]<br />\r\n			&hellip;<br />\r\n			provider = keystone.token.providers.uuid.Provider<br />\r\n			driver = keystone.token.persistence.backends.sql.Token<br />\r\n			4．在 signing 段落定义算法</p>\r\n\r\n			<p>[signing]<br />\r\n			&hellip;<br />\r\n			token_format = UUID<br />\r\n			步骤三，创建 Keystone 数据库<br />\r\n			注意：假定使用 MariaDB（自 RHEL 7 以后，MariaDB 是 yum repo 中缺省数据库），并且已经安装好。如果没有安装，需要先行安装，并且配置相关文件，启动数据库服务</p>\r\n\r\n			<p>yum install mariadb-server MySQL-python<br />\r\n			&hellip;<br />\r\n			systemctl enable mariadb.service<br />\r\n			systemctl start mariadb.service<br />\r\n			1．创建 Keystone 数据库</p>\r\n\r\n			<p>mysql -u root -p<br />\r\n			mysql&gt; CREATE DATABASE keystone<br />\r\n			2．创建 Keystone 用户并授权</p>\r\n\r\n			<p>mysql&gt; GRANT ALL PRIVILEGES ON keystone.* TO &rsquo;keystone&rsquo;@&lsquo;localhost&rsquo; IDENTIFIED BY &lsquo;&rsquo;；<br />\r\n			mysql&gt; GRANT ALL PRIVILEGES ON keystone.* TO &lsquo;keystone&rsquo;@&lsquo;%&rsquo; IDENTIFIED BY &lsquo;&rsquo;；<br />\r\n			mysql&gt; FLUSH PRIVILEGES；<br />\r\n			步骤四，配置并同步数据库<br />\r\n			1．编辑/etc/keystone/keystone.conf，在 database 段落定义数据库存取</p>\r\n\r\n			<p>[database]<br />\r\n			&hellip;<br />\r\n			connection = mysql://keystone:@\\<br />\r\n			/keystone?charset=utf8<br />\r\n			注意： CONTROLLER_NODE_IP需要设置成正确的控制节点的 IP 地址<br />\r\n			2．同步 Keystone 数据库</p>\r\n\r\n			<p>keystone-manage db_sync<br />\r\n			步骤五，安装 HTTPD 相关的软件</p>\r\n\r\n			<p>yum install httpd mod_wsgi<br />\r\n			步骤六，配置 Apache HTTPD<br />\r\n			1．首先需要在正确的 HTTPD 的配置文件目录下面创建一个 wsgi-keystone.conf。</p>\r\n\r\n			<p>Listen 5000<br />\r\n			Listen 35357<br />\r\n			&lt;VirtualHost *:5000&gt;<br />\r\n			&nbsp;WSGIDaemonProcess keystone-public processes=5 threads=1 user=<br />\r\n			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keystone group=keystone display-name=%{GROUP}<br />\r\n			&nbsp;WSGIProcessGroup keystone-public<br />\r\n			&nbsp;WSGIScriptAlias / /var/www/cgi-bin/keystone/main<br />\r\n			&nbsp;WSGIApplicationGroup %{GLOBAL}<br />\r\n			&nbsp;WSGIPassAuthorization On<br />\r\n			&nbsp;&lt;IfVersion &gt;= 2.4&gt;<br />\r\n			&nbsp;ErrorLogFormat &quot;%{cu}t %M&quot;<br />\r\n			&nbsp;&lt;/IfVersion&gt;<br />\r\n			&nbsp;ErrorLog /var/log/httpd/keystone.log<br />\r\n			&nbsp;CustomLog /var/log/httpd/keystone_access.log combined<br />\r\n			&lt;/VirtualHost&gt;<br />\r\n			&lt;VirtualHost *:35357&gt;<br />\r\n			&nbsp;WSGIDaemonProcess keystone-admin processes=5 threads=1 user=<br />\r\n			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keystone group=keystone display-name=%{GROUP}<br />\r\n			&nbsp;WSGIProcessGroup keystone-admin<br />\r\n			&nbsp;WSGIScriptAlias / /var/www/cgi-bin/keystone/admin<br />\r\n			&nbsp;WSGIApplicationGroup %{GLOBAL}<br />\r\n			&nbsp;WSGIPassAuthorization On<br />\r\n			&nbsp;&lt;IfVersion &gt;= 2.4&gt;<br />\r\n			&nbsp;ErrorLogFormat &quot;%{cu}t %M&quot;<br />\r\n			&nbsp;&lt;/IfVersion&gt;<br />\r\n			&nbsp;ErrorLog /var/log/httpd/keystone.log<br />\r\n			&nbsp;CustomLog /var/log/httpd/keystone_access.log combined<br />\r\n			&lt;/VirtualHost&gt;<br />\r\n			注意：一般情况下，HTTPD 的配置文件目录是/etc/httpd/conf.d，但也有例外的，需要结合具体系统安装而定。<br />\r\n			注意：这个文件可以手工编写，或者从步骤一安装 Keystone 的软件源代码里面去拷贝一份，一般是在/usr/share/keystone/wsgi-keystone.conf.<br />\r\n			注意：用户和组在步骤一就已经被创建出来了，用户和组一定要设置正确；存放日志文件的路径一定要设置正确；进程数目是可以调节的，取决于系统的硬件资源多少。<br />\r\n			2．创建目录用来存放 WSGI 组件</p>\r\n\r\n			<p>mkdir -p /var/www/cgi-bin/keystone<br />\r\n			3．从步骤一中安装的 Keystone 软件源代码中把 WSGI 组件拷贝到新创建的目录中，一般是/usr/share/keystone/keystone.wsgi</p>\r\n\r\n			<p>cp /usr/share/keystone/keystone.wsgi /var/www/cgi-bin/keystone/admin<br />\r\n			cp /usr/share/keystone/keystone.wsgi /var/www/cgi-bin/keystone/main<br />\r\n			4．给新创建的目录和文件正确的用户、组和权限</p>\r\n\r\n			<p>chown -R keystone:keystone /var/www/cgi-bin/keystone<br />\r\n			chmod 755 /var/www/cgi-bin/keystone/*<br />\r\n			步骤七，启动并验证 HTTPD 服务</p>\r\n\r\n			<p>systemctl enable httpd.service<br />\r\n			systemctl start httpd.service<br />\r\n			systemctl status httpd.service<br />\r\n			...<br />\r\n			httpd.service - The Apache HTTP Server<br />\r\n			&nbsp;Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled)<br />\r\n			&nbsp;Active: active (running) since Wed 2015-07-15 17:50:06 CDT;<br />\r\n			...<br />\r\n			&nbsp;CGroup: /system.slice/httpd.service<br />\r\n			&nbsp;651 /usr/sbin/httpd -DFOREGROUND<br />\r\n			&nbsp;653 (wsgi:keystone- -DFOREGROUND<br />\r\n			&nbsp;654 (wsgi:keystone- -DFOREGROUND<br />\r\n			&nbsp;656 (wsgi:keystone- -DFOREGROUND<br />\r\n			&nbsp;658 (wsgi:keystone- -DFOREGROUND<br />\r\n			...<br />\r\n			到这一步结束，Keystone 的所有服务均已经正常启动。<br />\r\n			步骤八，后续配置和验证<br />\r\n			注意：接下来的步骤并不是本文所重点关注的内容，即使使用 Eventlet 服务器也需要。考虑到文章的完整性，还是在这里加以阐述。<br />\r\n			现在的 Keystone 还不能响应别的服务的请求，是因为数据库里面还没有任何信息，需要继续完成最后的配置工作。<br />\r\n			1．设置 OS_URL 和 OS_TOKEN</p>\r\n\r\n			<p>export OS_URL=http://：35357/v2.0<br />\r\n			export OS_TOKEN=<br />\r\n			注意：ADMIN_TOKEN就是在步骤二中设置在/etc/keystone/keystone.conf<br />\r\n			2．创建服务实体和 API 端点</p>\r\n\r\n			<p>openstack service create --name keystone --description &quot;Keystone Identity Service&quot; identity<br />\r\n			+-------------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+-------------+----------------------------------+<br />\r\n			| description | OpenStack Identity |<br />\r\n			| enabled | True |<br />\r\n			| id | 4ddaae90388b4ebc9d252ec2252d8d10 |<br />\r\n			| name | keystone |<br />\r\n			| type | identity |<br />\r\n			+-------------+----------------------------------+<br />\r\n			openstack endpoint create \\<br />\r\n			--publicurl http://:5000/v2.0 \\<br />\r\n			--internalurl http://:5000/v2.0 \\<br />\r\n			--adminurl http://:35357/v2.0 \\<br />\r\n			--region RegionOne identity<br />\r\n			+--------------+------------------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+--------------+------------------------------------------+<br />\r\n			| adminurl | http://:35357/v2.0 |<br />\r\n			| id | 4a9ffc04b8eb4848a49625a3df0170e5 |<br />\r\n			| internalurl | http://:5000/v2.0 |<br />\r\n			| publicurl | http://:5000/v2.0 |<br />\r\n			| region | RegionOne |<br />\r\n			| service_id | 4ddaae90388b4ebc9d252ec2252d8d10 |<br />\r\n			| service_name | keystone |<br />\r\n			| service_type | identity |<br />\r\n			+--------------+------------------------------------------+<br />\r\n			3．创建项目、用户和角色<br />\r\n			创建 admin 项目</p>\r\n\r\n			<p>openstack project create --description &quot;Admin Project&quot; admin<br />\r\n			+-------------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+-------------+----------------------------------+<br />\r\n			| description | Admin Project |<br />\r\n			| enabled | True |<br />\r\n			| id | cf12a15c5ea84b019aec3dc45580896b |<br />\r\n			| name | admin |<br />\r\n			+-------------+----------------------------------+<br />\r\n			创建 service 项目<br />\r\n			openstack project create --description &quot;Service Project&quot; service<br />\r\n			+-------------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+-------------+----------------------------------+<br />\r\n			| description | Service Project |<br />\r\n			| enabled | True |<br />\r\n			| id | 55cbd79c0c014c8a95534ebd16213ca1 |<br />\r\n			| name | service |<br />\r\n			+-------------+----------------------------------+<br />\r\n			创建 admin 用户</p>\r\n\r\n			<p>openstack user create --password &nbsp;admin<br />\r\n			+------------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+------------+----------------------------------+<br />\r\n			| email | None |<br />\r\n			| enabled | True |<br />\r\n			| id | 4d411f2291f34941b30eef9bd797505a |<br />\r\n			| name | admin |<br />\r\n			| username | admin |<br />\r\n			+------------+----------------------------------+<br />\r\n			创建 admin 角色<br />\r\n			openstack role create admin<br />\r\n			+-------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+-------+----------------------------------+<br />\r\n			| id | cd2cb9a39e874ea69e5d4b896eb16128 |<br />\r\n			| name | admin |<br />\r\n			+-------+----------------------------------+<br />\r\n			把角色 admin 加入到项目 admin 和用户 admin 中。</p>\r\n\r\n			<p>openstack role add --project admin --user admin admin<br />\r\n			+-------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+-------+----------------------------------+<br />\r\n			| id | cd2cb9a39e874ea69e5d4b896eb16128 |<br />\r\n			| name | admin |<br />\r\n			+-------+----------------------------------+<br />\r\n			如果还想创建别的数据，可以按需操作。<br />\r\n			4．创建环境变量文件并验证<br />\r\n			因为安全性的考虑，一般建议现在可以取消初始化配置的管理员安全令牌机制。<br />\r\n			编辑文件/etc/keystone/keystone-paste.ini.<br />\r\n			在 pipeline:public_api、pipeline:admin_api 和 pipeline:api_v3 这三个段落中删除 admin_token_auth.<br />\r\n			复位 OS_TOKEN 和 OS_URL：<br />\r\n			unset OS_TOKEN OS_URL<br />\r\n			由于很多命令都需要带很长的参数，一般建议把这些环境变量写入到一个文件中。<br />\r\n			创建 keystone_rc 文件，在其中加入以下的选项：<br />\r\n			export OS_PROJECT_DOMAIN_ID=default<br />\r\n			export OS_USER_DOMAIN_ID=default<br />\r\n			export OS_PROJECT_NAME=admin<br />\r\n			export OS_TENANT_NAME=admin<br />\r\n			export OS_USERNAME=admin<br />\r\n			export OS_PASSWORD=<br />\r\n			export OS_AUTH_URL=http://P:35357<br />\r\n			装入 keystone_rc 文件：</p>\r\n\r\n			<p>source keystone_rc<br />\r\n			执行以下命令验证 Keystone 否可以工作：</p>\r\n\r\n			<p>openstack token issue<br />\r\n			+------------+----------------------------------+<br />\r\n			| Field | Value |<br />\r\n			+------------+----------------------------------+<br />\r\n			| expires | 2015-08-26T04:25:58.669478Z |<br />\r\n			| id | de5be235afff46c4b3d225dfae06cf00 |<br />\r\n			| project_id | 1641ce674b7c4e99a1fb29760b1635f4 |<br />\r\n			| user_id | 6bed1eb1b2574aa1a6d189cf4278bb9f |<br />\r\n			+------------+----------------------------------+<br />\r\n			&nbsp;<br />\r\n			openstack service list<br />\r\n			&nbsp;<br />\r\n			+----------------------------------+----------+----------+<br />\r\n			| ID | Name | Type |<br />\r\n			+----------------------------------+----------+----------+<br />\r\n			| a1cd48a281634e32afbd1977cd2e6e66 | keystone | identity |<br />\r\n			+----------------------------------+----------+----------+<br />\r\n			&nbsp;<br />\r\n			openstacl project list<br />\r\n			+----------------------------------+---------+<br />\r\n			| ID | Name |<br />\r\n			+----------------------------------+---------+<br />\r\n			| 1641ce674b7c4e99a1fb29760b1635f4 | admin |<br />\r\n			| dcfadbae7e4a4928bfd100c07f6a1550 | service |<br />\r\n			+----------------------------------+---------+<br />\r\n			至此，Keystone 可以正常和其他 Openstack 的核心组件一起工作了。<br />\r\n			限于篇幅，还有一些细节未能在这里展开，例如，如何配置公钥机制 PKI（Public Key Infrastructure）；如何配置 SSL。有兴趣的读者可以自己先行研究一下。<br />\r\n			结束语<br />\r\n			Openstack 的更新变化非常快，新旧功能的交替已经成为常态化，希望本文对工作学习在云计算领域的读者了解新动向有所裨益。<br />\r\n			相关主题<br />\r\n			Openstack 官方发布版本： OpenStack 社区官方发布版本。<br />\r\n			Openstack Essex 发布信息： OpenStack 社区 Essex 官方发布版本，详细也可以参阅 OpenStack Essex Release。<br />\r\n			Openstack 官方文档： OpenStack 社区官方文档<br />\r\n			Keystone 开发者网站： OpenStack 社区 Identity Service 开发者网站。<br />\r\n			RDO 资源库：RedHat 社区 Openstack 资源库。<br />\r\n			developerWorks 中国：Bluemix 资源中心 。<br />\r\n			developerWorks 云计算 站点 提供了有关云计算的更新资源，包括<br />\r\n			云计算 简介。<br />\r\n			更新的 技术文章和教程，以及网络广播，让您的开发变得轻松，专家研讨 会和录制会议 帮助您成为高效的云开发人员。<br />\r\n			连接转为云计算设计的 IBM 产品下载和信息。<br />\r\n			关于 社区最新话题 的活动聚合。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤二，配置 Keystone</h3>\r\n\r\n<p>Keystone 的配置文件一般是<code>/etc/keystone/keystone.conf</code></p>\r\n\r\n<h5>1．首先需要先产生一个随机数，用作初始配置时的管理员令牌</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td>\r\n			<p><code># openssl rand -hex 10</code></p>\r\n\r\n			<p><code>5eb4014ecffaa4f053b5</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>2．编辑/etc/keystone/keystone.conf，在 DEFAULT 段落定义刚刚得到的管理员令牌</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td>\r\n			<p><code>[DEFAULT]</code></p>\r\n\r\n			<p><code>&hellip;</code></p>\r\n\r\n			<p><code>admin_token =</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>3．在 token 段落定义令牌供应和后台驱动器</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n			</td>\r\n			<td>\r\n			<p><code>[token]</code></p>\r\n\r\n			<p><code>&hellip;</code></p>\r\n\r\n			<p><code>provider = keystone.token.providers.uuid.Provider</code></p>\r\n\r\n			<p><code>driver = keystone.token.persistence.backends.sql.Token</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>4．在 signing 段落定义算法</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td>\r\n			<p><code>[signing]</code></p>\r\n\r\n			<p><code>&hellip;</code></p>\r\n\r\n			<p><code>token_format = UUID</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤三，创建 Keystone 数据库</h3>\r\n\r\n<p>注意：假定使用 MariaDB（自 RHEL 7 以后，MariaDB 是 yum repo 中缺省数据库），并且已经安装好。如果没有安装，需要先行安装，并且配置相关文件，启动数据库服务</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n			</td>\r\n			<td>\r\n			<p><code>yum install mariadb-server MySQL-python</code></p>\r\n\r\n			<p><code>&hellip;</code></p>\r\n\r\n			<p><code>systemctl enable mariadb.service</code></p>\r\n\r\n			<p><code>systemctl start mariadb.service</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>1．创建 Keystone 数据库</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td>\r\n			<p><code>mysql -u root -p</code></p>\r\n\r\n			<p><code>mysql&gt; CREATE DATABASE keystone</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>2．创建 Keystone 用户并授权</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td>\r\n			<p><code>mysql&gt; GRANT ALL PRIVILEGES ON keystone.* TO &rsquo;keystone&rsquo;@&lsquo;localhost&rsquo; IDENTIFIED BY &lsquo;&rsquo;；</code></p>\r\n\r\n			<p><code>mysql&gt; GRANT ALL PRIVILEGES ON keystone.* TO &lsquo;keystone&rsquo;@&lsquo;%&rsquo; IDENTIFIED BY &lsquo;&rsquo;；</code></p>\r\n\r\n			<p><code>mysql&gt; FLUSH PRIVILEGES；</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤四，配置并同步数据库</h3>\r\n\r\n<h5>1．编辑/etc/keystone/keystone.conf，在 database 段落定义数据库存取</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n			</td>\r\n			<td>\r\n			<p><code>[database]</code></p>\r\n\r\n			<p><code>&hellip;</code></p>\r\n\r\n			<p><code>connection = mysql://keystone:@\\</code></p>\r\n\r\n			<p><code>/keystone?charset=utf8</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>注意：&nbsp;<code>CONTROLLER_NODE_IP</code>需要设置成正确的控制节点的 IP 地址</p>\r\n\r\n<h5>2．同步 Keystone 数据库</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n			</td>\r\n			<td>\r\n			<p><code>keystone-manage db_sync</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤五，安装 HTTPD 相关的软件</h3>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n			</td>\r\n			<td>\r\n			<p><code>yum install httpd mod_wsgi</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤六，配置 Apache HTTPD</h3>\r\n\r\n<h5>1．首先需要在正确的 HTTPD 的配置文件目录下面创建一个 wsgi-keystone.conf。</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n\r\n			<p>14</p>\r\n\r\n			<p>15</p>\r\n\r\n			<p>16</p>\r\n\r\n			<p>17</p>\r\n\r\n			<p>18</p>\r\n\r\n			<p>19</p>\r\n\r\n			<p>20</p>\r\n\r\n			<p>21</p>\r\n\r\n			<p>22</p>\r\n\r\n			<p>23</p>\r\n\r\n			<p>24</p>\r\n\r\n			<p>25</p>\r\n\r\n			<p>26</p>\r\n\r\n			<p>27</p>\r\n\r\n			<p>28</p>\r\n			</td>\r\n			<td>\r\n			<p><code>Listen 5000</code></p>\r\n\r\n			<p><code>Listen 35357</code></p>\r\n\r\n			<p><code>&lt;</code><code>VirtualHost</code> <code>*:5000&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIDaemonProcess keystone-public processes=5 threads=1 user=</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>keystone group=keystone display-name=%{GROUP}</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIProcessGroup keystone-public</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIScriptAlias / /var/www/cgi-bin/keystone/main</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIApplicationGroup %{GLOBAL}</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIPassAuthorization On</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&lt;</code><code>IfVersion</code> <code>&gt;= 2.4&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>ErrorLogFormat &quot;%{cu}t %M&quot;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&lt;/</code><code>IfVersion</code><code>&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>ErrorLog /var/log/httpd/keystone.log</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>CustomLog /var/log/httpd/keystone_access.log combined</code></p>\r\n\r\n			<p><code>&lt;/</code><code>VirtualHost</code><code>&gt;</code></p>\r\n\r\n			<p><code>&lt;</code><code>VirtualHost</code> <code>*:35357&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIDaemonProcess keystone-admin processes=5 threads=1 user=</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>keystone group=keystone display-name=%{GROUP}</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIProcessGroup keystone-admin</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIScriptAlias / /var/www/cgi-bin/keystone/admin</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIApplicationGroup %{GLOBAL}</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>WSGIPassAuthorization On</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&lt;</code><code>IfVersion</code> <code>&gt;= 2.4&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>ErrorLogFormat &quot;%{cu}t %M&quot;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&lt;/</code><code>IfVersion</code><code>&gt;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>ErrorLog /var/log/httpd/keystone.log</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>CustomLog /var/log/httpd/keystone_access.log combined</code></p>\r\n\r\n			<p><code>&lt;/</code><code>VirtualHost</code><code>&gt;</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>注意：一般情况下，HTTPD 的配置文件目录是<code>/etc/httpd/conf.d</code>，但也有例外的，需要结合具体系统安装而定。</p>\r\n\r\n<p>注意：这个文件可以手工编写，或者从步骤一安装 Keystone 的软件源代码里面去拷贝一份，一般是在<code>/usr/share/keystone/wsgi-keystone.conf.</code></p>\r\n\r\n<p>注意：用户和组在步骤一就已经被创建出来了，用户和组一定要设置正确；存放日志文件的路径一定要设置正确；进程数目是可以调节的，取决于系统的硬件资源多少。</p>\r\n\r\n<h5>2．创建目录用来存放 WSGI 组件</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n			</td>\r\n			<td>\r\n			<p><code>mkdir -p /var/www/cgi-bin/keystone</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>3．从步骤一中安装的 Keystone 软件源代码中把 WSGI 组件拷贝到新创建的目录中，一般是/usr/share/keystone/keystone.wsgi</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td>\r\n			<p><code>cp /usr/share/keystone/keystone.wsgi /var/www/cgi-bin/keystone/admin</code></p>\r\n\r\n			<p><code>cp /usr/share/keystone/keystone.wsgi /var/www/cgi-bin/keystone/main</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h5>4．给新创建的目录和文件正确的用户、组和权限</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td>\r\n			<p><code>chown -R keystone:keystone /var/www/cgi-bin/keystone</code></p>\r\n\r\n			<p><code>chmod 755 /var/www/cgi-bin/keystone/*</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<h3>步骤七，启动并验证 HTTPD 服务</h3>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n\r\n			<p>14</p>\r\n\r\n			<p>15</p>\r\n			</td>\r\n			<td>\r\n			<p><code>systemctl enable httpd.service</code></p>\r\n\r\n			<p><code>systemctl start httpd.service</code></p>\r\n\r\n			<p><code>systemctl status httpd.service</code></p>\r\n\r\n			<p><code>...</code></p>\r\n\r\n			<p><code>httpd.service - The Apache HTTP Server</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled)</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>Active: active (running) since Wed 2015-07-15 17:50:06 CDT;</code></p>\r\n\r\n			<p><code>...</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>CGroup: /system.slice/httpd.service</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>651 /usr/sbin/httpd -DFOREGROUND</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>653 (wsgi:keystone- -DFOREGROUND</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>654 (wsgi:keystone- -DFOREGROUND</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>656 (wsgi:keystone- -DFOREGROUND</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>658 (wsgi:keystone- -DFOREGROUND</code></p>\r\n\r\n			<p><code>...</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>到这一步结束，Keystone 的所有服务均已经正常启动。</p>\r\n\r\n<h3>步骤八，后续配置和验证</h3>\r\n\r\n<p>注意：接下来的步骤并不是本文所重点关注的内容，即使使用 Eventlet 服务器也需要。考虑到文章的完整性，还是在这里加以阐述。</p>\r\n\r\n<p>现在的 Keystone 还不能响应别的服务的请求，是因为数据库里面还没有任何信息，需要继续完成最后的配置工作。</p>\r\n\r\n<h5>1．设置 OS_URL 和 OS_TOKEN</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td>\r\n			<p><code>export OS_URL=http://：35357/v2.0</code></p>\r\n\r\n			<p><code>export OS_TOKEN=</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>注意：<em>ADMIN_TOKEN</em>就是在步骤二中设置在<code>/etc/keystone/keystone.conf</code></p>\r\n\r\n<h5>2．创建服务实体和 API 端点</h5>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n\r\n			<p>14</p>\r\n\r\n			<p>15</p>\r\n\r\n			<p>16</p>\r\n\r\n			<p>17</p>\r\n\r\n			<p>18</p>\r\n\r\n			<p>19</p>\r\n\r\n			<p>20</p>\r\n\r\n			<p>21</p>\r\n\r\n			<p>22</p>\r\n\r\n			<p>23</p>\r\n\r\n			<p>24</p>\r\n\r\n			<p>25</p>\r\n\r\n			<p>26</p>\r\n\r\n			<p>27</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack service create --name keystone --description &quot;Keystone Identity Service&quot; identity</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| description | OpenStack Identity |</code></p>\r\n\r\n			<p><code>| enabled | True |</code></p>\r\n\r\n			<p><code>| id | 4ddaae90388b4ebc9d252ec2252d8d10 |</code></p>\r\n\r\n			<p><code>| name | keystone |</code></p>\r\n\r\n			<p><code>| type | identity |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>openstack endpoint create \\</code></p>\r\n\r\n			<p><code>--publicurl http://:5000/v2.0 \\</code></p>\r\n\r\n			<p><code>--internalurl http://:5000/v2.0 \\</code></p>\r\n\r\n			<p><code>--adminurl http://:35357/v2.0 \\</code></p>\r\n\r\n			<p><code>--region RegionOne identity</code></p>\r\n\r\n			<p><code>+--------------+------------------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+--------------+------------------------------------------+</code></p>\r\n\r\n			<p><code>| adminurl | http://:35357/v2.0 |</code></p>\r\n\r\n			<p><code>| id | 4a9ffc04b8eb4848a49625a3df0170e5 |</code></p>\r\n\r\n			<p><code>| internalurl | http://:5000/v2.0 |</code></p>\r\n\r\n			<p><code>| publicurl | http://:5000/v2.0 |</code></p>\r\n\r\n			<p><code>| region | RegionOne |</code></p>\r\n\r\n			<p><code>| service_id | 4ddaae90388b4ebc9d252ec2252d8d10 |</code></p>\r\n\r\n			<p><code>| service_name | keystone |</code></p>\r\n\r\n			<p><code>| service_type | identity |</code></p>\r\n\r\n			<p><code>+--------------+------------------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>3．创建项目、用户和角色</p>\r\n\r\n<p>创建 admin 项目</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack project create --description &quot;Admin Project&quot; admin</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| description | Admin Project |</code></p>\r\n\r\n			<p><code>| enabled | True |</code></p>\r\n\r\n			<p><code>| id | cf12a15c5ea84b019aec3dc45580896b |</code></p>\r\n\r\n			<p><code>| name | admin |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>创建 service 项目</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack project create --description &quot;Service Project&quot; service</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| description | Service Project |</code></p>\r\n\r\n			<p><code>| enabled | True |</code></p>\r\n\r\n			<p><code>| id | 55cbd79c0c014c8a95534ebd16213ca1 |</code></p>\r\n\r\n			<p><code>| name | service |</code></p>\r\n\r\n			<p><code>+-------------+----------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>创建 admin 用户</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack user create --password&nbsp; admin</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| email | None |</code></p>\r\n\r\n			<p><code>| enabled | True |</code></p>\r\n\r\n			<p><code>| id | 4d411f2291f34941b30eef9bd797505a |</code></p>\r\n\r\n			<p><code>| name | admin |</code></p>\r\n\r\n			<p><code>| username | admin |</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>创建 admin 角色</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack role create admin</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n\r\n			<p><code>| id | cd2cb9a39e874ea69e5d4b896eb16128 |</code></p>\r\n\r\n			<p><code>| name | admin |</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>把角色 admin 加入到项目 admin 和用户 admin 中。</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack role add --project admin --user admin admin</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n\r\n			<p><code>| id | cd2cb9a39e874ea69e5d4b896eb16128 |</code></p>\r\n\r\n			<p><code>| name | admin |</code></p>\r\n\r\n			<p><code>+-------+----------------------------------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>如果还想创建别的数据，可以按需操作。</p>\r\n\r\n<p>4．创建环境变量文件并验证</p>\r\n\r\n<p>因为安全性的考虑，一般建议现在可以取消初始化配置的管理员安全令牌机制。</p>\r\n\r\n<p>编辑文件/etc/keystone/keystone-paste.ini.</p>\r\n\r\n<p>在 pipeline:public_api、pipeline:admin_api 和 pipeline:api_v3 这三个段落中删除 admin_token_auth.</p>\r\n\r\n<p>复位 OS_TOKEN 和 OS_URL：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n			</td>\r\n			<td>\r\n			<p><code>unset OS_TOKEN OS_URL</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>由于很多命令都需要带很长的参数，一般建议把这些环境变量写入到一个文件中。</p>\r\n\r\n<p>创建 keystone_rc 文件，在其中加入以下的选项：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n			</td>\r\n			<td>\r\n			<p><code>export OS_PROJECT_DOMAIN_ID=default</code></p>\r\n\r\n			<p><code>export OS_USER_DOMAIN_ID=default</code></p>\r\n\r\n			<p><code>export OS_PROJECT_NAME=admin</code></p>\r\n\r\n			<p><code>export OS_TENANT_NAME=admin</code></p>\r\n\r\n			<p><code>export OS_USERNAME=admin</code></p>\r\n\r\n			<p><code>export OS_PASSWORD=</code></p>\r\n\r\n			<p><code>export OS_AUTH_URL=http://P:35357</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>装入 keystone_rc 文件：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n			</td>\r\n			<td>\r\n			<p><code>source keystone_rc</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>执行以下命令验证 Keystone 否可以工作：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n\r\n			<p>14</p>\r\n\r\n			<p>15</p>\r\n\r\n			<p>16</p>\r\n\r\n			<p>17</p>\r\n\r\n			<p>18</p>\r\n\r\n			<p>19</p>\r\n\r\n			<p>20</p>\r\n\r\n			<p>21</p>\r\n\r\n			<p>22</p>\r\n\r\n			<p>23</p>\r\n\r\n			<p>24</p>\r\n\r\n			<p>25</p>\r\n			</td>\r\n			<td>\r\n			<p><code>openstack token issue</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| Field | Value |</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n\r\n			<p><code>| expires | 2015-08-26T04:25:58.669478Z |</code></p>\r\n\r\n			<p><code>| id | de5be235afff46c4b3d225dfae06cf00 |</code></p>\r\n\r\n			<p><code>| project_id | 1641ce674b7c4e99a1fb29760b1635f4 |</code></p>\r\n\r\n			<p><code>| user_id | 6bed1eb1b2574aa1a6d189cf4278bb9f |</code></p>\r\n\r\n			<p><code>+------------+----------------------------------+</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>openstack service list</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>+----------------------------------+----------+----------+</code></p>\r\n\r\n			<p><code>| ID | Name | Type |</code></p>\r\n\r\n			<p><code>+----------------------------------+----------+----------+</code></p>\r\n\r\n			<p><code>| a1cd48a281634e32afbd1977cd2e6e66 | keystone | identity |</code></p>\r\n\r\n			<p><code>+----------------------------------+----------+----------+</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>openstacl project list</code></p>\r\n\r\n			<p><code>+----------------------------------+---------+</code></p>\r\n\r\n			<p><code>| ID | Name |</code></p>\r\n\r\n			<p><code>+----------------------------------+---------+</code></p>\r\n\r\n			<p><code>| 1641ce674b7c4e99a1fb29760b1635f4 | admin |</code></p>\r\n\r\n			<p><code>| dcfadbae7e4a4928bfd100c07f6a1550 | service |</code></p>\r\n\r\n			<p><code>+----------------------------------+---------+</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>至此，Keystone 可以正常和其他 Openstack 的核心组件一起工作了。</p>\r\n\r\n<p>限于篇幅，还有一些细节未能在这里展开，例如，如何配置公钥机制 PKI（Public Key Infrastructure）；如何配置 SSL。有兴趣的读者可以自己先行研究一下。</p>\r\n\r\n<h2>结束语</h2>\r\n\r\n<p>Openstack 的更新变化非常快，新旧功能的交替已经成为常态化，希望本文对工作学习在云计算领域的读者了解新动向有所裨益。</p>\r\n\r\n<h4>相关主题</h4>\r\n\r\n<ul>\r\n	<li><a href=\"https://wiki.openstack.org/wiki/Releases\">Openstack 官方发布版本</a>： OpenStack 社区官方发布版本。</li>\r\n	<li><a href=\"https://wiki.openstack.org/wiki/ReleaseNotes/Essex#OpenStack_Identity_.28Keystone.29\">Openstack Essex 发布信息</a>： OpenStack 社区 Essex 官方发布版本，详细也可以参阅&nbsp;<a href=\"http://docs.openstack.org/releases/releases/essex.html\">OpenStack Essex Release</a>。</li>\r\n	<li><a href=\"http://docs.openstack.org/\">Openstack 官方文档</a>： OpenStack 社区官方文档</li>\r\n	<li><a href=\"http://docs.openstack.org/developer/keystone/index.html\">Keystone 开发者网站</a>： OpenStack 社区 Identity Service 开发者网站。</li>\r\n	<li><a href=\"https://www.rdoproject.org/Repositories\">RDO 资源库</a>：RedHat 社区 Openstack 资源库。</li>\r\n	<li>developerWorks 中国：<a href=\"http://www.ibm.com/developerworks/cn/cloud/bluemix\">Bluemix 资源中心&nbsp;</a>。</li>\r\n	<li><a href=\"https://www.ibm.com/developerworks/cn/cloud/index.html\">developerWorks 云计算 站点</a>&nbsp;提供了有关云计算的更新资源，包括\r\n	<ul>\r\n		<li>云计算&nbsp;<a href=\"http://www.ibm.com/developerworks/cn/cloud/newto.html\">简介</a>。</li>\r\n		<li>更新的&nbsp;<a href=\"http://www.ibm.com/developerworks/cn/cloud/resources.html\">技术文章和教程，以及网络广播</a>，让您的开发变得轻松，<a href=\"http://www.ibm.com/developerworks/cn/cloud/events.html\">专家研讨 会和录制会议</a>&nbsp;帮助您成为高效的云开发人员。</li>\r\n		<li>连接转为云计算设计的&nbsp;<a href=\"http://www.ibm.com/developerworks/cn/cloud/products.html\">IBM 产品下载和信息</a>。</li>\r\n		<li>关于&nbsp;<a href=\"http://www.ibm.com/developerworks/cn/cloud/collaborate.html\">社区最新话题</a>&nbsp;的活动聚合。</li>\r\n	</ul>\r\n	</li>\r\n</ul>\r\n','medias/document/20170209130422_Broods.txt','upload_imgss/11.jpeg','http://www.askeds.com/server',2,0,0,'2017-12-25 07:51:08',1,10,1,0,1),(13,'openstack集群构建','openstack集群构建','<p>openstack cluster安装部署</p>\r\n\r\n<p>N版本</p>\r\n\r\n<p>部署说明</p>\r\n\r\n<p>Controller集群部署（至少3台虚拟机）<br />\r\nCompute物理机部署1台（compute无集群关系，可单独部署，以1台为例子）<br />\r\nNTP服务器1台虚拟机</p>\r\n\r\n<p><br />\r\n注意事项：git服务器下载的文件建议用下载到内网的linux机子上，有些文件要进行拷贝操作的，请勿从window拷贝到linux，避免造成出现配置文件产生^M(主要是编码问题造成的)</p>\r\n\r\n<p>如出现配置文件编码问题，请使用yum -y install dos2unix, dos2unix 文件名&nbsp;&nbsp;进行转化）</p>\r\n\r\n<p>配置虚拟机ip时，注意重启网络之前先执行以下两条指令</p>\r\n\r\n<p>service NetworkManager stop</p>\r\n\r\n<p>chkconfig NetworkManager off</p>\r\n\r\n<p>环境要求</p>\r\n\r\n<p><br />\r\n1、Compute:&nbsp;（物理机，个数以实际需要位置，至少1台）&nbsp;内存314G；存储2T+；网卡端口2个；CPU 2个(24核)，分区如下。</p>\r\n\r\n<p>2、Controller:&nbsp;3台虚拟机 资源如下:</p>\r\n\r\n<p>3、NFS+NTP（1台虚拟机）共用服务器资源要求：</p>\r\n\r\n<p>镜像、xml模板下载地址</p>\r\n\r\n<p>【NFS/NAT/NTP 部署】</p>\r\n\r\n<p>说明，nfs、nat、ntp在同一台虚拟机上</p>\r\n\r\n<p>一、nat服务器部署</p>\r\n\r\n<p>先行配置好公网ip，保证可以访问公网。</p>\r\n\r\n<p>安装iptables</p>\r\n\r\n<p>yum install iptables-services -y</p>\r\n\r\n<p>开启数据包转发功能</p>\r\n\r\n<p>echo 1 &gt; /proc/sys/net/ipv4/ip_forward</p>\r\n\r\n<p>配置/etc/sysctl.conf</p>\r\n\r\n<p>net.ipv4.ip_forward = 1</p>\r\n\r\n<p>设置iptables</p>\r\n\r\n<p># 192.168.6.0/24 为内网ip网段</p>\r\n\r\n<p># 36.250.74.179 为你要为nat服务器设置的公网ip</p>\r\n\r\n<p># eth0 是nat服务器上设置公网ip的网卡</p>\r\n\r\n<p>iptables -t nat -A POSTROUTING -o eth0 -s 192.168.6.0/24 -j SNAT --to-source 36.250.74.179</p>\r\n\r\n<p>service iptables save</p>\r\n\r\n<p>二、ntp时间同步</p>\r\n\r\n<p><br />\r\n备注123/udp为时间服务器使用</p>\r\n\r\n<p>目的：使要求三台控制节点时间保持一致。</p>\r\n\r\n<p>安装ntp-server</p>\r\n\r\n<p>yum&nbsp;-y&nbsp;install&nbsp;ntp&nbsp;ntpdate</p>\r\n\r\n<p><br />\r\nvim&nbsp;/etc/ntp.conf&nbsp;&nbsp;&nbsp;# 如图位置增加配置</p>\r\n\r\n<p>192.168.1.0 可自行更改为自己的网段</p>\r\n\r\n<p>restrict&nbsp;192.168.1.0&nbsp;mask&nbsp;255.255.255.0<br />\r\nserver&nbsp;hshh.org<br />\r\nserver&nbsp;asia.pool.ntp.org<br />\r\nserver&nbsp;ntp.cacheflow.com<br />\r\nserver&nbsp;127.127.1.0&nbsp;iburst&nbsp;local&nbsp;clock</p>\r\n\r\n<p>重启ntpd服务，并设置开机自启动：</p>\r\n\r\n<p>$ service&nbsp;ntpd&nbsp;restart<br />\r\n$ chkconfig&nbsp;ntpd&nbsp;on</p>\r\n\r\n<p>$ timedatectl&nbsp;set-timezone&nbsp;Asia/Shanghai&nbsp;&nbsp;# 设置时区</p>\r\n\r\n<p>$ timedatectl&nbsp;status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 查看时区</p>\r\n\r\n<p>防火墙设置</p>\r\n\r\n<p>iptables&nbsp;-A&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;--dport&nbsp;123&nbsp;-j&nbsp;ACCEPT</p>\r\n\r\n<p>该集群其他节点运行命令与该ntp节点时间同步</p>\r\n\r\n<p>192.168.1.20 集群同网段IP地址</p>\r\n\r\n<p># 192.168.1.20 为ntp节点ip</p>\r\n\r\n<p>ntpdate&nbsp;192.168.1.20</p>\r\n\r\n<p>设置定时任务，进行时间同步（三台controller都操作）</p>\r\n\r\n<p><br />\r\n如果没有定时时间同步服务，输入以下命令配置：</p>\r\n\r\n<p>crontab&nbsp;&ndash;e</p>\r\n\r\n<p># &nbsp;192.168.6.20 改为对应controller ip地址<br />\r\n*/3&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;/usr/sbin/ntpdate 192.168.6.20&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1</p>\r\n\r\n<p>重启服务：<br />\r\nservice&nbsp;crond&nbsp;restart</p>\r\n\r\n<p>三、nfs 服务器配置</p>\r\n\r\n<p>新建一台服务器提供nfs服务</p>\r\n\r\n<p>yum install -y nfs-utils rpcbind</p>\r\n\r\n<p>创建目录</p>\r\n\r\n<p>mkdir -p /var/lib/glance/images</p>\r\n\r\n<p>配置nfs 把存储共享出去</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt;&gt;/etc/exports</p>\r\n\r\n<p>/var/lib/glance/images/ *(rw,sync,no_root_squash)</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>systemctl restart rpcbind nfs-server.service</p>\r\n\r\n<p>systemctl enable rpcbind nfs-server.service</p>\r\n\r\n<p>让共享目录生效</p>\r\n\r\n<p>showmount -e localhost</p>\r\n\r\n<p>【 Controller部署】</p>\r\n\r\n<p>一、基础环境准备（所有节点都要部署）：</p>\r\n\r\n<p>部署contrroller集群，以3台节点（IP为192.168.1.20；192.168.1.21；192.168.1.22）为例：</p>\r\n\r\n<p>1、设置hostname</p>\r\n\r\n<p>设置hostname目的为了方便机器互联。分别在3台机器输入命令：</p>\r\n\r\n<p>hostnamectl set-hostname ws_controller01（在节点1：192.168.1.20执行）</p>\r\n\r\n<p>hostnamectl set-hostname ws_controller02（在节点2：192.168.1.21执行）</p>\r\n\r\n<p>hostnamectl set-hostname ws_controller03（在节点3：192.168.1.22执行）</p>\r\n\r\n<p>设置完成之后请重启下节点，重启之后，主机名才会更新</p>\r\n\r\n<p>2、设置hosts文件</p>\r\n\r\n<p>在三台节点上分别如图设置hosts文件。</p>\r\n\r\n<p>打开hosts文件：</p>\r\n\r\n<p>vim /etc/hosts</p>\r\n\r\n<p>增加以下内容：</p>\r\n\r\n<p>192.168.1.100 ctrl.openstack.com (私网vip地址)</p>\r\n\r\n<p>36.250.74.189 public.openstack.com (公网vip地址)</p>\r\n\r\n<p>192.168.1.20 ws_controller01</p>\r\n\r\n<p>192.168.1.21 ws_controller02</p>\r\n\r\n<p>192.168.1.22 ws_controller03</p>\r\n\r\n<p>3、关闭selinux安全子系统</p>\r\n\r\n<p>setenforce 0 （修改SELINUX状态：即刻生效）</p>\r\n\r\n<p>打开selinux文件：</p>\r\n\r\n<p>vim /etc/sysconfig/selinux</p>\r\n\r\n<p>设置SELINUX=disabled</p>\r\n\r\n<p>4、配置网桥</p>\r\n\r\n<p>根据实际部署compute的宿主机网卡可用数量情况，选择以下相应的一种方式来配置网桥。</p>\r\n\r\n<p>两张物理网卡：（确保compute机器上有两张网卡可用！）</p>\r\n\r\n<p>配置br0网卡：</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-br0</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>DEVICE=br0</p>\r\n\r\n<p>TYPE=Bridge</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>IPADDR=36.250.74.71</p>\r\n\r\n<p>NETMASK=255.255.255.0</p>\r\n\r\n<p>GATEWAY=36.250.74.1</p>\r\n\r\n<p>DNS1=114.114.114.114</p>\r\n\r\n<p>DNS2=8.8.8.8</p>\r\n\r\n<p>~</p>\r\n\r\n<p>配置eth0网卡：</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-eth0 根据实际使用物理网卡选择eth*</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>TYPE=Ethernet</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>NAME=eth0</p>\r\n\r\n<p>DEVICE=eth0</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>BRIDGE=br0</p>\r\n\r\n<p>配置br-test网卡：(自主设置，根据需要设置使用哪个内网网段)</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-br-test</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>NAME=br-test</p>\r\n\r\n<p>DEVICE=br-test</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>NETBOOT=yes</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>TYPE=Bridge</p>\r\n\r\n<p>IPADDR=192.168.1.30</p>\r\n\r\n<p>NETMASK=255.255.255.0</p>\r\n\r\n<p>DNS1=114.114.114.114</p>\r\n\r\n<p>DNS2=8.8.8.8</p>\r\n\r\n<p>配置eth1网卡：</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-eth1</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>TYPE=Ethernet</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>NAME=eth1</p>\r\n\r\n<p>DEVICE=eth1</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>BRIDGE=br-test</p>\r\n\r\n<p>一张物理网卡：（compute机器上只有一张网卡可用）</p>\r\n\r\n<p>配置br0网卡:</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-br0</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>NAME=br0</p>\r\n\r\n<p>DEVICE=br0</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>NETBOOT=yes</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>TYPE=Bridge</p>\r\n\r\n<p>IPADDR=192.168.1.30</p>\r\n\r\n<p>NETMASK=255.255.255.0</p>\r\n\r\n<p>GATEWAY=192.168.1.254</p>\r\n\r\n<p>DNS1=114.114.114.114</p>\r\n\r\n<p>配置eth0网卡:</p>\r\n\r\n<p>vim /etc/sysconfig/network-scripts/ifcfg-eth0</p>\r\n\r\n<p>文件内容全部改成：</p>\r\n\r\n<p>TYPE=Ethernet</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>NAME=eth0</p>\r\n\r\n<p>DEVICE=eth0</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>BRIDGE=br0</p>\r\n\r\n<p>配置网络后需重启</p>\r\n\r\n<p>service network restart</p>\r\n\r\n<p>#如果在网卡配置卡重启network不生效时，禁用NetworkManager服务：</p>\r\n\r\n<p>输入以下命令：</p>\r\n\r\n<p>service NetworkManager stop</p>\r\n\r\n<p>chkconfig NetworkManager off</p>\r\n\r\n<p>注：由于centios7系统问题，network和NetworkManager服务冲突。</p>\r\n\r\n<p>5、上传部署包</p>\r\n\r\n<p>到git服务器（http://10.8.199.155:7990/projects/VMP/repos/vmp2.0/browse）下载VMP2.0.git(下载时要指定分支stable/ws_newton_v01)，将如图目录及其文件拷贝下来（controller和compute只需拷贝层级目录，无需拷贝各组件中的.rpm包，rpm包由源码打包部署服务器生成）</p>\r\n\r\n<p>拷贝VMP2.0目录下openstack整个目录至3台controller节点的/home目录下</p>\r\n\r\n<p>（其中sys_rely_packages文件夹不需要，有涉及的地方请忽略）</p>\r\n\r\n<p>controller目录下各组件的包，全部替换成最新源码打包生成的rpm包，具体生成rpm包过程参考《VMP2.0源码打包.docx》文档。</p>\r\n\r\n<p>6、安装系统包&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>1&gt;解除权限限制</p>\r\n\r\n<p>chattr -i /etc/passwd /etc/group /etc/gshadow /etc/shadow</p>\r\n\r\n<p>2&gt;拷贝yum源至/etc/yum.repos.d/目录</p>\r\n\r\n<p>cp /home/openstack/publish/yum_repo/* /etc/yum.repos.d</p>\r\n\r\n<p>3&gt;安装系统依赖：</p>\r\n\r\n<p>yum -y install mysql-devel libvirt-devel openldap-devel postgresql-devel liberasurecode-devel python-pip gcc&nbsp;&nbsp;python-devel openssl-devel libffi-devel git psmisc&nbsp;&nbsp;python-dateutil python-lxml</p>\r\n\r\n<p>yum -y install&nbsp;&nbsp;sysfsutils conntrack-tools dibbler-client dnsmasq-utils ipset httpd&nbsp;&nbsp;mod_wsgi ipmitool iptables-ipv6 libvirt-python sg3_utils memcached python-pip</p>\r\n\r\n<p>yum -y install iscsi-initiator-utils qemu-img keepalived radvd bridge-utils ebtables genisoimage libvirt-daemon-kvm qemu-kvm dibbler-client</p>\r\n\r\n<p>3&gt;清除httpd配置文件</p>\r\n\r\n<p>清除httpd/conf.d/下原有配置：</p>\r\n\r\n<p>rm -f /etc/httpd/conf.d/*</p>\r\n\r\n<p>7、离线安装python依赖包</p>\r\n\r\n<p>1&gt;更新&#39;setuptools：</p>\r\n\r\n<p>pip install&nbsp;&nbsp;&#39;setuptools&gt;=1.4&#39;</p>\r\n\r\n<p>2&gt;安装python依赖包：</p>\r\n\r\n<p>打开python_rely_packages目录：</p>\r\n\r\n<p>cd /home/openstack/publish/python_rely_packages</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>pip install --no-index --find-links=/home/openstack/publish/python_rely_packages/pubilc_packages \\</p>\r\n\r\n<p>-c /home/openstack/publish/python_rely_packages/upper-constraints.txt&nbsp;&nbsp;\\</p>\r\n\r\n<p>-r /home/openstack/publish/python_rely_packages/openstack.txt</p>\r\n\r\n<p>安装剩余依赖包：<br />\r\npip install &#39;PyMySQL==0.7&#39;</p>\r\n\r\n<p>pip install &#39;pymemcache==1.3.6&#39;</p>\r\n\r\n<p>pip install &#39;python-memcached==1.58&#39;</p>\r\n\r\n<p>4&gt;安装openstackclinet：</p>\r\n\r\n<p>pip install --no-index --find-links=/home/openstack/publish/python_rely_packages/pubilc_packages -c /home/openstack/publish/python_rely_packages/upper-constraints.txt&nbsp;&nbsp;&#39;python-openstackclient==3.2.1&#39;</p>\r\n\r\n<p>5&gt;配置memcached</p>\r\n\r\n<p>vim /etc/sysconfig/memcached</p>\r\n\r\n<p>修改OPTIONS字段</p>\r\n\r\n<p>OPTIONS=&quot;-l 192.168.1.20,::1&quot; (相应的本地ip)</p>\r\n\r\n<p>8、设置防火墙</p>\r\n\r\n<p>关闭firewalld<br />\r\nservice firewalld stop</p>\r\n\r\n<p>chkconfig firewalld off</p>\r\n\r\n<p>配置iptables放行端口<br />\r\n输入以下命令：</p>\r\n\r\n<p>安装iptables：</p>\r\n\r\n<p>yum&nbsp;install&nbsp;iptables-services</p>\r\n\r\n<p>清除原有配置规则：</p>\r\n\r\n<p>iptables -F</p>\r\n\r\n<p>重新配置规则（开放端口）：</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport &nbsp;21064&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;25672&nbsp;-j&nbsp;ACCEPT<br />\r\niptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 15672&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;873&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;9696&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport &nbsp;5672&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;8775&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4567&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4568&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4369&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;8088&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4444&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;3306&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;3121&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;5405&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;57891&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;35357&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;6080&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;5000&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;8774&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;12536&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;11211&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 9292&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 5404&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;8080&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;8776&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 5405&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 5404&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;2224&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;123&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4567&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport&nbsp;4444&nbsp;-j&nbsp;ACCEPT<br />\r\niptables&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 80&nbsp;-j&nbsp;ACCEPT</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 19292 -j ACCEPT</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 19696 -j ACCEPT</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 18774 -j ACCEPT</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 18776 -j ACCEPT</p>\r\n\r\n<p><br />\r\n保存iptables配置：</p>\r\n\r\n<p>service iptables save</p>\r\n\r\n<p>重启服务：<br />\r\nservice&nbsp;iptables&nbsp;restart</p>\r\n\r\n<p>systemctl enable iptables (重启后也生效)</p>\r\n\r\n<p>chkconfig iptables on</p>\r\n\r\n<p>9、设置双机互信</p>\r\n\r\n<p>1.在每个节点上创建 RSA密钥和公钥</p>\r\n\r\n<p>使用test用户登陆</p>\r\n\r\n<p>mkdir ~/.ssh</p>\r\n\r\n<p>chmod 700 ~/.ssh</p>\r\n\r\n<p>cd ~/.ssh</p>\r\n\r\n<p>ssh-keygen -t rsa</p>\r\n\r\n<p>2整合公钥文件</p>\r\n\r\n<p>ssh-keygen -t rsa</p>\r\n\r\n<p>ssh -p57891 ws_controller01 cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p>\r\n\r\n<p>ssh -p57891 ws_controller02 cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p>\r\n\r\n<p>ssh -p57891 ws_controller03 cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p>\r\n\r\n<p>chmod 600 ~/.ssh/authorized_keys</p>\r\n\r\n<p>3.分发整合后的公钥文件</p>\r\n\r\n<p>在node1上执行以下命令</p>\r\n\r\n<p>scp -P57891 ~/.ssh/authorized_keys&nbsp;&nbsp;ws_controller01:~/.ssh/</p>\r\n\r\n<p>scp -P57891 ~/.ssh/authorized_keys&nbsp;&nbsp;ws_controller02:~/.ssh/</p>\r\n\r\n<p>scp -P57891 ~/.ssh/authorized_keys&nbsp;&nbsp;ws_controller03:~/.ssh/</p>\r\n\r\n<p>10、设置宿主机重启自动重启controller</p>\r\n\r\n<p>在宿主机操作</p>\r\n\r\n<p>先到对应的宿主机，执行 virsh list 查询。控制节点的虚拟机名称。</p>\r\n\r\n<p>举例说明</p>\r\n\r\n<p>controller-joint-test-01 就是其中一台控制节点的名称</p>\r\n\r\n<p>执行 virsh autostart controller-joint-test-01 将该节点加入开机自启的列表</p>\r\n\r\n<p>执行 virsh list &ndash;autostart 确认是否已经加入自启动</p>\r\n\r\n<p>在所有控制节点操作</p>\r\n\r\n<p>执行命令，将 启动MariaDB 加入到开机自启</p>\r\n\r\n<p>$ chkconfig systemctl restart&nbsp;&nbsp;mariadb.service</p>\r\n\r\n<p>在控制节点操作（选取其中一台即可）</p>\r\n\r\n<p>在/home/vmp/目录下放入 maridb_cluster_init.sh 脚本</p>\r\n\r\n<p>具体内容查看文件：</p>\r\n\r\n<p>执行命令，将该脚本加入开机自启动</p>\r\n\r\n<p>$ echo &quot;sh&nbsp;&nbsp;/home/vmp/mariadb_cluster_init.sh&quot; &gt;&gt; /etc/rc.local</p>\r\n\r\n<p>二、openstack组件部署&nbsp;&nbsp;&nbsp;（所有节点都要部署）：</p>\r\n\r\n<p>1、安装openstack全部组件</p>\r\n\r\n<p>进入对应路径，执行安装rpm组件命令</p>\r\n\r\n<p>cd /home/openstack/publish/controller</p>\r\n\r\n<p>rpm -ivh `find ./ -name *.rpm|grep -v openvswitch|xargs -n 1000`</p>\r\n\r\n<p>若openstack全部组件安装有问题，尝试卸载全部组件命令，再重装。</p>\r\n\r\n<p>卸载命令如下：</p>\r\n\r\n<p>rpm -e `find ./ -name *.rpm|grep -v openvswitch|awk -F &quot;/&quot; &#39;{print $3}&#39;|sed &#39;s/.rpm//g&#39;|xargs -n 1000`</p>\r\n\r\n<p>注：controller目录下各组件确保都放入最新的rpm包，该组件安装/卸载命令是各组件全部安装/卸载命令，若漏装个别组件，需单独安装。</p>\r\n\r\n<p>删除多余配置</p>\r\n\r\n<p>rm -f /etc/httpd/conf.d/00-nova-placement-api.conf</p>\r\n\r\n<p>2、配置各组件</p>\r\n\r\n<p>Keystone配置：</p>\r\n\r\n<p>设置Keystone日志权限：</p>\r\n\r\n<p>chown&nbsp;keystone.keystone&nbsp;/var/log/keystone/</p>\r\n\r\n<p>设置链接：</p>\r\n\r\n<p>ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/</p>\r\n\r\n<p>配置文件监听ip地址：</p>\r\n\r\n<p>vim /usr/share/keystone/wsgi-keystone.conf</p>\r\n\r\n<p>将以下字段</p>\r\n\r\n<p>Listen 5000</p>\r\n\r\n<p>Listen 35357</p>\r\n\r\n<p>修改为：</p>\r\n\r\n<p>Listen 192.168.1.20:5000（IP相应改成本地IP）</p>\r\n\r\n<p>Listen 192.168.1.20:35357（IP相应改成本地IP）</p>\r\n\r\n<p>定时rotate 脚本（三个节点）</p>\r\n\r\n<p>增加脚本，放在/home/vmp 下vmp_keystone_rotate.sh</p>\r\n\r\n<p>修改权限 chmod u+x vmp_keystone_rotate.sh</p>\r\n\r\n<p>#!/bin/bash</p>\r\n\r\n<p># Explain:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone 定期rotate脚本</p>\r\n\r\n<p>#</p>\r\n\r\n<p># Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2017-11-21</p>\r\n\r\n<p># version 1.0.0</p>\r\n\r\n<p># Author&nbsp;&nbsp;chenms</p>\r\n\r\n<p>tracePID=0</p>\r\n\r\n<p>getTracePID(){</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;httpds=$(ps aux | grep httpd | grep apache)</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;if [ -n &quot;$httpds&quot; ];then</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tracePID=`echo $httpds | awk &#39;{print $2}&#39;`</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;else</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tracePID=0</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;fi</p>\r\n\r\n<p>}</p>\r\n\r\n<p>touchLogFile(){</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;#logFileName=&quot;/var/log/keystone/vmp-keystone-rotate.log&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;if [ ! -f &quot;$logFileName&quot; ]; then</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;touch &quot;$logFileName&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;fi</p>\r\n\r\n<p>}</p>\r\n\r\n<p>startup(){</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;getTracePID</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;if [ $tracePID -eq 0 ];then</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;httpd service has not started...&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;else</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logFileName=&quot;/var/log/keystone/vmp-keystone-rotate.log&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;touchLogFile $logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $(date -u &quot;+%Y-%m-%dT%H:%M:%SZ&quot;) &gt;&gt; $logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;rotate keystone......&quot; &gt;&gt; $logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone-manage fernet_rotate --keystone-user keystone --keystone-group keystone &gt;&gt; $logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $tracePID&gt;&gt;&nbsp;&nbsp;$logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo -e &quot;\\n&quot; &gt;&gt; $logFileName</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;fi</p>\r\n\r\n<p>}</p>\r\n\r\n<p>startup</p>\r\n\r\n<p>增加定时任务：</p>\r\n\r\n<p>crontab &nbsp;-e</p>\r\n\r\n<p><br />\r\n在最后一行加入 ：<br />\r\n30 7 * * * /home/vmp/vmp_keystone_rotate.sh</p>\r\n\r\n<p>运行服务<br />\r\nservice crond restart</p>\r\n\r\n<p>注：通过内网VIP，轮询本地IP端口。</p>\r\n\r\n<p>执行一次 请勿重复执行（3台）</p>\r\n\r\n<p>keystone-manage&nbsp;fernet_setup&nbsp;--keystone-user&nbsp;keystone&nbsp;--keystone-group&nbsp;keystone&nbsp;<br />\r\nkeystone-manage&nbsp;fernet_rotate&nbsp;--keystone-user&nbsp;keystone&nbsp;--keystone-group&nbsp;keystone&nbsp;</p>\r\n\r\n<p>httpd 配置</p>\r\n\r\n<p>编辑/httpd.conf文件：</p>\r\n\r\n<p>vim /etc/httpd/conf/httpd.conf</p>\r\n\r\n<p>将Listen 80改成：</p>\r\n\r\n<p>Listen 8080</p>\r\n\r\n<p>#ServerName www.example.com:80</p>\r\n\r\n<p>注释下增加：</p>\r\n\r\n<p>ServerName 192.168.1.20（IP相应改成本地IP）</p>\r\n\r\n<p>neurton配置</p>\r\n\r\n<p>清空/neutron下旧配置：</p>\r\n\r\n<p>rm -f /etc/neutron/plugin.ini</p>\r\n\r\n<p>设置链接：</p>\r\n\r\n<p>ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini</p>\r\n\r\n<p>设置权限：</p>\r\n\r\n<p>chgrp neutron /etc/neutron/plugins/ml2/ml2_conf.ini</p>\r\n\r\n<p>修改IP地址：</p>\r\n\r\n<p>vim /etc/neutron/neutron.conf</p>\r\n\r\n<p>修改bind_host=192.168.1.20（IP相应改成本地IP）</p>\r\n\r\n<p>vim /etc/neutron/metadata_agent.ini</p>\r\n\r\n<p>nova_metadata_ip = ctrl.openstack.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(vip)</p>\r\n\r\n<p>添加权限</p>\r\n\r\n<p>chown neutron.neutron /etc/neutron/*</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>glance配置：</p>\r\n\r\n<p>创建文件：</p>\r\n\r\n<p>mkdir -p /var/lib/glance/images</p>\r\n\r\n<p>设置权限：</p>\r\n\r\n<p>chown glance.glance /var/lib/glance/images</p>\r\n\r\n<p>设置链接：</p>\r\n\r\n<p>ln -s /usr/share/glance/glance-api-dist-paste.ini /etc/glance/glance-api-paste.ini</p>\r\n\r\n<p>ln -s /usr/share/glance/glance-registry-dist-paste.ini /etc/glance/glance-registry-paste.ini</p>\r\n\r\n<p>修改IP地址：</p>\r\n\r\n<p>vim /etc/glance/glance-registry.conf</p>\r\n\r\n<p>修改bind_host=192.168.1.20（IP相应改成本地IP）</p>\r\n\r\n<p>vim /etc/glance/glance-api.conf</p>\r\n\r\n<p>修改bind_host=192.168.1.20（IP相应改成本地IP）</p>\r\n\r\n<p>接着在三个节点上操作&nbsp;&nbsp;192.168.3.101 为nfs服务器</p>\r\n\r\n<p>mount -t nfs -o soft,intr,timeo=5 192.168.3.101:/var/lib/glance/images /var/lib/glance/images</p>\r\n\r\n<p>chown glance.glance /var/lib/glance/images/</p>\r\n\r\n<p>echo &quot;/usr/bin/mount -t nfs -o soft,intr,timeo=5 192.168.3.101:/var/lib/glance/images /var/lib/glance/images&quot; &gt;&gt;/etc/rc.d/rc.local</p>\r\n\r\n<p>chmod +x /etc/rc.d/rc.local</p>\r\n\r\n<p>cat /etc/rc.d/rc.local</p>\r\n\r\n<p>如果出现busy异常</p>\r\n\r\n<p>umount&nbsp;&nbsp;-l&nbsp;&nbsp;/var/lib/glance/images/</p>\r\n\r\n<p>或者</p>\r\n\r\n<p>fuser -km /var/lib/glance/images/</p>\r\n\r\n<p>或者</p>\r\n\r\n<p>fuser -m &ndash;v /var/lib/glance/images/</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户&nbsp;&nbsp;进程号&nbsp;&nbsp;权限&nbsp;&nbsp;&nbsp;命令</p>\r\n\r\n<p>/var/lib/glance/images/:&nbsp;</p>\r\n\r\n<p>&nbsp;root&nbsp;&nbsp;2798&nbsp;&nbsp;&nbsp;&nbsp;..c..&nbsp;&nbsp;bash</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;2996&nbsp;&nbsp;&nbsp;&nbsp;..c..&nbsp;&nbsp;su</p>\r\n\r\n<p>如上所示，有两个进程占用了，将其kill掉，再重新取消挂载。</p>\r\n\r\n<p>kill -9 2798 2996</p>\r\n\r\n<p>umount /data1/logs/web1logs</p>\r\n\r\n<p>Nova配置：</p>\r\n\r\n<p>创建/novnc/文件：</p>\r\n\r\n<p>mkdir /usr/share/novnc/</p>\r\n\r\n<p>设置权限：</p>\r\n\r\n<p>chown nova.nova /usr/share/novnc/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>配置文件监听ip地址：</p>\r\n\r\n<p>vim /etc/nova/nova.conf</p>\r\n\r\n<p>修改以下两个字段IP地址：</p>\r\n\r\n<p>修改my_ip=192.168.1.20（IP相应改成本地IP）</p>\r\n\r\n<p>修改osapi_compute_listen=192.168.1.20（IP相应改成本地IP）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>3、设置openstack命令所需系统环境变量</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt; ~/admin-openrc</p>\r\n\r\n<p>export OS_USER_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_PROJECT_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_USERNAME=admin</p>\r\n\r\n<p>export OS_PROJECT_NAME=admin</p>\r\n\r\n<p>export OS_PASSWORD=admin12#$</p>\r\n\r\n<p>export OS_IDENTITY_API_VERSION=3</p>\r\n\r\n<p>export OS_AUTH_URL=http://ctrl.openstack.com:35357/v3</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>三、安装管理组件</p>\r\n\r\n<p>注：在集群搭建完成前的一些操作，如下载yum源、修改配置及安装工具等，在所有节点都必须执行。集群搭建好之后，执行一些命令（如crm命令）、同步等操作只需要在一台上执行。默认所有节点都要操作，如只需一台节点操作，会另外备注！</p>\r\n\r\n<p>1、安装pacemaker管理器</p>\r\n\r\n<p>通过crm命令，统一通过pacemaker管理openstack所有服务</p>\r\n\r\n<p>1&gt;安装pacemaker (包括corrosync、resource-agents和crmsh):</p>\r\n\r\n<p>yum -y install pacemaker &nbsp;corosync&nbsp;&nbsp;&nbsp;resource-agents</p>\r\n\r\n<p>2&gt;下载crmsh依赖包</p>\r\n\r\n<p>到git服务器（10.8.225.152:81）下载crmsh安装包和依赖包http://10.8.225.152:81/requirements.git/tree/refs/heads/stable/ws_newton_v01:/sys_rely_packages将如图中的文件拷贝到机子上进行安装</p>\r\n\r\n<p>&nbsp;3&gt;安装crmsh 安装包和依赖包</p>\r\n\r\n<p>在安装包的目录下执行：</p>\r\n\r\n<p>rpm -ivh *.rpm （三个节点同时安装）</p>\r\n\r\n<p>4&gt;覆盖配置文件:</p>\r\n\r\n<p>覆盖/etc/corosync/corosync.conf</p>\r\n\r\n<p>cp /home/openstack/publish/controller/pacemaker/corosync.conf /etc/corosync/corosync.conf</p>\r\n\r\n<p>调整ip配置：</p>\r\n\r\n<p>vim /etc/corosync/corosync.conf</p>\r\n\r\n<p>修改bindnetaddr: 192.168.1.0（改成内网IP段x.x.x.0）</p>\r\n\r\n<p>修改cluster_name: 字段不能跟已存在的集群这个字段重复，请自行定义名称，三台controller节点配置成一样的名称即可</p>\r\n\r\n<p>5&gt;生成授权文件并拷贝</p>\r\n\r\n<p>生成authkey文件，加密认证，确保节点通信加密，执行命令：</p>\r\n\r\n<p>corosync-keygen（在节点1执行）</p>\r\n\r\n<p>会在/etc/corosync/目录下生成authke文件（时间比较久，请耐心等待）</p>\r\n\r\n<p>将authke文件拷贝至节点2、3：</p>\r\n\r\n<p>scp -r /etc/corosync/authkey root@192.168.1.21:/etc/corosync/authkey</p>\r\n\r\n<p>scp -r /etc/corosync/authkey root@192.168.1.22:/etc/corosync/authkey</p>\r\n\r\n<p>6&gt;重启corosync服务：</p>\r\n\r\n<p>service corosync restart</p>\r\n\r\n<p>7&gt;验证:</p>\r\n\r\n<p>corosync-cfgtool -s（可查看当前集群内网IP和对应的状态）</p>\r\n\r\n<p>打印集群图谱，可查看集群所有IP：</p>\r\n\r\n<p>corosync-cmapctl|grep members</p>\r\n\r\n<p>8&gt;重启并设定pacemaker服务：</p>\r\n\r\n<p>pkill -9 pacemaker;service pacemaker restart</p>\r\n\r\n<p>chkconfig pacemaker on</p>\r\n\r\n<p>8&gt;添加publicVip虚拟ip管理</p>\r\n\r\n<p>注：虚拟机需要2个网卡，eth0和eth1，eth0不加IP，IP挂在eth1下</p>\r\n\r\n<p>vim&nbsp;/etc/sysconfig/network-scripts/ifcfg-eth0</p>\r\n\r\n<p>修改为如下信息</p>\r\n\r\n<p>TYPE=Ethernet</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>NAME=eth0</p>\r\n\r\n<p>DEVICE=eth0</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>vim&nbsp;/etc/sysconfig/network-scripts/ifcfg-eth1</p>\r\n\r\n<p>修改为如下信息：</p>\r\n\r\n<p>TYPE=Ethernet</p>\r\n\r\n<p>BOOTPROTO=static</p>\r\n\r\n<p>NAME=eth1</p>\r\n\r\n<p>DEVICE=eth1</p>\r\n\r\n<p>ONBOOT=yes</p>\r\n\r\n<p>IPADDR=192.168.4.10（对应机子ip）</p>\r\n\r\n<p>NETMASK=255.255.255.0</p>\r\n\r\n<p>GATEWAY=192.168.4.254</p>\r\n\r\n<p>DNS1=114.114.114.114</p>\r\n\r\n<p>上传default_route.sh 至/home/目录</p>\r\n\r\n<p>cp /home/openstack/publish/controller/pacemaker/default_route.sh&nbsp;&nbsp;/home</p>\r\n\r\n<p>进入crm配置窗口：</p>\r\n\r\n<p>下述操作只需要在其中一台controller上执行即可</p>\r\n\r\n<p>crm</p>\r\n\r\n<p>configure</p>\r\n\r\n<p>进入上图环境后，Crm配置禁止stonith（一台节点执行）执行如下指令：</p>\r\n\r\n<p>property stonith-enabled=false</p>\r\n\r\n<p>添加外网浮动Vip管理，输入以下命令：（ip修改为公网ip）</p>\r\n\r\n<p>primitive publicVip IPaddr \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params ip=36.250.74.180 cidr_netmask=24 nic=eth0&nbsp;&nbsp;\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=100s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=100s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>primitive publicVipRoute ocf:heartbeat:Route \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params destination=&quot;0.0.0.0/0&quot; device=&quot;eth0&quot; \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gateway=&quot;36.250.74.1&quot; \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=&quot;10&quot; timeout=&quot;20&quot; depth=&quot;0&quot; \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>添加内网浮动Vip管理，输入以下命令：（ip修改为对应内网的私网ip）</p>\r\n\r\n<p>primitive vip IPaddr2 \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params ip=192.168.6.100 cidr_netmask=24 nic=&quot;eth1:1&quot; \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=20s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=20s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Stopped</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>2、安装haproxy集群</p>\r\n\r\n<p>1&gt;安装haproxy (version 1.5.18)</p>\r\n\r\n<p>yum install haproxy -y</p>\r\n\r\n<p>2&gt;覆盖配置文件：</p>\r\n\r\n<p>并重启服务</p>\r\n\r\n<p>cp /home/openstack/publish/controller/haproxy/haproxy.cfg /etc/haproxy/haproxy.cfg -f</p>\r\n\r\n<p>3&gt;重启服务</p>\r\n\r\n<p>service haproxy restart</p>\r\n\r\n<p>4&gt;设置停止开机启动</p>\r\n\r\n<p>systemctl disable haproxy</p>\r\n\r\n<p>5&gt;haproxy日志配置</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt; /etc/rsyslog.d/haproxy.conf</p>\r\n\r\n<p>\\$ModLoad imudp</p>\r\n\r\n<p>\\$UDPServerRun 514</p>\r\n\r\n<p>\\$template Haproxy,&quot;%rawmsg%\\n&quot;</p>\r\n\r\n<p>localo=info-/var/log/haproxy.log;Haproxy</p>\r\n\r\n<p>localo.notice-/var/log/haproxy-status.log;Haproxy</p>\r\n\r\n<p>local0.*~</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>6&gt;重启haproxy日志服务</p>\r\n\r\n<p>systemctl status rsyslog.service</p>\r\n\r\n<p>systemctl restart rsyslog.service</p>\r\n\r\n<p>7&gt;配置pacemaker 管理haproxy服务</p>\r\n\r\n<p>添加haproxy管理，输入以下命令：</p>\r\n\r\n<p>crm configure</p>\r\n\r\n<p>primitive haproxy systemd:haproxy \\</p>\r\n\r\n<p>op start interval=0s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start timeout=60s interval=0s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop timeout=60s interval=0s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=60s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta target-role=Started priority=100 &nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>colocation haproxy_setup_with_vip inf: vip publicVip haproxy publicVipRoute</p>\r\n\r\n<p>order order01 Mandatory: vip:start publicVip:start haproxy:start publicVipRoute:start</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>8&gt;检验服务是否正常（一台节点执行）</p>\r\n\r\n<p>退出crm configure命令窗口：</p>\r\n\r\n<p>quit</p>\r\n\r\n<p>输入命令查看当前集群状态：</p>\r\n\r\n<p>crm status</p>\r\n\r\n<p>安装maridb集群<br />\r\n1&gt;mariadb安装</p>\r\n\r\n<p>yum install -y MariaDB-server MariaDB-client galera xinetd rsync ntpdate （需要在三个节点同时安装）</p>\r\n\r\n<p>2&gt;修改配置文件</p>\r\n\r\n<p>从git服务器下载mariadb_conf.gz,已放置/home/openstack/publish/controller/mariadb路径下，</p>\r\n\r\n<p>复制配置文件mariadb_conf.gz包至/etc/my.cnf.d/目录</p>\r\n\r\n<p>cp /home/openstack/publish/controller/mariadb/mariadb_conf.gz /etc/my.cnf.d/</p>\r\n\r\n<p>cd /etc/my.cnf.d/</p>\r\n\r\n<p>解压后删除配置文件gz包：</p>\r\n\r\n<p>tar -xvf mariadb_conf.gz</p>\r\n\r\n<p>rm -f mariadb_conf.gz</p>\r\n\r\n<p>编辑修改galera.cnf：</p>\r\n\r\n<p>vim /etc/my.cnf.d/galera.cnf</p>\r\n\r\n<p>修改以下字段IP：</p>\r\n\r\n<p>wsrep_cluster_address=&quot;gcomm://192.168.1.20,192.168.1.21,192.168.1.22&quot; (本地内网集群IP)</p>\r\n\r\n<p>wsrep_node_address=192.168.1.20 (本地内网相应IP)</p>\r\n\r\n<p>编辑修改mariadb-server.cnf：</p>\r\n\r\n<p>vim /etc/my.cnf.d/mariadb-server.cnf</p>\r\n\r\n<p>修改以下字段IP：</p>\r\n\r\n<p>bind-address = 192.168.1.20 (本地内网相应IP)</p>\r\n\r\n<p>3&gt;设置权限</p>\r\n\r\n<p>创建日志目录：</p>\r\n\r\n<p>mkdir /var/log/mariadb/</p>\r\n\r\n<p>设置权限：</p>\r\n\r\n<p>chown mysql.mysql /var/log/mariadb/</p>\r\n\r\n<p>4&gt;创建mariadb集群</p>\r\n\r\n<p>创建集群，执行以下命令：</p>\r\n\r\n<p>galera_new_cluster（在节点1上执行）</p>\r\n\r\n<p>创建集群成功后，在其他两个节点上先停止服务：</p>\r\n\r\n<p>service mariadb stop（在节点2和3上执行）</p>\r\n\r\n<p>另外两个节点停止服务后，执行重启加入集群：</p>\r\n\r\n<p>service mariadb restart （在节点2和3上执行）</p>\r\n\r\n<p>节点2和3重启成功后，再在节点1上执行重启服务：</p>\r\n\r\n<p>service mariadb restart （在节点1上执行）</p>\r\n\r\n<p>5&gt;修改数据库root密码</p>\r\n\r\n<p>mysqladmin -u root password &quot;openstackpasswd#$&quot; （在任意一节点上执行）</p>\r\n\r\n<p>其他2台节点尝试数据库登录：</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd（另外两个节点执行，密码：openstackpasswd#$）</p>\r\n\r\n<p>6&gt;配置mariadbClusterCheck（让haproxy 监控mysql 状态） （三台执行）</p>\r\n\r\n<p>拷贝mariadbClusterCheck至/usr/bin/目录：</p>\r\n\r\n<p>cp /home/openstack/publish/controller/mariadb/mariadbClusterCheck /usr/bin/mariadbClusterCheck</p>\r\n\r\n<p>设置权限：</p>\r\n\r\n<p>chmod +x /usr/bin/mariadbClusterCheck</p>\r\n\r\n<p>7&gt;授权clustercheckuser （任意一台节点执行）</p>\r\n\r\n<p>输入以下命令：</p>\r\n\r\n<p>dbpasswd=openstackpasswd#$</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;grant process on *.* to &#39;clustercheckuser&#39;@&#39;localhost&#39; identified by &#39;openstackpasswd#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;flush privileges&quot;</p>\r\n\r\n<p>8&gt;配置cluster用户密码（3台节点执行）</p>\r\n\r\n<p>输入以下命令：</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt; /etc/sysconfig/mariadbClusterCheck</p>\r\n\r\n<p>MYSQL_USERNAME=clustercheckuser</p>\r\n\r\n<p>MYSQL_PASSWORD=openstackpasswd#$</p>\r\n\r\n<p>MYSQL_HOST=localhost</p>\r\n\r\n<p>MYSQL_PORT=3306</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>9&gt;通过xinetd服务管理监听mariadb集群(三台)</p>\r\n\r\n<p>安装xinetd：</p>\r\n\r\n<p>yum install xinetd</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>cp /home/openstack/publish/controller/mariadb/mysqlchk /etc/xinetd.d/mysqlchk</p>\r\n\r\n<p>echo &quot;mysqlchk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9200/tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# mysqlchk&quot; &gt;&gt;/etc/services</p>\r\n\r\n<p>修改xinetd日志生成位置</p>\r\n\r\n<p>vim /etc/xinetd.conf</p>\r\n\r\n<p>修改log_type字段：</p>\r\n\r\n<p>log_type = file /var/log/xinetd.log</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>systemctl restart xinetd</p>\r\n\r\n<p>systemctl status xinetd</p>\r\n\r\n<p>echo &quot;net.ipv4.ip_nonlocal_bind = 1&quot; &gt;&gt; /etc/sysctl.conf</p>\r\n\r\n<p>echo &quot;net.ipv4.ip_forward = 1&quot; &gt;&gt; /etc/sysctl.conf</p>\r\n\r\n<p>sysctl -p</p>\r\n\r\n<p>10&gt;创建数据库并授权（任意一台）</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>dbpasswd=openstackpasswd#$</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;CREATE DATABASE keystone;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#39;keystone&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;keystone12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#39;keystone&#39;@&#39;%&#39; IDENTIFIED BY &#39;keystone12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;CREATE DATABASE glance;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#39;glance&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;glance12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#39;glance&#39;@&#39;%&#39; IDENTIFIED BY &#39;glance12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;CREATE DATABASE nova_api;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;CREATE DATABASE nova;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#39;nova&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;nova12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#39;nova&#39;@&#39;%&#39; IDENTIFIED BY &#39;nova12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#39;nova&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;nova12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#39;nova&#39;@&#39;%&#39; IDENTIFIED BY &#39;nova12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;CREATE DATABASE neutron;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#39;neutron&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;neutron12#$&#39;;&quot;</p>\r\n\r\n<p>mysql -uroot -p$dbpasswd -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#39;neutron&#39;@&#39;%&#39; IDENTIFIED BY &#39;neutron12#$&#39;;&quot;</p>\r\n\r\n<p>11&gt;数据同步</p>\r\n\r\n<p>以下为opentack命令，从opentack同步创建相应组件的数据库和初始表结构，执行命令：</p>\r\n\r\n<p>keystone数据同步:</p>\r\n\r\n<p>获取权限，执行命令:（cd /root）</p>\r\n\r\n<p>cd /root</p>\r\n\r\n<p>&nbsp;. ~/admin-openrc</p>\r\n\r\n<p>到保存keystone.sql的目录下, 执行导入数据库:</p>\r\n\r\n<p>cd /home/openstack/publish/controller/sql/</p>\r\n\r\n<p>mysql -uroot -popenstackpasswd#$</p>\r\n\r\n<p>use keystone</p>\r\n\r\n<p>source keystone.sql</p>\r\n\r\n<p>其他组件数据同步(一台)</p>\r\n\r\n<p>su -s /bin/sh -c &quot;glance-manage db_sync&quot; glance</p>\r\n\r\n<p>su -s /bin/sh -c &quot;nova-manage api_db sync&quot; nova</p>\r\n\r\n<p>su -s /bin/sh -c &quot;nova-manage db sync&quot; nova</p>\r\n\r\n<p>su -s /bin/sh -c &quot;neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head&quot; neutron</p>\r\n\r\n<p>4、安装rabbitmq集群</p>\r\n\r\n<p>1&gt;安装rabbitmq</p>\r\n\r\n<p>yum install -y erlang rabbitmq-server （三个节点同时安装）</p>\r\n\r\n<p>拷贝rabbitmq.config到/etc/rabbitmq/路径下：</p>\r\n\r\n<p>cp /home/openstack/publish/controller/rabbiit/rabbitmq.config /etc/rabbitmq/rabbitmq.config -f</p>\r\n\r\n<p>2&gt;修改配置：</p>\r\n\r\n<p>vim /etc/rabbitmq/rabbitmq.config</p>\r\n\r\n<p>修改监听IP和端口，增加以下字段：（192.168.1.20本地ip）</p>\r\n\r\n<p>{tcp_listeners, [{&quot;127.0.0.1&quot;, 5672}, {&quot;192.168.1.20&quot;,5672}]}</p>\r\n\r\n<p>3&gt;拷贝cookie:</p>\r\n\r\n<p>拷贝该文件，作用是加密认证，节点间通信加密。</p>\r\n\r\n<p>启动一台节点服务：</p>\r\n\r\n<p>service rabbitmq-server restart &nbsp;(在节点1执行)</p>\r\n\r\n<p>在重启的节点/var/lib/rabbitmq目录下拷贝.erlang.cookie （隐藏文件）至节点2、3，并设置权限：</p>\r\n\r\n<p>scp -r /var/lib/rabbitmq/.erlang.cookie root@192.168.1.21:/var/lib/rabbitmq/.erlang.cookie</p>\r\n\r\n<p>chown rabbitmq.rabbitmq /var/lib/rabbitmq/.erlang.cookie</p>\r\n\r\n<p>scp -r /var/lib/rabbitmq/.erlang.cookie root@192.168.1.22:/var/lib/rabbitmq/.erlang.cookie</p>\r\n\r\n<p>chown rabbitmq.rabbitmq /var/lib/rabbitmq/.erlang.cookie</p>\r\n\r\n<p>再启动其他两台节点服务：</p>\r\n\r\n<p>service rabbitmq-server restart （启动节点2、3服务）</p>\r\n\r\n<p>4&gt;加入集群</p>\r\n\r\n<p>分别在节点2、3上执行命令，加入集群</p>\r\n\r\n<p>rabbitmqctl stop_app</p>\r\n\r\n<p>rabbitmqctl join_cluster --ram rabbit@ws_controller02</p>\r\n\r\n<p>rabbitmqctl start_app</p>\r\n\r\n<p>查看集群状态：</p>\r\n\r\n<p>rabbitmqctl cluster_status</p>\r\n\r\n<p>5&gt;创建用户并授权</p>\r\n\r\n<p>执行以下命令创建用户（任意一台节点执行）：</p>\r\n\r\n<p>rabbitmqctl add_user openstack openstack12#$</p>\r\n\r\n<p>rabbitmqctl set_permissions -p / openstack &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</p>\r\n\r\n<p>rabbitmqctl set_user_tags openstack administrator</p>\r\n\r\n<p>执行以下命令授权 (三台节点都执行)：</p>\r\n\r\n<p>rabbitmq-plugins enable rabbitmq_management mochiweb webmachine rabbitmq_web_dispatch amqp_client rabbitmq_management_agent &nbsp;</p>\r\n\r\n<p>6&gt;重启服务</p>\r\n\r\n<p>service rabbitmq-server restart &nbsp;(三台节点都执行)：</p>\r\n\r\n<p>7&gt;pacemaker 增加Rabbit管理</p>\r\n\r\n<p>设置停止开机启动：</p>\r\n\r\n<p>systemctl disable rabbitmq-server</p>\r\n\r\n<p>进入crm configure配置页面：</p>\r\n\r\n<p>crm</p>\r\n\r\n<p>configure</p>\r\n\r\n<p>输入以下命令：</p>\r\n\r\n<p>primitive rabbitmq-server systemd:rabbitmq-server \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=600s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=120s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=10s timeout=20s \\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>meta priority=100</p>\r\n\r\n<p>clone rabbitmq-server-clone rabbitmq-server meta target-role=Started&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>8&gt;添加HTTP的 memcached管理</p>\r\n\r\n<p>输入以下命令：</p>\r\n\r\n<p>primitive httpd systemd:httpd \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=100s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=100s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=100s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primitive memcached systemd:memcached \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=20s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-httpd-clone&nbsp;&nbsp;httpd meta target-role=Started</p>\r\n\r\n<p>clone openstack-memcached-clone&nbsp;&nbsp;memcached meta target-role=Started</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>9&gt;添加glance管理</p>\r\n\r\n<p>crm configure</p>\r\n\r\n<p>primitive openstack-glance-api systemd:openstack-glance-api \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=20s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-glance-api-clone&nbsp;&nbsp;openstack-glance-api meta target-role=Started</p>\r\n\r\n<p>primitive openstack-glance-registry systemd:openstack-glance-registry \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=20s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-glance-registry-clone&nbsp;&nbsp;openstack-glance-registry meta target-role=Started</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>10&gt;添加nova管理:</p>\r\n\r\n<p>primitive openstack-nova-api systemd:openstack-nova-api \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=45s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=45s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>primitive openstack-nova-conductor systemd:openstack-nova-conductor \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=45s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=45s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>primitive openstack-nova-scheduler systemd:openstack-nova-scheduler \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=45s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=45s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-nova-api-clone&nbsp;&nbsp;openstack-nova-api meta target-role=Started</p>\r\n\r\n<p>clone openstack-nova-conductor-clone&nbsp;&nbsp;openstack-nova-conductor meta target-role=Started</p>\r\n\r\n<p>clone openstack-nova-scheduler-clone&nbsp;&nbsp;openstack-nova-scheduler meta target-role=Started</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>12&gt;添加neutron管理</p>\r\n\r\n<p>primitive openstack-neutron-server systemd:neutron-server \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=45s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=45s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-neutron-server-clone&nbsp;&nbsp;openstack-neutron-server meta target-role=Started</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>13&gt;添加keeper管理</p>\r\n\r\n<p>primitive openstack-keeper-gateway systemd:openstack-keeper-gateway \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op start interval=0s timeout=45s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op stop interval=0s timeout=45s \\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op monitor interval=30s timeout=30s\\</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta priority=100 target-role=Started</p>\r\n\r\n<p>clone openstack-keeper-gateway-clone&nbsp;&nbsp;openstack-keeper-gateway meta target-role=Started</p>\r\n\r\n<p>commit</p>\r\n\r\n<p>四、服务异常清理并启动（该步骤也可不操作）</p>\r\n\r\n<p>先执</p>\r\n\r\n<p>crm resource restart haproxy</p>\r\n\r\n<p>crm resource restart publicVip</p>\r\n\r\n<p>crm resource restart vip</p>\r\n\r\n<p>crm resource restart rabbitmq-server-clone</p>\r\n\r\n<p>crm resource restart openstack-httpd-clone</p>\r\n\r\n<p>crm resource restart openstack-memcached-clone</p>\r\n\r\n<p>crm resource restart openstack-glance-api-clone</p>\r\n\r\n<p>crm resource restart openstack-glance-registry-clone</p>\r\n\r\n<p>crm resource restart openstack-nova-api-clone</p>\r\n\r\n<p>crm resource restart openstack-nova-conductor-clone&nbsp;</p>\r\n\r\n<p>crm resource restart openstack-nova-scheduler-clone&nbsp;</p>\r\n\r\n<p>crm resource restart openstack-nova-consoleauth-clone&nbsp;</p>\r\n\r\n<p>crm resource restart openstack-neutron-server-clone&nbsp;</p>\r\n\r\n<p>crm resource restart publicVipRoute</p>\r\n\r\n<p>crm resource restart openstack-keeper-gateway-clone</p>\r\n\r\n<p>crm resource cleanup haproxy</p>\r\n\r\n<p>crm resource cleanup publicVip</p>\r\n\r\n<p>crm resource cleanup vip</p>\r\n\r\n<p>crm resource cleanup rabbitmq-server-clone</p>\r\n\r\n<p>crm resource cleanup openstack-httpd-clone</p>\r\n\r\n<p>crm resource cleanup openstack-memcached-clone</p>\r\n\r\n<p>crm resource cleanup openstack-glance-api-clone</p>\r\n\r\n<p>crm resource cleanup openstack-glance-registry-clone</p>\r\n\r\n<p>crm resource cleanup openstack-nova-api-clone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-nova-conductor-clone&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-nova-scheduler-clone&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-neutron-server-clone&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>crm resource cleanup publicVipRoute</p>\r\n\r\n<p>crm&nbsp;resource&nbsp;cleanup&nbsp;openstack-keeper-gateway-clone</p>\r\n\r\n<p><br />\r\n五、上传镜像(一台)</p>\r\n\r\n<p>打开/tmp目录：</p>\r\n\r\n<p>cd /tmp</p>\r\n\r\n<p>source ~/admin-openrc</p>\r\n\r\n<p>下载镜像(两个镜像都下载上传)：</p>\r\n\r\n<p>镜像1:</p>\r\n\r\n<p>wget https://launchpad.net/cirros/trunk/0.3.0/+download/cirros-0.3.0-x86_64-disk.img</p>\r\n\r\n<p>执行以下命令，上传镜像：</p>\r\n\r\n<p>openstack image create &quot;cirros&quot;&nbsp;&nbsp;--file /tmp/cirros-0.3.0-x86_64-disk.img --disk-format qcow2 --container-format bare --public</p>\r\n\r\n<p>openstack flavor create --id 0 --vcpus 1 --ram 64 --disk 1 m1.nano</p>\r\n\r\n<p>镜像2：</p>\r\n\r\n<p>wget&nbsp;&nbsp;http://resource.wcs.8686c.com/WSOS-7.2-OpenstackImg20171113.qcow2</p>\r\n\r\n<p>上传镜像：</p>\r\n\r\n<p>openstack image create &quot;cirros-openstack&quot;&nbsp;&nbsp;--file /tmp/WSOS-7.2-OpenstackImg20171113.qcow2 --container-format bare --public</p>\r\n\r\n<p>openstack flavor create --id 1 --vcpus 1 --ram 4096 --disk 1 m2.test</p>\r\n\r\n<p>上传成功后删除下载的镜像</p>\r\n\r\n<p>rm &ndash;fr OpenstackImg20171113.qcow2</p>\r\n\r\n<p>根据flavor创建返回的id执行以下命令支持</p>\r\n\r\n<p>独立磁盘类型</p>\r\n\r\n<p>nova flavor-key &lt;flavor_id/name&gt; set storage_mode=isolate</p>\r\n\r\n<p>lvm磁盘类型</p>\r\n\r\n<p>nova flavor-key &lt;flavor_id/name&gt; set storage_mode=lvm</p>\r\n\r\n<p>六、环境部署验证</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt; ~/admin-openrc</p>\r\n\r\n<p>export OS_USER_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_PROJECT_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_USERNAME=admin</p>\r\n\r\n<p>export OS_PROJECT_NAME=admin</p>\r\n\r\n<p>export OS_PASSWORD=admin12#$</p>\r\n\r\n<p>export OS_IDENTITY_API_VERSION=3</p>\r\n\r\n<p>export OS_AUTH_URL=http://ctrl.openstack.com:35357/v3</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>. ~/admin-openrc</p>\r\n\r\n<p>查看服务状况：</p>\r\n\r\n<p>方法一：通过crm命令查看。</p>\r\n\r\n<p>crm status</p>\r\n\r\n<p>方法二：通过haproxy web后台查看</p>\r\n\r\n<p>注：所有的服务都要正常起来。</p>\r\n\r\n<p>七、创建网络</p>\r\n\r\n<p>任意一台节点执行以下命令：</p>\r\n\r\n<p>. ~/admin-openrc</p>\r\n\r\n<p>neutron net-create --provider:network_type flat --provider:physical_network&nbsp;&nbsp;phynet1 private</p>\r\n\r\n<p>neutron net-create --shared --provider:network_type flat --provider:physical_network phynet0 public</p>\r\n\r\n<p>neutron subnet-create &lt;net-id&gt; 192.168.5.0/24 --gateway 192.168.5.254 --disable-dhcp</p>\r\n\r\n<p>net-id 通过 neutron net-lis 查看获取net-id</p>\r\n\r\n<p>--192.168.5.0/24根据实际情况配置，gateway根据实际情况可选配置，默认是public上配置一个网关，private不配置网关</p>\r\n\r\n<p>Eg：&nbsp;neutron&nbsp;subnet-create&nbsp;f3801327-e889-47ea-b250-f7ed3466ffac&nbsp;192.168.5.0/24&nbsp;--gateway&nbsp;192.168.5.254&nbsp;--disable-dhcp</p>\r\n\r\n<p>执行后会创建网络，如下图：</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>【Compute部署】</p>\r\n\r\n<p>一、基础环境准备（所有节点都要部署）：</p>\r\n\r\n<p>compute独立安装部署，以一台compute（IP为192.168. 1.30）为例：</p>\r\n\r\n<p>防火墙确认：</p>\r\n\r\n<p>查看compute上的防火墙，如有这两条信息，请先删除</p>\r\n\r\n<p>vim /etc/sysconfig/iptables&nbsp;</p>\r\n\r\n<p>1. 设置hostname</p>\r\n\r\n<p>在192.168. 1.30机器上输入命令：</p>\r\n\r\n<p>$ hostnamectl set-hostname ws_compute01</p>\r\n\r\n<p>2. host配置</p>\r\n\r\n<p>vim /etc/hosts</p>\r\n\r\n<p>192.168.1.100 ctrl.openstack.com&nbsp;&nbsp;&nbsp;&nbsp;# 改成对应controller集群私网vip地址</p>\r\n\r\n<p>192.168.1.30 ws_compute01 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 改成本地IP地址</p>\r\n\r\n<p>3. 上传部署包</p>\r\n\r\n<p>到git服务器（10.8.225.152:81）下载VMP2.0.git，将如图目录及其文件拷贝下来（controller整个目录不用拷贝，compute只需拷贝层级目录，无需拷贝各组件中的.rpm包，rpm包由源码打包部署服务器生成）</p>\r\n\r\n<p>从内网git服务器上下载源码：</p>\r\n\r\n<p>&nbsp;git&nbsp;clone http://10.8.225.152:81/ VMP2.0.git&nbsp;&nbsp;-b&nbsp;stable/ws_newton_v01</p>\r\n\r\n<p>拷贝VMP2.0目录下openstack整个目录至compute01节点的/home目录下</p>\r\n\r\n<p>compute目录下各组件的包，全部替换成最新源码打包生成的rpm包，具体生成rpm包过程参考《VMP2.0源码打包.docx》文档。</p>\r\n\r\n<p>4、安装系统包&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>1&gt;解除权限限制</p>\r\n\r\n<p>chattr -i /etc/passwd /etc/group /etc/gshadow /etc/shadow</p>\r\n\r\n<p>2&gt;拷贝yum源至/etc/yum.repos.d/目录</p>\r\n\r\n<p>cp /home/openstack/publish/yum_repo/* /etc/yum.repos.d</p>\r\n\r\n<p>3&gt;安装系统依赖：</p>\r\n\r\n<p>yum -y install mysql-devel libvirt-devel openldap-devel postgresql-devel liberasurecode-devel python-pip gcc&nbsp;&nbsp;python-devel openssl-devel libffi-devel&nbsp;&nbsp;python-pip libvirt-client</p>\r\n\r\n<p>（如出现冲突，可采用下述方式排查解决后再重新执行</p>\r\n\r\n<p>rpm -qa|grep libvirt-client</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;libvirt-client-1.2.17-13.el7.x86_64</p>\r\n\r\n<p>）</p>\r\n\r\n<p>yum -y install&nbsp;&nbsp;sysfsutils conntrack-tools dibbler-client dnsmasq-utils ipset ipmitool iptables-ipv6 libvirt-python sg3_utils lvm2 targetcli ntpdate libvirt-daemon-kvm</p>\r\n\r\n<p>5、离线安装python依赖包</p>\r\n\r\n<p>1&gt;更新&#39;setuptools：</p>\r\n\r\n<p>pip install&nbsp;&nbsp;&#39;setuptools&gt;=1.4&#39;</p>\r\n\r\n<p>2&gt;安装python依赖包：</p>\r\n\r\n<p>打开python_rely_packages目录：</p>\r\n\r\n<p>cd /home/openstack/publish/python_rely_packages</p>\r\n\r\n<p>执行以下命令：</p>\r\n\r\n<p>pip install --no-index --find-links=/home/openstack/publish/python_rely_packages/pubilc_packages \\</p>\r\n\r\n<p>-c /home/openstack/publish/python_rely_packages/upper-constraints.txt&nbsp;&nbsp;\\</p>\r\n\r\n<p>-r /home/openstack/publish/python_rely_packages/openstack.txt</p>\r\n\r\n<p>3&gt;安装剩余依赖包：</p>\r\n\r\n<p>pip install &#39;PyMySQL==0.7&#39;</p>\r\n\r\n<p>pip install &#39;pymemcache==1.3.6&#39;</p>\r\n\r\n<p>pip install &#39;python-memcached==1.58&#39;</p>\r\n\r\n<p>4&gt;安装openstackclient：</p>\r\n\r\n<p>pip install --no-index --find-links=/home/openstack/publish/python_rely_packages/pubilc_packages -c /home/openstack/publish/python_rely_packages/upper-constraints.txt&nbsp;&nbsp;&#39;python-openstackclient==3.2.1&#39;</p>\r\n\r\n<p>6、时间同步</p>\r\n\r\n<p>/usr/sbin/ntpdate&nbsp;192.168.1.20&nbsp;&nbsp;（ip=时间服务器）<br />\r\ncrontab&nbsp;&nbsp;-e&nbsp;&nbsp;&nbsp;&nbsp;然后输入以下内容<br />\r\n*/3&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;/usr/sbin/ntpdate&nbsp;192.168.1.20&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1<br />\r\nservice&nbsp;crond&nbsp;restart</p>\r\n\r\n<p>二、openstack组件安装&nbsp;&nbsp;</p>\r\n\r\n<p>打开/compute目录：</p>\r\n\r\n<p>cd /home/openstack/publish/compute</p>\r\n\r\n<p>执行安装rpm组件命令：</p>\r\n\r\n<p>chattr -i /etc/passwd /etc/group /etc/gshadow /etc/shadow</p>\r\n\r\n<p>rpm -ivh `find ./ -name *.rpm|grep -v openvswitch|xargs -n 1000`</p>\r\n\r\n<p>#若penstack全部组件安装有问题，尝试卸载全部组件命令，再重装。</p>\r\n\r\n<p>卸载命令如下：</p>\r\n\r\n<p>rpm -e `find ./ -name *.rpm|grep -v openvswitch|awk -F &quot;/&quot; &#39;{print $3}&#39;|sed &#39;s/.rpm//g&#39;|xargs -n 1000`</p>\r\n\r\n<p>注：compute目录下各组件确保都放入最新的rpm包，该组件安装/卸载命令是各组件全部安装/卸载命令，若漏装个别组件，需单独安装。</p>\r\n\r\n<p>iscsic防火墙设置</p>\r\n\r\n<p>iptables&nbsp;&nbsp;-A INPUT -p tcp -m state --state NEW -m tcp --dport 3260 -j ACCEPT</p>\r\n\r\n<p>service iptables restart</p>\r\n\r\n<p>四、环境变量设置</p>\r\n\r\n<p>cat &lt;&lt; EOF &gt; ~/admin-openrc</p>\r\n\r\n<p>export OS_USER_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_PROJECT_DOMAIN_ID=default</p>\r\n\r\n<p>export OS_USERNAME=admin</p>\r\n\r\n<p>export OS_PROJECT_NAME=admin</p>\r\n\r\n<p>export OS_PASSWORD=admin12#$</p>\r\n\r\n<p>export OS_IDENTITY_API_VERSION=3</p>\r\n\r\n<p>export OS_AUTH_URL=http://ctrl.openstack.com:35357/v3</p>\r\n\r\n<p>EOF</p>\r\n\r\n<p>echo &quot;生成admin-openrc&quot;</p>\r\n\r\n<p>source ~/admin-openrc&nbsp;&nbsp;&nbsp;&nbsp;启用</p>\r\n\r\n<p>五、修改配置文件</p>\r\n\r\n<p>5.1 配置IP</p>\r\n\r\n<p>5.1.1 compute节点IP</p>\r\n\r\n<p>vim /etc/nova/nova.conf</p>\r\n\r\n<p># 修改成本地对应内网IP</p>\r\n\r\n<p>my_ip=192.168.1.30</p>\r\n\r\n<p>osapi_compute_listen=192.168.1.30</p>\r\n\r\n<p>5.1.2 neutron配置IP：</p>\r\n\r\n<p>vim /etc/neutron/neutron.conf</p>\r\n\r\n<p>bind_host=192.168.1.30</p>\r\n\r\n<p>5.2 配置虚拟机类型</p>\r\n\r\n<p>如果compute是虚拟机, 需要修改virt_type字段:</p>\r\n\r\n<p>虚拟机用qemu, 实体机用kvm:</p>\r\n\r\n<p>5.3 配置磁盘信息</p>\r\n\r\n<p>先确认该节点，是要配置lvm模式还是独立磁盘模式（二者只能选其一），以下两条步骤选对应一条执行即可。</p>\r\n\r\n<p>5.3.1 lvm模式</p>\r\n\r\n<p>1）创建PV</p>\r\n\r\n<p>先查看下磁盘列表</p>\r\n\r\n<p>$ lsblk</p>\r\n\r\n<p>如果有下面诸如sdb、sdc已分区的情况下，要先删除分区。</p>\r\n\r\n<p>如存在上图所示的分区sdc1可执行如下操作进行删除分区：</p>\r\n\r\n<p>fdisk&nbsp;&nbsp;/dev/sdc （根据提示信息，输入d和w，其中d表示删除，w表示保存）</p>\r\n\r\n<p>如果没有已分区的，就执行PV创建命令</p>\r\n\r\n<p># 每个盘都需要执行</p>\r\n\r\n<p>$ dd if=/dev/urandom of=/dev/sdc bs=512 count=64</p>\r\n\r\n<p>$ pvcreate /dev/sdb</p>\r\n\r\n<p>2）创建VG</p>\r\n\r\n<p># 将sdb、sdc加入hdd-volumes这个VG，将sdb、sdc更换成对应的磁盘即可</p>\r\n\r\n<p>$ vgcreate hdd-volumes /dev/sdb /dev/sdc</p>\r\n\r\n<p># 将sdd、sde加入ssd-volumes这个VG，将sdd、sde更换成对应的磁盘即可</p>\r\n\r\n<p>$ vgcreate ssd-volumes /dev/sdd /dev/sde</p>\r\n\r\n<p># 如果要额外添加磁盘就使用如下命令</p>\r\n\r\n<p>$ vgextend hdd-volumes /dev/sdx</p>\r\n\r\n<p>5.3.2 独立磁盘模式</p>\r\n\r\n<p>vim /etc/nova/nova.conf</p>\r\n\r\n<p>字段说明</p>\r\n\r\n<p># 指定宿主机为独立磁盘模式</p>\r\n\r\n<p>images_type = isolate</p>\r\n\r\n<p># 根据宿主机磁盘具体情况配置hdd、ssd的所有可用磁盘列表</p>\r\n\r\n<p>hdd_available_devices</p>\r\n\r\n<p>ssd_available_devices</p>\r\n\r\n<p>5.4 修改Neutron配置</p>\r\n\r\n<p>查看网桥配置，输入以下命令：</p>\r\n\r\n<p>brctl show</p>\r\n\r\n<p>打开linuxbridge_agent.ini文件：</p>\r\n\r\n<p>vim /etc/neutron/plugins/ml2/linuxbridge_agent.ini</p>\r\n\r\n<p>修改配置为对应的网卡：</p>\r\n\r\n<p>physical_interface_mappings = phynet0:eth0</p>\r\n\r\n<p>5.4 修改权限：</p>\r\n\r\n<p>chown root.neutron&nbsp;&nbsp;/etc/neutron/plugins/ml2/linuxbridge_agent.ini</p>\r\n\r\n<p>六、服务启动</p>\r\n\r\n<p>service libvirtd restart</p>\r\n\r\n<p>systemctl restart openstack-nova-compute.service</p>\r\n\r\n<p>systemctl enable openstack-nova-compute.service</p>\r\n\r\n<p>systemctl restart neutron-linuxbridge-agent.service openstack-nova-compute.service</p>\r\n\r\n<p>chkconfig openstack-nova-compute on;chkconfig neutron-linuxbridge-agent on</p>\r\n\r\n<p>七、添加aggregate信息</p>\r\n\r\n<p># 先执行第一条查看是否添加了agg-lvm和agg-isolate，若已添加，则忽略后面两条命令</p>\r\n\r\n<p>nova aggregate-list</p>\r\n\r\n<p>nova aggregate-create agg-lvm</p>\r\n\r\n<p>nova aggregate-create agg-isolate</p>\r\n\r\n<p># 增加metadata信息</p>\r\n\r\n<p>nova aggregate-set-metadata &lt;id/name&gt; storage_mode=lvm</p>\r\n\r\n<p>nova aggregate-set-metadata &lt;id/name&gt; storage_mode=isolate</p>\r\n\r\n<p>（以上步骤只需在一台compute节点上操作过一次即可）</p>\r\n\r\n<p># 把当前部署的compute节点加入对应的aggregate，下面两条命令，只能执行其中一条</p>\r\n\r\n<p>&lt;compute_hostname&gt;改成对应的hostname</p>\r\n\r\n<p>nova aggregate-add-host agg-lvm_ext &lt;compute_hostname&gt;&nbsp;&nbsp;标黄替换为本机的主机名</p>\r\n\r\n<p>nova aggregate-add-host agg-isolate &lt;compute_hostname&gt;&nbsp;&nbsp;标黄替换为本机的主机名</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>最终效果如下（举例）</p>\r\n\r\n<p>八、环境部署验证</p>\r\n\r\n<p>1、输入以下命令，查看命令知否能执行，可以说明正常：</p>\r\n\r\n<p>nova list</p>\r\n\r\n<p>如果有出现如下错误:</p>\r\n\r\n<p>执行source ~/admin-openrc再尝试</p>\r\n\r\n<p>neutron net-list</p>\r\n\r\n<p>2、再次确认三个组件对应日志是否有error，无则说明compute部署正常：</p>\r\n\r\n<p>输入以下命令查看日日志：</p>\r\n\r\n<p>tail -f /var/log/nova/nova-compute.log</p>\r\n\r\n<p>tail -f /var/log/neutron/linuxbridge-agent.log</p>\r\n\r\n<p>3、指令创建虚拟机</p>\r\n\r\n<p>Eg：以下是指令创虚拟机的示例</p>\r\n\r\n<p>middle.nano-&gt;flavor 名称（nova flavor-list），7c9b6849-2683-4700-ab95-e1b31a05692d&mdash;》image id （glance image-list）net-id=public or private 的网络id（neutron net-list）（fixedip的设置可以查看neutron subnet-show 子网id 查看对应的可用ip范围再设置）（abc为虚拟机的名称）</p>\r\n\r\n<p>nova boot --flavor middle.nano --image 7c9b6849-2683-4700-ab95-e1b31a05692d --nic net-id=33c2838b-b589-4927-87dd-50e6bd727ccf,v4-fixed-ip=192.168.1.155 --config-drive True abc</p>\r\n\r\n<p>验证完成后删除controller上部署包,释放资源<br />\r\n逐一登入三台controller删除</p>\r\n\r\n<p>rm -fr /home/openstack/publish/</p>\r\n\r\n<p>单独的openstack组件包更新</p>\r\n\r\n<p>1&gt;通过jenkins打包对应要更新的包，以nova为例</p>\r\n\r\n<p>http://10.8.226.176:8080/view/VMP2.0/job/VMP-nova-build/</p>\r\n\r\n<p>执行构建之后，打包后的压缩包会存放在36.250.74.72：/tmp目录下名称为vmp_nova_rpmbuild.tar执行以下操作：</p>\r\n\r\n<p>tar &ndash;xvf vmp_nova_rpmbuild.tar</p>\r\n\r\n<p>清除已安装的nova包：</p>\r\n\r\n<p>rpm -qa|grep python-nova<br />\r\nrpm &ndash;qa|grep openstack-nova<br />\r\n删除上述显示的nova包<br />\r\nrpm &ndash;e + 包名</p>\r\n\r\n<p><br />\r\n1&gt;如果是compute节点执行</p>\r\n\r\n<p>cd /tmp/ compute</p>\r\n\r\n<p>2&gt;如果是controller节点执行</p>\r\n\r\n<p>cd /tmp/ controller</p>\r\n\r\n<p>rpm -ivh `find ./ -name *.rpm|grep -v openvswitch|xargs -n 1000` --nodeps &ndash;force</p>\r\n\r\n<p>controller 部署之后执行命令&nbsp;&nbsp;（其中一台controller节点）</p>\r\n\r\n<p>su&nbsp;-s&nbsp;/bin/sh&nbsp;-c&nbsp;&quot;nova-manage&nbsp;db&nbsp;online_data_migrations&quot;&nbsp;nova<br />\r\nsu&nbsp;-s&nbsp;/bin/sh&nbsp;-c&nbsp;&quot;nova-manage&nbsp;api_db&nbsp;sync&quot;&nbsp;nova<br />\r\nsu&nbsp;-s&nbsp;/bin/sh&nbsp;-c&nbsp;&quot;nova-manage&nbsp;db&nbsp;sync&quot;&nbsp;nova</p>\r\n\r\n<p>重启服务：</p>\r\n\r\n<p>crm resource restart openstack-nova-api-clone</p>\r\n\r\n<p>crm resource restart openstack-nova-conductor-clone&nbsp;</p>\r\n\r\n<p>crm resource restart openstack-nova-scheduler-clone&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-nova-api-clone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-nova-conductor-clone&nbsp;</p>\r\n\r\n<p>crm resource cleanup openstack-nova-scheduler-clone&nbsp;</p>\r\n\r\n<p>compute节点重启服务</p>\r\n\r\n<p>systemctl restart openstack-nova-compute.service</p>\r\n','medias/document/20170209130422_Broods.txt','upload_imgss/2_sUrH8RD.jpg','http://www.askeds.com/server',4,0,0,'2017-12-26 10:55:21',1,12,1,0,1),(15,'Python实战笔记','基于python3.0编程，博主python学习笔记 无私分享，请大家好好学习。','<p>第一课</p>\r\n\r\n<p>#!/usr/bin/env python</p>\r\n\r\n<p>#-*- coding:utf-8 -*-</p>\r\n\r\n<p>import subprocess</p>\r\n\r\n<p>import os</p>\r\n\r\n<p>import sys</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print (sys.argv)</p>\r\n\r\n<p>print(sys.path)</p>\r\n\r\n<p>#os.system(&#39;pwd&#39;)</p>\r\n\r\n<p>#a=os.popen(&#39;pwd&#39;).read() #获取目录</p>\r\n\r\n<p>#out5=subprocess.getstatusoutput(&#39;cat /etc/passwd&#39;)</p>\r\n\r\n<p>#print(out5[0])#获取状态</p>\r\n\r\n<p>#print(out5[1])#获取值</p>\r\n\r\n<p>#</p>\r\n\r\n<p>#a=subprocess.getstatusoutput(&#39;pwd&#39;)</p>\r\n\r\n<p>#child = subprocess.Popen([&#39;ping&#39;,&#39;-c&#39;,&#39;4&#39;,&#39;blog.linuxeye.com&#39;])</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#第二课</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#第三课 流程控制</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>try:</p>\r\n\r\n<p>pwd=os.popen(&#39;pwd&#39;).read()</p>\r\n\r\n<p>pwd=pwd.split(&#39;\\n&#39;)[0]</p>\r\n\r\n<p>print(pwd)</p>\r\n\r\n<p>num=0</p>\r\n\r\n<p>while num&lt;=10:</p>\r\n\r\n<p>print(&#39;你还有%s机会&#39;%(11-num))</p>\r\n\r\n<p>num+=1</p>\r\n\r\n<p>f = open(&#39;%s/name.text&#39;%(pwd),&#39;w+&#39;)#读取文件内容</p>\r\n\r\n<p>#f.truncate()#清空文件内容</p>\r\n\r\n<p>f.seek(0)</p>\r\n\r\n<p>print(f.tell())</p>\r\n\r\n<p>name=input(&#39;please input your name:&#39;)</p>\r\n\r\n<p>age=input(&#39;please input your age:&#39;)</p>\r\n\r\n<p>f.write(name)</p>\r\n\r\n<p>f.close()</p>\r\n\r\n<p>f = open(&#39;%s/name.text&#39;%(pwd),&#39;r&#39;)</p>\r\n\r\n<p>for i in f.readlines():#遍历文件内容</p>\r\n\r\n<p>name = i.strip() #默认删除每行的空格字符</p>\r\n\r\n<p>if name==&#39;sam&#39;:</p>\r\n\r\n<p>print(&#39;\\033[31m他们的恭喜你猜对了老子就是sam\\033[0m&#39;)</p>\r\n\r\n<p>sys.exit(0)</p>\r\n\r\n<p>age=int(age)</p>\r\n\r\n<p>if age&gt;30:</p>\r\n\r\n<p>msg=&#39;你他妈太老了&#39;</p>\r\n\r\n<p>else:</p>\r\n\r\n<p>msg=&#39;还小&#39;</p>\r\n\r\n<p>print(&#39;&#39;&#39;</p>\r\n\r\n<p>my infomations of %s:</p>\r\n\r\n<p>name:%s</p>\r\n\r\n<p>age:%s</p>\r\n\r\n<p>status:%s</p>\r\n\r\n<p>--------------------</p>\r\n\r\n<p>&#39;&#39;&#39; % (name,name,age,msg)</p>\r\n\r\n<p>)</p>\r\n\r\n<p>except (TypeError,ValueError,NameError) as e:</p>\r\n\r\n<p>print(&#39;age格式输入错&#39;)</p>\r\n\r\n<p>print(e)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>##第四课</p>\r\n\r\n<p>#a=&quot;what&#39;s your name&quot;</p>\r\n\r\n<p>#c=a.split()#变为数组</p>\r\n\r\n<p>#c.strip()#去掉空格tab \\n</p>\r\n\r\n<p># &#39; &#39;.join(c) #变为字符串</p>\r\n\r\n<p>#a.upper()#大写</p>\r\n\r\n<p>#a.lower()#小写</p>\r\n\r\n<p>#a.capitalize()#首字母大写</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#第五课os模块</p>\r\n\r\n<p>#os.mkdir(&#39;test&#39;)&nbsp;</p>\r\n\r\n<p>#os.mkdirs(&#39;/a/b/c&#39;)</p>\r\n\r\n<p>#os.removedirs(&#39;/a/b/c&#39;)</p>\r\n\r\n<p>#os.listdir(&#39;.jpg&#39;) 显示当前目录&nbsp;</p>\r\n\r\n<p>#os.getcwd()</p>\r\n\r\n<p>#os.chdir(&#39;/&#39;)切换目录</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第六课pymysql操作</p>\r\n\r\n<p>-*- coding:utf-8 -*-</p>\r\n\r\n<p>import pymysql&nbsp;&nbsp;</p>\r\n\r\n<p>from builtins import int&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>#将MysqlHelper的几个函数写出来&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp;</p>\r\n\r\n<p>def&nbsp; connDB():&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #连接数据库&nbsp;&nbsp;</p>\r\n\r\n<p>conn=pymysql.connect(host=&quot;localhost&quot;,user=&quot;root&quot;,passwd=&quot;&quot;,db=&quot;asked&quot;,charset=&#39;utf8&#39;);</p>\r\n\r\n<p>&nbsp; &nbsp; conn=pymysql.connect(host=&quot;localhost&quot;,user=&quot;root&quot;,passwd=&quot;&quot;,db=&quot;ecshop&quot;,charset=&#39;utf8&#39;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; cur=conn.cursor();&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; return (conn,cur);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>def exeUpdate(conn,cur,sql):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #更新或插入操作&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sta=cur.execute(sql);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; conn.commit();&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; return (sta);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>def exeDelete(conn,cur,IDs):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #删除操作&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sta=0;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; for eachID in IDs.split(&#39; &#39;):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; sta+=cur.execute(&quot;delete from students where Id=%d&quot;%(int(eachID)));&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; conn.commit();&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; return (sta);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>def exeQuery(cur,sql):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #查找操作&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; cur.execute(sql);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; return (cur);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>def connClose(conn,cur):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #关闭连接，释放资源&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; cur.close();&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; conn.close();&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>result=True;&nbsp;&nbsp;</p>\r\n\r\n<p>print(&quot;请选择以上四个操作：1、修改记录，2、增加记录，3、查询记录，4、删除记录.(按q为退出)&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>conn,cur=connDB();&nbsp;&nbsp;</p>\r\n\r\n<p>number=input();&nbsp;&nbsp;</p>\r\n\r\n<p>while(result):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; if(number==&#39;q&#39;):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&quot;结束操作&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; break;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; elif(int(number)==1):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; sql=input(&quot;请输入更新语句：&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; try:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exeUpdate(conn, cur, sql);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;更新成功&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; except Exception:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;更新失败&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; raise;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; elif(int(number)==2):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sql=input(&quot;请输入新增语句:&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exeUpdate(conn, cur, sql);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;新增成功&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; except Exception:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;新增失败&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; raise;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; elif(int(number)==3):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; sql=input(&quot;请输入查询语句：&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; try:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cur=exeQuery(cur, sql);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for item in cur:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(item);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #print(&quot;Id=&quot;+str(item[0])+&quot; name=&quot;+item[1]);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; except Exception:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;查询出错&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; raise;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; elif(int(number)==4):&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; Ids=input(&quot;请输入Id，并用空格隔开&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; try:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exeDelete(conn, cur, Ids);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;删除成功&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; except Exception:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&quot;删除失败&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; raise;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; else:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&quot;非法输入，将结束操作!&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; result=False;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; break;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; print(&quot;请选择以上四个操作：1、修改记录，2、增加记录，3、查询记录，4、删除记录.(按q为退出)&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; number=input(&quot;请选择操作&quot;);&nbsp;&nbsp;</p>\r\n\r\n<p>&#39;&#39;&#39;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&#39;&#39;&#39;</p>\r\n\r\n<p>第七课网络soket编程</p>\r\n\r\n<p>import MySQLdb</p>\r\n\r\n<p>conn = MySQLdb.connect(host=&#39;127.0.0.1&#39;,user=&#39;root&#39;,passwd=&#39;&#39;,db=&#39;ecshop&#39;)</p>\r\n\r\n<p>cur = conn.cursor()</p>\r\n\r\n<p>recout = cur.execute(&#39;select * from admin&#39;)</p>\r\n\r\n<p>sql=&quot;insert into admin(name,address) values(%s,%s)&quot;</p>\r\n\r\n<p>params=(&#39;alex_1&#39;,&#39;usa&#39;)</p>\r\n\r\n<p>result=cur.execute(sql,params)</p>\r\n\r\n<p>conn.commit()</p>\r\n\r\n<p>cur.close()</p>\r\n\r\n<p>conn.close()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>cur.scroll(-1,mode=&#39;relative&#39;) 相对指针</p>\r\n\r\n<p>cur.scroll(0,mode=&#39;absolute&#39;) 绝对指针</p>\r\n\r\n<p>conn = pymysql.connect(host=&#39;127.0.0.1&#39;, port=3306, user=&#39;root&#39;, passwd=&#39;&#39;, db=&#39;tkq1&#39;) 批量添加数据</p>\r\n\r\n<p>cursor = conn.cursor()</p>\r\n\r\n<p>effect_row = cursor.executemany(&quot;insert into tb7(user,pass,licnese)values(%s,%s,%s)&quot;, [(&quot;u3&quot;,&quot;u3pass&quot;,&quot;11113&quot;),(&quot;u4&quot;,&quot;u4pass&quot;,&quot;22224&quot;)])</p>\r\n\r\n<p>conn.commit()</p>\r\n\r\n<p>cursor.close()</p>\r\n\r\n<p>conn.close()</p>\r\n\r\n<p>#获取自增id</p>\r\n\r\n<p>new_id = cursor.lastrowid&nbsp;</p>\r\n\r\n<p>print new_id</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第八课&nbsp;</p>\r\n\r\n<p>（1）与多进程</p>\r\n\r\n<p>from multiprocessing import Process</p>\r\n\r\n<p>from queue import Queue #开辟新的空间</p>\r\n\r\n<p>#from multiprocessing import Queue python2.7</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def f(q,n):</p>\r\n\r\n<p>&nbsp; &nbsp; q.put([n,&#39;hello&#39;])</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>if __name__ == &#39;__main__&#39;:</p>\r\n\r\n<p>&nbsp; &nbsp; q=Queue()</p>\r\n\r\n<p>&nbsp; &nbsp; for i in range(10):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(i)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; p = Process(targettarget=f,args=(q,i,))</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; p.start()</p>\r\n\r\n<p>&nbsp; &nbsp; print (q.get())</p>\r\n\r\n<p>（2）多线程&nbsp;&nbsp;</p>\r\n\r\n<p># coding:utf-8</p>\r\n\r\n<p>import threading</p>\r\n\r\n<p>import time</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def action(arg):</p>\r\n\r\n<p>&nbsp; &nbsp; time.sleep(1)</p>\r\n\r\n<p>&nbsp; &nbsp; print&nbsp; &#39;sub thread start!the thread name is:%s\\r&#39; % threading.currentThread().getName()</p>\r\n\r\n<p>&nbsp; &nbsp; print &#39;the arg is:%s\\r&#39; %arg</p>\r\n\r\n<p>&nbsp; &nbsp; time.sleep(1)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>for i in xrange(4):</p>\r\n\r\n<p>&nbsp; &nbsp; t =threading.Thread(target=action,args=(i,))</p>\r\n\r\n<p>&nbsp; &nbsp; t.setDaemon(True)#设置线程为后台线程</p>\r\n\r\n<p>&nbsp; &nbsp; t.start()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print &#39;main_thread end!&#39;&nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第九课解释器</p>\r\n\r\n<p>def fuc2():</p>\r\n\r\n<p>&nbsp; &nbsp; print(&#39;fuc2&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; return(&#39;2&#39;)</p>\r\n\r\n<p>def fuc3():</p>\r\n\r\n<p>&nbsp; &nbsp; print(&#39;fuc3&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>def filter(fuc2,fuc3):</p>\r\n\r\n<p>&nbsp; &nbsp; def outer(fuc):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; def wrapper(arg):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(&#39;验证&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f2=fuc2()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(f2)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result = fuc(arg)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(result)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f3=fuc3()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(f3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return wrapper</p>\r\n\r\n<p>&nbsp; &nbsp; return outer</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>@filter(fuc2,fuc3)</p>\r\n\r\n<p>def fuc1(arg):</p>\r\n\r\n<p>&nbsp; &nbsp; print (&#39;fuc1&#39;,arg)</p>\r\n\r\n<p>&nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>a=fuc1(&#39;json&#39;)</p>\r\n\r\n<p>print(a)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第10课面向对象</p>\r\n\r\n<p>class Province(object):</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __init__(self,name,capital,leader,Thailand):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.name=name</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.capital=capital</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.__leader=leader</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.__Thailand=Thailand</p>\r\n\r\n<p>&nbsp; &nbsp; @staticmethod #静态方法 共用不用开辟内存空间</p>\r\n\r\n<p>&nbsp; &nbsp; def foo():</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;静态方法&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; @property&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def meet(self):</p>\r\n\r\n<p>a=self.foo()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(self.__leader+&#39;正在开会&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __leaders(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;私有方法&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; @property #函数方法变为字段访问&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def public(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(self.__leader+&#39;正在开会&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; @property&nbsp; &nbsp; #私有字段间接访问</p>\r\n\r\n<p>&nbsp; &nbsp; def Thailand(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return self.__Thailand&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; @Thailand.setter&nbsp; #私有字段修改</p>\r\n\r\n<p>&nbsp; &nbsp; def Thailand(self,value):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.__Thailand=value&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>hb = Province(&#39;河北&#39;,&#39;shijiazhuang&#39;,&#39;json&#39;,True)</p>\r\n\r\n<p>print (hb.name,hb.capital,hb._Province__leaders(),hb.meet) #私有方法访问</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print(hb.Thailand)</p>\r\n\r\n<p>hb.Thailand=False</p>\r\n\r\n<p>print(hb.Thailand)</p>\r\n\r\n<p>#print(__Province__leader)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#第十一反射</p>\r\n\r\n<p>class study(object):</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __init__(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;同学们好&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def chinese(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;语文课&#39;)</p>\r\n\r\n<p>userpase = __import__(&#39;classs&#39;)&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>model = getattr(userpase, &#39;study&#39;)</p>\r\n\r\n<p>func = getattr(model,&#39;chinese&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>func(&#39;self&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第二种</p>\r\n\r\n<p>class study(object):</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __init__(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;同学们好&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def chinese(self,teacher):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(teacher+&#39;语文课&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>from classs import study</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>func = getattr(study,&#39;chinese&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>func(&#39;self&#39;,&#39;json&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第十三 继承</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Father():</p>\r\n\r\n<p>def __init__(slef):</p>\r\n\r\n<p>self.fname=&#39;ffff&#39;</p>\r\n\r\n<p>def bar(self):</p>\r\n\r\n<p>print(&#39;father process&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Son(Father):</p>\r\n\r\n<p>def __init__(slef):</p>\r\n\r\n<p>self.sname=&#39;son&#39;</p>\r\n\r\n<p>def fuc(self):</p>\r\n\r\n<p>print(&#39;son process&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>son=Son()</p>\r\n\r\n<p>print(son.fuc())</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第十四课抽象类</p>\r\n\r\n<p>from abc import ABCMeta,abstractmethod</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Bar:</p>\r\n\r\n<p>&nbsp; &nbsp; __metaclass__=ABCMeta</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; @abstractmethod&nbsp; &nbsp;#抽象类+抽象方法=接口&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def Send(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; pass</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>class Foo(Bar):</p>\r\n\r\n<p>&nbsp; &nbsp; def __init__(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;Foo__init__&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def Send(self):&nbsp; #必须复写父类抽象方法</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;Foo send&#39;)&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>Foo().Send()&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>第十五自定义异常</p>\r\n\r\n<p>class MyExeption(Exception):</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __init__(self,msg):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; self.msg=msg</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __str__(self,*arg,**kwargs):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return self.msg</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def Vaildate(name,pwd):</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; if name == &#39;json&#39;and pwd==&#39;123&#39;:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return True</p>\r\n\r\n<p>&nbsp; &nbsp; else:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return False</p>\r\n\r\n<p>try:&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; res=Vaildate(&#39;json&#39;,&#39;456&#39;)&nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; if res:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;登入成功&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; else:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; raise MyExeption(&#39;登入失败&#39;)#主动触发异常</p>\r\n\r\n<p>except Exception as e:</p>\r\n\r\n<p>&nbsp; &nbsp; print(e)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第十六内置函数</p>\r\n\r\n<p>(1)在Python教程中，我们已经提到下面一些内置函数:</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>基本数据类型 type()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>反过头来看看 dir() help() len()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>词典 len()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>文本文件的输入输出 open()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>循环设计 range() enumerate() zip()每一列为一组</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>循环对象 iter()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>函数对象 list(map(lambda x:x*x,[2,3,4])) 遍历列表里的每个元素变为平方</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>过滤条件 filter()</p>\r\n\r\n<p>li=[1,2,454]</p>\r\n\r\n<p>def foo(arg):</p>\r\n\r\n<p>&nbsp; &nbsp; if arg&lt;10:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return True</p>\r\n\r\n<p>&nbsp; &nbsp; else:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return False</p>\r\n\r\n<p>temp=list(filter(foo,li))</p>\r\n\r\n<p>print(temp)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>累加 reduce()</p>\r\n\r\n<p>from functools import reduce</p>\r\n\r\n<p>print(reduce(lambda x,y:x+y,[2,3,4,1,3]))</p>\r\n\r\n<p>数学运算</p>\r\n\r\n<p>abs(-5)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 取绝对值，也就是5</p>\r\n\r\n<p>round(2.6)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 四舍五入取整，也就是3.0</p>\r\n\r\n<p>pow(2, 3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 相当于2**3，如果是pow(2, 3, 5)，相当于2**3 % 5</p>\r\n\r\n<p>cmp(2.3, 3.2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 比较两个数的大小</p>\r\n\r\n<p>divmod(9,2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回除法结果和余数</p>\r\n\r\n<p>max([1,5,2,9])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 求最大值</p>\r\n\r\n<p>min([9,2,-4,2])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 求最小值</p>\r\n\r\n<p>sum([2,-1,9,12])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 求和</p>\r\n\r\n<p>类型转换</p>\r\n\r\n<p>int(&quot;5&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 转换为整数 integer</p>\r\n\r\n<p>float(2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 转换为浮点数 float</p>\r\n\r\n<p>long(&quot;23&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 转换为长整数 long integer</p>\r\n\r\n<p>str(2.3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 转换为字符串 string</p>\r\n\r\n<p>complex(3, 9)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回复数 3 + 9i</p>\r\n\r\n<p>ord(&quot;A&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# &quot;A&quot;字符对应的数值</p>\r\n\r\n<p>chr(65)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 数值65对应的字符</p>\r\n\r\n<p>unichr(65)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 数值65对应的unicode字符</p>\r\n\r\n<p>bool(0)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 转换为相应的真假值，在Python中，0相当于False</p>\r\n\r\n<p>在Python中，下列对象都相当于False： [], (), {}, 0, None, 0.0, &#39;&#39;&nbsp;</p>\r\n\r\n<p>bin(56)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回一个字符串，表示56的二进制数</p>\r\n\r\n<p>hex(56)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回一个字符串，表示56的十六进制数</p>\r\n\r\n<p>oct(56)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回一个字符串，表示56的八进制数</p>\r\n\r\n<p>list((1,2,3))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 转换为表 list</p>\r\n\r\n<p>tuple([2,3,4])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 转换为定值表 tuple</p>\r\n\r\n<p>slice(5,2,-1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 构建下标对象 slice</p>\r\n\r\n<p>dict(a=1,b=&quot;hello&quot;,c=[1,2,3])&nbsp; &nbsp; # 构建词典 dictionary&nbsp;</p>\r\n\r\n<p>序列操作</p>\r\n\r\n<p>all([True, 1, &quot;hello!&quot;])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 是否所有的元素都相当于True值</p>\r\n\r\n<p>any([&quot;&quot;, 0, False, [], None])&nbsp; &nbsp; # 是否有任意一个元素相当于True值</p>\r\n\r\n<p>sorted([1,5,3])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回正序的序列，也就是[1,3,5]</p>\r\n\r\n<p>reversed([1,5,3])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回反序的序列，也就是[3,5,1]</p>\r\n\r\n<p>类，对象，属性</p>\r\n\r\n<p>复制代码</p>\r\n\r\n<p># define class</p>\r\n\r\n<p>class Me(object):</p>\r\n\r\n<p>&nbsp; &nbsp; def test(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print &quot;Hello!&quot;</p>\r\n\r\n<p>def new_test():</p>\r\n\r\n<p>&nbsp; &nbsp; print &quot;New Hello!&quot;</p>\r\n\r\n<p>me = Me()</p>\r\n\r\n<p>复制代码</p>\r\n\r\n<p>hasattr(me, &quot;test&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 检查me对象是否有test属性</p>\r\n\r\n<p>getattr(me, &quot;test&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 返回test属性</p>\r\n\r\n<p>setattr(me, &quot;test&quot;, new_test)&nbsp; &nbsp; &nbsp;# 将test属性设置为new_test</p>\r\n\r\n<p>delattr(me, &quot;test&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 删除test属性</p>\r\n\r\n<p>isinstance(me, Me)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # me对象是否为Me类生成的对象 (一个instance)</p>\r\n\r\n<p>issubclass(Me, object)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Me类是否为object类的子类</p>\r\n\r\n<p>编译，执行</p>\r\n\r\n<p>repr(me)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回对象的字符串表达</p>\r\n\r\n<p>compile(&quot;print(&#39;Hello&#39;)&quot;,&#39;test.py&#39;,&#39;exec&#39;)&nbsp; &nbsp; &nbsp; &nbsp;# 编译字符串成为code对象</p>\r\n\r\n<p>eval(&quot;1 + 1&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 解释字符串表达式。参数也可以是compile()返回的code对象</p>\r\n\r\n<p>exec(&quot;print(&#39;Hello&#39;)&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 解释并执行字符串，print(&#39;Hello&#39;)。参数也可以是compile()返回的code对象</p>\r\n\r\n<p>其他</p>\r\n\r\n<p>input(&quot;Please input:&quot;)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 等待输入</p>\r\n\r\n<p>globals()&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 返回全局命名空间，比如全局变量名，全局函数名</p>\r\n\r\n<p>locals()&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 返回局部命名空间</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>()2内置方法 说明</p>\r\n\r\n<p>&nbsp;__init__(self,...) 初始化对象，在创建新对象时调用</p>\r\n\r\n<p>&nbsp;__del__(self) 释放对象，在对象被删除之前调用</p>\r\n\r\n<p>&nbsp;__new__(cls,*args,**kwd) 实例的生成操作</p>\r\n\r\n<p>&nbsp;__str__(self) 在使用print语句时被调用</p>\r\n\r\n<p>&nbsp;__getitem__(self,key) 获取序列的索引key对应的值，等价于seq[key]</p>\r\n\r\n<p>&nbsp;__len__(self) 在调用内联函数len()时被调用</p>\r\n\r\n<p>&nbsp;__cmp__(stc,dst) 比较两个对象src和dst</p>\r\n\r\n<p>&nbsp;__getattr__(s,name) 获取属性的值</p>\r\n\r\n<p>&nbsp;__setattr__(s,name,value) 设置属性的值</p>\r\n\r\n<p>&nbsp;__delattr__(s,name) 删除name属性</p>\r\n\r\n<p>&nbsp;__getattribute__() __getattribute__()功能与__getattr__()类似</p>\r\n\r\n<p>&nbsp;__gt__(self,other) 判断self对象是否大于other对象</p>\r\n\r\n<p>&nbsp;__lt__(slef,other) 判断self对象是否小于other对象</p>\r\n\r\n<p>&nbsp;__ge__(slef,other) 判断self对象是否大于或者等于other对象</p>\r\n\r\n<p>&nbsp;__le__(slef,other) 判断self对象是否小于或者等于other对象</p>\r\n\r\n<p>&nbsp;__eq__(slef,other) 判断self对象是否等于other对象</p>\r\n\r\n<p>&nbsp;__call__(self,*args) 把实例对象作为函数调用</p>\r\n\r\n<p>&nbsp;__import__(&#39;os&#39;) 导入字符串</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>随机验证码生成</p>\r\n\r\n<p>code=[]</p>\r\n\r\n<p>for i in range(6):</p>\r\n\r\n<p>&nbsp; &nbsp; if i == random.randint(1,9):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; code.append(str(random.randint(1,9)))</p>\r\n\r\n<p>&nbsp; &nbsp; else:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; temp=random.randint(65,90)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; code.append(chr(temp))</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>print(&#39;&#39;.join(code))&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>md5加密</p>\r\n\r\n<p>import hashlib</p>\r\n\r\n<p>hash= hashlib.md5()</p>\r\n\r\n<p>hash.update(b&#39;admin&#39;)</p>\r\n\r\n<p>print (hash.hexdigest())</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>pickle 序列化</p>\r\n\r\n<p>import pickle</p>\r\n\r\n<p>data={&#39;k1&#39;:&#39;1&#39;,&#39;value&#39;:&#39;help&#39;}</p>\r\n\r\n<p>li=[&#39;21&#39;,&#39;dsa&#39;,&#39;da&#39;]</p>\r\n\r\n<p>def dump_pickle():</p>\r\n\r\n<p>&nbsp; &nbsp; with open(&#39;~/test.pl&#39;,&#39;wb&#39;) as f:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; ps_str=pickle.dump(data,f)&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;success&#39;)&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def load_pickle():&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; with open(&#39;d:/test.pl&#39;,&#39;rb&#39;) as f:&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; user=pickle.load(f)&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; #user变量是一个字典&nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; print(user)&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>dump_pickle()&nbsp;&nbsp;</p>\r\n\r\n<p>load_pickle()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>json序列化&nbsp; 注意dumps 不能加文件 dump可以</p>\r\n\r\n<p>import json&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>dict_ = {&#39;k1&#39;:&#39;1&#39;,&#39;value&#39;:&#39;help&#39;}</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p># test json.dumps&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>print type(dict_), dict_&nbsp;&nbsp;</p>\r\n\r\n<p>json_str = json.dumps(dict_)&nbsp;&nbsp;</p>\r\n\r\n<p>print &quot;json.dumps(dict) return:&quot;&nbsp;&nbsp;</p>\r\n\r\n<p>print type(json_str), json_str&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p># test json.loads&nbsp;&nbsp;</p>\r\n\r\n<p>print &quot;\\njson.loads(str) return&quot;&nbsp;&nbsp;</p>\r\n\r\n<p>dict_2 = json.loads(json_str)&nbsp;&nbsp;</p>\r\n\r\n<p>print type(dict_2), dict_2&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>import json</p>\r\n\r\n<p>def json_dumps():</p>\r\n\r\n<p>&nbsp; &nbsp; with open(&#39;D:/test.json&#39;,&#39;w&#39;) as f:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; j=json.dump(data,f)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(j)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>def json_loads():</p>\r\n\r\n<p>&nbsp; &nbsp; with open(&#39;d:/test.json&#39;,&#39;r&#39;) as f:&nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; user=json.load(f)&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; #user变量是一个字典&nbsp; &nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; print(user)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>json_dumps()</p>\r\n\r\n<p>json_loads()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#正则表达</p>\r\n\r\n<p>import reimport re</p>\r\n\r\n<p># 将正则表达式编译成Pattern对象</p>\r\n\r\n<p>pattern = re.compile(r&#39;hello&#39;)&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 使用Pattern匹配文本，获得匹配结果，无法匹配时将返回None</p>\r\n\r\n<p>match = pattern.match(&#39;hello world!&#39;)</p>\r\n\r\n<p>if match:</p>\r\n\r\n<p>&nbsp; &nbsp; # 使用Match获得分组信息</p>\r\n\r\n<p>&nbsp; &nbsp; print (match.group())</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>### 输出 ###</p>\r\n\r\n<p># hello</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>时间</p>\r\n\r\n<p>时间戳</p>\r\n\r\n<p>import time</p>\r\n\r\n<p>print(time.time())</p>\r\n\r\n<p>print(time.mktime(time.localtime()))</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#结构化</p>\r\n\r\n<p>print(time.gmtime())</p>\r\n\r\n<p>print(time.localtime)</p>\r\n\r\n<p>print(time.strptime(&#39;2014-11-11&#39;,&#39;%Y-%m-%d&#39;))</p>\r\n\r\n<p>#字符串</p>\r\n\r\n<p>print(time.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;))</p>\r\n\r\n<p>print(time.strftime(&#39;%Y-%m-%d&#39;,time.localtime()))&nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>print(time.asctime())</p>\r\n\r\n<p>print(time.asctime(time.localtime()))</p>\r\n\r\n<p>print(time.ctime(time.time()))</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>import datetime</p>\r\n\r\n<p>print str(datetime.datetime.now()).replace(&#39; &#39;,&#39;-&#39;).replace(&#39;:&#39;,&#39;-&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>十七os模块</p>\r\n\r\n<p>os.sep 可以取代操作系统特定的路径分割符。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.name字符串指示你正在使用的平台。比如对于Windows，它是&#39;nt&#39;，而对于Linux/Unix用户，它是&#39;posix&#39;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.getcwd()函数得到当前工作目录，即当前Python脚本工作的目录路径。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.getenv()和os.putenv()函数分别用来读取和设置环境变量。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.listdir()返回指定目录下的所有文件和目录名。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.remove()函数用来删除一个文件。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.system()函数用来运行shell命令。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.linesep字符串给出当前平台使用的行终止符。例如，Windows使用&#39;\\r\\n&#39;，Linux使用&#39;\\n&#39;而Mac使用&#39;\\r&#39;。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.split()函数返回一个路径的目录名和文件名。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.isfile()和os.path.isdir()函数分别检验给出的路径是一个文件还是目录。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.existe()函数用来检验给出的路径是否真地存在</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os和os.path模块</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.listdir(dirname)：列出dirname下的目录和文件</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.getcwd()：获得当前工作目录</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.curdir:返回但前目录（&#39;.&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.chdir(dirname):改变工作目录到dirname</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.isdir(name):判断name是不是一个目录，name不是目录就返回false</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.isfile(name):判断name是不是一个文件，不存在name也返回false</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.exists(name):判断是否存在文件或目录name</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.getsize(name):获得文件大小，如果name是目录返回0L</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.abspath(name):获得绝对路径</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.normpath(path):规范path字符串形式</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.split(name):分割文件名与目录（事实上，如果你完全使用目录，它也会将最后一个目录作为文件名而分离，同时它不会判断文件或目录是否存在）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.splitext():分离文件名与扩展名</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.join(path,name):连接目录与文件名或目录</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.basename(path):返回文件名</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>os.path.dirname(path):返回文件路径</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>SYS模块总结</p>\r\n\r\n<p>sys.argv 命令行参数List，第一个元素是程序本身路径&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.modules.keys() 返回所有已经导入的模块列表&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.exc_info() 获取当前正在处理的异常类,exc_type、exc_value、exc_traceback当前处理的异常详细信息&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.exit(n) 退出程序，正常退出时exit(0)&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.hexversion 获取Python解释程序的版本值，16进制格式如：0x020403F0&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.version 获取Python解释程序的版本信息&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.maxint 最大的Int值&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.maxunicode 最大的Unicode值&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.modules 返回系统导入的模块字段，key是模块名，value是模块&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.path 返回模块的搜索路径，初始化时使用PYTHONPATH环境变量的值&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.platform 返回操作系统平台名称&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.stdout 标准输出&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.stdin 标准输入&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.stderr 错误输出&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.exc_clear() 用来清除当前线程所出现的当前的或最近的错误信息&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.exec_prefix 返回平台独立的python文件安装的位置&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.byteorder 本地字节规则的指示器，big-endian平台的值是&#39;big&#39;,little-endian平台的值是&#39;little&#39;&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.copyright 记录python版权相关的东西&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.api_version 解释器的C的API版本&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.version_info 例如(2, 4, 3, &#39;final&#39;, 0) &#39;final&#39;表示最终,也有&#39;candidate&#39;表示候选，表示版本级别，是否有后继的发行&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.displayhook(value) 如果value非空，这个函数会把他输出到sys.stdout，并且将他保存进__builtin__._.指在python的交互式解释器里，&#39;_&#39; 代表上次你输入得到的结果，hook是钩子的意思，将上次的结果钩过来&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.getdefaultencoding() 返回当前你所用的默认的字符编码格式&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.getfilesystemencoding() 返回将Unicode文件名转换成系统文件名的编码的名字&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.setdefaultencoding(name)用来设置当前默认的字符编码，如果name和任何一个可用的编码都不匹配，抛出 LookupError，这个函数只会被site模块的sitecustomize使用，一旦别site模块使用了，他会从sys模块移除&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.builtin_module_names Python解释器导入的模块列表&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.executable Python解释程序路径&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.getwindowsversion() 获取Windows的版本&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; sys.stdin.readline() 从标准输入读一行，sys.stdout.write(&quot;a&quot;) 屏幕输出a</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>yield 生成器</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def fun(y):</p>\r\n\r\n<p>x=0</p>\r\n\r\n<p>while x&lt;y:</p>\r\n\r\n<p>yield y</p>\r\n\r\n<p>y+=1</p>\r\n\r\n<p>a=fun(10)</p>\r\n\r\n<p>a.__next__()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class MetaClass(type):</p>\r\n\r\n<p>def __init__(self,name,bases,dicts)：</p>\r\n\r\n<p>print(name)</p>\r\n\r\n<p>#Type的派生类也可以创造类</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class C1:</p>\r\n\r\n<p>__metaclass__=MetaClass</p>\r\n\r\n<p>||</p>\r\n\r\n<p>C1=MetaClass(&#39;C1&#39;,(object,),None)</p>\r\n\r\n<p>相当于执行MetaClass 的构造函数</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Mytype(type):</p>\r\n\r\n<p>def __call__(self,*args,**kwargs) 2</p>\r\n\r\n<p>print(re)</p>\r\n\r\n<p>self.__init__(re)3</p>\r\n\r\n<p>class Foo:</p>\r\n\r\n<p>__metaclass__=MyType</p>\r\n\r\n<p>def __init__(self): 4</p>\r\n\r\n<p>self.Name=&#39;alex&#39;</p>\r\n\r\n<p>def __new__(cls,*args,**lwargs):</p>\r\n\r\n<p>return object.__new__(cls,*args,**kwargs)</p>\r\n\r\n<p>f=Foo() 1</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>模板引擎</p>\r\n\r\n<p>namespace1={&#39;title&#39;:&#39;oldboy&#39;,&#39;data&#39;:&#39;11&#39;}</p>\r\n\r\n<p>code=&#39;&#39;&#39;def execute():</p>\r\n\r\n<p>_buffer=[]</p>\r\n\r\n<p>_buffer.append(\\\\&#39;&lt;!DOCTYPE html&gt;\\\\n&lt;html&gt;\\\\n&lt;head lang=&quot;en&quot;&gt;\\\\n&lt;meta charset=&quot;uft-8&quot;&gt;\\\\n&lt;title&gt;</p>\r\n\r\n<p>&lt;/title&gt;\\\\n&lt;/head&gt;\\\\n&lt;body&gt;\\\\n&lt;h1&gt;\\\\&#39;)</p>\r\n\r\n<p>_tmp=titleif isinstance(_tmp,unicode):&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&#39;&#39;&#39;</p>\r\n\r\n<p>func=compile(code,&#39;&lt;string&gt;&#39;,&quot;exec&quot;)</p>\r\n\r\n<p>exec func in namespace1</p>\r\n\r\n<p>result = namespace1[&#39;execute&#39;]()</p>\r\n\r\n<p>print(result)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>---------------------------------------第十八课 sqlalchemy&nbsp; 数据库讲解-------------------------</p>\r\n\r\n<p>1、实例基本讲解</p>\r\n\r\n<p>import sqlalchemy</p>\r\n\r\n<p>sqlalchemy.__version__ # doctest:+SKIP</p>\r\n\r\n<p>from sqlalchemy import create_engine</p>\r\n\r\n<p>连接数据库</p>\r\n\r\n<p>engine = create_engine(&#39;sqlite:///:memory:&#39;, echo=True)&nbsp;&nbsp;</p>\r\n\r\n<p>创建数据库表结构</p>\r\n\r\n<p>from sqlalchemy import Table, Column, Integer, String, MetaData, ForeignKey&nbsp;</p>\r\n\r\n<p>metadata = MetaData()</p>\r\n\r\n<p>users = Table(&#39;users&#39;, metadata,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;Column(&#39;id&#39;, Integer, primary_key=True),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;Column(&#39;name&#39;, String),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;Column(&#39;fullname&#39;, String),</p>\r\n\r\n<p>&nbsp;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>addresses = Table(&#39;addresses&#39;, metadata,</p>\r\n\r\n<p>&nbsp; &nbsp;Column(&#39;id&#39;, Integer,Sequence(&#39;seq_tramos_id&#39;, start=1, increment=1), primary_key=True),</p>\r\n\r\n<p>&nbsp; &nbsp;Column(&#39;user_id&#39;, None, ForeignKey(&#39;users.id&#39;)),</p>\r\n\r\n<p>&nbsp; &nbsp;Column(&#39;email_address&#39;, String, nullable=False)</p>\r\n\r\n<p>&nbsp; )</p>\r\n\r\n<p>插入数据库执行</p>\r\n\r\n<p>metadata.create_all(engine)</p>\r\n\r\n<p>插入数据</p>\r\n\r\n<p>ins = users.insert().values(name=&#39;jack&#39;, fullname=&#39;Jack Jones&#39;)</p>\r\n\r\n<p>查询数据</p>\r\n\r\n<p>2、连接数据库</p>\r\n\r\n<p>MySQL</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>The MySQL dialect uses mysql-python as the default DBAPI. There are many MySQL DBAPIs available, including MySQL-connector-python and OurSQL:</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># default</p>\r\n\r\n<p>engine = create_engine(&#39;mysql://scott:tiger@localhost/foo&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># mysql-python</p>\r\n\r\n<p>engine = create_engine(&#39;mysql+mysqldb://scott:tiger@localhost/foo&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># MySQL-connector-python</p>\r\n\r\n<p>engine = create_engine(&#39;mysql+mysqlconnector://scott:tiger@localhost/foo&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># OurSQL</p>\r\n\r\n<p>engine = create_engine(&#39;mysql+oursql://scott:tiger@localhost/foo&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#定义编码</p>\r\n\r\n<p>engine = create_engine(&quot;mysql://scott:tiger@hostname/dbname&quot;,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; encoding=&#39;latin1&#39;, echo=True)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>result=conn.execute(ins)</p>\r\n\r\n<p>ins.bind = engine</p>\r\n\r\n<p>str(ins)</p>\r\n\r\n<p>result.inserted_primary_key</p>\r\n\r\n<p>ins = users.insert()</p>\r\n\r\n<p>conn=engine.connect()</p>\r\n\r\n<p>conn.execute(ins, id=21, name=&#39;wendy&#39;, fullname=&#39;Wendy Williams&#39;)</p>\r\n\r\n<p>conn.execute(users.insert(),[dict(name=&#39;jack&#39;,fullname=&#39;jack detail&#39;),dict(name=&#39;jack2&#39;,fullname=&#39;jack2 detail&#39;)])</p>\r\n\r\n<p>conn.execute(addresses.insert(),[</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; {&#39;user_id&#39;:12,&#39;email_address&#39;:&#39;jacks@yahoo.com&#39;},</p>\r\n\r\n<p>&nbsp; &nbsp; {&#39;user_id&#39;:12,&#39;email_address&#39;:&#39;wwww@yahoo.com&#39;},</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;</p>\r\n\r\n<p>])</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>3、查询语句 Selecting</p>\r\n\r\n<p>from sqlalchemy import select</p>\r\n\r\n<p>s=select([users])</p>\r\n\r\n<p>result=conn.execute(s)</p>\r\n\r\n<p>for row in result:</p>\r\n\r\n<p>&nbsp; &nbsp; print row</p>\r\n\r\n<p>result = conn.execute(s)</p>\r\n\r\n<p>row=result.fetchall()</p>\r\n\r\n<p>print row</p>\r\n\r\n<p>result.close()</p>\r\n\r\n<p>指定字段查询</p>\r\n\r\n<p>s = select([users.c.name, users.c.fullname])</p>\r\n\r\n<p>result = conn.execute(s)&nbsp; # doctest: +NORMALIZE_WHITESPACE</p>\r\n\r\n<p>for row in result:&nbsp; #doctest: +NORMALIZE_WHITESPACE</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp;print row</p>\r\n\r\n<p>(u&#39;jack&#39;, u&#39;Jack Jones&#39;)</p>\r\n\r\n<p>(u&#39;wendy&#39;, u&#39;Wendy Williams&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>s = select([users, addresses]).where(users.c.id == &#39;1&#39;)</p>\r\n\r\n<p>for row in conn.execute(s):</p>\r\n\r\n<p>&nbsp; &nbsp; print row&nbsp; # doctest: +NORMALIZE_WHITESPACE</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>4、连词</p>\r\n\r\n<p>&nbsp;from sqlalchemy.sql import and_, or_, not_</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&gt;&gt;&gt; from sqlalchemy.sql import and_, or_, not_</p>\r\n\r\n<p>&gt;&gt;&gt; print and_(</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;users.c.name.like(&#39;j%&#39;),</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;users.c.id == addresses.c.user_id, #doctest: +NORMALIZE_WHITESPACE</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or_(</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addresses.c.email_address == &#39;wendy@aol.com&#39;,</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addresses.c.email_address == &#39;jack@yahoo.com&#39;</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;),</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not_(users.c.id &gt; 5)</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print users.c.name.like(&#39;j%&#39;) &amp; (users.c.id == addresses.c.user_id) &amp;&nbsp; \\</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp;(</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp;(addresses.c.email_address == &#39;wendy@aol.com&#39;) | \\</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp; &nbsp;(addresses.c.email_address == &#39;jack@yahoo.com&#39;)</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp;) \\</p>\r\n\r\n<p>...&nbsp; &nbsp; &nbsp;&amp; ~(users.c.id&gt;5) # doctest: +NORMALIZE_WHITESPACE</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>条件查询</p>\r\n\r\n<p>s = select([(users.c.fullname +</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;, &quot; + addresses.c.email_address).</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; label(&#39;title&#39;)]).\\</p>\r\n\r\n<p>where(</p>\r\n\r\n<p>and_(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;users.c.id == addresses.c.user_id,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;users.c.name.between(&#39;m&#39;, &#39;z&#39;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or_(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addresses.c.email_address.like(&#39;%@aol.com&#39;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addresses.c.email_address.like(&#39;%@msn.com&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; )</p>\r\n\r\n<p>conn.execute(s).fetchall()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>s = select([</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; text(&quot;users.fullname || &#39;, &#39; || addresses.email_address AS title&quot;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;]).\\</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;where(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and_(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text(&quot;users.id = addresses.user_id&quot;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text(&quot;users.name BETWEEN &#39;m&#39; AND &#39;z&#39;&quot;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;(addresses.email_address LIKE :x &quot;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;OR addresses.email_address LIKE :y)&quot;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;).select_from(text(&#39;users, addresses&#39;))</p>\r\n\r\n<p>conn.execute(s, x=&#39;%@aol.com&#39;, y=&#39;%@msn.com&#39;).fetchall()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>s = text(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;&quot;SELECT users.fullname || &#39;, &#39; || addresses.email_address AS title &quot;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;FROM users, addresses &quot;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &quot;WHERE users.id = addresses.user_id &quot;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;AND (addresses.email_address LIKE :e1 &quot;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;OR addresses.email_address LIKE :e2)&quot;)</p>\r\n\r\n<p>s = s.columns(title=String)</p>\r\n\r\n<p>s = s.bindparams( e1=&#39;%@aol.com&#39;, e2=&#39;%@msn.com&#39;)</p>\r\n\r\n<p>conn.execute(s).fetchall()&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>5&nbsp; 删除表Deletes</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>conn.execute(addresses.delete())</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>6 Multiple Table Updates 更新数据</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>stmt = users.update().\\</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; values(name=&#39;ed wood&#39;).\\</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; where(users.c.id == addresses.c.id).\\</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; where(addresses.c.email_address.startswith(&#39;ed%&#39;))</p>\r\n\r\n<p>conn.execute(stmt)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>7日志输出</p>\r\n\r\n<p>import logging</p>\r\n\r\n<p>logging.basicConfig()</p>\r\n\r\n<p>logging.getLogger(&#39;sqlalchemy.engine&#39;).setLevel(logging.INFO)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>from sqlalchemy import Column, String, create_engine</p>\r\n\r\n<p>from sqlalchemy.orm import sessionmaker</p>\r\n\r\n<p>from sqlalchemy.ext.declarative import declarative_base</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>ORM</p>\r\n\r\n<p># 创建对象的基类:</p>\r\n\r\n<p>Base = declarative_base()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 定义User对象:</p>\r\n\r\n<p>class User(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; # 表的名字:</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;user&#39;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; # 表的结构:</p>\r\n\r\n<p>&nbsp; &nbsp; id = Column(String(20),Sequence(&#39;seq_tramos_id&#39;, start=1, increment=1), primary_key=True)</p>\r\n\r\n<p>&nbsp; &nbsp; name = Column(String(20))</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 初始化数据库连接:</p>\r\n\r\n<p>engine = create_engine(&#39;mysql+mysqlconnector://root:password@localhost:3306/test&#39;)</p>\r\n\r\n<p># 创建DBSession类型:</p>\r\n\r\n<p>DBSession = sessionmaker(bind=engine)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#简单的sqlalchemy 与mysql连接交互 sql语句</p>\r\n\r\n<p>from sqlalchemy import create_engine&nbsp;</p>\r\n\r\n<p>engine = create_engine(&quot;mysql+pymysql://root:123@127.0.0.1:3306/t1&quot;, max_overflow=5)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 执行SQL</p>\r\n\r\n<p># cur = engine.execute(</p>\r\n\r\n<p>#&nbsp; &nbsp; &nbsp;&quot;INSERT INTO hosts (host, color_id) VALUES (&#39;1.1.1.22&#39;, 3)&quot;</p>\r\n\r\n<p># )</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 新插入行自增ID</p>\r\n\r\n<p># cur.lastrowid</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 执行SQL</p>\r\n\r\n<p># cur = engine.execute(</p>\r\n\r\n<p>#&nbsp; &nbsp; &nbsp;&quot;INSERT INTO hosts (host, color_id) VALUES(%s, %s)&quot;,[(&#39;1.1.1.22&#39;, 3),(&#39;1.1.1.221&#39;, 3),]</p>\r\n\r\n<p># )</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 执行SQL</p>\r\n\r\n<p># cur = engine.execute(</p>\r\n\r\n<p>#&nbsp; &nbsp; &nbsp;&quot;INSERT INTO hosts (host, color_id) VALUES (%(host)s, %(color_id)s)&quot;,</p>\r\n\r\n<p>#&nbsp; &nbsp; &nbsp;host=&#39;1.1.1.99&#39;, color_id=3</p>\r\n\r\n<p># )</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 执行SQL</p>\r\n\r\n<p># cur = engine.execute(&#39;select * from hosts&#39;)</p>\r\n\r\n<p># 获取第一行数据</p>\r\n\r\n<p># cur.fetchone()</p>\r\n\r\n<p># 获取第n行数据</p>\r\n\r\n<p># cur.fetchmany(3)</p>\r\n\r\n<p># 获取所有数据</p>\r\n\r\n<p># cur.fetchall()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>--------------------sqlalchemy +sessionmaker+declarative_base</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>from sqlalchemy.ext.declarative import declarative_base</p>\r\n\r\n<p>from sqlalchemy import Column, Integer, String, ForeignKey, UniqueConstraint, Index</p>\r\n\r\n<p>from sqlalchemy.orm import sessionmaker, relationship</p>\r\n\r\n<p>from sqlalchemy import create_engine</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>engine = create_engine(&#39;mysql+mysqldb://root:secret@localhost:3306/test&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>Base = declarative_base()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 创建单表</p>\r\n\r\n<p>class Users(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;users&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; id = Column(Integer,,Sequence(&#39;seq_tramos_id&#39;, start=1, increment=1), primary_key=True)</p>\r\n\r\n<p>&nbsp; &nbsp; name = Column(String(32))</p>\r\n\r\n<p>&nbsp; &nbsp; extra = Column(String(16))</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; __table_args__ = (</p>\r\n\r\n<p>&nbsp; &nbsp; UniqueConstraint(&#39;id&#39;, &#39;name&#39;, name=&#39;uix_id_name&#39;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; Index(&#39;ix_id_name&#39;, &#39;name&#39;, &#39;extra&#39;),</p>\r\n\r\n<p>&nbsp; &nbsp; )</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __repr__(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return &quot;%s-%s&quot; %(self.id, self.name)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 一对多</p>\r\n\r\n<p>class Favor(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;favor&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; nid = Column(Integer, Sequence(&#39;seq_tramos_id&#39;, start=1, increment=1),primary_key=True)</p>\r\n\r\n<p>&nbsp; &nbsp; caption = Column(String(50), default=&#39;red&#39;, unique=True)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; def __repr__(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; return &quot;%s-%s&quot; %(self.nid, self.caption)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Person(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;person&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; nid = Column(Integer, primary_key=True)</p>\r\n\r\n<p>&nbsp; &nbsp; name = Column(String(32), index=True, nullable=True)</p>\r\n\r\n<p>&nbsp; &nbsp; favor_id = Column(Integer, ForeignKey(&quot;favor.nid&quot;))</p>\r\n\r\n<p>&nbsp; &nbsp; # 与生成表结构无关，仅用于查询方便</p>\r\n\r\n<p>&nbsp; &nbsp; favor = relationship(&quot;Favor&quot;, backref=&#39;pers&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 多对多</p>\r\n\r\n<p>class ServerToGroup(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;servertogroup&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; nid = Column(Integer, primary_key=True, autoincrement=True)</p>\r\n\r\n<p>&nbsp; &nbsp; server_id = Column(Integer, ForeignKey(&#39;server.id&#39;))</p>\r\n\r\n<p>&nbsp; &nbsp; group_id = Column(Integer, ForeignKey(&#39;group.id&#39;))</p>\r\n\r\n<p>&nbsp; &nbsp; group = relationship(&quot;Group&quot;, backref=&#39;s2g&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; server = relationship(&quot;Server&quot;, backref=&#39;s2g&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Group(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;group&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; id = Column(Integer, primary_key=True)</p>\r\n\r\n<p>&nbsp; &nbsp; name = Column(String(64), unique=True, nullable=False)</p>\r\n\r\n<p>&nbsp; &nbsp; port = Column(Integer, default=22)</p>\r\n\r\n<p>&nbsp; &nbsp; # group = relationship(&#39;Group&#39;,secondary=ServerToGroup,backref=&#39;host_list&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>class Server(Base):</p>\r\n\r\n<p>&nbsp; &nbsp; __tablename__ = &#39;server&#39;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; id = Column(Integer, primary_key=True, autoincrement=True)</p>\r\n\r\n<p>&nbsp; &nbsp; hostname = Column(String(64), unique=True, nullable=False)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def init_db():</p>\r\n\r\n<p>&nbsp; &nbsp; Base.metadata.create_all(engine)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def drop_db():</p>\r\n\r\n<p>&nbsp; &nbsp; Base.metadata.drop_all(engine)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>Base.metadata.create_all(engine) #执行</p>\r\n\r\n<p>Session = sessionmaker(bind=engine)</p>\r\n\r\n<p>session = Session()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>-------------------------插入数据</p>\r\n\r\n<p>session.add_all([</p>\r\n\r\n<p>User(id=&#39;1&#39;, name=&#39;Bob&#39;)</p>\r\n\r\n<p>User(id=&#39;2&#39;, name=&#39;Bob&#39;)</p>\r\n\r\n<p>User(id=&#39;3&#39;, name=&#39;Bob&#39;)</p>\r\n\r\n<p>User(id=&#39;4&#39;, name=&#39;Bob&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>])</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>session.commit()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>jack = User(name=&#39;jack&#39;,fullname=&#39;jack bean&#39;)</p>\r\n\r\n<p>jack.addresses = [</p>\r\n\r\n<p>addresses(email_address=&#39;jack@qq.com&#39;),</p>\r\n\r\n<p>addresses(email_address=&#39;j25@aho.com&#39;)</p>\r\n\r\n<p>]</p>\r\n\r\n<p>session.add(jack)</p>\r\n\r\n<p>session.commit()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>for u,a in session.query(User,Address).\\</p>\r\n\r\n<p>filter(User.id==Address.user.id).\\</p>\r\n\r\n<p>filter(Address.email_address==&#39;jack@qq.ocm&#39;).\\</p>\r\n\r\n<p>all();</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print a,u</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># 创建session对象:</p>\r\n\r\n<p>session = DBSession()</p>\r\n\r\n<p># 创建新User对象:</p>\r\n\r\n<p>new_user = User(id=&#39;1&#39;, name=&#39;Bob&#39;)</p>\r\n\r\n<p># 添加到session:</p>\r\n\r\n<p>session.add(new_user)</p>\r\n\r\n<p># 提交即保存到数据库:</p>\r\n\r\n<p>session.commit()</p>\r\n\r\n<p># 关闭session:</p>\r\n\r\n<p>session.close()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>---查询</p>\r\n\r\n<p># 创建Session:</p>\r\n\r\n<p>session = DBSession()</p>\r\n\r\n<p># 创建Query查询，filter是where条件，最后调用one()返回唯一行，如果调用all()则返回所有行:</p>\r\n\r\n<p>user = session.query(User).filter(User.id==&#39;5&#39;).one()</p>\r\n\r\n<p>print(session.query(User).all())</p>\r\n\r\n<p>print( session.query(User).filter(User.name.in_([&#39;ed&#39;,&#39;jack&#39;])))</p>\r\n\r\n<p>print( session.query(User).filter(User.name == &#39;ed&#39;).count())</p>\r\n\r\n<p># 打印类型和对象的name属性:</p>\r\n\r\n<p>print &#39;type:&#39;, type(user)</p>\r\n\r\n<p>print &#39;name:&#39;, user.name</p>\r\n\r\n<p># 关闭Session:</p>\r\n\r\n<p>session.close()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>---------------------------------rabbitmq------------------------------------------------</p>\r\n\r\n<p>#发送者</p>\r\n\r\n<p>send.py的全部代码：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#!/usr/bin/env python</p>\r\n\r\n<p>import pika</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>connection = pika.BlockingConnection(pika.ConnectionParameters(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; host=&#39;localhost&#39;))</p>\r\n\r\n<p>channel = connection.channel()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>channel.queue_declare(queue=&#39;hello&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>channel.basic_publish(exchange=&#39;&#39;,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routing_key=&#39;hello&#39;,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; body=&#39;Hello World!&#39;)</p>\r\n\r\n<p>print &quot; [x] Sent &#39;Hello World!&#39;&quot;</p>\r\n\r\n<p>connection.close()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#消费者</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#!/usr/bin/env python</p>\r\n\r\n<p>import pika</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>connection = pika.BlockingConnection(pika.ConnectionParameters(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; host=&#39;localhost&#39;))</p>\r\n\r\n<p>channel = connection.channel()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>channel.queue_declare(queue=&#39;hello&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>print &#39; [*] Waiting for messages. To exit press CTRL+C&#39;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>def callback(ch, method, properties, body):</p>\r\n\r\n<p>&nbsp; &nbsp; print &quot; [x] Received %r&quot; % (body,)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>channel.basic_consume(callback,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; queue=&#39;hello&#39;,</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; no_ack=True)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>channel.start_consuming()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>#例子一</p>\r\n\r\n<p>##获取虚拟机网卡流量</p>\r\n\r\n<p>#!/usr/bin/env python&nbsp;&nbsp;</p>\r\n\r\n<p>#coding:utf-8</p>\r\n\r\n<p>import time</p>\r\n\r\n<p>import re</p>\r\n\r\n<p>import os</p>\r\n\r\n<p>import datetime</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>date=time.strftime(&#39;%Y-%m-%d&#39;)</p>\r\n\r\n<p>nowtime=time.strftime(&#39;%H:%M:%S&#39;)</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>filename=str(datetime.datetime.now()).replace(&#39; &#39;,&#39;-&#39;).replace(&#39;:&#39;,&#39;-&#39;)</p>\r\n\r\n<p>class GetVhostData(object):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; @staticmethod</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; def get_vnet_data():</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net=[]</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message=os.popen(&#39;cat /proc/net/dev|grep vnet&#39;).read()&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if message==&quot;&quot;:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print &quot;不存在vnet网卡，无法统计流量&quot;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name=message.split(&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i=len(name)-1</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while i&gt;0:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i=i-1</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; con=name[i].split()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intf = dict(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; zip(</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ( &#39;Type&#39;,&#39;ReceiveBytes&#39;,&#39;Date&#39;,&#39;Nowtime&#39;,&#39;Interval&#39;,&#39;Area&#39;,&#39;Channel&#39;,&#39;TransmitBytes&#39;,&#39;ip&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;),</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ( con[0].rstrip(&quot;:&quot;),int(con[1]),date,nowtime,&#39;60&#39;,&#39;-&#39;,&#39;-&#39;,int(con[9]),&#39;-&#39;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.append(intf)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return net</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; def vhost_flow_data_write(self):</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result=self.get_vnet_data()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while result:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filename=str(datetime.datetime.now()).replace(&#39; &#39;,&#39;-&#39;).replace(&#39;:&#39;,&#39;-&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for data in result:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print data</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f=open(&#39;/tmp/%s&#39;%(filename), &#39;a&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#ip地址&#39;+data[&#39;ip&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#Type:&#39;+data[&#39;Type&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#Date:&#39;+data[&#39;Date&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#Interval:&#39;+data[&#39;Interval&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#Channel:&#39;+data[&#39;Channel&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#Area:&#39;+data[&#39;Area&#39;]+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#ReceiveBytes:&#39;+str(data[&#39;ReceiveBytes&#39;])+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.write(&#39;#TransmitBytes:&#39;+str(data[&#39;TransmitBytes&#39;])+&#39;\\n&#39;)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.close()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time.sleep(60)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result=self.get_vnet_data()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>if __name__ == &quot;__main__&quot;:</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; getdata=GetVhostData()</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; getdata.vhost_flow_data_write()</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>基于python3.0编程，博主python学习笔记 无私分享，请大家好好学习，尊重别人学习成果。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n','medias/document/20170209130422_Broods.txt','upload_imgss/666666666.jpg','http://www.askeds.com/server',3,0,0,'2017-12-27 09:11:04',3,2,1,0,1),(16,'CRM工具简介','pacemaker是高可用集群中的CRM（Cluster Resource Manager）资源管理层，他是一个服务，可以作为一个单独的服务启动，不过在如果使用corosync1.4中，我们可以设置corosync来启动pacemaker。pacemaker的配置接口可以在任意节点上安装crmsh或者pcs还有一些GUI界面的软件来完成。crmsh在Redhat6.4以后不是官方自带的，官方默认使用的pcs，crm是OpenSUSE的开源项目，所以如果需要还是用crm的话还需要去OpenSUSE源中下载。','<h1>CRM工具简介</h1>\r\n\r\n<p>原创&nbsp;2017年06月18日 22:24:31</p>\r\n\r\n<ul>\r\n	<li>标签：</li>\r\n	<li><a href=\"http://so.csdn.net/so/search/s.do?q=crm&amp;t=blog\" target=\"_blank\">crm</a></li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>1137</li>\r\n</ul>\r\n\r\n<p>pacemaker是高可用集群中的CRM（Cluster Resource Manager）资源管理层，他是一个服务，可以作为一个单独的服务启动，不过在如果使用corosync1.4中，我们可以设置corosync来启动pacemaker。pacemaker的配置接口可以在任意节点上安装crmsh或者pcs还有一些GUI界面的软件来完成。crmsh在Redhat6.4以后不是官方自带的，官方默认使用的pcs，crm是OpenSUSE的开源项目，所以如果需要还是用crm的话还需要去OpenSUSE源中下载。</p>\r\n\r\n<h1>CRM下载源</h1>\r\n\r\n<p>crmsh依赖于pssh，pssh在epel源中也有下载，这里给出crmsh的下载源：&nbsp;<br />\r\ncentos7的源：<a href=\"http://download.opensuse.org/repositories/network:/ha-clustering:/Stable/CentOS_CentOS-7/network:ha-clustering:Stable.repo\" target=\"_blank\">http://download.opensuse.org/repositories/network:/ha-clustering:/Stable/CentOS_CentOS-7/network:ha-clustering:Stable.repo</a></p>\r\n\r\n<pre>\r\n<code>[network_ha-clustering_Stable]\r\nname=Stable High Availability/Clustering packages (CentOS_CentOS-7)\r\ntype=rpm-md\r\nbaseurl=http://download.opensuse.org/repositories/network:/ha-clustering:/Stable/CentOS_CentOS-7/\r\ngpgcheck=1\r\ngpgkey=http://download.opensuse.org/repositories/network:/ha-clustering:/Stable/CentOS_CentOS-7//repodata/repomd.xml.key\r\nenabled=1</code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n	<li>4</li>\r\n	<li>5</li>\r\n	<li>6</li>\r\n	<li>7</li>\r\n</ul>\r\n\r\n<h1>CRM命令帮助</h1>\r\n\r\n<p>在pacemaker1.0之后，pacemaker有了一个继承的校本化的集群控制shell，他把麻烦的XML配置隐藏起来，允许你一次做出许多修改并且自动提交（检测是否合法）。&nbsp;<br />\r\n监控集群状态的主要命了是crm_mon（这个和crm status是一样的效果）。它可以运行在很多模式下并且有许多输出选项。如果要查看pacemaker相应的工具，可以通过&ndash;help或者man pages来查看。这些输出都是靠命令来生成的，所以他总是会在各个节点和工具之间同步。此外，pacemaker的版本和至此的stack可以通过&ndash;version选项看到。</p>\r\n\r\n<p>本次试验中所安装的pacemaker如下：</p>\r\n\r\n<pre>\r\n<code>[root@node-1 ~]# crm_mon --version\r\nPacemaker 1.1.15-11.el7_3.4\r\nWritten by Andrew Beekho\r\n\r\ncrm_mon --help\r\ncrm_mon - Provides a summary of cluster&#39;s current state.\r\n\r\nOutputs varying levels of detail in a number of different formats.\r\n\r\nUsage: crm_mon mode [options]\r\nOptions:\r\n -?, --help        This text\r\n -$, --version        Version information\r\n -V, --verbose        Increase debug output\r\n -Q, --quiet        Display only essential output\r\n\r\nModes:\r\n -h, --as-html=value        Write cluster status to the named html file\r\n -X, --as-xml            Write cluster status as xml to stdout. This will enable one-shot mode.\r\n -w, --web-cgi            Web mode with output suitable for cgi\r\n -s, --simple-status        Display the cluster status once as a simple one line output (suitable for nagios)\r\n\r\nDisplay Options:\r\n -n, --group-by-node        Group resources by node\r\n -r, --inactive            Display inactive resources\r\n -f, --failcounts        Display resource fail counts\r\n -o, --operations        Display resource operation history\r\n -t, --timing-details        Display resource operation history with timing details\r\n -c, --tickets            Display cluster tickets\r\n -W, --watch-fencing        Listen for fencing events. For use with --external-agent, --mail-to and/or --snmp-traps where supported\r\n -L, --neg-locations[=value]    Display negative location constraints [optionally filtered by id prefix]\r\n -A, --show-node-attributes    Display node attributes\r\n -D, --hide-headers        Hide all headers\r\n -R, --show-detail        Show more details (node IDs, individual clone instances)\r\n -b, --brief            Brief output\r\n -j, --pending            Display pending state if &#39;record-pending&#39; is enabled\r\n\r\nAdditional Options:\r\n -i, --interval=value        Update frequency in seconds\r\n -1, --one-shot            Display the cluster status once on the console and exit\r\n -N, --disable-ncurses        Disable the use of ncurses\r\n -d, --daemonize        Run in the background as a daemon\r\n -p, --pid-file=value        (Advanced) Daemon pid file location\r\n -E, --external-agent=value    A program to run when resource operations take place.\r\n -e, --external-recipient=value    A recipient for your program (assuming you want the program to send something to someone).\r\n\r\nExamples:\r\n\r\nDisplay the cluster status on the console with updates as they occur:\r\n\r\n    # crm_mon\r\n\r\nDisplay the cluster status on the console just once then exit:\r\n\r\n    # crm_mon -1\r\n\r\nDisplay your cluster status, group resources by node, and include inactive resources in the list:\r\n\r\n    # crm_mon --group-by-node --inactive\r\n\r\nStart crm_mon as a background daemon and have it write the cluster status to an HTML file:\r\n\r\n    # crm_mon --daemonize --as-html /path/to/docroot/filename.html\r\n\r\nStart crm_mon and export the current cluster status as xml to stdout, then exit.:\r\n\r\n    # crm_mon --as-xml</code></pre>\r\n\r\n<p>如果SNMP或者email的选项没有出现在选项中，说明pacemaker编译的时候没有打开对他们的支持，你需要联系提供这个发行版的人，或者自己编译。</p>\r\n\r\n<h1>CRM命令详解</h1>\r\n\r\n<h2>crm有两种工作方式</h2>\r\n\r\n<p>1，批处理模式,就是在shell命令行中直接输入命令&nbsp;<br />\r\n2，交互式模式（crm(live)#）进入到crmsh中交互执行</p>\r\n\r\n<h2>二，命令详解</h2>\r\n\r\n<p>ps：这里笔者找到了网上允许转载的详细博文中整合了个人觉得算是解释的比较全面的命令详解，有兴趣的朋友不妨拷贝下来放到自己的记事本里以备不时之需。</p>\r\n\r\n<h3>一级子命令</h3>\r\n\r\n<pre>\r\n<code>[root@node-1 corosync]# crm  \r\ncrm(live)# help  \r\nThis is crm shell, a Pacemaker command line interface.  \r\nAvailable commands:  \r\n    cib              manage shadow CIBs //cib沙盒  \r\n    resource         resources management //所有的资源都在这个子命令后定义  \r\n    configure        CRM cluster configuration //编辑集群配置信息  \r\n    node             nodes management //集群节点管理子命令  \r\n    options          user preferences //用户优先级  \r\n    history          CRM cluster history //命令历史记录  \r\n    site             Geo-cluster support  \r\n    ra               resource agents information center //资源代理子命令（所有与资源代理相关的程都在此命令之下）  \r\n    status           show cluster status //显示当前集群的状态信息  \r\n    help,?           show help (help topics for list of topics)//查看当前区域可能的命令  \r\n    end,cd,up        go back one level //返回第一级crm(live)  \r\n    quit,bye,exit    exit the program //退出crm（live）交互模式 </code></pre>\r\n\r\n<h3>resource资源状态控制子命令</h3>\r\n\r\n<pre>\r\n<code>crm(live)resource# help  \r\nvailable commands:  \r\n        status           show status of resources //显示资源状态信息  \r\n        start            start a resource //启动一个资源  \r\n        stop             stop a resource //停止一个资源  \r\n        restart          restart a resource //重启一个资源  \r\n        promote          promote a master-slave resource //提升一个主从资源  \r\n        demote           demote a master-slave resource //降级一个主从资源  \r\n        manage           put a resource into managed mode  //将一个资源加入到管理模式下  \r\n        unmanage         put a resource into unmanaged mode  //从管理模式下去除一个资源  \r\n        migrate          migrate a resource to another node //将资源迁移到另一个节点上  \r\n        unmigrate        unmigrate a resource to another node  \r\n        param            manage a parameter of a resource //管理资源的参数  \r\n        secret           manage sensitive parameters //管理敏感参数  \r\n        meta             manage a meta attribute //管理源属性  \r\n        utilization      manage a utilization attribute  \r\n        failcount        manage failcounts //管理失效计数器  \r\n        cleanup          cleanup resource status //清理资源状态  \r\n        refresh          refresh CIB from the LRM status //从LRM（LRM本地资源管理）更新CIB（集群信息库），在  \r\n        reprobe          probe for resources not started by the CRM //探测在CRM中没有启动的资源  \r\n        trace            start RA tracing //启用资源代理（RA）追踪  \r\n        untrace          stop RA tracing //禁用资源代理（RA）追踪  \r\n        help             show help (help topics for list of topics) //显示帮助  \r\n        end              go back one level //返回一级（crm(live)#）  \r\n        quit             exit the program //退出交互式程序  </code></pre>\r\n\r\n<h3>configure资源定义子命令</h3>\r\n\r\n<pre>\r\n<code>crm(live)configure# help  \r\nAvailable commands:  \r\n        node             define a cluster node //定义一个集群节点  \r\n        primitive        define a resource //定义资源  \r\n        monitor          add monitor operation to a primitive //对一个资源添加监控选项（如超时时间，启动失败后的操作）  \r\n        group            define a group //定义一个组类型（将多个资源整合在一起）  \r\n        clone            define a clone //定义一个克隆类型（可以设置总的克隆数，每一个节点上可以运行几个克隆）  \r\n        ms               define a master-slave resource //定义一个主从类型（集群内的节点只能有一个运行主资源，其它从的做备用）  \r\n        rsc_template     define a resource template //定义一个资源模板  \r\n        location         a location preference //定义位置约束优先级（默认运行于那一个节点（如果位置约束的值相同，默认倾向性那一个高，就在那一个节点上运行））  \r\n        colocation       colocate resources //排列约束资源（多个资源在一起的可能性）  \r\n        order            order resources //资源的启动的先后顺序  \r\n        rsc_ticket       resources ticket dependency  \r\n        property         set a cluster property //设置集群属性  \r\n        rsc_defaults     set resource defaults //设置资源默认属性（粘性）  \r\n        fencing_topology node fencing order //隔离节点顺序  \r\n        role             define role access rights //定义角色的访问权限  \r\n        user             define user access rights //定义用用户访问权限  \r\n        op_defaults      set resource operations defaults //设置资源默认选项  \r\n        schema           set or display current CIB RNG schema  \r\n        show             display CIB objects //显示集群信息库对  \r\n        edit             edit CIB objects //编辑集群信息库对象（vim模式下编辑）  \r\n        filter           filter CIB objects //过滤CIB对象  \r\n        delete           delete CIB objects //删除CIB对象  \r\n        default-timeouts set timeouts for operations to minimums from the meta-data  \r\n        rename           rename a CIB object //重命名CIB对象  \r\n        modgroup         modify group //改变资源组  \r\n        refresh          refresh from CIB //重新读取CIB信息  \r\n        erase            erase the CIB //清除CIB信息  \r\n        ptest            show cluster actions if changes were committed  \r\n        rsctest          test resources as currently configured  \r\n        cib              CIB shadow management  \r\n        cibstatus        CIB status management and editing    //cib状态管理和编辑  \r\n        template         edit and import a configuration from a template   //编辑或导入配置模板  \r\n        commit           commit the changes to the CIB //将更改后的信息提交写入CIB  \r\n        verify           verify the CIB with crm_verify //CIB语法验证  \r\n        upgrade          upgrade the CIB to version 1.0 //升级CIB到1.0  \r\n        save             save the CIB to a file //将当前CIB导出到一个文件中（导出的文件存于切换crm 之前的目录）  \r\n        load             import the CIB from a file //从文件内容载入CIB  \r\n        graph            generate a directed graph  \r\n        xml              raw xml  \r\n        help             show help (help topics for list of topics) //显示帮助信息  \r\n        end              go back one level //回到第一级(crm(live)#)  \r\n        quit             exit the program  //退出crm交互模式  </code></pre>\r\n\r\n<h3>node节点管理子命令</h3>\r\n\r\n<pre>\r\n<code>crm(live)# node  \r\ncrm(live)node# help  \r\nNode management and status commands.  \r\nAvailable commands:  \r\n    status           show nodes status as XML //以xml格式显示节点状态信息  \r\n    show             show node //命令行格式显示节点状态信息  \r\n    standby          put node into standby //模拟指定节点离线（standby在后面必须的FQDN）  \r\n    online           set node online // 节点重新上线  \r\n    maintenance      put node into maintenance mode  //将一个节点状态改为maintenance  \r\n    ready            put node into ready mode   //将一个节点状态改为ready  \r\n    fence            fence node //隔离节点  \r\n    clearstate       Clear node state //清理节点状态信息  \r\n    delete           delete node //删除 一个节点  \r\n    attribute        manage attributes  \r\n    utilization      manage utilization attributes  \r\n    status-attr      manage status attributes  \r\n    help             show help (help topics for list of topics)  \r\n    end              go back one level  //回到上一次  \r\n    quit             exit the program    //退出  </code></pre>\r\n\r\n<h3>ra资源代理子命令</h3>\r\n\r\n<pre>\r\n<code>crm(live)# ra  \r\ncrm(live)ra# help  \r\nAvailable commands:  \r\n        classes          list classes and providers //为资源代理分类  \r\n        list             list RA for a class (and provider)//显示一个类别中的提供的资源  \r\n        meta             show meta data for a RA //显示一个资源代理序的可用参数（如meta ocf:heartbeat:IPaddr2）  \r\n        providers        show providers for a RA and a class  \r\n        help             show help (help topics for list of topics)  \r\n        end              go back one level  \r\n        quit             exit the program</code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n	<li>4</li>\r\n	<li>5</li>\r\n	<li>6</li>\r\n	<li>7</li>\r\n	<li>8</li>\r\n	<li>9</li>\r\n	<li>10</li>\r\n</ul>\r\n\r\n<h1>实例</h1>\r\n\r\n<h2>系统资源查看</h2>\r\n\r\n<pre>\r\n<code>crm(live)ra# classes   //系统所使用的资源代理  \r\nlsb  \r\nocf / heartbeat pacemaker  \r\nservice  \r\nstonith  </code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n	<li>4</li>\r\n	<li>5</li>\r\n</ul>\r\n\r\n<h2>默认系统资源列表</h2>\r\n\r\n<pre>\r\n<code>crm(live)ra# list ocf   //列表默认系统资源  \r\nCTDB               ClusterMon         Delay              Dummy              Filesystem         HealthCPU  \r\nIPaddr             IPaddr2            IPsrcaddr          HealthCPU          HealthSMART        HealthSMART  \r\nLVM                MailTo             Route              SendArp            Squid  \r\nStateful           SysInfo            SystemHealth       VirtualDomain      Xinetd  \r\napache             conntrackd         controld           db2                dhcpd  \r\nethmonitor         exportfs           iSCSILogicalUnit   mysql              named  \r\nnfsnotify          nfsserver          pgsql              ping               pingd  \r\npostfix            remote             rsyncd             symlink            tomcat  </code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n	<li>4</li>\r\n	<li>5</li>\r\n	<li>6</li>\r\n	<li>7</li>\r\n	<li>8</li>\r\n	<li>9</li>\r\n</ul>\r\n\r\n<h2>查看外加的系统资源</h2>\r\n\r\n<pre>\r\n<code>crm(live)ra# list lsb  //列表外加的系统资源  \r\nNetworkManager     abrt-ccpp          abrt-oops          abrtd              acpid  \r\natd                auditd             autofs             blk-availability   certmonger  \r\ncorosync           corosync-notifyd   cpuspeed           crond              cups  \r\ndnsmasq            firstboot          haldaemon          halt               hsqldb  \r\nip6tables          iptables           irqbalance         jexec              kdump  \r\nkillall            lvm2-lvmetad       lvm2-monitor       mdmonitor          messagebus  \r\nmysqld             netconsole         netfs              network            nfs  \r\nnfslock            nginx              nmb                ntpd               ntpdate  \r\noddjobd            openfire           pacemaker          php-fpm            portreserve  \r\npostfix            psacct             quota_nld          rdisc              redis  \r\nrestorecond        rngd               rpcbind            rpcgssd            rpcidmapd  \r\nrpcsvcgssd         rsyslog            sandbox            saslauthd          single  \r\nslapd              smartd             smb                snmpd              snmptrapd  \r\nspice-vdagentd     sshd               sssd               sysstat            udev-post  \r\nvsftpd             wdaemon            winbind            wpa_supplicant     ypbind  </code></pre>\r\n\r\n<h2>查看系统资源的参数</h2>\r\n\r\n<p>crm(live)ra# meta ocf:heartbeat:IPaddr //查看系统资源IPaddr的参数&nbsp;<br />\r\nManages virtual IPv4 and IPv6 addresses (Linux specific version) (ocf:heartbeat:IPaddr)</p>\r\n\r\n<p>This Linux-specific resource manages IP alias IP addresses.&nbsp;<br />\r\nIt can add an IP alias, or remove one.&nbsp;<br />\r\nIn addition, it can implement Cluster Alias IP functionality&nbsp;<br />\r\nif invoked as a clone resource.</p>\r\n\r\n<p>If used as a clone, you should explicitly set clone-node-max &gt;= 2,&nbsp;<br />\r\nand/or clone-max &lt; number of nodes. In case of node failure,&nbsp;<br />\r\nclone instances need to be re-allocated on surviving nodes.&nbsp;<br />\r\nThis would not be possible if there is already an instance on those nodes,&nbsp;<br />\r\nand clone-node-max=1 (which is the default).</p>\r\n\r\n<p>Parameters (*: required, []: default):</p>\r\n\r\n<p>ip* (string): IPv4 or IPv6 address&nbsp;<br />\r\nThe IPv4 (dotted quad notation) or IPv6 address (colon hexadecimal notation)&nbsp;<br />\r\nexample IPv4 &ldquo;192.168.1.1&rdquo;.&nbsp;<br />\r\nexample IPv6 &ldquo;2001:db8:DC28:0:0:FC57:D4C8:1FFF&rdquo;.</p>\r\n\r\n<h2>属性修改</h2>\r\n\r\n<pre>\r\n<code>crm(live)configure# property stonith-enabled=false //禁用stonith-enable  \r\n\r\ncrm(live)configure# property no-quorum-policy=ignore //忽略投票规则  </code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n</ul>\r\n\r\n<h2>定义一资源所使用的命令</h2>\r\n\r\n<pre>\r\n<code>/** \r\n * primitive:定义一资源所使用的命令 \r\n * webip:为资源起一个名字 \r\n * ocf:heartbeat;IPaddr：所使用资源代理的类别，由谁提供的那一个代理程序 \r\n * op monitor 对webip做监控 \r\n * interval:间隔时间 \r\n * timeout：超时时间 \r\n * on-fail：失败自起 \r\n */  \r\ncrm(live)configure# primitive webip ocf:heartbeat:IPaddr params ip=192.168.10.130 op monitor interval=30s timeout=20s on-fail=restart  </code></pre>\r\n\r\n<p>crm(live)configure# primitive nginx_res lsb:nginx //那些在/etc/init.d/*的脚本就是属于lsb的&nbsp;<br />\r\nparams后面的参数，可以通过meta命令来查找，不同的系统资源参数是不一样的。</p>\r\n\r\n<h2>定义排列约束</h2>\r\n\r\n<pre>\r\n<code>/** \r\n * 定义排列约束 \r\n * colocation：排列约束命令 \r\n * nginx_web : 约束名 \r\n * inf:#(可能性，inf表示永久在一起，也可以是数值) \r\n * webip nginx_res：#资源名称 \r\n */  \r\ncrm(live)configure# colocation nginx_web inf: nginx_res webip  </code></pre>\r\n\r\n<h2>定义资源启动顺序</h2>\r\n\r\n<pre>\r\n<code>/** \r\n * 定义资源启动顺序 \r\n * order : 顺序约束的命令 \r\n * nginx_after_ip : 约束ID \r\n * mandatory: #指定级别（此处有三种级别：mandatory：强制， Optional：可选，Serialize：序列化） \r\n * webip nginx_res：#资源名称,这里书写的先后顺序相当重要 \r\n */  \r\ncrm(live)configure# order nginx_after_ip mandatory: webip nginx_res  </code></pre>\r\n\r\n<h2>定义节点权重</h2>\r\n\r\n<pre>\r\n<code>/** \r\n * 定义节点权重 \r\n * location：节点权重命令 \r\n * webip_and_webnfs_and_webserver：约束名称 \r\n * webip 500: node1：webip这个资源的node1节点的权重是500 \r\n */  \r\ncrm(live)configure# location webip_and_webnfs_and_webserver webip 500: node1  \r\n</code>定义默认资源属性</pre>\r\n\r\n<pre>\r\n<code>/** \r\n * 定义默认资源属性 \r\n * rsc_defaults：默认资源 \r\n * 这样定义代表集群中每一个资源的默认权重，只有当资源服务不在当前节点时，权重才会生效，比如，这里我定义了三个资源webip、webnfs、webserver，对每一个资源的权重为100，那么加在一起就变成了300,之前己经定义node1的位置约束的值为500，当node1宕机后，重新上线，这样就切换到node1上了。 \r\n */  \r\ncrm(live)configure# rsc_defaults resource-stickiness=100  </code></pre>\r\n\r\n<ul>\r\n	<li>1</li>\r\n	<li>2</li>\r\n	<li>3</li>\r\n	<li>4</li>\r\n	<li>5</li>\r\n	<li>6</li>\r\n</ul>\r\n\r\n<h2>删除资源或者节点</h2>\r\n\r\n<pre>\r\n<code>crm(live)configure# delete nginx_res  //删除一个资源，约束，排序，组等  \r\ncrm(live)node# delete node1  //删除一个节  </code></pre>\r\n\r\n<h2>资源其他</h2>\r\n\r\n<pre>\r\n<code>crm(live)configure# verify //审核  \r\ncrm(live)configure# commit //提交  \r\ncrm(live)configure# show //显示  </code></pre>\r\n\r\n<h2>&nbsp;</h2>\r\n\r\n<pre>\r\n<code>crm(live)node# standby node1   //节点挂起  \r\ncrm(live)node# online node1    //节点上线 \r\n</code></pre>\r\n\r\n<p>版权声明：本文为博主原创文章，未经博主允许不得转载。Bob Hou: http://blog.csdn.net/minxihou</p>\r\n','medias/document/20170209130422_Broods.txt','upload_imgss/2_dosGGaI.jpg','http://www.askeds.com/server',1,0,0,'2017-12-29 05:50:23',1,14,1,0,1),(17,'快速入门SaltStack','导读	SaltStack是基于Python开发的一套C/S架构配置管理工具（功能不仅仅是配置管理，如使用salt-cloud配置AWS EC2实例），它的底层使用ZeroMQ消息队列pub/sub方式通信，使用SSL证书签发的方式进行认证管理。号称世界上最快的消息队列ZeroMQ使得SaltStack能快速在成千上万台机器上进行各种操作。','<p>&nbsp;</p>\r\n\r\n<table>\r\n	<tbody>\r\n		<tr>\r\n			<td>导读</td>\r\n			<td><strong>SaltStack是基于Python开发的一套C/S架构配置管理工具（功能不仅仅是配置管理，如使用salt-cloud配置AWS EC2实例），它的底层使用ZeroMQ消息队列pub/sub方式通信，使用SSL证书签发的方式进行认证管理。号称世界上最快的消息队列ZeroMQ使得SaltStack能快速在成千上万台机器上进行各种操作。</strong></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>而且采用RSA Key方式确认身份，传输采用AES加密，这使得它的安全性得到了保障。SaltStack经常被描述为Func加强版+Puppet精简版。</p>\r\n\r\n<p><strong>为什么选择SaltStack？</strong></p>\r\n\r\n<p>目前市场上主流的开源自动化配置管理工具有puppet、chef、ansible、saltstack等等。到底选择那个比较好？可以从以下几方面考虑：</p>\r\n\r\n<p><strong>语言的选择（puppet/chef vs ansible/saltstack）</strong></p>\r\n\r\n<p>Puppet、Chef基于Ruby开发，ansible、saltstack基于python开发的</p>\r\n\r\n<p>运维开发语言热衷于python（后期可做二次开发），排除Puppet、Chef</p>\r\n\r\n<p><strong>速度的选择 (ansible vs saltstack)</strong></p>\r\n\r\n<p>ansible基于ssh协议传输数据，SaltStack使用消息队列zeroMQ传输数据。从网上数据来看，SaltStack比ansible快大约40倍。</p>\r\n\r\n<p>对比ansible，Saltstack缺点是需要安装客户端。为了速度建议选择SaltStack</p>\r\n\r\n<p>SaltStack github地址：<a href=\"https://blog.linuxeye.com/wp-content/themes/begin/inc/go.php?url=https://github.com/saltstack/salt\" target=\"_blank\">https://github.com/saltstack/salt</a></p>\r\n\r\n<p>SaltStack官网文档地址：<a href=\"https://blog.linuxeye.com/wp-content/themes/begin/inc/go.php?url=https://docs.saltstack.com\" target=\"_blank\">https://docs.saltstack.com</a></p>\r\n\r\n<p><strong>SaltStack架构</strong></p>\r\n\r\n<p>在SaltsStack架构中服务端叫作Master，客户端叫作Minion，都是以守护进程的模式运行，一直监听配置文件中定义的ret_port（saltstack客户端与服务端通信的端口，负责接收客户端发送过来的结果，默认4506端口）和publish_port（saltstack的消息发布系统，默认4505端口）的端口。当Minion运行时会自动连接到配置文件中定义的Master地址ret_port端口进行连接认证。</p>\r\n\r\n<h2>&nbsp;</h2>\r\n\r\n<ol start=\"1\">\r\n	<li>Master：控制中心,salt命令运行和资源状态管理</li>\r\n	<li>Minion&nbsp;:&nbsp;需要管理的客户端机器,会主动去连接Mater端,并从Master端得到资源状态</li>\r\n	<li>信息,同步资源管理信息</li>\r\n	<li>States：配置管理的指令集</li>\r\n	<li>Modules：在命令行中和配置文件中使用的指令模块,可以在命令行中运行</li>\r\n	<li>Grains：minion端的变量,静态的</li>\r\n	<li>Pillar：minion端的变量,动态的比较私密的变量,可以通过配置文件实现同步minions定义</li>\r\n	<li>highstate：为minion端下发永久添加状态,从sls配置文件读取.即同步状态配置</li>\r\n	<li>salt_schedule：会自动保持客户端配置</li>\r\n</ol>\r\n\r\n<p><strong>SaltStack安装配置</strong></p>\r\n\r\n<p>默认以CentOS6为例，采用yum安装，还有其它安装方式，如pip、源码、salt-bootstrap</p>\r\n\r\n<p><strong>EPEL源配置</strong></p>\r\n\r\n<pre>\r\nrpm&nbsp;-ivh&nbsp;https://mirrors.tuna.tsinghua.edu.cn/epel/epel-release-latest-6.noarch.rpm\r\n</pre>\r\n\r\n<p><strong>安装、配置管理端(master)</strong></p>\r\n\r\n<pre>\r\nyum&nbsp;-y&nbsp;install&nbsp;salt-master\r\nservice&nbsp;salt-master&nbsp;start\r\n</pre>\r\n\r\n<p>注：需要iptables开启master端4505、4506端口</p>\r\n\r\n<p><strong>安装被管理端</strong></p>\r\n\r\n<pre>\r\nyum&nbsp;-y&nbsp;install&nbsp;salt-minion\r\nsed&nbsp;-i&nbsp;&#39;s@#manster:.*@manster:&nbsp;master_ipaddress@&#39;&nbsp;/etc/salt/minion&nbsp;&nbsp;#master_ipaddress为管理端IP\r\necho&nbsp;10.252.137.141&nbsp;&gt;&nbsp;/etc/salt/minion_id&nbsp;#个人习惯使用IP，默认主机名\r\nservice&nbsp;salt-minion&nbsp;start\r\n</pre>\r\n\r\n<p><strong>Master与Minion认证</strong></p>\r\n\r\n<p>minion在第一次启动时，会在/etc/salt/pki/minion/（该路径在/etc/salt/minion里面设置）下自动生成minion.pem（private key）和 minion.pub（public key），然后将 minion.pub发送给master。master在接收到minion的public key后，通过salt-key命令accept minion public key，这样在master的/etc/salt/pki/master/minions下的将会存放以minion id命名的 public key，然后master就能对minion发送指令了。<br />\r\n认证命令如下：</p>\r\n\r\n<pre>\r\n[root@10.252.137.14 ~]# salt-key -L    #查看当前证书签证情况\r\nAccepted Keys:\r\nUnaccepted Keys:\r\n10.252.137.141\r\nRejected Keys:\r\n[root@10.252.137.14 ~]# salt-key -A -y   #同意签证所有没有接受的签证情况\r\nThe following keys are going to be accepted:\r\nUnaccepted Keys:\r\n10.252.137.141\r\nKey for minion 10.252.137.141 accepted.\r\n[root@10.252.137.14 ~]# salt-key -L\r\nAccepted Keys:\r\n10.252.137.141\r\nUnaccepted Keys:\r\nRejected Keys:\r\n</pre>\r\n\r\n<p><strong>SaltStack远程执行</strong></p>\r\n\r\n<pre>\r\n[root@10.252.137.14 ~]# salt &#39;*&#39; test.ping\r\n10.252.137.141:\r\nTrue\r\n[root@10.252.137.14 ~]# salt &#39;*&#39; cmd.run &#39;ls -al&#39;\r\n10.252.137.141:\r\ntotal 40\r\ndrwx------  4 root root 4096 Sep  7 15:01 .\r\ndrwxr-xr-x 22 root root 4096 Sep  3 22:10 ..\r\n-rw-------  1 root root  501 Sep  7 14:49 .bash_history\r\n-rw-r--r--  1 root root 3106 Feb 20  2014 .bashrc\r\ndrwx------  2 root root 4096 Jan 30  2015 .cache\r\ndrwxr-xr-x  2 root root 4096 Apr 22 13:57 .pip\r\n-rw-r--r--  1 root root  140 Feb 20  2014 .profile\r\n-rw-r--r--  1 root root   64 Apr 22 13:57 .pydistutils.cfg\r\n-rw-------  1 root root 4256 Sep  7 15:01 .viminfo\r\n</pre>\r\n\r\n<p>salt执行命令的格式如下：</p>\r\n\r\n<pre>\r\nsalt &#39;&#39;  [arguments]\r\n</pre>\r\n\r\n<p>target：执行salt命令的目标，可以使用正则表达式</p>\r\n\r\n<p>function：方法，由module提供</p>\r\n\r\n<p>arguments：function的参数</p>\r\n\r\n<p><strong>target可以是以下内容：</strong></p>\r\n\r\n<p>1. 正则表达式</p>\r\n\r\n<pre>\r\nsalt -E &#39;Minion*&#39; test.ping  #主机名以Minion开通\r\n</pre>\r\n\r\n<p>2. 列表匹配</p>\r\n\r\n<pre>\r\nsalt -L Minion,Minion1 test.ping\r\n</pre>\r\n\r\n<p>3. Grians匹配</p>\r\n\r\n<pre>\r\nsalt -G &#39;os:CentOS&#39; test.ping\r\n</pre>\r\n\r\n<p>os:CentOS（默认存在）是Grains的键值对，数据以yaml保存在minion上，可在minion端直接编辑/etc/salt/grains，yaml格式。或者在master端执行salt &#39;*&#39; grains.setval key &quot;{&#39;sub-key&#39;: &#39;val&#39;, &#39;sub-key2&#39;: &#39;val2&#39;}&quot; ,具体文档（命令salt * sys.doc grains查看文档）</p>\r\n\r\n<p>4. 组匹配</p>\r\n\r\n<pre>\r\nsalt -N groups test.ping\r\n</pre>\r\n\r\n<p>如，在master新建/etc/salt/master.d/nodegroups.conf ，yaml格式</p>\r\n\r\n<p>5. 复合匹配</p>\r\n\r\n<pre>\r\nsalt -C &#39;G@os:CentOS or L@Minion&#39; test.ping\r\n</pre>\r\n\r\n<p>6. Pillar值匹配</p>\r\n\r\n<pre>\r\nsalt -I &#39;key:value&#39; test.ping\r\n</pre>\r\n\r\n<p>/etc/salt/master设置pillar_roots,数据以yaml保存在Master上</p>\r\n\r\n<p>7. CIDR匹配</p>\r\n\r\n<pre>\r\nsalt -S &#39;10.252.137.0/24&#39; test.ping\r\n</pre>\r\n\r\n<p>10.252.137.0/24是一个指定的CIDR网段</p>\r\n\r\n<p><strong>function是module提供的方法</strong></p>\r\n\r\n<p>通过下面命令可以查看所有的function：<br />\r\nsalt &#39;10.252.137.141&#39; sys.doc cmd</p>\r\n\r\n<p>function可以接受参数：</p>\r\n\r\n<pre>\r\nsalt &#39;10.252.137.141&#39; cmd.run &#39;uname -a&#39;\r\n</pre>\r\n\r\n<p>并且支持关键字参数：</p>\r\n\r\n<pre>\r\n在所有minion上切换到/目录以salt用户运行uname -a命令。\r\nsalt &#39;10.252.137.141&#39; cmd.run &#39;uname -a&#39; cwd=/ user=salt\r\n</pre>\r\n\r\n<p><strong>SaltStack配置管理</strong></p>\r\n\r\n<p><strong>states文件</strong></p>\r\n\r\n<p>salt states的核心是sls文件，该文件使用YAML语法定义了一些k/v的数据。</p>\r\n\r\n<p>sls文件存放根路径在master配置文件中定义，默认为/srv/salt,该目录在操作系统上不存在，需要手动创建。</p>\r\n\r\n<p>在salt中可以通过salt://代替根路径，例如你可以通过salt://top.sls访问/srv/salt/top.sls。</p>\r\n\r\n<p>在states中top文件也由master配置文件定义，默认为top.sls，该文件为states的入口文件。</p>\r\n\r\n<p>一个简单的sls文件如下：</p>\r\n\r\n<pre>\r\napache:\r\n pkg.installed\r\n service.running\r\n   - require:\r\n     - pkg: apache\r\n</pre>\r\n\r\n<p>说明：此SLS数据确保叫做&quot;apache&quot;的软件包(package)已经安装,并且&quot;apache&quot;服务(service)正在运行中。</p>\r\n\r\n<ul>\r\n	<li>第一行，被称为ID说明(ID Declaration)。ID说明表明可以操控的名字。</li>\r\n	<li>第二行和第四行是State说明(State Declaration)，它们分别使用了pkg和service states。pkg state通过系统的包管理其管理关键包，service state管理系统服务(daemon)。 在pkg及service列下边是运行的方法。方法定义包和服务应该怎么做。此处是软件包应该被安装，服务应该处于运行中。</li>\r\n	<li>第六行使用require。本方法称为&rdquo;必须指令&rdquo;(Requisite Statement)，表明只有当apache软件包安装成功时，apache服务才启动起来。</li>\r\n</ul>\r\n\r\n<p>state和方法可以通过点连起来，上面sls文件和下面文件意思相同。</p>\r\n\r\n<pre>\r\napache:\r\n pkg.installed\r\n service.running\r\n   - require:\r\n     - pkg: apache\r\n</pre>\r\n\r\n<p>将上面sls保存为init.sls并放置在sal://apache目录下，结果如下：</p>\r\n\r\n<pre>\r\n/srv/salt\r\n├── apache\r\n│   └── init.sls\r\n└── top.sls\r\n</pre>\r\n\r\n<p>top.sls如何定义呢？</p>\r\n\r\n<p>master配置文件中定义了三种环境，每种环境都可以定义多个目录，但是要避免冲突，分别如下：</p>\r\n\r\n<pre>\r\n# file_roots:\r\n#   base:\r\n#     - /srv/salt/\r\n#   dev:\r\n#     - /srv/salt/dev/services\r\n#     - /srv/salt/dev/states\r\n#   prod:\r\n#     - /srv/salt/prod/services\r\n#     - /srv/salt/prod/states\r\n</pre>\r\n\r\n<p>top.sls可以这样定义：</p>\r\n\r\n<pre>\r\nbase:\r\n  &#39;*&#39;:\r\n   - apache\r\n</pre>\r\n\r\n<p>说明：</p>\r\n\r\n<p>第一行，声明使用base环境</p>\r\n\r\n<p>第二行，定义target，这里是匹配所有</p>\r\n\r\n<p>第三行，声明使用哪些states目录，salt会寻找每个目录下的init.sls文件。</p>\r\n\r\n<p><strong>运行states</strong></p>\r\n\r\n<p>一旦创建完states并修改完top.sls之后，你可以在master上执行下面命令：</p>\r\n\r\n<pre>\r\n[root@10.252.137.14 ~]# salt &#39;*&#39; state.highstate\r\nsk2:\r\n----------\r\nState: - pkg\r\nName:      httpd\r\nFunction:  installed\r\nResult:    True\r\nComment:   The following packages were installed/updated: httpd.\r\nChanges:\r\n----------\r\nhttpd:\r\n----------\r\nnew:\r\n2.2.15-29.el6.centos\r\nold:\r\n----------\r\nState: - service\r\nName:      httpd\r\nFunction:  running\r\nResult:    True\r\nComment:   Service httpd has been enabled, and is running\r\nChanges:\r\n----------\r\nhttpd:\r\nTrue\r\nSummary\r\n------------\r\nSucceeded: 2\r\nFailed:    0\r\n------------\r\nTotal:     2\r\n</pre>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Job基本管理</strong></p>\r\n\r\n<p>&nbsp;Jid： job id，格式为%Y%m%d%H%M%S%f</p>\r\n\r\n<p>&nbsp;在master在下发指令消息时，会附带上产生的jid.minion在接收到指令开始执行时，会</p>\r\n\r\n<p>在本地的cachedir（默认是/var/cache/salt/minion/）下的proc目录下产生以该jid</p>\r\n\r\n<p>命名的文件，用于在执行过程中master查看当前任务的执行情况，指令执行完毕</p>\r\n\r\n<p>将结果传送给master后，删除该临时文件</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>master将minion的执行结果存放在本地/var/cache/salt/master/jobs目录</p>\r\n\r\n<p>默认缓存24小时（可以通过修改master配置文件keepjobs选项调整）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>SaltStack模块中的job管理方法</strong></p>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<pre>\r\n#查看minion当前正在运行的jobs\r\n# salt &#39;*&#39; saltutil.running\r\n\r\n#查看指定jid的job（minion正在运行的jobs）\r\n## salt &#39;*&#39; saltutil.find_job &lt;jid&gt;\r\n\r\n#给指定的jid进程发送信号\r\n## salt &#39;*&#39; saltutil.signal_job &lt;jid&gt; &lt;single&gt;\r\n\r\n#终止指定的jid进程\r\n# salt &#39;*&#39; saltutil.term_job &lt;jid&gt;\r\n\r\n#终止指定的jid进程（信号为9）\r\n## salt &#39;*&#39; saltutil.kill_job &lt;jid&gt;</pre>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>salt runner中的job管理方法</strong></p>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<pre>\r\n#查看所有minion当前正在运行的jobs（在所有minions上运行saltutil.running）\r\n## salt-run jobs.active\r\n\r\n#从master jobs cache中查询指定jid的运行结果\r\n#salt-run jobs.lookup_jid &lt;jid&gt;\r\n\r\n#列出当前master jobs cache中所有job\r\n# salt-run jobs.list_jobs</pre>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>更得jobs参考</p>\r\n\r\n<p>http://docs.saltstack.com/en/latest/topics/jobs/index.html</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Schedule任务管理</strong></p>\r\n\r\n<p>SaltStack可以很容易实现批量计算任务的创建和管理</p>\r\n\r\n<p>按照官方文档的描述，计划任务有3种配置方式，分别是</p>\r\n\r\n<p>1 在master配置文件中配置</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2 在minion配置文件中配置</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>3 在pillar中配置</p>\r\n\r\n<p><br />\r\n每30分钟minion执行一次highstate（配置在minion配置文件或pillar中）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><br />\r\n每分钟查询一次loadavage，并将结果输出到mysql returner中</p>\r\n\r\n<p>案例：</p>\r\n\r\n<p>每分钟minion端执行时间</p>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<pre>\r\n# pwd\r\n/srv/pillar/base\r\n# cat schedule.sls \r\nschedule:\r\n  hellowworld:\r\n    function: cmd.run\r\n    args:\r\n      - date &gt;&gt; /tmp/test.log\r\n    minutes: 1\r\n\r\n# cat top.sls \r\nbase:\r\n  &#39;hzbj-tomcat-02(1|2)&#39;:\r\n    - match: pcre\r\n    - zabbix-agent\r\n    - schedule</pre>\r\n\r\n<p><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img alt=\"复制代码\" src=\"https://common.cnblogs.com/images/copycode.gif\" /></a></p>\r\n\r\n<p>上面命令会触发所有minion从master下载top.sls文件以及其中定一个的states，然后编译、执行。执行完之后，minion会将执行结果的摘要信息汇报给master。</p>\r\n\r\n<p>原文来自：<a href=\"http://%2A%2A%2A/saltstack-quick.html%20%E2%80%8E\" target=\"_blank\">&nbsp;http://***/saltstack-quick.html &lrm;</a></p>\r\n','medias/document/timg.jpeg','medias/upload_imgss/timg_IrztWj0.jpeg','http://www.askeds.com/server',1,0,0,'2017-12-29 06:21:59',5,13,1,0,1),(20,'python个人支付宝查询','从零开始写 Python 爬虫 --- 爬虫应用： 获取支付宝账单信息最近想给自己的网站接入支付和自动发货系统，踩了一些坑， 其中用到一些爬虫技术，放在这里和大家分享一下。支付宝对个人用户太不友好了，自己网站想接入支付宝支付的话，必须要签约， 签约得要营业执照。总之各种蛋疼。这不，我想出了一个「折衷的解决办法」。解决思路用户通过转账码给支付宝账号转账。转账之后提交转账 「流水号」给后台服务器后台服务器模拟登录支付宝网页版，查找最近的订单比较数据，成功则自动发货整个处理流程效率十分低下，但','<p>这个部份主要是利用了 selenuim 模拟 PhanomJS 来模拟浏览器，登录支付宝账号密码 最后获取 cookies，并格式化。</p>\r\n\r\n<p>有详细的注释，详细都能看懂的吧！</p>\r\n\r\n<p>对于浏览器模拟爬虫不熟悉的，可以看我以前写的文章：</p>\r\n\r\n<ul>\r\n	<li><a href=\"https://zhuanlan.zhihu.com/p/27115580\" rel=\"nofollow\">从零开始写 Python 爬虫 --- 3.1 Selenium 模拟浏览器</a></li>\r\n	<li><a href=\"https://zhuanlan.zhihu.com/p/27155429\" rel=\"nofollow\">从零开始写 Python 爬虫 --- 3.3 爬虫实践：漫画批量下载</a></li>\r\n</ul>\r\n\r\n<p>可以看到，我们已经可以完全自动化的查询账单信息了。</p>\r\n\r\n<p>剩下的就是后台支付系统的把编写了， 由于不涉及到爬虫的相关技术 我就不 pull 上来啦~</p>\r\n\r\n<h3>最后附上全部代码：</h3>\r\n\r\n<pre>\r\n<code>&#39;&#39;&#39;\r\n尝试登录支付宝\r\n并获取账单记录\r\n\r\n通过 seleium 登录支付宝，\r\n获取 cookies\r\n&#39;&#39;&#39;\r\n\r\nimport requests\r\nfrom selenium import webdriver\r\nfrom bs4 import BeautifulSoup\r\nimport time\r\n\r\n# 登录 url\r\nLogin_Url = &#39;https://auth.alipay.com/login/index.htm?goto=https%3A%2F%2Fwww.alipay.com%2F&#39;\r\n# 账单 url\r\nBill_Url = &#39;https://consumeprod.alipay.com/record/standard.htm&#39;\r\n\r\n\r\n# 登录用户名和密码\r\nUSERNMAE = &#39;&#39;\r\nPASSWD = &#39;&#39;\r\n\r\n# 自定义 headers\r\nHEADERS = {\r\n    &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36&#39;,\r\n    &#39;Referer&#39;: &#39;https://consumeprod.alipay.com/record/advanced.htm&#39;,\r\n    &#39;Host&#39;: &#39;consumeprod.alipay.com&#39;,\r\n    &#39;Accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;,\r\n    &#39;Connection&#39;: &#39;keep-alive&#39;\r\n}\r\n\r\n\r\nclass Alipay_Bill_Info(object):\r\n    &#39;&#39;&#39;支付宝账单信息&#39;&#39;&#39;\r\n\r\n    def __init__(self, headers, user, passwd):\r\n        &#39;&#39;&#39;\r\n        类的初始化\r\n\r\n        headers：请求头\r\n        cookies: 持久化访问\r\n        info_list: 存储账单信息的列表\r\n        &#39;&#39;&#39;\r\n        self.headers = headers\r\n        # 初始化用户名和密码\r\n        self.user = user\r\n        self.passwd = passwd\r\n        # 利用 requests 库构造持久化请求\r\n        self.session = requests.Session()\r\n        # 将请求头添加到缓存之中\r\n        self.session.headers = self.headers\r\n        # 初始化存储列表\r\n        self.info_list = []\r\n\r\n    def wait_input(self, ele, str):\r\n        &#39;&#39;&#39;减慢账号密码的输入速度&#39;&#39;&#39;\r\n        for i in str:\r\n            ele.send_keys(i)\r\n            time.sleep(0.5)\r\n\r\n    def get_cookies(self):\r\n        &#39;&#39;&#39;获取 cookies&#39;&#39;&#39;\r\n\r\n        # 初始化浏览器对象\r\n        sel = webdriver.PhantomJS()\r\n        sel.maximize_window()\r\n        sel.get(Login_Url)\r\n        sel.implicitly_wait(3)\r\n        # 找到用户名字输入框\r\n        uname = sel.find_element_by_id(&#39;J-input-user&#39;)\r\n        uname.clear()\r\n        print(&#39;正在输入账号.....&#39;)\r\n        self.wait_input(uname, self.user)\r\n        time.sleep(1)\r\n        # 找到密码输入框\r\n        upass = sel.find_element_by_id(&#39;password_rsainput&#39;)\r\n        upass.clear()\r\n        print(&#39;正在输入密码....&#39;)\r\n        self.wait_input(upass, self.passwd)\r\n        # 截图查看\r\n        # sel.save_screenshot(&#39;1.png&#39;)\r\n        # 找到登录按钮\r\n        butten = sel.find_element_by_id(&#39;J-login-btn&#39;)\r\n        time.sleep(1)\r\n        butten.click()\r\n\r\n        # sel.save_screenshot(&#39;2.png&#39;)\r\n        print(sel.current_url)\r\n        # 跳转到账单页面\r\n        print(&#39;正在跳转页面....&#39;)\r\n        sel.get(Bill_Url)\r\n        sel.implicitly_wait(3)\r\n        # sel.save_screenshot(&#39;3.png&#39;)\r\n\r\n        # 获取 cookies 并转换为字典类型\r\n        cookies = sel.get_cookies()\r\n        cookies_dict = {}\r\n        for cookie in cookies:\r\n            if &#39;name&#39; in cookie and &#39;value&#39; in cookie:\r\n                cookies_dict[cookie[&#39;name&#39;]] = cookie[&#39;value&#39;]\r\n\r\n        return cookies_dict\r\n\r\n        # 关闭浏览器\r\n        sel.close()\r\n\r\n    def set_cookies(self):\r\n        &#39;&#39;&#39;将获取到的 cookies 加入 session&#39;&#39;&#39;\r\n        c = self.get_cookies()\r\n        self.session.cookies.update(c)\r\n        print(self.session.cookies)\r\n\r\n    def login_status(self):\r\n        &#39;&#39;&#39;判断登录状态&#39;&#39;&#39;\r\n        # 添加 cookies\r\n        self.set_cookies()\r\n        status = self.session.get(\r\n            Bill_Url, timeout=5, allow_redirects=False).status_code\r\n        print(status)\r\n        if status == 200:\r\n            return True\r\n        else:\r\n            return False\r\n\r\n    def get_data(self):\r\n        &#39;&#39;&#39;\r\n        利用 bs4 库解析 html\r\n        并抓取数据，\r\n        数据以字典格式保存在列表里\r\n        &#39;&#39;&#39;\r\n        status = self.login_status()\r\n        if status:\r\n            html = self.session.get(Bill_Url).text\r\n            soup = BeautifulSoup(html, &#39;lxml&#39;)\r\n            # 抓取前五个交易记录\r\n            trades = soup.find_all(&#39;tr&#39;, class_=&#39;J-item &#39;)[:5]\r\n\r\n            for trade in trades:\r\n                # 做一个 try except 避免异常中断\r\n                try:\r\n                    # 分别找到账单的 时间 金额 以及流水号\r\n                    time = trade.find(&#39;p&#39;, class_=&#39;text-muted&#39;).text.strip()\r\n                    amount = trade.find(\r\n                        &#39;span&#39;, class_=&#39;amount-pay&#39;).text.strip()\r\n                    code = trade.find(\r\n                        &#39;a&#39;, class_=&#39;J-tradeNo-copy J-tradeNo&#39;)[&#39;title&#39;]\r\n                    self.info_list.append(\r\n                        dict(time=time, amount=amount, code=code))\r\n                except:\r\n                    self.info_list.append({&#39;error&#39;: &#39;出现错误,请加站长支付宝好友获取充值码&#39;})\r\n\r\n        else:\r\n            self.info_list.append({&#39;error&#39;: &#39;出现错误,请加站长支付宝好友获取充值码&#39;})\r\n        return self.info_list\r\n\r\n\r\n\r\n# test:\r\ntest = Alipay_Bill_Info(HEADERS, USERNMAE, PASSWD)\r\n\r\ndata = test.get_data()\r\n\r\nprint(data)\r\n\r\n</code></pre>\r\n\r\n<p>每天的学习记录都会 同步更新到： 微信公众号：findyourownway<br />\r\n知乎专栏：&nbsp;<a href=\"https://zhuanlan.zhihu.com/Ehco-python\" rel=\"nofollow\">https://zhuanlan.zhihu.com/Ehco-python</a><br />\r\nblog：<a href=\"http://www.ehcoblog.ml/\" rel=\"nofollow\">www.ehcoblog.ml</a><br />\r\nGithub：&nbsp;<a href=\"https://github.com/Ehco1996/Python-crawler\" rel=\"nofollow\">https://github.com/Ehco1996/Python-crawler</a></p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20171230115554timg.jpeg','http://www.askeds.com/server',2,0,0,'2017-12-30 11:56:59',3,2,1,0,1),(21,'Centos7.2 Openstack镜像制作','本文以制作Centos7.2镜像为例，详细介绍制作镜像的步骤，该镜像上传到Openstack Glance中，相对于官方镜像，增加如下几个功能：','<h1 style=\"margin-left:0cm; margin-right:0cm\"><strong>Openstack镜像制作</strong></h1>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">本文以制作</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Centos7.2</span></span></code><span style=\"color:#404040\">镜像为例，详细介绍制作镜像的步骤，该镜像上传到Openstack Glance中，相对于官方镜像，增加如下几个功能：</span></span></p>\r\n\r\n<ul>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">支持密码注入功能(nova boot时通过<code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">--admin-pass</span></span></code>参数指定设置初始密码）</span></span></li>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">支持根分区自动调整(根分区自动调整为<code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">flavor disk</span></span></code>大小，而不是原始镜像分区大小)</span></span></li>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">支持动态修改密码(使用<code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">nova set-password</span></span></code>命令可以修改管理员密码)</span></span></li>\r\n</ul>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">1.</span><span style=\"color:#404040\">下载镜像</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">直接访问官方</span><a href=\"https://www.centos.org/download/mirrors/\" style=\"color:blue; text-decoration:underline\"><span style=\"color:#337ab7\">镜像地址</span></a><span style=\"color:#404040\">下载，注意选择中国的镜像源，相对国外镜像下载速率比较快，进入后选择版本为</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">7.2.1511</span></span></code><span style=\"color:#404040\">，在</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">isos</span></span></code><span style=\"color:#404040\">目录下下载</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">x86_64</span></span></code><span style=\"color:#404040\">的</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Minimal</span></span></code><span style=\"color:#404040\">镜像，如果网速不给力，最好不要选择下载</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Netinstall</span></span></code><span style=\"color:#404040\">镜像，因为这会在安装时联网下载大量的软件包，重新安装时需要重新下载这些软件包，浪费大量的时间。</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">2.</span><span style=\"color:#404040\">创建虚拟机</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">首先需要创建一个qcow2格式镜像文件，用于作为虚拟机的磁盘，大小10G足矣。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">qemu-img create -f qcow2 </span></code><strong><span style=\"color:#333333\">ws_</span></strong><code><span style=\"color:#333333\">openstack.qcow2 10G </span></code><em><span style=\"color:#999988\"># create disk image</span></em></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">使用以下脚本快速创建并启动虚拟机：</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">virsh define ws_openstack.xml</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">virsh start ws_openstackb</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">启动完成后，使用</span><span style=\"color:red\">spice client</span><span style=\"color:#404040\">连接.</span> </span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">3. </span><span style=\"color:#404040\">安装</span><span style=\"color:#404040\">OS</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">进入虚拟机控制台可以看到Centos的启动菜单，选择</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Install Centos 7</span></span></code><span style=\"color:#404040\">，继续选择语言后将进入</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">INSTALLION SUMMARY</span></span></code><span style=\"color:#404040\">，其中大多数配置默认即可，</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">SOFTWARE SELECTION</span></span></code><span style=\"color:#404040\">选择</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Minimal Install</span></span></code><span style=\"color:#404040\">，</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">INSTALLATION DESTINATION</span></span></code><span style=\"color:#404040\">需要选择手动配置分区，我们只需要一个根分区即可，不需要</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">swap</span></span></code><span style=\"color:#404040\">分区，文件系统选择</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">ext4</span></span></code><span style=\"color:#404040\">，存储驱动选择</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">Virtio Block Device</span></span></code><span style=\"color:#404040\">，如图：</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\"><img alt=\"分区表设置\" id=\"图片_x0020_3\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" style=\"height:347.25pt; width:458.25pt\" /> </span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">配置完成后就可以开始安装了，在</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">CONFIGURATION</span></span></code><span style=\"color:#404040\">中设置root临时密码，自己记住即可，制作完后</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">cloud-init</span></span></code><span style=\"color:#404040\">将会重新设置root初始密码。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">大约几分钟后，即可自动完成安装配置工作，最后点击右下角的reboot重启退出虚拟机。</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong>4. 配置OS</strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">安装好系统后，还需要进行配置才能作为glance镜像使用。首先需要启动虚拟机（虽然上一步执行的是reboot，但貌似并不会自动启动)：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">sudo virsh start centos</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">客户的云主机需要支持root ssh远程登录，因此需要开启root远程ssh登录功能，修改配置文件</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">/etc/ssh/sshd_config</span></span></code><span style=\"color:#404040\">并修改</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">PermitRootLogin</span></span></code><span style=\"color:#404040\">值为</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">yes</span></span></code><span style=\"color:#404040\">，重启ssh服务生效:</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">sudo systemctl restart sshd</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">接下来的所有操作均通过宿主机ssh登录到虚拟机执行，这样方便复制（默认终端不和宿主机共享粘贴缓冲区）。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">为了加快安装速度，建议配置本地软件源仓库，若没有本地镜像仓库，则选择国内的软件源，会相对官网的速度下载要快，提高执行效率。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">mv my_repo.repo /etc/yum.repos.d/</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><a href=\"http://10.8.225.152:81/VMP2.0.git/\" style=\"color:blue; text-decoration:underline\">http://10.8.225.152:81/VMP2.0.git/</a><code> </code><code><span style=\"color:#333333\">寻找yum 源替换</span></code></span></span></pre>\r\n</div>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><strong><code><span style=\"color:red\">镜像支持组件安装</span></code></strong></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">hypervisor</span></span></code><span style=\"color:#404040\">通过发送对应的信号、事件等到虚拟机中，虚拟机根据接收的信号或者事件执行相应的操作，比如关机、重启等。虚拟机需要开启acpid（Advanced Configuration and Power Interface event daemon）服务，关于acpid的更多资料，参考</span><a href=\"https://wiki.archlinux.org/index.php/acpid\" style=\"color:blue; text-decoration:underline\"><span style=\"color:#337ab7\">Arch</span><span style=\"color:#337ab7\">文档中关于acpid</span><span style=\"color:#337ab7\">的介绍以及使用</span></a><span style=\"color:#404040\">。为了开启该服务，首先需要安装</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">acpid</span></span></code><span style=\"color:#404040\">服务，并设置开机自启动：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">yum install -y acpid</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">systemctl </span></code><span style=\"color:#0086b3\">enable </span><code><span style=\"color:#333333\">acpid</span></code></span></span></pre>\r\n</div>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>console 配置</strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">为了方便调试排错，虚拟机需要打开boot日志功能，并指定console，这样nova console-log才能获取虚拟机启动时的日志。修改配置文件</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">/etc/default/grub</span></span></code><span style=\"color:#404040\">，设置</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">GRUB_CMDLINE_LINUX</span></span></code><span style=\"color:#404040\">为：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">GRUB_CMDLINE_LINUX=&quot;crashkernel=auto console=tty0 console=ttyS0,115200n8&quot;</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">Openstack</span><span style=\"color:#404040\">动态修改root密码以及密钥，需要虚拟机内部安装agent程序，agent会创建一个虚拟串行字符设备，用于和外部qemu通信，qemu通过这个虚拟字符设备向agent发送事件指令，agent接收事件并执行相应的指令完成用户功能，更多关于qemu-guest-agent请参考</span><a href=\"http://wiki.qemu.org/Features/QAPI/GuestAgent\" style=\"color:blue; text-decoration:underline\"><span style=\"color:#337ab7\">官方文档</span></a><span style=\"color:#404040\">。ISO镜像中默认没有预安装agent，我们需要手动安装qemu-guest-agent：</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:red\">！！运行grub2-mkconfig -o /boot/grub2/grub.cfg保存修改</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">yum install -y qemu-guest-agent</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">配置</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">qemu-ga</span></span></code><span style=\"color:#404040\">，修改</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">/etc/sysconfig/qemu-ga</span></span></code><span style=\"color:#404040\">，配置内容为:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">清空原有替换为</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">TRANSPORT_METHOD=&quot;virtio-serial&quot;</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">DEVPATH=&quot;/dev/virtio-ports/org.qemu.guest_agent.0&quot;</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">LOGFILE=&quot;/var/log/qemu-ga/qemu-ga.log&quot;</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">PIDFILE=&quot;/var/run/qemu-ga.pid&quot;</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">BLACKLIST_RPC=&quot;&quot;</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">FSFREEZE_HOOK_ENABLE=0</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">虚拟机需要从metadata服务中获取元数据，比如启动时的主机名、初始化密码等，为了使虚拟机能够和外部的metadata service通信，需要禁用默认的zeroconf route：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">echo &quot;NOZEROCONF=yes&quot; &gt;&gt; /etc/sysconfig/network </span></code><code><span style=\"color:#333333\">执行一次</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">最后安装cloud-init，cloud-init是虚拟机第一次启动时执行的脚本，主要负责从metadata服务中拉取配置信息，完成虚拟机的初始化工作，比如设置主机名、初始化密码以及注入密钥等。我们通常会实现自己的cloud-init，用来完成虚拟机的一些定制化初始化工作，如果没有自己的cloud-init，直接从官方源下载即可。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><em><span style=\"color:#999988\"># yum install -y cloud-init-0.7.6-bzr1.el7.centos.noarch.rpm</span></em></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">yum install -y cloud-init</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">虚拟机制作镜像时指定了根分区大小（比如我们设置为10GB），为了使虚拟机能够自动调整为flavor disk指定的根磁盘大小，即自动扩容, 我们需要安装glowpart(老版本叫growroot)并完成以下配置：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">yum install -y cloud-utils-growpart</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\"> rpm -qa kernel | sed </span></code><span style=\"color:#dd1144\">&#39;s/^kernel-//&#39;</span><code><span style=\"color:#333333\">&nbsp; | xargs -I </span></code><strong><span style=\"color:#333333\">{}</span></strong><code><span style=\"color:#333333\"> dracut -f /boot/initramfs-</span></code><strong><span style=\"color:#333333\">{}</span></strong><code><span style=\"color:#333333\">.img </span></code><strong><span style=\"color:#333333\">{}</span></strong></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong><span style=\"color:red\">5.selinux</span><span style=\"color:red\">关闭</span></strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">setenforce 0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">vim /etc/selinux/config</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">SELINUX=disabled</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">service firewalld stop</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">chkconfig firewalld off</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong><span style=\"color:red\">6.cloud init</span><span style=\"color:red\">配置</span></strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:#f9f2f4\"><span style=\"color:#e74c3c\">vim /etc/cloud/cloud.cfg </span></span><span style=\"background-color:#f9f2f4\"><span style=\"color:#e74c3c\">修改</span></span>&nbsp;<span style=\"color:#404040\">disable_root</span><span style=\"color:#404040\">为 0 ssh_pwauth为 1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">users:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">disable_root: 0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">ssh_pwauth:&nbsp;&nbsp; 1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">(...)</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:#f9f2f4\"><span style=\"color:#e74c3c\">编辑</span></span><span style=\"background-color:#f9f2f4\"><span style=\"color:#e74c3c\"> /etc/rc.local</span></span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"color:#333333\">if [ ! -d /root/.ssh ]; then</span></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"color:#333333\">&nbsp; mkdir -p /root/.ssh</span></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"color:#333333\">&nbsp; chmod 700 /root/.ssh</span></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"color:#333333\">fi</span></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f9f2f4\"><span style=\"color:#e74c3c\">touch/var/lock/subsys/local</span></span><span style=\"background-color:white\"><span style=\"color:#333333\">.&nbsp;</span></span></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">配置虚网卡ip和网卡多队列配置模块</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">cd /usr/lib/python2.7/site-packages/cloudinit/config</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">上传cc_ws_virt_network_dep.py ws_virtio_net_multiqueue</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://10.8.225.152:81/cloud-init.git\" style=\"color:blue; text-decoration:underline\">http://10.8.225.152:81/cloud-init.git</a> <span style=\"color:#404040\">模块放置位置</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">vim /etc/cloud/cloud.cfg</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">cloud_final_modules:</span><span style=\"color:#404040\">下配置</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">- ws_virt_network_dep</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">- ws_virtio_net_multiqueue</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">Ssh </span><span style=\"color:#404040\">配置修改vi /etc/ssh/sshd_config</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">Port 57891</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">PasswordAuthentication yes</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">ClientAliveInterval 60</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">ClientAliveCountMax 10</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:red\">#</span><span style=\"color:red\">关闭NetworkManager 待确认</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">service NetworkManager stop</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">chkconfig NetworkManager off</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:red\">！！记得操作完ip地址删除 vi /etc/sysconfig/network-scripts/ifcfg-eth0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:red\">删除mac</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><img id=\"图片_x0020_4\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image002.png\" style=\"height:145.5pt; width:415.5pt\" /> </span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">/sbin/shutdown -h now</span></code><code> </code><code><span style=\"color:#333333\">一定通过此命令关闭，不能使用destroy</span></code></span></span></pre>\r\n</div>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">7.</span><span style=\"color:#404040\">清理工作</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">在宿主机上运行以下命名，移除宿主机信息，比如mac地址等。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">virt-sysprep -d ws_openstack</span></code><em><span style=\"color:#999988\"> # cleanup tasks such as removing the MAC address references</span></em></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">最后，删除虚拟机，因为镜像已经制作完成，可以上传到glance了。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">virsh undefine ws_openstack </span></code><em><span style=\"color:#999988\"># </span></em><em><span style=\"color:#999988\">删除虚拟机</span></em></span></span></pre>\r\n</div>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">8.</span><span style=\"color:#404040\">上传镜像</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">镜像制作完成，上传</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">centos.qcow2</span></span></code><span style=\"color:#404040\">到</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">glance</span></span></code><span style=\"color:#404040\">服务中，如果使用ceph作为存储后端，为了提高上传速度（使用glance上传走的http方式，必然很慢），我们需要另辟蹊径，我们只使用glance创建实例记录，并不使用glance上传镜像，</span><span style=\"color:#404040\">使用</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">qemu-img</span></span></code><span style=\"color:#404040\">转换qcow2格式为raw格式。</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">qemu-img convert -f qcow2 -O raw ws_openstack.qcow2 ws_openstack.raw </span></code><code><span style=\"color:red\">(</span></code><code><span style=\"color:red\">待确认要不要转成raw格式)</span></code></span></span></pre>\r\n</div>\r\n\r\n<ul>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">使用glance create创建一条镜像记录并记录ID（不需要指定文件路径以及其他属性，只是占个坑）</span></span></li>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">openstack image create &quot;<code><span style=\"color:#333333\">ws_openstackraw</span></code>&quot;&nbsp; --file <code><span style=\"color:#333333\">ws_openstack.raw</span></code> --disk-format raw --container-format bare --public</span></span></li>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">qcow2</span></span></li>\r\n	<li><span style=\"background-color:white\"><span style=\"color:#404040\">openstack image create &quot;<code><span style=\"color:#333333\">ws_openstack</span></code>&quot;&nbsp; --file <code><span style=\"color:#333333\">ws_openstack.qcow2</span></code> --disk-format qcow2 --container-format bare --public</span></span></li>\r\n	<li>&nbsp;</li>\r\n</ul>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#404040\">9.</span><span style=\"color:#404040\">验证</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">首先使用创建的镜像启动一台新云主机（终于叫云主机，不叫虚拟机了==)，如果使用nova CLI工具，需要传递</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">--admin-pass</span></span></code><span style=\"color:#404040\">参数并指定密码,并指定</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">flavor</span></span></code><span style=\"color:#404040\">，要求</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">disk</span></span></code><span style=\"color:#404040\">大小为20GB。如果使用Openstack dashborad创建，需要简单配置下dashborad使其支持配置云主机密码面板，如图：</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\"><img alt=\"设置密码面板\" id=\"图片_x0020_2\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image003.png\" style=\"height:308.25pt; width:424.5pt\" /> </span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">创建成功后进入控制台，使用root账号以及设置的新密码，如果使用创建时设置的密码登录成功，说明注入密码成功。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">接下来运行以下命令检查磁盘是否自动调整大小：</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">lsblk</span></code></span></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">df -h</span></code></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">如图：</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\"><img alt=\"查看磁盘信息\" id=\"图片_x0020_1\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image004.png\" style=\"height:270.75pt; width:6in\" /> </span><span style=\"color:#404040\">镜像原始根分区大小为10GB，如果</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">lsblk</span></span></code><span style=\"color:#404040\">显示</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">vda</span></span></code><span style=\"color:#404040\">大小为</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">20GB</span></span></code><span style=\"color:#404040\">，说明文件系统自动识别了磁盘大小。如果df显示</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">/dev/sda1</span></span></code><span style=\"color:#404040\">size</span><span style=\"color:#404040\">为20GB，说明根分区自动完成了扩容操作。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">接下来测试动态修改密码，由于默认</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">dashboard</span></span></code><span style=\"color:#404040\">页面没有实现修改密码面板功能，我们需要在后台操作。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">首先使用</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">nova list</span></span></code><span style=\"color:#404040\">获取云主机ID，然后调用</span><code><span style=\"background-color:#f9f2f4\"><span style=\"color:#c7254e\">nova set-password</span></span></code><span style=\"color:#404040\">命令修改密码:</span></span></p>\r\n\r\n<div>\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><code><span style=\"color:#333333\">nova </span></code><span style=\"color:#0086b3\">set</span><code><span style=\"color:#333333\">-password </span></code><span style=\"color:teal\">$ID</span></span></span></pre>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">重复输入两次新的密码，如果执行成功，不会有任何输出。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#404040\">回到终端，退出之前的登录，然后使用新的密码重新登录，如果登录成功，则说明动态修改密码成功！</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/201801031012524.jpeg','http://www.askeds.com/server',1,0,0,'2018-01-03 10:14:30',1,15,1,0,1),(22,'nova api介绍中文版','Nova api 接口介绍','<h1><strong>Nova api 接口</strong></h1>\r\n\r\n<h2><strong>修改记录:</strong></h2>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>BaseUrl= http://36.250.74.186:8774</p>\r\n\r\n<p><br />\r\n(默认前面加BaseUrl)</p>\r\n\r\n<h2><strong>GET&nbsp; /&nbsp; </strong></h2>\r\n\r\n<h3><strong>列出所有主要版本</strong></h3>\r\n\r\n<h3><strong>request</strong></h3>\r\n\r\n<p><img id=\"图片_x0020_1\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" /></p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table align=\"center\" border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			<strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>versions</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>描述的API版本的版本对象的列表。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			string</p>\r\n			</td>\r\n			<td>\r\n			<p>有问题的版本的通用名称。只有信息化，它没有真正的语义</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>min_version</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>如果这个版本的API的支持microversions，最低microversion受支持。这将是，如果microversions不支持空字符串。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>这个API版本的状态。这可以是一个：</p>\r\n\r\n			<ul>\r\n				<li>CURRENT：这是在API的优选版本使用</li>\r\n				<li>SUPPORTED：这是一个老，但仍然支持版本的API</li>\r\n				<li>DEPRECATED：API的一个过时版本被提名为去除</li>\r\n			</ul>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>updated</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>这是一个固定的字符串。这是2011-01-21T11:33:21Z在2.0版本， 2013-07-23T11:33:21Z2.1版本。</p>\r\n\r\n			<p>注意:它是退化的，并且不提供有用的信息。这将被弃用，并在未来的删除。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>version</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>如果这个版本的API的支持microversions，最大microversion受支持。这将是，如果microversions不支持空字符串。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>GET /{api_version}</strong></h2>\r\n\r\n<h3><strong>具体的API版本的显示详细信息</strong></h3>\r\n\r\n<p>这得到从根本特定API的细节。几乎所有的这些信息存在于API根，所以这主要是多余的操作。</p>\r\n\r\n<p>正常响应代码：200</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>api_version</p>\r\n			</td>\r\n			<td>\r\n			<p>path</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>该API的版本从链接返回的呼叫。GET<code>&nbsp;</code>/</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>version</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			该版本。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>有问题的版本的通用名称。只有信息化，它没有真正的语义。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>min_version</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>如果这个版本的API的支持microversions，最低microversion受支持。这将是，如果microversions不支持空字符串。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>media-types</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			array</p>\r\n\r\n			<p>&nbsp;</p>\r\n			</td>\r\n			<td>\r\n			<p>该媒体类型。这是一个固定字典的阵列。</p>\r\n\r\n			<p>注意:它是退化并没有提供有用的信息。这将被弃用，并在未来的删除。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>这个API版本的状态。这可以是一个：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CURRENT：这是在API的优选版本使用</p>\r\n\r\n			<p>SUPPORTED：这是一个老，但仍然支持版本的API</p>\r\n\r\n			<p>DEPRECATED：API的一个过时版本被提名为去除</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>updated</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>这是一个固定的字符串。这是2011-01-21T11:33:21Z在2.0版本， 2013-07-23T11:33:21Z2.1版本。</p>\r\n\r\n			<p>注意:它是退化的，并且不提供有用的信息。这将被弃用，并在未来的删除。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>version</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>如果这个版本的API的支持microversions，最大microversion受支持。这将是，如果microversions不支持空字符串。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Example</strong></h3>\r\n\r\n<p><strong>具体的</strong><strong>API</strong><strong>版本的显示详细信息</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img id=\"图片_x0020_2\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image002.png\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>服务URL&nbsp;</strong></h2>\r\n\r\n<p>在本文档的其余部分中描述的所有API调用需要与OpenStack的身份服务认证。在认证之后，基站可以从类型的身份令牌来提取&nbsp;。这将是每个API调用用来建立一个完整路径的根URL。service<code>&nbsp;</code>urlcomputeservice<code>&nbsp;</code>url</p>\r\n\r\n<p>举例来说，如果是&nbsp;，则完整的API调用的&nbsp;是。serviceurlhttp://mycompute.pvt/compute/v2.1/servershttp://mycompute.pvt/compute/v2.1/servers</p>\r\n\r\n<p>根据部署，计算可能是HTTP或HTTPS，自定义端口，一个自定义的路径，包括您的租户ID。要知道您的部署网址的唯一方法是通过使用服务目录。计算URL不应该被硬编码在应用程序中，即使他们只希望在单一地点工作。它应始终从身份令牌发现。service<code>&nbsp;</code>url</p>\r\n\r\n<p>因此，对于本文件的其余部分，我们将使用短手，其中的真正含义。GET<code>&nbsp;</code>/serversGET<code>&nbsp;</code>{your_compute_service_url}/servers</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>Request IDs</strong></h2>\r\n\r\n<h3><strong>全局请求ID</strong></h3>\r\n\r\n<p>用户可以指定在请求报头中的全局请求ID。用户可以在响应报头接收本地请求ID。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table align=\"center\" border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			<strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>X-Openstack-Request-Id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>header</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			全局请求ID，它是用于跟踪开栈组件的每个请求的唯一公共ID。全局请求ID的格式必须是req-+ UUID（UUID4）。如果不按照格式，它将被忽略。它与请求相关联，并出现在该请求的日志行。默认情况下，中间件配置保证了全局请求ID出现在日志文件中。</p>\r\n\r\n			<p><strong>新的版本</strong><strong>2.46</strong></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Response</strong></strong></h3>\r\n\r\n<table align=\"center\" border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			<strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>X-Compute-Request-Id</p>\r\n			</td>\r\n			<td>\r\n			<p>header</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			本地请求ID，它是用于跟踪每个请求nova自动生成一个唯一的ID。它与请求相关联，并出现在该请求的日志行。默认情况下，中间件配置确保本地请求ID出现在日志文件中。</p>\r\n\r\n			<p>注意:此报头存在的向后兼容性。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>X-Openstack-Request-Id</p>\r\n			</td>\r\n			<td>\r\n			<p>header</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>本地请求ID，它是用于跟踪每个请求nova自动生成一个唯一的ID。它与请求相关联，并出现在该请求的日志行。默认情况下，中间件配置确保本地请求ID出现在日志文件中。</p>\r\n\r\n			<p><strong>新的版本</strong><strong>2.46</strong></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>Servers&nbsp;实例</strong></h2>\r\n\r\n<p>列表，创建，显示，更新的详细信息，并删除实例。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Passwords</strong></strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>当你创建一个实例，您可以指定通过可选adminpass是否属性的密码。密码必须满足您的OpenStack计算提供商设置的复杂性要求。实例可能进入的ERROR，如果复杂性要求得不到满足的状态。在这种情况下，客户端可能会发出更改密码的动作重置实例密码。</p>\r\n\r\n<p>如果不指定密码，该API生成并分配它返回响应对象随机密码。此密码满足由上述计算提供商所设置的安全要求。出于安全原因，随后的GET调用不需要此密码。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Server metadata</strong></strong></h3>\r\n\r\n<p>您可以指定实例启动时自定义实例的元数据。对于每个元数据键-值对的最大大小为255个字节。计算提供者确定为每个实例键-值对的最大数目。您可以通过查询此值，maxServerMeta绝对限制。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Server networks</strong></strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>您可以指定该实例连接在启动时一个或多个网络。用户还可以指定网络或固定的IP地址上的特定端口分配给实例的接口。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>注意</p>\r\n\r\n<p>您可以使用IPv4和IPv6地址作为访问地址，您可以同时指定两个地址。创建实例后，您可以更新访问地址。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Server personality</strong></strong></h3>\r\n\r\n<p>要自定义实例实例的个性，你可以注入数据到其文件系统。例如，你可能会插入您希望从实例内部检索SSH密钥，设置配置文件，或存储数据。这种定制方法提供了最小的推出时间个性化。如果您需要显著定制，创建自定义镜像。</p>\r\n\r\n<p>当你注入文件遵循以下原则：</p>\r\n\r\n<ul>\r\n	<li>文件路径的数据的最大尺寸为255个字节。</li>\r\n	<li>编码文件内容为Base64字符串。计算提供者确定的文件的内容的最大大小。您用来创建实例的镜像确定此值。</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>注意</p>\r\n\r\n<p>最大限制是指在解码后的数据，而不是在编码数据中的字符数的字节数。</p>\r\n\r\n<ul>\r\n	<li>的maxPersonality绝对限制定义文件的路径和可以提供的内容对的最大数量。计算提供者确定该值。</li>\r\n	<li>的maxPersonalitySize绝对限制是适用于部署中的所有镜像的字节限制。提供商可以设置附加的每个镜像的个性限制。</li>\r\n</ul>\r\n\r\n<p>该文件注入可能不会发生，直到之后的实例建立和靴子。</p>\r\n\r\n<p>文件注射后，只有系统管理员可以访问个性化的文件。例如，在Linux中，所有文件都具有根作为所有者和根组作为组所有者，并仅允许用户和组的读访问（）。chmod&nbsp;440</p>\r\n\r\n<h3><strong>实例访问地址</strong></h3>\r\n\r\n<p>在混合环境中，底层实现可能没有控制实例的IP地址。相反，访问IP地址可能是专用硬件的一部分;&nbsp;例如，路由器/ NAT设备。在这种情况下，该实现提供了从本地LAN外部访问实例不能使用的地址。取而代之的是，API可以在创建时分配一个单独的访问地址，以提供对实例的访问。这个地址可能不直接绑定到实例上的网络接口，当你查询实例地址可能不一定会出现。但是，客户端应该使用的访问地址直接访问服</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>GET&nbsp;&nbsp; /servers </strong></h2>\r\n\r\n<h3><strong>列出所有实例</strong></h3>\r\n\r\n<p>列出的ID，名称和所有实例的链接。</p>\r\n\r\n<p>实例包含指示当前实例状态的状态属性。您可以在实例状态筛选当你完成一个列表实例请求。实例状态在响应正文中返回。可能的实例状态值有：</p>\r\n\r\n<ul>\r\n	<li>ACTIVE。实例处于活动状态。</li>\r\n	<li>BUILDING。实例还没有完成原来的构建过程。</li>\r\n	<li>DELETED。该实例将被永久删除。</li>\r\n	<li>ERROR。实例是错误的。</li>\r\n	<li>HARD_REBOOT。该实例是硬重启。这等同于拔电源插头，在物理实例上，它插回，并重新启动它。</li>\r\n	<li>MIGRATING。实例迁移到新的主机。</li>\r\n	<li>PASSWORD。密码在实例上重新设置。</li>\r\n	<li>PAUSED。在暂停状态，实例的状态被存储在RAM中。暂停的实例继续在冷冻状态下运行。</li>\r\n	<li>REBOOT。该实例是在软重启状态。一个reboot命令传递给操作系统。</li>\r\n	<li>REBUILD。实例当前正在从镜像重建。</li>\r\n	<li>RESCUED。该实例是在救援模式。救援映像与附加的原始实例映像运行。</li>\r\n	<li>RESIZED。实例正在执行数据的差分副本的初始拷贝过程中更改。实例关闭了这个阶段。</li>\r\n	<li>REVERT_RESIZE。实例的调整或迁移由于某种原因失败。目标实例正在清理和原始的源实例正在重新启动。</li>\r\n	<li>SOFT_DELETED。该实例被标记为删除，但磁盘映像仍然可用来恢复。</li>\r\n	<li>STOPPED。实例断电和磁盘映像仍然存在。</li>\r\n	<li>SUSPENDED。实例被挂起，或者通过请求或必要性。这种状态出现仅在XenServer / XCP，KVM和ESXi管理程序。如果不经常使用或执行系统维护管理用户可以暂停实例。当您暂停一个实例，其虚拟机状态存储在磁盘上，所有内存写入磁盘，并且虚拟机被停止。SUSPENDED浮剂的实例是类似于放置一个设备处于休眠状态;&nbsp;内存和虚拟CPU可用来创建其他实例。</li>\r\n	<li>UNKNOWN。实例的状态未知。请联系您的云服务提供商。</li>\r\n	<li>VERIFY_RESIZE。系统正在等待确认该实例后，移动或调整大小操作。</li>\r\n</ul>\r\n\r\n<p>正常响应代码：200</p>\r\n\r\n<p>错误响应代码：错误请求（400），未授权的（401），禁止（403）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>request</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>access_ip_v4 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过IPv4地址过滤实例列表的结果应该被用来访问该实例。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>access_ip_v6 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过IPv6地址过滤实例列表的结果应该被用来访问该实例。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>all_tenants (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>指定all_tenants=1的查询参数列出所有实例的所有项目。默认情况下，这只能由管理员用户允许的。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>auto_disk_config (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>通过过滤器的实例列表结果disk_config实例的设置，有效值为：</p>\r\n\r\n			<p>AUTO</p>\r\n\r\n			<p>MANUAL</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>availability_zone (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过过滤实例可用性区实例列表的结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>config_drive (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>过滤实例的配置驱动设置实例列表结果</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>changes-since (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>通过过滤的日期和时间标记的响应，当实例上次更改状态。为了帮助跟踪的变化，这也可能返回最近删除的实例。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>created_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>创建实例时的日期和时间标记筛选实例列表结果。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>deleted (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>显示已删除的项目。在删除的项目仍然会通过后台数据库访问的一些情况，但是有多久没有合同，所以此参数应谨慎使用。它通常只提供给管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>description (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>过滤通过描述实例列表结果。</p>\r\n\r\n			<p>注意:display_description也可以要求它是别名 description，但不推荐使用作为将在将来被移除。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>flavor (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>过滤器由一个flavor的反应，作为UUID。甲flavor的存储器，盘大小，和CPU的组合。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>host (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过计算节点的主机名过滤实例列表结果。只允许管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>hostname (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过实例的主机名过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>image (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>过滤由一个镜像的响应，作为一个UUID。</p>\r\n\r\n			<p>注意:&ldquo;image_ref&rdquo;也可以要求它是&ldquo;形象&rdquo;的别名，但不推荐使用作为将在将来被移除。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>ip (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>IPv4地址的筛选结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>ip6 (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>IPv6地址的筛选结果。</p>\r\n\r\n			<p><strong>新版本</strong><strong>2.5</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>kernel_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>使用AMI时内核映像的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>过滤由密钥对名称实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>launch_index (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>筛选由该实例都推出了序列的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>launched_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>按日期和时间标记筛选实例列表结果的情况下推出的时候。日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>limit (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			请求项目的页面大小。返回一个数字的项目达到极限值。使用limit参数进行初始有限请求并使用最后看到项的ID从响应作为marker在后续的有限请求的参数值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>locked_by (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过筛选锁定谁操作的实例的列表结果，可能值可能是admin，owner或none。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>marker (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>通过筛选锁定谁操作的实例的列表结果，可能值可能是admin，owner或none。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>name (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>通过过滤实例名称的响应，作为一个字符串。您可以在查询中使用正则表达式。例如，?name=bob正则表达式返回Bob和bobb。如果你必须在只有Bob匹配，您可以使用该专为计算实现，如MySQL或PostgreSQL底层数据库实例的语法相匹配的正则表达式。</p>\r\n\r\n			<p>注意:&ldquo;DISPLAY_NAME&rdquo;，还可以要求其为&ldquo;名&rdquo;的别名，但不推荐使用作为将在将来被移除。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>node (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>筛选由节点实例列表结果。只允许管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>not-tags (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>标签列表进行过滤的实例列表。不匹配此列表中的所有标签的实例将被退回。在这种情况下布尔表达式为&ldquo;NOT（T1和T2）&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>not-tags-any (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			标签列表进行过滤的实例列表。不匹配此列表中的所有标签的实例将被退回。在这种情况下布尔表达式为&ldquo;NOT（T1或T2&rdquo;）。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>power_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			通过过滤实例电源状态实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>progress (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的进度过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>project_id (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>在给定的项目ID过滤的实例列表。</p>\r\n\r\n			<p>注意&ldquo;tenant_id&rdquo;，还可以要求其为&ldquo;PROJECT_ID&rdquo;的别名，但不推荐使用作为将在将来被移除。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>ramdisk_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>使用AMI时的ramdisk映像的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>reservation_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			由多个实例所返回的保留ID建立呼叫。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>root_device_name</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的根设备名称过滤实例列表结果</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>sort_dir (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>排序方向。有效值是asc（升序）或desc（降序）。默认为desc。您可以指定多个对排序键和排序方向的查询参数。如果在对省略排序方向，该API使用实例方向的自然排序方向sort_key属性。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>sort_key (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>由实例属性进行排序。默认属性created。您可以指定多个对排序键和排序方向的查询参数。如果在对省略排序方向，该API使用实例的自然排序方向 sort_key属性。排序键不限于：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>access_ip_v4</p>\r\n\r\n			<p>access_ip_v6</p>\r\n\r\n			<p>auto_disk_config</p>\r\n\r\n			<p>availability_zone</p>\r\n\r\n			<p>config_drive</p>\r\n\r\n			<p>created_at</p>\r\n\r\n			<p>display_description</p>\r\n\r\n			<p>display_name</p>\r\n\r\n			<p>host</p>\r\n\r\n			<p>hostname</p>\r\n\r\n			<p>image_ref</p>\r\n\r\n			<p>instance_type_id</p>\r\n\r\n			<p>kernel_id</p>\r\n\r\n			<p>key_name</p>\r\n\r\n			<p>launch_index</p>\r\n\r\n			<p>launched_at</p>\r\n\r\n			<p>locked_by</p>\r\n\r\n			<p>node</p>\r\n\r\n			<p>power_state</p>\r\n\r\n			<p>progress</p>\r\n\r\n			<p>project_id</p>\r\n\r\n			<p>ramdisk_id</p>\r\n\r\n			<p>root_device_name</p>\r\n\r\n			<p>task_state</p>\r\n\r\n			<p>terminated_at</p>\r\n\r\n			<p>updated_at</p>\r\n\r\n			<p>user_id</p>\r\n\r\n			<p>uuid</p>\r\n\r\n			<p>vm_state</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>过滤器由一台实例状态的响应，作为一个字符串。例如，ACTIVE。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>tags (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			标签列表进行过滤的实例列表。匹配此列表中的所有标记，实例将被退回。在这种情况下，布尔表达式为&ldquo;T1和T2&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>tags-any (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>标签列表进行过滤的实例列表。匹配此列表中的任何标记，实例将被退回。在这种情况下布尔表达式为&ldquo;T1或T2&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>task_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			通过过滤任务状态的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>terminated_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>按日期和时间标记筛选实例列表结果时，例如被终止。日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>由给定用户ID过滤的实例列表。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>uuid (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>vm_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>过滤通过VM状态的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>Response<u>&para;</u></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n			<td>&nbsp;</td>\r\n			<td>&nbsp;</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>servers</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>列表server对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			实例的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>实例名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>servers</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>列表server对象。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			实例的UUID。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			实例名称。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>example</strong></h3>\r\n\r\n<p><img id=\"图片_x0020_3\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image003.png\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>POST&nbsp; /servers </strong></h2>\r\n\r\n<h3><strong>创建实例</strong></h3>\r\n\r\n<p>创建一个实例。</p>\r\n\r\n<p>此操作的进度取决于所请求的镜像，网络I / O，主机负载，选择flavor的位置，以及其他因素。</p>\r\n\r\n<p>要检查请求的进度，做出&nbsp;请求。这个调用返回一个进度属性，它是一个百分比值从0到100。GET&nbsp;/servers/{id}</p>\r\n\r\n<p>该Location头返回的完整URL新创建的实例，可作为一个self和bookmark链接实例表示。</p>\r\n\r\n<p>当你创建一个实例，响应只显示实例的ID，它的链接和管理员密码。您可以打通后续的附加属性GET在实例上请求。</p>\r\n\r\n<p>包括block-device-mapping-v2在创建请求体参数从卷启动实例。</p>\r\n\r\n<p>包括key_name在创建请求体参数密钥对在创建它添加到实例。要创建一个密钥，使&nbsp;<a href=\"http://developer.openstack.org/api-ref/compute/#create-or-import-keypair\">创建密钥对</a>&nbsp;请求。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>注意</p>\r\n\r\n<p>与microversion 2.37起始networks字段是必需的。</p>\r\n\r\n<p><strong>前提条件</strong></p>\r\n\r\n<ul>\r\n	<li>用户必须有足够的实例配额创建要求实例的数量。</li>\r\n	<li>给镜像服务的连接是有效的。</li>\r\n</ul>\r\n\r\n<p><strong>异步后置条件</strong></p>\r\n\r\n<ul>\r\n	<li>有了正确的权限，你可以看到实例的状态是&nbsp;ACTIVE通过API调用。</li>\r\n	<li>有了正确的访问，你可以看到在OpenStack计算管理计算节点创建的实例。</li>\r\n</ul>\r\n\r\n<p><strong>故障排除</strong></p>\r\n\r\n<ul>\r\n	<li>如果实例状态保持BUILDING或显示其他错误状态，请求失败。确保你满足，则前提条件调查计算节点。</li>\r\n	<li>是不是在OpenStack计算管理计算节点创建的实例。</li>\r\n	<li>计算节点需要足够的免费资源，以配合实例创建请求的资源。</li>\r\n	<li>确保调度程序选择滤波器可以实现与匹配滤波器的选择标准，可用的计算节点的请求。</li>\r\n</ul>\r\n\r\n<p>正常响应代码：202</p>\r\n\r\n<p>错误响应代码：错误请求（400），未授权的（401），禁止（403），itemNotFound（404），冲突（409）</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个server对象。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例名称。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>flavorRef</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　作为一个ID（包括UUID）或完整的URL，对于flavor的实例实例</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>imageRef</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>镜像的UUID使用您的实例实例。这不是从卷启动的情况下需要。在所有其他情况下，它是必要的，必须是有效的UUID，否则API将返回400　</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个或多个安全组。指定的安全组的名称name&nbsp;属性。如果省略此属性，则API创建的实例default&nbsp;安全组。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>metadata (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　元数据键和值对。元数据的键和值的最大尺寸是每255个字节。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv4 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>IPv4地址应该被用来访问该实例</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv6 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　应该用来访问此实例的IPv6地址。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>adminPass (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p>实例的管理员密码。如果省略该参数，操作产生了一个新的密码。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_data (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>&nbsp;</p>\r\n			</td>\r\n			<td>\r\n			<p>配置信息或脚本启动时使用。必须Base64编码。</p>\r\n\r\n			<p>注意:将null允许在新的传统版API值，但由于严格的输入检查，它不是在Nova 2.1 API允许的。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>availability_zone (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			从可用性区启动实例。当你提供资源，指定从哪个可用性区域中您希望您的实例被建立。通常，使用可用区域来OpenStack计算主机排列成逻辑组。可用性区提供了从其它可用性区域物理隔离和冗余的形式。例如，如果在你的数据中心的机架部分是一个单独的电源上，你可以把这些机架实例在自己的可用区。可用性区域还可以帮助独立的不同类别的硬件。通过分离的资源投入到可用性区域，可以确保您的应用程序资源在不同的机器蔓延到实现硬件或其他故障的情况下提供高可用性。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>networks</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>一个networks对象。必要参数时，有是房客定义多个网络。当你不指定网络参数，实例连接到当前租户创建唯一的网络。或者，您可以在实例上创建一个或多个NIC。为了提供与网络的网卡的实例实例，在指定网络的UUID&nbsp;uuid的属性networks&nbsp;对象。为了提供与网卡的实例实例已经存在的端口，指定的端口-IDport的属性networks对象。</p>\r\n\r\n			<p>如果多个网络的定义，它们出现在来宾操作系统的顺序不一定反映它们在实例引导请求给定的顺序。因此，客人不应该依赖于设备以便推断他们的网络设备的任何信息。取而代之的是，设备的作用的标签应使用：在2.32引入，在2.37断裂，并重新引入和固定在2.42，该tag是可被用于将标签分配给虚拟网络接口的可选，字符串属性。然后，该标签被暴露于的元数据API中的客人和配置驱动器和关联于硬件的元数据用于该网络接口，诸如总线（例如：PCI），总线地址（例如：0000：00：02.0），以及MAC地址。</p>\r\n\r\n			<p>的错误已经造成了tag不再来开头2.37版本接受属性。因此，网络接口只能被标记在2.32到2.36版本包括性。版本2.42已经恢复了tag&nbsp;属性。</p>\r\n\r\n			<p>与microversion 2.37开始，这是必填字段和特殊价值<em>的汽车</em>，并<em>没有</em>能够为网络中指定。<em>自动</em>通知计算服务使用网络可用的项目，如果存在的话。如果不存在，则计算服务将尝试自动分配网络项目（如果可能）。<em>没有</em>&nbsp;告诉计算服务无法为实例分配一个网络。的&nbsp;<em>自动</em>和<em>无</em>值不能与任何其他网络值，包括其它网络的UUID，港口，固定IP地址或设备标签来使用。这些要求作为网络的字串值，而不是在列表中。请参阅相关的例子。</p>\r\n\r\n			<p>&nbsp;</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>networks.uuid (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>为了提供与网络的网卡的实例实例，在指定网络的UUID&nbsp;uuid的属性networks对象。如果省略必要的port属性。</p>\r\n\r\n			<p>与microversion 2.37开始，这个值是严格执行是在UUID格式。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>networks.port (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　为了提供与网卡的实例实例已经存在的端口，指定的端口-ID&nbsp;port的属性networks对象。端口状态必须是DOWN。如果省略必要的uuid属性。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>networks.fixed_ip (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　固定IPv4地址的网卡。适用于有一个neutron或nova-networks&nbsp;网络。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>networks.tag (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>可以施加到网络接口的设备的作用的标记。有标记以这种方式可以访问硬件有关的元数据从元数据API和配置驱动器上的标记设备，如果启用设备的实例的客户机操作系统。</p>\r\n\r\n			<p>注意:由于一个错误，网络接口标签2.32 2.36之间不接受包容地，随后与2.42版开始。</p>\r\n\r\n			<p>在新版本2.32</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>personality (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>该文件的路径和内容，只有文字，注入到在启动实例。文件路径的数据的最大尺寸为255个字节。最大限制是在解码允许字节，而不是编码，数据的数量。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>启用对实例的块设备映射的细粒度控制。这通常用于从卷启动实例。一个例子格式将如下所示：</p>\r\n\r\n			<p>&quot;block_device_mapping_v2&quot;: [{</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;boot_index&quot;: &quot;0&quot;,</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;uuid&quot;: &quot;ac408821-c95a-448f-9292-73986c790911&quot;,</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;source_type&quot;: &quot;image&quot;,</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;volume_size&quot;: &quot;25&quot;,</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;destination_type&quot;: &quot;local&quot;,</p>\r\n\r\n			<p>&quot;delete_on_termination&quot;: true,</p>\r\n\r\n			<p>&quot;storage_medium&quot;:&quot;ssd&quot;,</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp; &quot;tag&quot;: &quot;disk1&quot; }]在microversion 2.32，tag是一个可以被用来指定一个标记来的块设备的可选字符串属性。然后，该标签被暴露于的元数据API中的客人和配置驱动器和关联于该块设备硬件的元数据，诸如总线（例如：SCSI），总线地址（例如：1：0：2：0），和串行。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>的错误已经造成了tag不再来开头2.33版本接受属性。它已经在2.42版本中得到修复。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.device_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>路径为要使用引导实例卷的设备。需要注意的是由于12.0.0自由释放，novalibvirt的驱动程序不再荣誉用户提供的设备名称。这是相同的行为，如同设备名称参数没有在请求中提供。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.source_type</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　源类型的卷。一个有效的值是blank，snapshot，volume，或image。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.destination_type (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　定义了卷从何而来。有效值为local或volume。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.delete_on_termination (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p>要删除当实例被破坏开机volume，指定true。否则，指定false。默认：false</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.guest_format</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			指定guest虚拟机实例的磁盘文件系统格式，如ephemeral或swap。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.boot_index</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p>定义了管理程序试图设备时，它试图从存储引导来宾的顺序。给每个独特的开机指数从起动装置0。从引导禁用设备，启动索引设定为负的值，或使用默认启动索引值，这是None。最简单的用法中，设置引导装置，以启动索引0并使用默认启动索引值，None对于任何其他设备。有些管理程序可能不支持从多个设备进行引导;&nbsp;这些虚拟机管理程序只考虑设备具有的引导指标0。有些管理程序支持来自多个设备进行引导，但只有当这些设备是不同类型的。例如，磁盘，CD-ROM。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.uuid (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　这是源资源的UUID。UUID是指向基础上，SOURCE_TYPE不同的资源。例如，如果是SOURCE_TYPE&nbsp;image与上述样品，块装置被创建基于其从镜像服务得到所指定的镜像上。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>block_device_mapping_v2.tag (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>可以施加到块设备的装置的作用的标记。有标记以这种方式可以访问硬件有关的元数据从元数据API和配置驱动器上的标记设备，如果启用设备的实例的客户机操作系统。</p>\r\n\r\n			<p>注意:由于一个错误，块设备标签接受2.32版本，随后用2.42版本开始。</p>\r\n\r\n			<p>在新版本2.32　</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>Block_device_mapping_v2.storage_medium</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>介质类型，可选值有两个：hdd、ssd</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>config_drive (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>表示的结构的驱动器是否能够元数据注入。该config_drive设置提供了有关驱动器的实例可以在启动时安装的信息。实例从驱动器中读取文件来获取通常可以通过元数据服务的信息。该元数据是从所述用户数据不同。并非所有的云服务提供商启用config_drive。阅读更多的OpenStack最终用户指南中。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			密钥对的名称。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>os:scheduler_hints (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　数据字典发送给调度。或者，您可以指定&nbsp;OS-SCH-HNT:scheduler_hints为字符串。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-DCF:diskConfig (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　控制API如何分区时，创建，重建或调整实例的磁盘。实例继承OS-DCF:diskConfig来自其被创建的镜像值，以及镜像继承OS-DCF:diskConfig来自其被创建的实例值。若要覆盖继承的设置，您可以在一台实例创建，重建或调整请求的请求体这个属性。如果OS-DCF:diskConfig对镜像值MANUAL，你不能创建从镜像实例及其设定OS-DCF:diskConfig值AUTO。有效的值是：</p>\r\n\r\n			<ul>\r\n				<li>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</li>\r\n				<li>MANUAL。所述API通过使用任何分区方案和文件系统是在源镜像中构建实例。如果目标味盘较大，API不分区的剩余的磁盘空间。</li>\r\n			</ul>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>description (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的自由形式的描述。限于255个字符。microversion 2.19在此之前，被设置为实例名称。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.19</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>tags (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>farray</p>\r\n			</td>\r\n			<td>\r\n			<p>　标签列表。标签有以下限制：</p>\r\n\r\n			<ul>\r\n				<li>标签是一个Unicode字节字符串超过60个字符。</li>\r\n				<li>标签是一个非空字符串。</li>\r\n				<li>&ldquo;/&rdquo;是不允许在标签名</li>\r\n				<li>逗号是不允许在标签名，以简化指定的标签列表请求</li>\r\n				<li>所有其它的字符被允许在标签名</li>\r\n				<li>每个实例最多可以有50个标签。</li>\r\n			</ul>\r\n\r\n			<p><strong>在新版本</strong><strong>2.52</strong></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<p><img id=\"图片_x0020_4\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image004.png\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个server对象。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的UUID。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>OS-DCF:diskConfig</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　磁盘配置。该值可以是：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</p>\r\n\r\n			<p>MANUAL。所述API通过使用分区方案和文件系统是在源镜像中构建实例。如果目标味盘越大，API不分区的剩余的磁盘空间。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>　</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个或多个安全组的对象。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups.name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　安全组的名称。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>adminPass (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p>实例的管理员密码。如果您设置enable_instance_password的配置选项False，该API将不会返回adminPass响应领域。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>example</strong></h3>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot; : {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv4&quot;: &quot;1.2.3.4&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv6&quot;: &quot;80fe::&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot; : &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;imageRef&quot; : &quot;95e6de14-9f92-421d-9ac5-656489c75226&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavorRef&quot; : &quot;0&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;networks&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;uuid&quot;:&quot;e63a9306-0335-4aa3-9a89-782dee4f0022&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;availability_zone&quot;: &quot;nova&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-DCF:diskConfig&quot;: &quot;AUTO&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadata&quot; : {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;My Server Name&quot; : &quot;Apache1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;personality&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;path&quot;: &quot;/etc/banner.txt&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;contents&quot;: &quot;ICAgICAgDQoiQSBjbG91ZCBkb2VzIG5vdCBrbm93IHdoeSBp dCBtb3ZlcyBpbiBqdXN0IHN1Y2ggYSBkaXJlY3Rpb24gYW5k IGF0IHN1Y2ggYSBzcGVlZC4uLkl0IGZlZWxzIGFuIGltcHVs c2lvbi4uLnRoaXMgaXMgdGhlIHBsYWNlIHRvIGdvIG5vdy4g QnV0IHRoZSBza3kga25vd3MgdGhlIHJlYXNvbnMgYW5kIHRo ZSBwYXR0ZXJucyBiZWhpbmQgYWxsIGNsb3VkcywgYW5kIHlv dSB3aWxsIGtub3csIHRvbywgd2hlbiB5b3UgbGlmdCB5b3Vy c2VsZiBoaWdoIGVub3VnaCB0byBzZWUgYmV5b25kIGhvcml6 b25zLiINCg0KLVJpY2hhcmQgQmFjaA==&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;security_groups&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;default&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;user_data&quot; : &quot;IyEvYmluL2Jhc2gKL2Jpbi9zdQplY2hvICJJIGFtIGluIHlvdSEiCg==&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;OS-SCH-HNT:scheduler_hints&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;same_host&quot;: &quot;48e6a9f6-30af-47e0-bc04-acaed113bb4e&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>通过volume 创建实例</p>\r\n\r\n<p>Request</p>\r\n\r\n<p>body</p>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;auto-allocate-network2&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;imageRef&quot;: &quot;95e6de14-9f92-421d-9ac5-656489c75226&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavorRef&quot;: &quot;0&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;networks&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;uuid&quot;:&quot;e63a9306-0335-4aa3-9a89-782dee4f0022&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;block_device_mapping_v2&quot;: [{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;boot_index&quot;: &quot;0&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;uuid&quot;: &quot;9f69ab54-3796-4344-a0e6-b1af6c092d7f&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;source_type&quot;: &quot;volume&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;volume_size&quot;: &quot;25&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;destination_type&quot;: &quot;volume&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;delete_on_termination&quot;: true</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; }]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<p><img id=\"图片_x0020_6\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image005.png\" /></p>\r\n\r\n<p>response</p>\r\n\r\n<p><img id=\"图片_x0020_7\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image006.png\" /></p>\r\n\r\n<h2><strong>POST /servers&nbsp; </strong></h2>\r\n\r\n<h3><strong>创建多个实例</strong></h3>\r\n\r\n<p>有一个第二类创建调用，它可以一次建设多台实例。这支持所有相同的参数，具体到多创造一些额外的属性创建。</p>\r\n\r\n<p>错误处理多创造不作为单独的实例上创建为一致，也不能保证所有的实例将建成。此调用通常应该有利于客户开展个人直接实例创建的避免。</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<p>这些都超越单一的参数创建的支持。</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>在</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>类型</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>描述</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>一个基本名称中多创造创造独特的名字。一个唯一的字符串将追加到该基地名称为创建的每个实例结束。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>min_count（可选）</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>要创建的分钟数目的实例。默认为1。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>MAX_COUNT（可选）</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>要创建实例的最大数量。默认为值min_count。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>return_reservation_id（可选）</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>设置为True以请求响应中返回一个预约ID，而不是实例的信息。默认为False。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>在</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>类型</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>描述</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>reservation_id</p>\r\n			</td>\r\n			<td>\r\n			<p>身体</p>\r\n			</td>\r\n			<td>\r\n			<p>串</p>\r\n			</td>\r\n			<td>\r\n			<p>预约ID实例。这是一个ID，可以在跟踪多个创建创建的实例组，将所有具有相同reservation_id有用。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>如果return_reservation_id设置为true只&nbsp;reservation_id将被退回。这可以作为详细的看到正在兴建的所有实例的状态列表实例的过滤器。</p>\r\n\r\n<p><strong>实施例创建预约</strong><strong>ID</strong><strong>多个实例</strong></p>\r\n\r\n<p><strong>{ </strong></p>\r\n\r\n<p><strong>&nbsp;&nbsp;&nbsp; </strong><strong>&ldquo;</strong><strong>reservation_id</strong><strong>&rdquo;</strong><strong> </strong><strong>：</strong><strong> </strong><strong>&ldquo;</strong><strong>R-3fhpjulh</strong><strong>&rdquo;</strong><strong> </strong></p>\r\n\r\n<p><strong>}</strong></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>example</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;imageRef&quot;: &quot;70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavorRef&quot;: &quot;1&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadata&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;My Server Name&quot;: &quot;Apache1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;return_reservation_id&quot;: &quot;True&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;min_count&quot;: &quot;2&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;max_count&quot;: &quot;3&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img id=\"图片_x0020_5\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image007.png\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>&nbsp;GET&nbsp; /servers/detail</strong></h2>\r\n\r\n<h3><strong>目录实例的详细 </strong></h3>\r\n\r\n<p>对于每个实例，示出了实例的信息包括配置驱动器，扩展状态，和实例使用信息。</p>\r\n\r\n<p>扩展状态信息出现在OS-EXT-STS：vm_state，OS-EXT-STS：power_state，以及OS-EXT-STS：task_state属性。</p>\r\n\r\n<p>实例使用信息将出现在OS-SRV-USG：launched_at和OS-SRV-USG：terminated_at属性。</p>\r\n\r\n<p>要隐藏地址在某个状态实例的信息，设置osapi_hide_server_address_states配置选项。将此选项设置为一个有效的VM状态nova.conf配置文件中</p>\r\n\r\n<p>主机标识，每个帐户唯一的，不是全球唯一的。</p>\r\n\r\n<p>正常响应代码：200</p>\r\n\r\n<p>错误响应代码：错误请求（400），未授权的（401），禁止（403）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>access_ip_v4 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过IPv4地址过滤实例列表的结果应该被用来访问该实例。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>access_ip_v6 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过IPv6地址过滤实例列表的结果应该被用来访问该实例。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>all_tenants (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>　指定all_tenants=1的查询参数列出所有实例的所有项目。默认情况下，这只能由管理员用户允许的。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>auto_disk_config (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>通过disk_config服务的设置，有效值为：AUTO MANUAL过滤所得的实例列表结果</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>availability_zone (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过过滤实例可用性区实例列表的结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>config_drive (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>　过滤实例的配置驱动设置实例列表结果</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>changes-since (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过过滤的日期和时间标记的响应，当实例上次更改状态。为了帮助跟踪的变化，这也可能返回最近删除的实例。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>created_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>通过过滤的日期和时间标记的响应，当实例上次更改状态。为了帮助跟踪的变化，这也可能返回最近删除的实例。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>deleted (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>　显示已删除的项目。在删除的项目仍然会通过后台数据库访问的一些情况，但是有多久没有合同，所以此参数应谨慎使用。它通常只提供给管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>description (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>过滤通过描述实例列表结果。</p>\r\n\r\n			<p>注意</p>\r\n\r\n			<p>display_description也可以要求它是别名 description，但不推荐使用作为将在将来被移除。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>flavor (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　<br />\r\n			过滤器由一个flavor的反应，作为UUID。甲flavor的存储器，盘大小，和CPU的组合</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>host (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过计算节点的主机名过滤实例列表结果。只允许管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>hostname (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过实例的主机名过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>image (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>过滤由一个镜像的响应，作为一个UUID。</p>\r\n\r\n			<p>注意:&ldquo;image_ref&rdquo;也可以要求它是&ldquo;形象&rdquo;的别名，但不推荐使用作为将在将来被移除。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>ip (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　IPv4地址的筛选结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>ip6 (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>IPv6地址的筛选结果。</p>\r\n\r\n			<p><strong>新版本</strong><strong>2.5</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>kernel_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　使用AMI时内核映像的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　过滤由密钥对名称实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>launch_index (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　筛选由该实例都推出了序列的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>launched_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>按日期和时间标记筛选实例列表结果的情况下推出的时候。日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>limit (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>　请求项目的页面大小。返回一个数字的项目达到极限值。使用limit参数进行初始有限请求并使用最后看到项的ID从响应作为marker在后续的有限请求的参数值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>locked_by (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过筛选锁定谁操作的实例的列表结果，可能值可能是admin，owner或none。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>marker (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　最后看到项目的ID。使用limit参数进行初始有限请求并使用最后看到项的ID从响应作为marker&nbsp;在后续的有限请求的参数值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>name (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>通过过滤实例名称的响应，作为一个字符串。您可以在查询中使用正则表达式。例如，?name=bob正则表达式返回Bob和bobb。如果你必须在只有Bob匹配，您可以使用该专为计算实现，如MySQL或PostgreSQL底层数据库实例的语法相匹配的正则表达式。</p>\r\n\r\n			<p>注意:&ldquo;DISPLAY_NAME&rdquo;，还可以要求其为&ldquo;名&rdquo;的别名，但不推荐使用作为将在将来被移除。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>node (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　筛选由节点实例列表结果。只允许管理员。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>not-tags (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			标签列表进行过滤的实例列表。不匹配此列表中的所有标签的实例将被退回。在这种情况下布尔表达式为&ldquo;NOT（T1和T2）&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>not-tags-any (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>标签列表进行过滤的实例列表。不匹配此列表中的所有标签的实例将被退回。在这种情况下布尔表达式为&ldquo;NOT（T1或T2&rdquo;）。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>power_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　通过过滤实例电源状态实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>progress (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的进度过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>project_id (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>在给定的项目ID过滤的实例列表。</p>\r\n\r\n			<p>注意:&ldquo;tenant_id&rdquo;，还可以要求其为&ldquo;PROJECT_ID&rdquo;的别名，但不推荐使用作为将在将来被移除。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>ramdisk_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　使用AMI时的ramdisk映像的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>reservation_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　由多个实例所返回的保留ID建立呼叫。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>root_device_name</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的根设备名称过滤实例列表结果</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>sort_dir (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　排序方向。有效值是asc（升序）或desc（降序）。默认为desc。您可以指定多个对排序键和排序方向的查询参数。如果在对省略排序方向，该API使用实例方向的自然排序方向sort_key属性。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>sort_key (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>由实例属性进行排序。默认属性created。您可以指定多个对排序键和排序方向的查询参数。如果在对省略排序方向，该API使用实例的自然排序方向&nbsp;sort_key属性。排序键不限于：</p>\r\n\r\n			<ul>\r\n				<li>access_ip_v4</li>\r\n				<li>access_ip_v6</li>\r\n				<li>auto_disk_config</li>\r\n				<li>availability_zone</li>\r\n				<li>config_drive</li>\r\n				<li>created_at</li>\r\n				<li>display_description</li>\r\n				<li>display_name</li>\r\n				<li>host</li>\r\n				<li>hostname</li>\r\n				<li>image_ref</li>\r\n				<li>instance_type_id</li>\r\n				<li>kernel_id</li>\r\n				<li>key_name</li>\r\n				<li>launch_index</li>\r\n				<li>launched_at</li>\r\n				<li>locked_by</li>\r\n				<li>node</li>\r\n				<li>power_state</li>\r\n				<li>progress</li>\r\n				<li>project_id</li>\r\n				<li>ramdisk_id</li>\r\n				<li>root_device_name</li>\r\n				<li>task_state</li>\r\n				<li>terminated_at</li>\r\n				<li>updated_at</li>\r\n				<li>user_id</li>\r\n				<li>uuid</li>\r\n				<li>vm_state</li>\r\n			</ul>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　过滤器由一台实例状态的响应，作为一个字符串。例如，ACTIVE。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>tags (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			标签列表进行过滤的实例列表。匹配此列表中的所有标记，实例将被退回。在这种情况下，布尔表达式为&ldquo;T1和T2&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>tags-any (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			标签列表进行过滤的实例列表。匹配此列表中的任何标记，实例将被退回。在这种情况下布尔表达式为&ldquo;T1或T2&rdquo;。在查询标签必须用逗号分隔。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.26</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>task_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			通过过滤任务状态的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>terminated_at (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>query</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>按日期和时间标记筛选实例列表结果时，例如被终止。日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>该&plusmn;hh:mm值，如果包含的话，返回时区为UTC的偏移量。例如，2015-08-27T09:49:58-05:00。如果省略了时区，假定UTC时区</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_id (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　由给定用户ID过滤的实例列表。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>uuid (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的UUID过滤实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>vm_state (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>query</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　过滤通过VM状态的实例列表结果。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<table cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个server对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>addresses</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			实例的地址。地址信息被隐藏在设置状态的任何实例hide_server_address_states配置选项。默认情况下，实例building状态隐藏自己的地址信息。请参阅nova.conf&nbsp;<a href=\"https://docs.openstack.org/ocata/config-reference/compute/config-options.html\">配置选项</a>&nbsp;以获取更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>created</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源已创建。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			microversion 2.47在此之前，包含用于启动实例实例的flavorID和链接。这可以是在壳体的flavor信息的空对象不再存在于系统中。</p>\r\n\r\n			<p>作为microversion 2.47的这包含用于创建实例实例的实际flavor的信息，表示为嵌套的字典的一个子集。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的ID。虽然人们经常使这个看起来像一个int，这确实是一个字符串。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.links</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>array</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>链接到flavor资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.vcpus</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			被分配给实例虚拟CPU数量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ram</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			RAM的flavor了，在MIB量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.disk</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>这是在吉布创建的根磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ephemeral</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>已创建，在吉布短暂磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.swap</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>这是分配的，在MIB专用交换磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.original_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			的flavor的显示名称。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的额外功能键 - 值对的字典。如果用户是通过政策来索引flavorEXTRA_SPECS允许这只会被包括在内。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.key</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外规范的关键。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.value</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外的规范值。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>hostId</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			表示主机的ID字符串。这是一个散列值，因此实际上不会看起来像一个主机名，并用散列从PROJECT_ID数据，因此由两个不同的project_ids所看到的同一个物理主机上，会有所不同。当在同一个项目中，你需要确定两个实例是对的可用性或性能的目的，相同或不同的物理主机是非常有用的。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>image</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　该UUID并为您的实例实例的镜像链接。在image当你从一个卷进行引导，服务对象可能是一个空字符串。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　如果有相关的密钥对的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>metadata</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　元数据键 - 值对的字典，其被保持向后兼容性。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv4</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　IPv4地址应该被用来访问该实例。可以由提供商自动设置。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv6</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　应该用来访问此实例的IPv6地址。可以由提供商自动设置。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>config_drive</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			指示是否用于该实例配置驱动器。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>OS-DCF:diskConfig</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p><br />\r\n			磁盘配置。该值可以是：</p>\r\n\r\n			<ul>\r\n				<li>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</li>\r\n				<li>MANUAL。所述API通过使用分区方案和文件系统是在源镜像中构建实例。如果目标味盘越大，API不分区的剩余的磁盘空间。</li>\r\n			</ul>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-AZ:availability_zone</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　可用性区域名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:host</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　在此情况下运行计算主机的名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:hypervisor_hostname</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　由nova的virt驱动程序提供的虚拟机管理程序的主机名。对于具有Ironic驱动程序，这是具有Ironic节点UUID。只出现在管理用户的响应</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:instance_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例名称。计算API生成从实例名称模板实例名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>OS-EXT-STS:power_state</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>实例的电源状态。这是被映射为一个枚举值：</p>\r\n\r\n			<p>0 ： NOSTATE</p>\r\n\r\n			<p>1 ： RUNNING</p>\r\n\r\n			<p>3 ： PAUSED</p>\r\n\r\n			<p>&nbsp; 4 ： SHUTDOWN</p>\r\n\r\n			<p>6 ： CRASHED</p>\r\n\r\n			<p>&nbsp;&nbsp; 7 ： SUSPENDED　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:task_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的任务状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:vm_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　虚拟机的状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>os-extended-volumes:volumes_attached</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　所附的卷，如果有的话。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>os-extended-volumes:volumes_attached.id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　所附的卷，如果有的话。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>os-extended-volumes:volumes_attached.delete_on_termination</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>boolean</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>一个标志，指示如果当实例被删除附加的卷将被删除。默认情况下，这是假的，并在创建卷时，同时创建一个实例，它通常被称为引导从卷只能设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>OS-SRV-USG:launched_at</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>日期和时间向实例发起。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>的hh&plusmn;:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>OS-SRV-USG:terminated_at</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>日期和时间在实例已被删除。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>progress</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>　的构建进度的百分比值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个或多个安全组的对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_group.name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　安全组的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>host_status</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p><br />\r\n			主机状态。值，其中列表中的下值可以覆盖前面的：</p>\r\n\r\n			<ul>\r\n				<li>UP&nbsp;如果NOVA-计算了。</li>\r\n				<li>UNKNOWN&nbsp;如果NOVA-计算不servicegroup驱动程序报告。</li>\r\n				<li>DOWN&nbsp;如果NOVA-计算被迫下降。</li>\r\n				<li>MAINTENANCE&nbsp;如果NOVA-计算被禁用。</li>\r\n				<li>空字符串表示没有主机实例。此属性只出现在如果政策允许的响应。</li>\r\n			</ul>\r\n\r\n			<p><strong>在新版本</strong><strong>2.16</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>tenant_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　租客在多租户云的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>updated</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源进行了更新。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　谁拥有实例的用户的用户ID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:hostname</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			当它启动实例上的主机名设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:reservation_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>预约ID实例。这是一个ID，可以在跟踪多个创建创建的实例组，将所有具有相同reservation_id有用。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:launch_index</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			当实例通过多推出创造，这是该实例被启动的顺序。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:kernel_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			使用AMI时内核映像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:ramdisk_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>使用AMI当ramdisk镜像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:root_device_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			实例的根设备名称</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:user_data</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>实例与创建的用户数据。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>locked</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>boolean</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			真如果实例被锁定，否则假。</p>\r\n\r\n			<p><strong>新的版本</strong><strong>2.9</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Example List&nbsp;</strong></strong></h3>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;servers&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-DCF:diskConfig&quot;: &quot;AUTO&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-AZ:availability_zone&quot;: &quot;nova&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:host&quot;: &quot;compute&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:hostname&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:hypervisor_hostname&quot;: &quot;fake-mini&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:instance_name&quot;: &quot;instance-00000001&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:kernel_id&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:launch_index&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:ramdisk_id&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:reservation_id&quot;: &quot;r-iffothgx&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:root_device_name&quot;: &quot;/dev/sda&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:user_data&quot;: &quot;IyEvYmluL2Jhc2gKL2Jpbi9zdQplY2hvICJJIGFtIGluIHlvdSEiCg==&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:power_state&quot;: 1,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:task_state&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:vm_state&quot;: &quot;active&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-SRV-USG:launched_at&quot;: &quot;2017-02-14T19:24:43.891568&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-SRV-USG:terminated_at&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv4&quot;: &quot;1.2.3.4&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv6&quot;: &quot;80fe::&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addresses&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;private&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-IPS-MAC:mac_addr&quot;: &quot;aa:bb:cc:dd:ee:ff&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;OS-EXT-IPS:type&quot;: &quot;fixed&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addr&quot;: &quot;192.168.0.3&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;version&quot;: 4</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;config_drive&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;created&quot;: &quot;2017-02-14T19:24:42Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;description&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavor&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;disk&quot;: 1,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ephemeral&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;extra_specs&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:cpu_model&quot;: &quot;SandyBridge&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:mem_page_size&quot;: &quot;2048&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:cpu_policy&quot;: &quot;dedicated&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;original_name&quot;: &quot;m1.tiny.specs&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ram&quot;: 512,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;swap&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;vcpus&quot;: 1</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hostId&quot;: &quot;2091634baaccdc4c5a1d57069c833e402921df696b7f970791b12ec6&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;host_status&quot;: &quot;UP&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;764e369e-a874-4401-b7ce-43e4760888da&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;image&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/images/70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&quot;key_name&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/v2.1/6f70656e737461636b20342065766572/servers/764e369e-a874-4401-b7ce-43e4760888da&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;self&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/servers/764e369e-a874-4401-b7ce-43e4760888da&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&quot;locked&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadata&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;My Server Name&quot;: &quot;Apache1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;os-extended-volumes:volumes_attached&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;delete_on_termination&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;volume_id1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;delete_on_termination&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;volume_id2&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;progress&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;security_groups&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;default&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;status&quot;: &quot;ACTIVE&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tags&quot;: [],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tenant_id&quot;: &quot;6f70656e737461636b20342065766572&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;updated&quot;: &quot;2017-02-14T19:24:43Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;user_id&quot;: &quot;fake&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>}</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>GET /servers/{server_id} </strong></h2>\r\n\r\n<h3><strong>显示实例详细信息</strong></h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>显示了实例的详细信息。</p>\r\n\r\n<p>包括实例的详细信息，包括配置驱动器，扩展状态和实例使用情况的信息。</p>\r\n\r\n<p>扩展状态信息将出现在OS-EXT-STS:vm_state，OS-EXT-STS:power_state和OS-EXT-STS:task_state属性。</p>\r\n\r\n<p>实例使用信息将出现在OS-SRV-USG:launched_at和OS-SRV-USG:terminated_at属性。</p>\r\n\r\n<p>要隐藏addresses的实例的信息在一定的状态，设置osapi_hide_server_address_states配置选项。将此选项设置为一个有效的虚拟机状态的nova.conf配置文件。</p>\r\n\r\n<p>主机标识，每个帐户唯一的，不是全球唯一的。</p>\r\n\r\n<p><strong>前提条件</strong></p>\r\n\r\n<p>该实例必须存在。</p>\r\n\r\n<p>正常响应代码：200</p>\r\n\r\n<p>错误响应代码：未经授权的（401），禁止（403），itemNotFound（404）</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server_id</p>\r\n			</td>\r\n			<td>\r\n			<p>path</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的UUID。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<table cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个server对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>addresses</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			实例的地址。地址信息被隐藏在设置状态的任何实例hide_server_address_states配置选项。默认情况下，实例building状态隐藏自己的地址信息。请参阅nova.conf&nbsp;<a href=\"https://docs.openstack.org/ocata/config-reference/compute/config-options.html\">配置选项</a>&nbsp;以获取更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>created</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源已创建。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>microversion 2.47在此之前，包含用于启动实例实例的flavorID和链接。这可以是在壳体的flavor信息的空对象不再存在于系统中。</p>\r\n\r\n			<p>作为microversion 2.47的这包含用于创建实例实例的实际flavor的信息，表示为嵌套的字典的一个子集。</p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的ID。虽然人们经常使这个看起来像一个int，这确实是一个字符串。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.links</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>array</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>链接到flavor资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.vcpus</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			被分配给实例虚拟CPU数量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ram</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			RAM的flavor了，在MIB量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.disk</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			这是在吉布创建的根磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ephemeral</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			已创建，在吉布短暂磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.swap</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>这是分配的，在MIB专用交换磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.original_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor的显示名称。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的额外功能键 - 值对的字典。如果用户是通过政策来索引flavorEXTRA_SPECS允许这只会被包括在内。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.key</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外规范的关键。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.value</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外的规范值。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>hostId</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			表示主机的ID字符串。这是一个散列值，因此实际上不会看起来像一个主机名，并用散列从PROJECT_ID数据，因此由两个不同的project_ids所看到的同一个物理主机上，会有所不同。当在同一个项目中，你需要确定两个实例是对的可用性或性能的目的，相同或不同的物理主机是非常有用的。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>image</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　该UUID并为您的实例实例的镜像链接。在image当你从一个卷进行引导，服务对象可能是一个空字符串。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　如果有相关的密钥对的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>metadata</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　元数据键 - 值对的字典，其被保持向后兼容性。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv4</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			IPv4地址应该被用来访问该实例。可以由提供商自动设置</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv6</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　应该用来访问此实例的IPv6地址。可以由提供商自动设置。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>config_drive</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>boolean</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			指示是否用于该实例配置驱动器。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>OS-DCF:diskConfig</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p><br />\r\n			磁盘配置。该值可以是：</p>\r\n\r\n			<ul>\r\n				<li>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</li>\r\n				<li>MANUAL。所述API通过使用分区方案和文件系统是在源镜像中构建实例。如果目标味盘越大，API不分区的剩余的磁盘空间。</li>\r\n			</ul>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-AZ:availability_zone</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　可用性区域名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:host</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			在此情况下运行计算主机的名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:hypervisor_hostname</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			由nova的virt驱动程序提供的虚拟机管理程序的主机名。对于具有Ironic驱动程序，这是具有Ironic节点UUID。只出现在管理用户的响应</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:instance_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例名称。计算API生成从实例名称模板实例名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>OS-EXT-STS:power_state</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>实例的电源状态。这是被映射为一个枚举值：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>0 ： NOSTATE</p>\r\n\r\n			<p>1 ： RUNNING</p>\r\n\r\n			<p>3 ： PAUSED</p>\r\n\r\n			<p>&nbsp;&nbsp; 4 ： SHUTDOWN</p>\r\n\r\n			<p>&nbsp;6 ： CRASHED</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp;&nbsp; 7 ： SUSPENDED&nbsp;&nbsp; 　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:task_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的任务状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:vm_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>&nbsp; 虚拟机的状态。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>os-extended-volumes:volumes_attached</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　所附的卷，如果有的话。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>os-extended-volumes:volumes_attached.id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　所附的卷ID</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>os-extended-volumes:volumes_attached.delete_on_termination</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>boolean</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			一个标志，指示如果当实例被删除附加的卷将被删除。默认情况下，这是假的，并在创建卷时，同时创建一个实例，它通常被称为引导从卷设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>OS-SRV-USG:launched_at</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>日期和时间向实例发起。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>的hh&plusmn;:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>OS-SRV-USG:terminated_at</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>日期和时间在实例已被删除。</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null。。</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>progress</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>　的构建进度的百分比值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			一个或多个安全组的对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_group.name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　安全组的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>host_status</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p><br />\r\n			主机状态。值，其中列表中的下值可以覆盖前面的：</p>\r\n\r\n			<ul>\r\n				<li>UP&nbsp;如果NOVA-计算了。</li>\r\n				<li>UNKNOWN&nbsp;如果NOVA-计算不servicegroup驱动程序报告。</li>\r\n				<li>DOWN&nbsp;如果NOVA-计算被迫下降。</li>\r\n				<li>MAINTENANCE&nbsp;如果NOVA-计算被禁用。</li>\r\n				<li>空字符串表示没有主机实例。此属性只出现在如果政策允许的响应。</li>\r\n			</ul>\r\n\r\n			<p><strong>在新版本</strong><strong>2.16</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>tenant_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　租客在多租户云的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>updated</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源进行了更新。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。</p>\r\n\r\n			<p>&nbsp;&nbsp;&nbsp;</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			谁拥有实例的用户的用户ID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>fault (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　Fault对象。只显示在失败的响应。缺省键code，created和message&nbsp;（分别响应代码，创建时间，和消息）。此外，关键的details，如果你有管理员权限（堆栈跟踪）可用。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:hostname</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>当它启动实例上的主机名设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:reservation_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>当它启动实例上的主机名设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:launch_index</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			当实例通过多推出创造，这是该实例被启动的顺序。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:kernel_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			使用AMI时内核映像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:ramdisk_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>使用AMI当ramdisk镜像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:root_device_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			实例的根设备名称</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:user_data</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			实例与创建的用户数据。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>locked</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>boolean</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			真如果实例被锁定，否则假。</p>\r\n\r\n			<p><strong>新的版本</strong><strong>2.9</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Example</strong></h3>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-DCF:diskConfig&quot;: &quot;AUTO&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-AZ:availability_zone&quot;: &quot;nova&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:host&quot;: &quot;compute&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:hostname&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:hypervisor_hostname&quot;: &quot;fake-mini&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:instance_name&quot;: &quot;instance-00000001&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:kernel_id&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:launch_index&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:ramdisk_id&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:reservation_id&quot;: &quot;r-ov3q80zj&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:root_device_name&quot;: &quot;/dev/sda&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-SRV-ATTR:user_data&quot;: &quot;IyEvYmluL2Jhc2gKL2Jpbi9zdQplY2hvICJJIGFtIGluIHlvdSEiCg==&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:power_state&quot;: 1,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:task_state&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-STS:vm_state&quot;: &quot;active&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-SRV-USG:launched_at&quot;: &quot;2017-02-14T19:23:59.895661&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-SRV-USG:terminated_at&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv4&quot;: &quot;1.2.3.4&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv6&quot;: &quot;80fe::&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addresses&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;private&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-IPS-MAC:mac_addr&quot;: &quot;aa:bb:cc:dd:ee:ff&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-EXT-IPS:type&quot;: &quot;fixed&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addr&quot;: &quot;192.168.0.3&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;version&quot;: 4</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;}</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;config_drive&quot;: &quot;&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;created&quot;: &quot;2017-02-14T19:23:58Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;description&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavor&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;disk&quot;: 1,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ephemeral&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;extra_specs&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:cpu_model&quot;: &quot;SandyBridge&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:mem_page_size&quot;: &quot;2048&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hw:cpu_policy&quot;: &quot;dedicated&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;original_name&quot;: &quot;m1.tiny.specs&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ram&quot;: 512,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;swap&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;vcpus&quot;: 1</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hostId&quot;: &quot;2091634baaccdc4c5a1d57069c833e402921df696b7f970791b12ec6&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;host_status&quot;: &quot;UP&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;9168b536-cd40-4630-b43f-b259807c6e87&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;image&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/images/70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;key_name&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/v2.1/6f70656e737461636b20342065766572/servers/9168b536-cd40-4630-b43f-b259807c6e87&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;self&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/servers/9168b536-cd40-4630-b43f-b259807c6e87&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;locked&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadata&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;My Server Name&quot;: &quot;Apache1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;os-extended-volumes:volumes_attached&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;delete_on_termination&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;volume_id1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;delete_on_termination&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;volume_id2&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;progress&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;security_groups&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;default&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;status&quot;: &quot;ACTIVE&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tags&quot;: [],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tenant_id&quot;: &quot;6f70656e737461636b20342065766572&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;updated&quot;: &quot;2017-02-14T19:24:00Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;user_id&quot;: &quot;fake&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>&nbsp;PUT&nbsp; /servers/{server_id}</strong></h2>\r\n\r\n<h3><strong>更新实例</strong></h3>\r\n\r\n<p>更新现有实例的可编辑属性。</p>\r\n\r\n<p>正常响应代码：200</p>\r\n\r\n<p>错误响应代码：错误请求（400），未授权的（401），禁止（403），itemNotFound（404）</p>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server_id</p>\r\n			</td>\r\n			<td>\r\n			<p>path</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的UUID。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv4 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　IPv4地址应该被用来访问该实例</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv6 (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			应该用来访问此实例的IPv6地址。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例名称。</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>OS-DCF:diskConfig (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　控制API如何分区时，创建，重建或调整实例的磁盘。实例继承OS-DCF:diskConfig来自其被创建的镜像值，以及镜像继承OS-DCF:diskConfig来自其被创建的实例值。若要覆盖继承的设置，您可以在一台实例创建，重建或调整请求的请求体这个属性。如果OS-DCF:diskConfig对镜像值MANUAL，你不能创建从镜像实例及其设定OS-DCF:diskConfig值AUTO。有效的值是：</p>\r\n\r\n			<ul>\r\n				<li>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</li>\r\n				<li>MANUAL。所述API通过使用任何分区方案和文件系统是在源镜像中构建实例。如果目标味盘较大，API不分区的剩余的磁盘空间。</li>\r\n			</ul>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>　</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>description (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例的自由形式的描述。限于255个字符。microversion 2.19在此之前，被设置为实例名称。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.19</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p><strong>　</strong></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong><strong>Example</strong></strong></h3>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv4&quot;: &quot;1.2.3.4&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv6&quot;: &quot;80fe::&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-DCF:diskConfig&quot;: &quot;AUTO&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot; : &quot;new-server-test&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<table cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>In</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Type</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>Description</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>server</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　一个server对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>addresses</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的地址。地址信息被隐藏在设置状态的任何实例hide_server_address_states配置选项。默认情况下，实例building状态隐藏自己的地址信息。请参阅nova.conf&nbsp;<a href=\"https://docs.openstack.org/ocata/config-reference/compute/config-options.html\">配置选项</a>&nbsp;以获取更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>created</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源已创建。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>日期和时间资源已创建。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的ID。虽然人们经常使这个看起来像一个int，这确实是一个字符串。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.links</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>array</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			链接到flavor资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n\r\n			<p><strong>不赞成使用，版本</strong><strong>2.46</strong></p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.vcpus</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>被分配给实例虚拟CPU数量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ram</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>RAM的flavor了，在MIB量。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.disk</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>这是在吉布创建的根磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.ephemeral</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>已创建，在吉布短暂磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.swap</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			这是分配的，在MIB专用交换磁盘的大小。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.original_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			的flavor的显示名称。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>object</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			flavor的额外功能键 - 值对的字典。如果用户是通过政策来索引flavorEXTRA_SPECS允许这只会被包括在内。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.key</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外规范的关键。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>flavor.extra_specs.value</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>的flavor额外的规范值。</p>\r\n\r\n			<p><strong>在新版本</strong><strong>2.47</strong></p>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>hostId</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			表示主机的ID字符串。这是一个散列值，因此实际上不会看起来像一个主机名，并用散列从PROJECT_ID数据，因此由两个不同的project_ids所看到的同一个物理主机上，会有所不同。当在同一个项目中，你需要确定两个实例是对的可用性或性能的目的，相同或不同的物理主机是非常有用的。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>image</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			该UUID并为您的实例实例的镜像链接。在image当你从一个卷进行引导，服务对象可能是一个空字符串。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>key_name (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　密钥对的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>links</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p><br />\r\n			链接到相关的资源。见<a href=\"http://developer.openstack.org/api-guide/compute/links_and_references.html\">API指南/链接和引用</a>&nbsp;的更多信息。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>metadata (Optional)</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>object</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			元数据键和值对。元数据的键和值的最大尺寸是每255个字节。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv4</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　IPv4地址应该被用来访问该实例。可以由提供商自动设置。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>accessIPv6</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			应该用来访问此实例的IPv6地址。可以由提供商自动设置。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>OS-DCF:diskConfig (Optional)</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p><br />\r\n			控制API如何分区时，创建，重建或调整实例的磁盘。实例继承OS-DCF:diskConfig来自其被创建的镜像值，以及镜像继承OS-DCF:diskConfig来自其被创建的实例值。若要覆盖继承的设置，您可以在一台实例创建，重建或调整请求的请求体这个属性。如果OS-DCF:diskConfig对镜像值MANUAL，你不能创建从镜像实例及其设定OS-DCF:diskConfig值AUTO。有效的值是：</p>\r\n\r\n			<ul>\r\n				<li>AUTO。该API构建带有单个分区目标flavor磁盘的大小实例。该API自动调整文件系统，以适应整个分区。</li>\r\n				<li>MANUAL。所述API通过使用任何分区方案和文件系统是在源镜像中构建实例。如果目标味盘较大，API不分区的剩余的磁盘空间。</li>\r\n			</ul>\r\n\r\n			<p>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-AZ:availability_zone</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			可用性区域名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:host</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　在此情况下运行计算主机的名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:hypervisor_hostname</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			由nova的virt驱动程序提供的虚拟机管理程序的主机名。对于具有Ironic驱动程序，这是具有Ironic节点UUID。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-SRV-ATTR:instance_name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例名称。计算API生成从实例名称模板实例名称。只出现在管理用户的响应。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>OS-EXT-STS:power_state</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>实例的电源状态。这是被映射为一个枚举值：</p>\r\n\r\n			<p>0 ： NOSTATE</p>\r\n\r\n			<p>1 ： RUNNING</p>\r\n\r\n			<p>3 ： PAUSED</p>\r\n\r\n			<p>4 ： SHUTDOWN</p>\r\n\r\n			<p>6 ： CRASHED</p>\r\n\r\n			<p>7 ： SUSPENDED　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:task_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			实例的任务状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>OS-EXT-STS:vm_state</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			虚拟机的状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"5\">\r\n			<p>OS-SRV-USG:launched_at</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"5\">\r\n			<p>日期和时间向实例发起。</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。</p>\r\n\r\n			<p>的hh&plusmn;:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"4\">\r\n			<p>OS-SRV-USG:terminated_at</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"4\">\r\n			<p>日期和时间在实例已被删除。</p>\r\n\r\n			<p>日期和时间标记的格式是ISO 8601：</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm值，如果包括的话，是时区作为一个从UTC偏移。如果deleted_at没有设置日期和时间标记，它的值是null。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>progress</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>integer</p>\r\n			</td>\r\n			<td>\r\n			<p>　的构建进度的百分比值。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_groups</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>array</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			一个或多个安全组的对象。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>security_group.name</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			安全组的名称。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>status</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　实例状态。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"7\">\r\n			<p>host_status</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"7\">\r\n			<p><br />\r\n			主机状态。值，其中列表中的下值可以覆盖前面的：</p>\r\n\r\n			<ul>\r\n				<li>UP&nbsp;如果NOVA-计算了。</li>\r\n				<li>UNKNOWN&nbsp;如果NOVA-计算不servicegroup驱动程序报告。</li>\r\n				<li>DOWN&nbsp;如果NOVA-计算被迫下降。</li>\r\n				<li>MAINTENANCE&nbsp;如果NOVA-计算被禁用。</li>\r\n				<li>空字符串表示没有主机实例。此属性只出现在如果政策允许的响应。</li>\r\n			</ul>\r\n\r\n			<p><strong>在新版本</strong><strong>2.16</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>tenant_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　租客在多租户云的UUID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"3\">\r\n			<p>updated</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"3\">\r\n			<p>日期和时间资源进行了更新。日期和时间戳记格式是ISO 8601</p>\r\n\r\n			<p>CCYY MM DDTHH：MM：SS&plusmn;HH：MM</p>\r\n\r\n			<p>例如，2015-08-27T09:49:58-05:00。的&plusmn;hh:mm 值，如果包括的话，是时区作为一个从UTC偏移。在前面的例子中，偏移值是-05:00。　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>user_id</p>\r\n			</td>\r\n			<td>\r\n			<p>body</p>\r\n			</td>\r\n			<td>\r\n			<p>string</p>\r\n			</td>\r\n			<td>\r\n			<p>　</p>\r\n\r\n			<p><br />\r\n			谁拥有实例的用户的用户ID。</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:hostname</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			当它启动实例上的主机名设置。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:reservation_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			预约ID实例。这是一个ID，可以在跟踪多个创建创建的实例组，将所有具有相同reservation_id有用。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:launch_index</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>integer</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			当实例通过多推出创造，这是该实例被启动的顺序。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:kernel_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			使用AMI时内核映像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:ramdisk_id</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			使用AMI当ramdisk镜像的UUID。如果不能为null。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:root_device_name</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			实例的根设备名称</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>OS-EXT-SRV-ATTR:user_data</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>string</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			实例与创建的用户数据。</p>\r\n\r\n			<p><strong>新的</strong><strong>2.3</strong><strong>版本</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td rowspan=\"2\">\r\n			<p>locked</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>body</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p>boolean</p>\r\n			</td>\r\n			<td rowspan=\"2\">\r\n			<p><br />\r\n			真如果实例被锁定，否则假。</p>\r\n\r\n			<p><strong>新的版本</strong><strong>2.9</strong>　</p>\r\n			</td>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&nbsp;</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Example</strong></h3>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; &quot;server&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OS-DCF:diskConfig&quot;: &quot;AUTO&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv4&quot;: &quot;1.2.3.4&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accessIPv6&quot;: &quot;80fe::&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addresses&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;private&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;addr&quot;: &quot;192.168.0.3&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;version&quot;: 4</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;created&quot;: &quot;2012-12-02T02:11:57Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;description&quot;: null,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;flavor&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;disk&quot;: 1,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ephemeral&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;extra_specs&quot;: {},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;original_name&quot;: &quot;m1.tiny&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ram&quot;: 512,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;swap&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;vcpus&quot;: 1</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;hostId&quot;: &quot;6e84af987b4e7ec1c039b16d21f508f4a505672bd94fb0218b668d07&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;324dfb7d-f4a9-419a-9a19-237df04b443b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;image&quot;: {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;id&quot;: &quot;70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/images/70a599e0-31e7-49b7-b260-868f441e862b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;links&quot;: [</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/v2/6f70656e737461636b20342065766572/servers/324dfb7d-f4a9-419a-9a19-237df04b443b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;self&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;href&quot;: &quot;http://openstack.example.com/6f70656e737461636b20342065766572/servers/324dfb7d-f4a9-419a-9a19-237df04b443b&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;rel&quot;: &quot;bookmark&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;locked&quot;: false,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadata&quot;: {</p>\r\n\r\n<p>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;My Server Name&quot;: &quot;Apache1&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;new-server-test&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;progress&quot;: 0,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;status&quot;: &quot;ACTIVE&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tags&quot;: [],</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;tenant_id&quot;: &quot;6f70656e737461636b20342065766572&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;updated&quot;: &quot;2012-12-02T02:11:58Z&quot;,</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;user_id&quot;: &quot;fake&quot;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp; }</p>\r\n\r\n<p>}</p>\r\n\r\n<h2><strong>DELETE /servers/{server_id}</strong></h2>\r\n\r\n<h3><strong>删除实例。</strong></h3>\r\n\r\n<p>默认情况下，例如从系统将是（硬）中删除立即，但你可以设置reclaim_instance_interval直到&gt; 0，使API软删除实例，使该实例的虚拟机不会被删除reclaim_instance_interval，因为该实例已过期被软删除。标记为实例SOFT_DELETED可以通过恢复restore操作之前，它的真正从系统中删除。</p>\r\n\r\n<p><strong>前提条件</strong></p>\r\n\r\n<ul>\r\n	<li>该实例必须存在。</li>\r\n	<li>任何人都可以删除实例时，实例的状态没有被锁定，当政策允许。</li>\r\n	<li>如果实例被锁定，必须具有管理员权限才能删除实例。</li>\r\n</ul>\r\n\r\n<p><strong>异步后置条件</strong></p>\r\n\r\n<ul>\r\n	<li>有了正确的权限，你可以看到作为实例的状态deleting。</li>\r\n	<li>连接到实例的端口，诺瓦实例期间创建创建过程或附接接口以后的情况下，被删除。</li>\r\n	<li>该实例没有出现在列表中的实例响应。</li>\r\n	<li>如果硬删除，由OpenStack计算管理实例计算节点上删除。</li>\r\n</ul>\r\n\r\n<p><strong>故障排除</strong></p>\r\n\r\n<ul>\r\n	<li>如果实例状态保持deleting状态或其他错误状态，请求失败。确保满足的先决条件。然后，调查计算后端。</li>\r\n	<li>请求返回时，实例被锁定，即使你有正确的权限HTTP 409响应代码。确保您满足，则前提条件检查实例状态。</li>\r\n	<li>由OpenStack计算管理实例未从计算节点删除。</li>\r\n</ul>\r\n\r\n<p>正常响应代码：204</p>\r\n\r\n<p>错误响应代码：未经授权的（401），禁止（403），itemNotFound（404），冲突（409）</p>\r\n\r\n<h3><strong>Request</strong></h3>\r\n\r\n<table border=\"1\" cellspacing=\"0\">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n			<p><strong>Name</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>在</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>类型</strong></p>\r\n			</td>\r\n			<td>\r\n			<p><strong>描述</strong></p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td>\r\n			<p>SERVER_ID</p>\r\n			</td>\r\n			<td>\r\n			<p>路径</p>\r\n			</td>\r\n			<td>\r\n			<p>串</p>\r\n			</td>\r\n			<td>\r\n			<p>实例的UUID。</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><strong>Response</strong></h3>\r\n\r\n<p>没有正文内容为成功的DELETE查询的响应</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><strong>完成</strong></h2>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104043456timg.jpg','http://www.askeds.com/server',1,0,0,'2018-01-04 04:37:04',1,16,1,0,1),(23,'Openstack N版升级方案','','<h1 style=\"margin-left:0cm; margin-right:0cm\"><strong>Openstack N版升级方案</strong></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong><em>Openstack</em>系统环境:</strong></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">CentOS Linux release 7.2.1511 (Core)</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>同时升级N版所有服务</strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">描述</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">使用这种方法，您需要同时停止所有 OpenStack 服务，进行升级，然后在 升级完成后再启动所有服务。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">优点</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">这个升级方法比较简单。 因为所有服务都被停止， 所以不需要进行编配 （orchestration）。在 这个升级过程中，尽管所 有服务都被停止，但是如果不需要改变 Red Hat Enterprise Linux 的版本,虚拟机负载仍然 可以运行。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">缺点</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在进行升级的过程中，所服务都将无效。在一个 大型环境中，这个升级过 程可能会导致较长的停机时间（downtime）。您 可以通过在实际升级前进 行仔细的规划和测试，或在一个特定的停机时间段 内进行升级来减少停机对 您环境造成的影响。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>同时升级流程: </strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在一个主机上升级 OpenStack 组件</p>\r\n\r\n<ol>\r\n	<li>准备O版本 yum 仓库。</li>\r\n	<li>确定 openstack-utils 软件包已被安装</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># yum install openstack-utils</p>\r\n\r\n<ol start=\"3\">\r\n	<li>登录到节点并运行以下命令来在一个节点上停止所有 OpenStack 服务：</li>\r\n	<li>在集群中设置 stop_all_services 属性来禁用所有被 Pacemaker 管理的资源。在 Pacemaker 集群的一个成员上运行以下命令：</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">#pcs property set stop_all_resources=true</p>\r\n\r\n<ol start=\"5\">\r\n	<li>对所有软件包进行一个完整的升级，然后在 Identity 服务上删除过期的令牌（这可以减少数据库同步 所需的时间）：</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">keystone-manage token_flush</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">6&nbsp;&nbsp; 更新openstack所有组件</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># yum upgrade</p>\r\n\r\n<ol start=\"6\">\r\n	<li>对每个服务进行所需的配置更新。</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在一个 HA 环境中： a. 通过设置 stop_all_resources 属性来允许 Pacemaker 重启您的资源。在 Pacemaker 集群的一个成员上运行：</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># pcs property set stop_all_resources=false</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">启动openstack所有服务，影响范围比较大。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>升级每个服务：</strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">准备openstack N版本yum源</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>升级痛点:</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">组件升级回退</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">组件升级备份，数据库备份</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">组件升级配置文件修改</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">组件升级api版本兼容性</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Openstack组件依赖包升级</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Keystone升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">数据库备份/usr/bin/mysqldump -uroot -proot keystone &gt;&gt;keystone.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">关闭keystone服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">service httpd stop</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*keystone\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">keystone-manage token_flush</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">su -s /bin/sh -c &quot;keystone-manage db sync &quot; keystone</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">vim /etc/httpd/conf.d/wsgi-keystone.conf</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Listen 192.168.1.7:5000</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Listen 192.168.1.7:35357</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">升级报错</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104050719_1.png\" style=\"height:154px; width:650px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104050733_2.png\" style=\"height:152px; width:650px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">O版本不支持此类型 注释报错消失</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">重启keystone服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl restart httpd memcached</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">其他节点异异常必须同时升级集群其他节点</span><span style=\"color:red\">openstack</span><span style=\"color:red\">组件服务</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">异常如下：</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104050838_3.png\" style=\"height:143px; width:650px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Glance组件升级:</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">数据库备份</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">/usr/bin/mysqldump -uroot -proot glance&gt;&gt;glance.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl stop openstack-glance-api.service \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack-glance-registry.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*glance\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">su -s /bin/sh -c &quot;glance-manage db sync&quot; glance</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl restart openstack-glance-api.service openstack-glance-registry.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">升级异常</span>：glance服务升级，数据库更新导致其他节点glance服务异常</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">解决办法:</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">1、能把新数据通过etl之类的导入旧结构，那么可以用上灰度升级，就看值不值得开发这个类etl的通道</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">2、三个节点glance 必须同时升级</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">注意: glance 升级新版本所依赖的包不会自动升级例如python-oslo-privsep-lang-1.13.0-1.el7.noarch</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">：</span></p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>controller (neutron)升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">数据库备份</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">/usr/bin/mysqldump -uroot -proot neutron&gt;&gt; neutron.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*neutron\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">关闭neutron服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl stop neutron-server.service \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">neutron-linuxbridge-agent.service neutron-dhcp-agent.service \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">neutron-metadata-agent.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">su -s /bin/sh -c &quot;neutron-db-manage --config-file /etc/neutron/neutron.conf \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">--config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head&quot; neutron</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">重启neutron服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl restart neutron-server.service \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">neutron-dhcp-agent.service \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">neutron-metadata-agent.service</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>compute (neutron)升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*neutron\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl restart neutron-linuxbridge-agent.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Dashboard升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># yum -y upgrade \\*horizon\\* \\*openstack-dashboard\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># yum -d1 -y upgrade \\*horizon\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># service httpd restart</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Cinder升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">数据备份</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">/usr/bin/mysqldump -uroot -proot cinder&gt;&gt;cinder.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># openstack-service stop cinder</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># yum -d1 -y upgrade \\*cinder\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># &nbsp;su -s /bin/sh -c &quot;cinder-manage db sync&quot; cinder</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"># openstack-service start cinder</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Nova升级：</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl stop openstack-nova-api.service openstack-nova-conductor.service openstack-nova-cert.service openstack-nova-console.service openstack-nova-novncproxy.service openstack-nova-scheduler.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">数据库备份</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">/usr/bin/mysqldump -uroot -proot nova&gt;&gt;nova.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">/usr/bin/mysqldump -uroot -proot nova_api&gt;&gt;nova_api.sql</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*nova\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">su -s /bin/sh -c &quot;nova-manage api_db sync&quot; nova</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">su -s /bin/sh -c &quot;nova-manage db sync&quot; nova</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum install -y openstack-nova-placement-api</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">添加placement用户</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack user create --domain default placement --password placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack role add --project service --user placement admin</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack service create --name placement --description &quot;OpenStack Placement&quot; placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack service create --name placement \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;--description &quot;OpenStack Placement&quot; placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack endpoint create --region RegionOne \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp; placement public http://192.168.1.7:8778</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack endpoint create --region RegionOne \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp; placement internal http://192.168.1.7:8778</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">openstack endpoint create --region RegionOne \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp; placement admin <a href=\"http://192.168.1.7:8778\" style=\"color:#0563c1; text-decoration:underline\">http://192.168.1.7:8778</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">配置/etc/nova/nova.conf</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[placement]</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">os_region_name = RegionOne</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">project_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">user_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">project_name = service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">auth_type = password</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">user_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">auth_url = http://ctrl.openstack.com:35357/v3</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">username = placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">password = placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">创建数据库</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">create database nova_cell0;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">GRANT ALL PRIVILEGES ON nova_cell0.* TO &#39;nova&#39;@&#39;%&#39;&nbsp; IDENTIFIED BY &#39;nova12&#39;;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">GRANT ALL PRIVILEGES ON nova_cell0.* TO &#39;nova&#39;@&#39;localhost&#39;&nbsp; IDENTIFIED BY &#39;nova12&#39;;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">注意数据库密码不能设置特殊符号如</span><span style=\"color:red\">$</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 map_cell0 --database_connection mysql+pymysql://root:root@ctrl.openstack.com/nova_cell0</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 create_cell --verbose --name cell1 --database_connection mysql+pymysql://root:root@ctrl.openstack.com/nova_cell0 \\</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">--transport-url rabbit://openstack:openstack12%23%24@ctrl.openstack.com:5672/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 discover_hosts&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #发现compute服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-status upgrade check&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #检查配置是否成功</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 simple_cell_setup &nbsp;&nbsp;&nbsp;&nbsp; #同步数据</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 list_cells &ndash;verbose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-manage cell_v2 discover_hosts &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #发现compute服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">也可配置nova.conf发现compute服务</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[scheduler]</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">discover_hosts_in_cells_interval=-1 自动发现</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">systemctl restart openstack-nova-api.service openstack-nova-conductor.service openstack-nova-cert.service openstack-nova-console.service openstack-nova-novncproxy.service openstack-nova-scheduler.service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">其他节点</span><span style=\"color:red\">nova</span><span style=\"color:red\">异常</span><span style=\"color:red\">,</span><span style=\"color:red\">需同时升级其他节点的</span><span style=\"color:red\">nova</span><span style=\"color:red\">组件</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">异常如下：</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104050856_4.png\" style=\"height:526px; width:1319px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>Compute 主机进行升级</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">您需要明确设置 API 版本的限制来确保您的版本间的兼容性</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">配置文件对比新版本是否有变化</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum -d1 -y upgrade \\*nova\\*</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">crudini --set /etc/nova/nova.conf upgrade_levels compute ocata</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">更新配置/etc/nova/nova.conf</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[place]</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">os_region_name = RegionOne</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">project_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">user_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">project_name = service</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">auth_type = password</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">user_domain_name = Default</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">auth_url = http://ctrl.openstack.com:35357/v3</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">username = placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">password = placement</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">升级后的任务：</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在完成所有服务升级后，您需要在所有系统上执行一个完整的软件包升级。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">注意：需要自行搭建</span><span style=\"color:red\">yum</span><span style=\"color:red\">源</span><span style=\"color:red\">, yum upgrade</span><span style=\"color:red\">前需要控制好</span><span style=\"color:red\">yum</span><span style=\"color:red\">源保证不升级内核，不升级数据库</span><span style=\"color:red\">mariadb</span><span style=\"color:red\">，</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum upgrade</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><strong>升级rabbitmq</strong></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">顺序关闭集群所有节点，这里注意最后一个关闭的节点必须保证为硬盘节点，而非RAM节点；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">Step1</span><span style=\"background-color:white\">：顺序停止集群中所有节点服务，确保最后一个中止服务的节点为Disc节点而非RAM节点；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">Step2</span><span style=\"background-color:white\">：每个节点原有mnesia数据库改名，最后一个节点的mnesia数据库备份改名,并且备份/var/lib/rabbitmq/.erlang.cookie；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">Step3</span><span style=\"background-color:white\">：升级每个节点的rabbitmq-server版本；</span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>安装erlang</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>rpm --import https://packages.erlang-solutions.com/rpm/erlang_solutions.asc</code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><code>vim /etc/yum.repos.d/erlang-solutions.repo</code></span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>[erlang-solutions]</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>name=Centos $releasever - $basearch - Erlang Solutions</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>baseurl=https://packages.erlang-solutions.com/rpm/centos/$releasever/$basearch</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>gpgcheck=1</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>gpgkey=https://packages.erlang-solutions.com/rpm/erlang_solutions.asc</code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>enabled=1</code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">#</span><span style=\"background-color:white\">删除旧版本</span><br />\r\n<span style=\"background-color:white\">rpm -e --allmatches --nodeps &nbsp;`rpm -qa |grep erlang` &nbsp;</span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>sudo yum install erlang</code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">or this command to install the&nbsp;<code>esl-erlang</code>&nbsp;package:</span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:white\"><code>sudo yum install esl-erlang</code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">安装新版rabbitmq</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">wget <a href=\"http://www.rabbitmq.com/releases/rabbitmq-server/v3.6.9/rabbitmq-server-3.6.9-1.el7.noarch.rpm\" style=\"color:#0563c1; text-decoration:underline\">http://www.rabbitmq.com/releases/rabbitmq-server/v3.6.9/rabbitmq-server-3.6.9-1.el7.noarch.rpm</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm &ndash;ivh rabbitmq-server-3.6.9-1.el7.noarch.rpm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">Step4</span><span style=\"background-color:white\">：中止epmd服务（Erlang port mapper daemon），如果/var/lib/rabbitmq/mnesia目录存在，删除掉，然后拷贝备份的mnesia数据库目录过来；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">Step5</span><span style=\"background-color:white\">：.erlang.cookie文件还原，启动主节点的rabbitmq-server服务，并添加用户及用户组权限；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl add_user openstack openstack12#$</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl set_permissions openstack &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl set_user_tags openstack administrator</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rabbitmq-plugins enable rabbitmq_management</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">先启动集群主节点，contrller06 contrller007重新添加用户权限并加入集群：</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl add_user openstack openstack12#$</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl set_permissions openstack &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">rabbitmqctl set_user_tags openstack administrator</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><em>rabbitmq-plugins</em><em> <em>enable</em> </em>rabbitmq_management<em> </em></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">$sudo rabbitmqctl stop_app</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">$sudo rabbitmqctl join_cluster rabbit@contrller05</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">$sudo rabbitmqctl start_app</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong><span style=\"background-color:white\">完成</span></strong></h2>\r\n','document/20170209130422_Broods.txt','upload_imgss/2018010405054016574&fm=15&gp=0.jpg','http://www.askeds.com/server',0,0,0,'2018-01-04 05:09:23',1,15,1,0,1),(24,'OpenStack 安装手册（Devstack）','按照物理资源需求创建 devstack-controller 和 devstak-compute 虚拟机','<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong><span style=\"color:#333333\">OpenStack </span></strong><strong><span style=\"color:#333333\">安装手册（Devstack）</span></strong></p>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052142_1.png\" style=\"height:358px; width:553px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">虚拟机创建流程图</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052206_2.png\" style=\"height:384px; width:600px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">创建虚拟机</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">按照物理资源需求创建 devstack-controller 和 devstak-compute 虚拟机</span></span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">安装操作系统</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">安装 centos7，并配置 eth0 的 IP&nbsp;</span></span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">下载代码</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">下载 devstack 代码，并切换到 </span></span><span style=\"color:#333333\">stable/newton </span><span style=\"background-color:white\"><span style=\"color:#333333\">分支</span></span></span></p>\r\n\r\n<p style=\"margin-left:36.0pt; margin-right:36.0pt\"><span style=\"color:#333333\">apt-get install&nbsp;</span><a href=\"http://lib.csdn.net/base/git\" style=\"color:blue; text-decoration:underline\" target=\"http://blog.csdn.net/CloudMan6/article/details/_blank\" title=\"Git知识库\"><strong><span style=\"color:#df3434\">Git</span></strong></a><span style=\"color:#333333\">&nbsp;-y&nbsp;<br />\r\ngit clone&nbsp;</span><a href=\"https://git.openstack.org/openstack-dev/devstack\" style=\"color:blue; text-decoration:underline\"><span style=\"color:#336699\">https://git.openstack.org/openstack-dev/devstack</span></a><span style=\"color:#333333\">&nbsp;-b stable/newton</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (</span><span style=\"color:#333333\">建议：</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; git&nbsp;clone&nbsp;http://git.trystack.cn/openstack-dev/devstack&nbsp;-b&nbsp;stable/newton </span><span style=\"color:#333333\">)</span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">配置 stack 用户</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">创建 stack 用户</span></span></span></p>\r\n\r\n<p style=\"margin-left:36.0pt; margin-right:36.0pt\"><span style=\"color:#333333\">devstack/tools/create-stack-user.sh</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">为方便起见，将devstack目录放到/opt/stack下，并设置权限</span></span></span></p>\r\n\r\n<p style=\"margin-left:36.0pt; margin-right:36.0pt\"><span style=\"color:#333333\">mv devstack /opt/stack&nbsp;<br />\r\nchown -R stack:stack /opt/stack/devstack</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">切换到 stack 用户</span></span></span></p>\r\n\r\n<p style=\"margin-left:36.0pt; margin-right:36.0pt\"><span style=\"color:#333333\">su - stack&nbsp;<br />\r\ncd devstack</span></p>\r\n\r\n<p style=\"margin-left:36.0pt; margin-right:36.0pt\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#fefefe\"><strong><span style=\"background-color:#fefefe\"><span style=\"color:#333333\">设置豆瓣pypi源</span></span></strong></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#fefefe\"><span style=\"background-color:#fefefe\"><span style=\"color:#333333\">解决方法:修改pip.conf</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#fefefe\"><span style=\"background-color:#fefefe\"><span style=\"color:#333333\">mkdir $HOME/.pip</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#fefefe\"><span style=\"background-color:#fefefe\"><span style=\"color:#333333\">vi $HOME/.pip/pip.conf</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f6f6f6\"><strong><span style=\"background-color:#f6f6f6\"><span style=\"color:#880000\">[global]</span></span></strong></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f6f6f6\"><span style=\"background-color:#f6f6f6\"><span style=\"color:#444444\">index-url = </span></span><a href=\"http://pypi.douban.com/simple\" style=\"color:blue; text-decoration:underline\"><span style=\"background-color:#f6f6f6\">http://pypi.douban.com/simple</span></a></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f6f6f6\"><strong><span style=\"background-color:#f6f6f6\"><span style=\"color:#880000\">[install]</span></span></strong></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#f6f6f6\"><span style=\"background-color:#f6f6f6\"><span style=\"color:#444444\">trusted-host = pypi.douban.com</span></span></span></pre>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">编写运行配置文件</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">在 /opt/stack/devstack 目录下，创建 local.conf。</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">[[</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:deeppink\">local</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">|localrc]]</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Define&nbsp;images&nbsp;to&nbsp;be&nbsp;automatically&nbsp;downloaded&nbsp;during&nbsp;the&nbsp;DevStack&nbsp;built&nbsp;process.</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">DOWNLOAD_DEFAULT_IMAGES=False</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">IMAGE_URLS=</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:blue\">&quot;</span></span></code><a href=\"http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img\" style=\"color:blue; text-decoration:underline\" target=\"http://blog.csdn.net/enweitech/article/details/_blank\"><span style=\"background-color:whitesmoke\"><span style=\"color:#6a3906\">http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img</span></span></a><code><span style=\"background-color:whitesmoke\"><span style=\"color:blue\">&quot;</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#change&nbsp;github&nbsp;to&nbsp;trystack</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">GIT_BASE=${GIT_BASE:-http://git.trystack.cn}</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">NOVNC_REPO=${NOVNC_REPO:-http://git.trystack.cn/kanaka/noVNC.git}</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\"># Branches</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">KEYSTONE_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">NOVA_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">NEUTRON_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">GLANCE_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">CINDER_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">HORIZON_BRANCH=stable/newton</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Credentials</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">DATABASE_PASSWORD=admin</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">ADMIN_PASSWORD=admin</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">SERVICE_PASSWORD=admin</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">SERVICE_TOKEN=admin</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">RABBIT_PASSWORD=admin</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#FLAT_INTERFACE=eth0</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">HOST_IP=</span></span></code><span style=\"background-color:white\"><span style=\"color:#333333\">10.8.144.137</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;only&nbsp;support&nbsp;IP&nbsp;v4</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">SERVICE_IP_VERSION=4</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Enabling&nbsp;Neutron&nbsp;(network)&nbsp;Service</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">disable_service&nbsp;n-net</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-svc</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-agt</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-dhcp</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-l3</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-meta</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;q-metering</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">enable_service&nbsp;neutron</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">##&nbsp;Neutron&nbsp;options</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">Q_USE_SECGROUP=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">FLOATING_RANGE=</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:blue\">&quot;192.168.27.0/24&quot;</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">FIXED_RANGE=</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:blue\">&quot;10.0.0.0/24&quot;</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">Q_FLOATING_ALLOCATION_POOL=start=192.168.27.102,end=192.168.27.110</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">PUBLIC_NETWORK_GATEWAY=</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:blue\">&quot;192.168.27.2&quot;</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">Q_L3_ENABLED=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">PUBLIC_INTERFACE=eth0</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">Q_USE_PROVIDERNET_FOR_PUBLIC=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">OVS_PHYSICAL_BRIDGE=br-ex</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">PUBLIC_BRIDGE=br-ex</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">OVS_BRIDGE_MAPPINGS=public:br-ex</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;VLAN&nbsp;configuration.</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">Q_PLUGIN=ml2</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">ENABLE_TENANT_VLANS=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">TENANT_VLAN_RANGE=1100:2999</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Work&nbsp;offline</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#OFFLINE=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Reclone&nbsp;each&nbsp;time</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">RECLONE=</span></span></code><code><span style=\"background-color:whitesmoke\"><span style=\"color:deeppink\">yes</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;Logging</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;-------</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;By&nbsp;default&nbsp;``stack.sh``&nbsp;output&nbsp;only&nbsp;goes&nbsp;to&nbsp;the&nbsp;terminal&nbsp;where&nbsp;it&nbsp;runs.&nbsp;It&nbsp;can</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;be&nbsp;configured&nbsp;to&nbsp;additionally&nbsp;log&nbsp;to&nbsp;a&nbsp;file&nbsp;by&nbsp;setting&nbsp;``LOGFILE``&nbsp;to&nbsp;the&nbsp;full</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#008200\">#&nbsp;path&nbsp;of&nbsp;the&nbsp;destination&nbsp;log&nbsp;file.&nbsp;A&nbsp;timestamp&nbsp;will&nbsp;be&nbsp;appended&nbsp;to&nbsp;the&nbsp;given&nbsp;name.</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">LOGFILE=/opt/stack/logs/stack.sh.log</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">VERBOSE=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">LOG_COLOR=True</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:whitesmoke\"><code><span style=\"background-color:whitesmoke\"><span style=\"color:#333333\">SCREEN_LOGDIR=/opt/stack/logs</span></span></code></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:yellow\">（ps：HOST_IP=10.8.144.137修改为本虚拟机的IP）</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong>&nbsp;</strong><strong><span style=\"background-color:white\">运行</span></strong></span></p>\r\n\r\n<table class=\"Table\" style=\"border:undefined; width:0px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"vertical-align:top; width:4.85pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">1</p>\r\n			</td>\r\n			<td style=\"vertical-align:top; width:410.45pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><code>./stack.sh</code></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">会输出各项操作的结果。&nbsp;<br />\r\n日志会写到 stack.sh.log 文件。&nbsp;<br />\r\n整个过程需要连接Internet，网速慢可能会花较长时间，成功后最后会打印出相关信息。</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">devstack-controlle </span></span><span style=\"background-color:white\"><span style=\"color:#333333\">上的输出</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052315_3.png\" style=\"height:87px; width:405px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">devstack-compute </span></span><span style=\"background-color:white\"><span style=\"color:#333333\">上的输出</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052329_4.png\" style=\"height:45px; width:358px\" /></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">验证 OpenStack</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">下面验证&nbsp;</span></span><a href=\"http://lib.csdn.net/base/openstack\" style=\"color:blue; text-decoration:underline\" target=\"http://blog.csdn.net/CloudMan6/article/details/_blank\" title=\"OpenStack知识库\"><strong><span style=\"background-color:white\"><span style=\"color:#df3434\">OpenStack</span></span></strong></a>&nbsp;<span style=\"background-color:white\"><span style=\"color:#333333\">已经正常运行&nbsp;<br />\r\n浏览器访问&nbsp;</span></span><a href=\"http://192.168.104.10/\" style=\"color:blue; text-decoration:underline\"><span style=\"background-color:white\"><span style=\"color:#336699\">http://</span></span><span style=\"background-color:white\"><span style=\"color:#333333\">10.8.144.137</span></span><span style=\"background-color:white\"><span style=\"color:#336699\">/</span></span></a><span style=\"background-color:white\"><span style=\"color:#336699\">dashboard</span></span><span style=\"background-color:white\"><span style=\"color:#333333\">（devstack-controller 的 IP）&nbsp;<br />\r\nadmin/admin 登录</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052349_5.png\" style=\"height:486px; width:405px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">点击 System-&gt;System Information，确保各个服务的状态正常</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">KVM</span></span></strong><strong><span style=\"background-color:white\"><span style=\"color:#333333\">安装</span></span></strong></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">sudo apt-get install qemu-kvm bridge-utils qemu virt-manager virt-viewerlibvirt-bin </span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">创建镜像qemu-img create -f qcow2 image-test.img 10G</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">创建虚拟机</span></span><span style=\"background-color:white\"><span style=\"color:#333333\">virt-install&nbsp; --virt-type&nbsp; kvm&nbsp; --name image-test&nbsp; --ram&nbsp;&nbsp;&nbsp; 1024&nbsp; --disk&nbsp; path=image-test.img,size=10,bus=virtio,format=qcow2 \\--network&nbsp; network=default&nbsp; --accelerate --vnc --vncport=5908 --cdrom /home/jack/img/cirros-0.3.0-x86_64.iso--boot cdrom</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">关联openstack 上传镜像</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">glance --os-username=admin --os-password=admin&nbsp; --os-tenant-name=admin --os-auth-url=http://10.8.144.137:35357/v2.0 image-create&nbsp; --name&nbsp; &quot;cirros-0.3.0-x86_64&quot; visibility=public --disk-format&nbsp; qcow2&nbsp; --container-format bare --file /home/jack/img/cirros-0.3.0-x86_64-disk.img </span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">日志文件目录</span></span></strong><span style=\"background-color:white\"><span style=\"color:#333333\">/opt/stack/logs/</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">操作相关命令</span></span></strong></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">glance --os-username=admin --os-password=admin&nbsp; --os-tenant-name=admin&nbsp; --os-auth-url=http://10.8.144.137:35357/v2.0 image-list</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">openstack --os-username=admin --os-password=admin&nbsp; --os-tenant-name=admin&nbsp; --os-auth-url=http://10.8.144.137:35357/v2.0 user list</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">创建云主机</span></span></strong></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052455_6.png\" style=\"height:369px; width:600px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052515_7.png\" style=\"height:203px; width:600px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">存在问题：创建云主机成功，不可运行（怀疑机器内存不足导致失败），删除云主机正常</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">思路：结合eclipse pydev Egit git远程代码到本地仓库，学习代码执行过程，分模块了解。</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">由于时间与资源有限目前暂时了解这么多。</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"background-color:white\"><span style=\"color:#333333\">过程遇到的问题</span></span></strong></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">1.&quot;</span></span> <span style=\"background-color:white\"><span style=\"color:#333333\">Volume group &quot;stack-volumes-default&quot; not found&quot;</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">&quot;</span></span> <span style=\"background-color:white\"><span style=\"color:#333333\">Cannot process volume group stack-volumes-default&quot;</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104052536_8.png\" style=\"height:248px; width:600px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">问题分析：可能是清除 stack-volumes-default 失败，不确定是不是opebstack 安装的bug；</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">解决方法：</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">&nbsp; <span style=\"background-color:white\"><span style=\"color:#333333\">先--&gt;&nbsp; <span style=\"background-color:yellow\">./unstack.sh</span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">然后--&gt;&nbsp; <span style=\"background-color:yellow\">./stack.sh</span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104052038timg%20(1).jpg','http://www.askeds.com/server',2,0,0,'2018-01-04 05:25:57',1,17,1,0,1),(25,'kvm 宿主机部署文档','centos 部署kvm宿主机','<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:blue\"><strong><em>宿主机部署文档</em></strong></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">目&nbsp; 录</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong><a href=\"#_Toc464232630\" style=\"color:blue; text-decoration:underline\">第1章&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 概述... 1</a></strong></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232631\" style=\"color:blue; text-decoration:underline\">1.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 硬件环境... 1</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong><a href=\"#_Toc464232632\" style=\"color:blue; text-decoration:underline\">第2章&nbsp;&nbsp;&nbsp;&nbsp; 部署... 1</a></strong></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232633\" style=\"color:blue; text-decoration:underline\">2.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 存储部署... 1</a></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232634\" style=\"color:blue; text-decoration:underline\">2.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 硬件虚拟化BIOS设置... 1</a></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232635\" style=\"color:blue; text-decoration:underline\">2.2.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开启物理机VT, VT-d, SR-IOV等虚拟化功能... 1</a></em></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232636\" style=\"color:blue; text-decoration:underline\">2.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 安装KVM虚拟化环境（CentOS 7.2）... 2</a></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232637\" style=\"color:blue; text-decoration:underline\">2.3.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 安装KVM平台软件... 2</a></em></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232638\" style=\"color:blue; text-decoration:underline\">2.3.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 启动libvritd 服务和设置默认启动... 3</a></em></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232639\" style=\"color:blue; text-decoration:underline\">2.3.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 查看kvm设备是否存在... 3</a></em></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232640\" style=\"color:blue; text-decoration:underline\">2.3.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 安装 libguestfs工具... 3</a></em></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong><a href=\"#_Toc464232641\" style=\"color:blue; text-decoration:underline\">第3章&nbsp;&nbsp;&nbsp;&nbsp; 配置虚拟化环境... 4</a></strong></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232642\" style=\"color:blue; text-decoration:underline\">3.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 导入镜像... 4</a></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232643\" style=\"color:blue; text-decoration:underline\">3.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 配置默认存储池... 4</a></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232644\" style=\"color:blue; text-decoration:underline\">3.2.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 存储池命名规则... 4</a></em></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232645\" style=\"color:blue; text-decoration:underline\">3.2.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 创建目录模式存储池... 5</a></em></p>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\"><em><a href=\"#_Toc464232646\" style=\"color:blue; text-decoration:underline\">3.2.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 创建LVM模式存储池... 6</a></em></p>\r\n\r\n<p style=\"margin-left:10.5pt; margin-right:0cm\"><a href=\"#_Toc464232647\" style=\"color:blue; text-decoration:underline\">3.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 配置网桥... 6</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<ol>\r\n	<li><a name=\"_Toc464232630\"> 概述</a>\r\n\r\n	<ol>\r\n		<li><a name=\"_Toc464232631\"> 硬件环境</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">服务器类型：宿主机类别服务器</p>\r\n\r\n<ol start=\"2\">\r\n	<li><a name=\"_Toc464232632\"> 部署</a>\r\n\r\n	<ol>\r\n		<li><a name=\"_Toc464232633\"> 存储部署</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">建议：预留好合适的存储空间</p>\r\n\r\n<ol>\r\n	<li><a name=\"_Toc464232634\"> 硬件虚拟化BIOS设置</a>\r\n\r\n	<ol>\r\n		<li><a name=\"_Toc464232635\"> 开启</a>物理机VT, VT-d, SR-IOV等虚拟化功能</li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">以dell r720为例，开机启动后，按提示计入bios，在高级选项中设置虚拟化功能。</p>\r\n\r\n<ol style=\"list-style-type:lower-alpha\">\r\n	<li>开启VT，为kvm提供最基础的硬件辅助。</li>\r\n	<li>开启VT-d 硬件透传，使虚拟机可以直接调用物理设备，提供更高的IO性能</li>\r\n	<li>开启多线程，提供宿主机CPU的利用率，可以进行vcpu超分配。</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104083143_1.png\" style=\"height:487px; width:633px\" /></p>\r\n\r\n<ol start=\"4\" style=\"list-style-type:lower-alpha\">\r\n	<li>开启SR-IOV，使虚拟机可以较高效的使用PCI设备，由Disabled改为Enabled：</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104083156_2.png\" style=\"height:454px; width:436px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li><a name=\"_Toc464232636\"> 安装KVM虚拟化环境（CentOS 7.2）</a>\r\n\r\n	<ol>\r\n		<li><a name=\"_Toc464232637\"></a><a name=\"_Toc418760365\"> 安装KVM平台软件</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# <span style=\"color:red\">yum install qemu-kvm.x86_64 qemu-kvm-common.x86_64&nbsp; qemu-kvm-tools.x86_64&nbsp; qemu-img.x86_64</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost~ ]# <span style=\"color:red\">yum install libvirt-daemon.x86_64</span></p>\r\n</div>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232638\"></a><a name=\"_Toc418760366\"> 启动libvritd 服务</a>和设置默认启动</li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# <span style=\"color:red\">systemctl start libvirtd </span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# <span style=\"color:red\">systemctl enable libvirtd</span></p>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">开启vt之后，才会有kvm_intel模块，如果未开启kvm是无法被使用的。AMD CPU对应为kvm-amd</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#fafafc\"><span style=\"color:#333333\">egrep &#39;(vmx|svm)&#39; /proc/cpuinfo</span></span></p>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# lsmod | grep kvm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# modprobe kvm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# modprobe kvm_intel</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]# lsmod | grep kvm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">kvm_intel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 138567&nbsp; 18</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">kvm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 441119&nbsp; 1 kvm_intel</p>\r\n</div>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232639\"></a><a name=\"_Toc418760368\"> 查看kvm设备是否存在</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@testmachine83 ~]# ls -l /dev/kvm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">crw-rw-rw-+ 1 root kvm 10, 232 May&nbsp; 6 15:10 /dev/kvm</p>\r\n</div>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232640\"> 安装 libguestfs工具</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@testmachine83 ~]# yum install libguestfs-tools</p>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">安装完成后在 /etc/profile中加入 export LIBGUESTFS_BACKEND=direct 配置</p>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[root@testmachine83 ~]# source /etc/profile</p>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li>配置qemu</li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">修改/etc/libvirt/qemu.conf 中以下配置：</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">user = &quot;root&quot;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">group = &quot;root&quot;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104083208_3.png\" style=\"height:293px; width:578px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol start=\"3\">\r\n	<li><a name=\"_Toc464232641\"> 配置虚拟化环境</a>\r\n\r\n	<ol>\r\n		<li><a name=\"_Toc464232642\"> 导入镜像</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">假设使用默认的default存储池存储镜像</span></p>\r\n\r\n<ol style=\"list-style-type:lower-alpha\">\r\n	<li>将制作好的镜像拷贝至 default 存储池<span style=\"color:red\">实际路径</span> /var/lib/libvirt/images 下</li>\r\n	<li>执行 <span style=\"color:red\">virsh pool-refresh default </span>刷新存储池</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">注：存储池可以修改，但需要在vmp-host中同步配置</p>\r\n\r\n<ol>\r\n	<li><a name=\"_Toc464232643\"> 配置默认存储池</a></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">当前存储池主要有两种模式：</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">1. dir &ndash; 将某个系统目录作为存储池的根目录，存放虚拟磁盘文件</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">2. lvm - 将VG注册为一个存储池：自动创建和管理LV，虚拟磁盘在宿主机以LV的形式储存</p>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232644\"> 存储池命名规则</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">默认存储池命名规则为： <strong><span style=\"color:red\">&ldquo;存储池用途&rdquo;-&ldquo;存储介质&rdquo;-&ldquo;存储模式&rdquo;</span></strong>，中间默认已短横线<strong><span style=\"color:red\">&ldquo;-&rdquo;</span></strong>相连</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<table align=\"center\" cellspacing=\"0\" class=\"MsoTableGrid\" style=\"border-collapse:collapse; border:undefined\">\r\n	<tbody>\r\n		<tr>\r\n			<td colspan=\"3\" style=\"background-color:#d9d9d9; width:453.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><strong>存储池用途</strong>默认配置</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">配置含义</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">存储系统盘</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">存储数据盘</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">默认配置</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">Sys</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">udisk</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<table align=\"center\" cellspacing=\"0\" class=\"MsoTableGrid\" style=\"border-collapse:collapse; border:undefined\">\r\n	<tbody>\r\n		<tr>\r\n			<td colspan=\"3\" style=\"background-color:#d9d9d9; width:453.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><strong>存储池介质</strong>默认配置</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">配置含义</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">SAS SATA</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">SSD</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">默认配置</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">hdd</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">ssd</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<table align=\"center\" cellspacing=\"0\" class=\"MsoTableGrid\" style=\"border-collapse:collapse; border:undefined\">\r\n	<tbody>\r\n		<tr>\r\n			<td colspan=\"3\" style=\"background-color:#d9d9d9; width:453.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><strong>存储模式</strong>默认配置</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">配置含义</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">存储系统盘</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">LVM模式存储</p>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td style=\"background-color:#f2f2f2; width:77.75pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">默认配置</p>\r\n			</td>\r\n			<td style=\"width:184.25pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">dir</p>\r\n			</td>\r\n			<td style=\"width:191.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">lvm</p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232645\"> 创建目录模式存储池</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">示例：创建一个sys-hdd-dir（用于存放系统盘的存储池）</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">然后运行命令，完成创建：</p>\r\n\r\n<table align=\"center\" cellspacing=\"0\" class=\"MsoTableGrid\" style=\"border-collapse:collapse; border:undefined\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:360.15pt; vertical-align:top; width:453.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">[root@localhost ~]#virsh #进入virsh命令行模式</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#sys-hdd-</span> <span style=\"color:red\">dir</span><span style=\"color:red\">为存储池名称</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#dir </span><span style=\"color:red\">表示是目录模式存储池</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#/root/test </span><span style=\"color:red\">为存放虚拟磁盘文件的目录地址</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-define-as sys-hdd-dir dir --target /root/sys-hdd-dir #定义存储池及目录</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool sys-hdd-</span> <span style=\"color:gray\">dir defined</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-build sys-hdd-dir #创建已定义的存储池</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool sys-hdd-</span> <span style=\"color:gray\">dir built</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-autostart sys-hdd-dir #设置自动启动</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool sys-hdd-</span> <span style=\"color:gray\">dir marked as autostarted</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-start sys-hdd-dir #激活存储池</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool sys-hdd-</span> <span style=\"color:gray\">dir started</span></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li>\r\n	<ol>\r\n		<li><a name=\"_Toc464232646\"> 创建LVM模式存储池</a></li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:21pt; margin-right:0cm\">创建LVM存储池示例：</p>\r\n\r\n<table align=\"center\" cellspacing=\"0\" class=\"MsoTableGrid\" style=\"border-collapse:collapse; border:undefined\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"vertical-align:top; width:453.0pt\">\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#</span> <span style=\"color:red\">udisk-hdd-lvm</span><span style=\"color:red\">为存储池名称</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#logical </span><span style=\"color:red\">表示是LVM模式存储池</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:red\">#/dev/vg0 VG</span><span style=\"color:red\">的地址，vg0为名称</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh #pool-define-as <span style=\"color:red\">udisk-hdd-lvm logical</span> --source-dev <span style=\"color:red\">/dev/vg0</span> --source-name <span style=\"color:red\">vg0</span> #定义存储池及目录</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-autostart udisk-hdd-lvm #设置自动启动</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool udisk-hdd-lvm marked as autostarted</span></p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\">virsh # pool-start udisk-hdd-lvm #激活存储池</p>\r\n\r\n			<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:gray\">Pool udisk-hdd-lvm started</span></p>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li><a name=\"_Toc464232647\"> 配置网桥</a></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">网桥设置为<span style=\"color:red\">br0</span></p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104083230150124185542782.png','http://www.askeds.com/server',2,0,0,'2018-01-04 08:33:16',1,18,1,0,1),(26,'Openstack开发基础','openstack 开发基础详细大纲','<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li>界面或命令通过RESTful API向Tkeystone获取认证信息。</li>\r\n	<li>Keystone 通过用户认证信息，生成auth-token返回给对应的认证请求。</li>\r\n	<li>界面通过RESful API向nova-api发送一个boot instance的请求(携带auth-token).</li>\r\n	<li>Nova-api 接受请求后向keystone发送认证请求，查看token是否为有效用户和token</li>\r\n	<li>Keystone验证token是否有效，如有效返回有效的认证和对应的角色。</li>\r\n	<li>通过认证后nova-api和数据库通讯。</li>\r\n	<li>初始化新建虚拟机数据库记录。</li>\r\n	<li>Nova-api通过rpc.call向Nova-scheduler请求是否有创建虚拟机的资源(host id)。</li>\r\n	<li>Nova-scheduler 通过查询nova数据库计算资源的情况，并通过调度算法计算符合虚拟机创建的主机。</li>\r\n	<li>Nova-sheduler通过查询nova 数据库中计算资源的情况，并通过调度算法计算符合虚拟机创建需要的主机。</li>\r\n	<li>对于有符合虚拟机创建的主机，nova-scheduler更新数据库中创建虚拟机对应的数据库主机信息。</li>\r\n	<li>Nova-scheduler 通过rpc.cast向nova-compute发送对应的创建虚拟机请求的消息。</li>\r\n	<li>Nova-compute会从对应的消息队列中获取创建虚拟机请求的信息。</li>\r\n	<li>Nova-compute通过rpc.call向nova-conductor请求获取虚拟机消息(flavor)</li>\r\n	<li>Nova&shy;-conductor从消息队列中拿到nova-compute请求信息。</li>\r\n	<li>Nova-conductor根据消息查询虚拟机对应的信息。</li>\r\n	<li>Nova-conductor从数据库获得虚拟机对应的信息。</li>\r\n	<li>Nova-conductor把虚拟机信息通过消息方式发送到消息队列中。</li>\r\n	<li>Nova-compute通过keystone的RESTfull API拿到认证的token，并通过HTTP请求glance-api获取创建虚拟机所需要的镜像。</li>\r\n	<li>Nova-compute通过keystone的RESTfull API拿到认证的token，并通过HTTP请求glance-api获取创建虚拟机所需要的镜像。</li>\r\n	<li>Glance-api向keystone认证token是否有效，并返回验证结果。</li>\r\n	<li>Token验证通过，nova-compute获得虚拟机镜像信息(url)</li>\r\n	<li>Nova-compute通过keystone的RESTfull API拿到token，并通过http请求neutron-server获取创建网络的信息。</li>\r\n	<li>Neutron-server向keystone认证token是否有效，并返回验证结果。</li>\r\n	<li>Token验证通过，nova-compute获得虚拟机的网络信息。</li>\r\n	<li>Nova-compute通过keystone的RESTfull API拿到了token，并通过http请求cinder-api创建虚拟机所需要的持久化存储信息。</li>\r\n	<li>Cinder-api向keystone认证token是否有效，并返回验证结果。</li>\r\n	<li>Token通过验证，nova-compute获得虚拟机持久化存储。</li>\r\n	<li>Nova-compute根据instance的信息调用配置的虚拟化驱动来创建虚拟机。</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">模块步骤为：</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">schedule(3-12)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">networking(23-25)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">block_device_mapping(26-28)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">spawing(29)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">none(创建虚拟机成功)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>openstack开发基础:</strong></p>\r\n\r\n<ol>\r\n	<li>如何实现一个rpc服务</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Cmd目录下自定义console脚本，其中main函数如下：cmd/compute.py</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在compute/manager.py的ComputeManager类里定义RPC方法</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在compute/rpcapi.py定义RPC client，里面定义可以远程调用的方法</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在setup.cfg中配置endpoint</p>\r\n\r\n<ol start=\"2\">\r\n	<li>如何远程调用RPC服务</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">在conductor（conductor/manager.py）中即引用rpcapi.client,然后直接调用rpc方法</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">From nova.compute import rpcapi as compute_rpcapi</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Self.compute_rpcapi.start_instance(context,instance)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 看代码其实不需要去关注Service,而只需要关注XXXManager</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>Openstack源码地图：</strong></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Setup.cfg setup.py</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Entry points</p>\r\n\r\n<ol>\r\n	<li>通过setuptools注册的外部可以调用的接口。</li>\r\n	<li>在运行时动态导入的。</li>\r\n	<li>每一项都对应一个api</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Console_scripts</p>\r\n\r\n<ol>\r\n	<li>表示有一个可以执行脚本会被生成并安装。</li>\r\n	<li>子项目所提供各个服务入口点。</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>Restful API</strong></p>\r\n\r\n<ol>\r\n	<li>网络里的任何东西都是资源</li>\r\n	<li>每个资源都是一个统一的资源定位符URL</li>\r\n	<li>客户端使用的操作GET POST PUT DELETE</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>Restful 路由</strong></p>\r\n\r\n<ol>\r\n	<li>openstack定义了很多资源和针对这些资源的操作。</li>\r\n	<li>路由模块会将client请求转换成资源，并路由到合适的操作函数上。</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>WSGI Server</strong></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Wsgi</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、Web服务器和web应用程序之间的通用接口标准</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、Web服务器客户端使用GET POST PUT DELETE</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">WSGI将web组件分成三类：</p>\r\n\r\n<ol>\r\n	<li>Web 服务器（service）：接收客户端发来的request，并返回给app产生response发给客户端。</li>\r\n	<li>Web应用程序（app）:每个app是一个可以被调用的callable对象。</li>\r\n	<li>Web中间件（Middleware）：同时实现了服务端和应用端API，从服务端看起来，他就说一个WSGI应用，从应用端看起来，他就是WSGI（服务器）</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Paste</p>\r\n\r\n<ol>\r\n	<li>paste deploy就是为了从配置文件生成一个wsgi的app</li>\r\n	<li>openstack 使用paste的deploy组件，来完成wsgi和应用的构建</li>\r\n	<li>它提供一个方法loadapp，它可以用来config配置文件或者python egg文件加载app（包括middleware/filter和app）</li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">From paste.deploy import loadapp</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Wsgi_app=loadapp(&lsquo;config:/path/to/config/ini&rsquo;)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [app:myapp]</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Paste.app_factory=myapp.modulename:factory</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Myapp.modulename:factory</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @classmethod</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Def factory(cls,global_conf,**local_conf):</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Return cls</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">将url映射为app的action，以及为app的action产生的url</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">两个重要的方法：map.connect(定义映射规则)和map.match(获取映射结果)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">From routes import Mapper</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Map=Mapper()</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Map.connect(None,&rdquo;/error/{action}/{id},controller=&rdquo;error&rdquo;)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Map.connect(&ldquo;home&rdquo;,&rdquo;/&rdquo;,controller=&rdquo;main&rdquo;,action=&rdquo;index&rdquo;)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Result==map.match(&lsquo;/error/myapp/4&rsquo;)</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">#result=={&lsquo;controller&rsquo;:&rsquo;error&rsquo;,&rsquo;action&rsquo;:&rsquo;myapp&rsquo;,id:&rsquo;4&rsquo;}</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>Rabbitmq通用技术:MQ</strong></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message（消息）：rabbitmq转发二进制对象，包括Header（头）、properties（属性）和data(数据),其中数据部分是不必要的。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Producer（生产者）：消息的生产者，负责产生消息并把消息发送到交换机exchange的应用。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Consumer(消费者)：使用队列queue从exchange中获取消息应用。三种（direct exchange，topic exchange fanout exchange）</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Exchange（交换机）：负责接收生产者的消息并把它转到合适的队列Qenue</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Binding（绑定）:队列和交换机之间的关系，Exchange根据消息的属性和binding的属性来转发消息。每一个queue有一个binding_key，每一个消息都有一个routing key，当两者匹配时候，消息就发送到对应的队列。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Rabbitmqctl list_queues name</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Rabbitmqctl list_exchanges name</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104084820_QQ截图20180104164759.png\" style=\"height:212px; width:650px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><strong>AMQP 定义了三种类型的exchange：</strong></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Direct Exchange：Point-to-point消息模式，消息点对点的通信模式，direct exchange根据routing key进行精确匹配，只有对应的message queue会接受到消息</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Topic Exchange：Publish-subscribe（pub-sub）消息模式，topic exchange根据routing可以 进行模式匹配，只要符合模式的message queue都会接受到消息。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Fanout Exchange：广播消息模式，fanout Exchange 讲消息转发到所有绑定的messag queue</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104084601timg.jpg','http://www.askeds.com/server',1,0,0,'2018-01-04 08:46:41',1,15,1,0,1),(27,'Fuel openstack 自动化部署方案','Fuel部署与方案整合','<h1 style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</h1>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>下载镜像</strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><a href=\"https://www.fuel-infra.org/\" style=\"color:#0563c1; text-decoration:underline\"><span style=\"color:black\">https://www.fuel-infra.org/</span></a><span style=\"color:black\">&nbsp; fuel-community-11.0</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>安装fuel</strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">网卡一：通过nat方式打通外网</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">IPv4: 9.110.187.200</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">Mask: 255.255.255.0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">DHCP: Unable</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">网卡二：fuel管理ip</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">IPv4: 172.16.0.1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">Mask: 255.255.255.0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">DHCP: Unable</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">接下来运行虚拟机,运行时会弹出让你选择ISO文件，这里选择Fuel的镜像文件即可.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s1.51cto.com/wyfs02/M00/86/3A/wKiom1e5Yrez04RhAABhzT9uAw0153.png-wh_500x0-wm_3-wmp_4-s_165086336.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:#505050\"><img alt=\"wKiom1e5Yrez04RhAABhzT9uAw0153.png-wh_50\" id=\"图片_x0020_3\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" style=\"height:99.75pt; width:375pt\" /> <img alt=\"wKiom1e5Yrez04RhAABhzT9uAw0153.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" style=\"height:133px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">几秒钟后会进入Fuel 安装选择界面，这里选择第一项,然后系统会自动加载和安装Fuel.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s4.51cto.com/wyfs02/M00/86/3A/wKiom1e5VbWBNkouAAQZ3VyiXiI895.png-wh_500x0-wm_3-wmp_4-s_925546214.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:#505050\"><img alt=\"wKiom1e5VbWBNkouAAQZ3VyiXiI895.png-wh_50\" id=\"图片_x0020_2\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image002.png\" style=\"height:231.75pt; width:375pt\" /> <img alt=\"wKiom1e5VbWBNkouAAQZ3VyiXiI895.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image002.png\" style=\"height:309px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s4.51cto.com/wyfs02/M00/86/3A/wKioL1e5VbaRnG6QAAA7MSL2-vY414.png-wh_500x0-wm_3-wmp_4-s_1996247175.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:#505050\"><img alt=\"wKioL1e5VbaRnG6QAAA7MSL2-vY414.png-wh_50\" id=\"图片_x0020_1\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image003.png\" style=\"height:105pt; width:375pt\" /> <img alt=\"wKioL1e5VbaRnG6QAAA7MSL2-vY414.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image003.png\" style=\"height:140px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:black\">自动进入这个界面.所以不用担心会不及时按键盘.</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s4.51cto.com/wyfs02/M00/86/3A/wKioL1e5VbbD9PJ4AAA54dKmbH0375.png-wh_500x0-wm_3-wmp_4-s_855557636.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKioL1e5VbbD9PJ4AAA54dKmbH0375.png-wh_50\" id=\"图片_x0020_11\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image004.png\" style=\"height:206.25pt; width:375pt\" /> <img alt=\"wKioL1e5VbbD9PJ4AAA54dKmbH0375.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image004.png\" style=\"height:275px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s2.51cto.com/wyfs02/M01/86/3A/wKiom1e5Vbqxm9r1AAEJRemUQ88668.png-wh_500x0-wm_3-wmp_4-s_967430715.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKiom1e5Vbqxm9r1AAEJRemUQ88668.png-wh_50\" id=\"图片_x0020_10\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image005.png\" style=\"height:124.5pt; width:375pt\" /> <img alt=\"wKiom1e5Vbqxm9r1AAEJRemUQ88668.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image005.png\" style=\"height:166px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">选择Skip building bootstrap image,因为如果不选择的话，默认Fuel会从国外获取源，但是我并没有设置外部网络，而且就算设置了外部网络可以访问外网，速度也是很慢的，所以这里还是会导致安装失败.选择以后会使用本地源进行部署，后面会说明关于本地源如何下载和加载.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s3.51cto.com/wyfs02/M01/86/3A/wKioL1e5VbrD3H-FAAA1h4071i8480.png-wh_500x0-wm_3-wmp_4-s_557068013.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKioL1e5VbrD3H-FAAA1h4071i8480.png-wh_50\" id=\"图片_x0020_9\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image006.png\" style=\"height:129.75pt; width:375pt\" /> <img alt=\"wKioL1e5VbrD3H-FAAA1h4071i8480.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image006.png\" style=\"height:173px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">选择Save and quit，然后这里需要等待1分钟的样子,因为这里要检查更改是否合规，检查通过后系统就会继续安装Fuel了.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s5.51cto.com/wyfs02/M02/86/3A/wKiom1e5Vb7TIVlWAAESkiQZnPA066.png-wh_500x0-wm_3-wmp_4-s_2707984326.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKiom1e5Vb7TIVlWAAESkiQZnPA066.png-wh_50\" id=\"图片_x0020_8\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image007.png\" style=\"height:114pt; width:375pt\" /> <img alt=\"wKiom1e5Vb7TIVlWAAESkiQZnPA066.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image007.png\" style=\"height:152px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">&nbsp;</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">经过漫长的等待，具体多久无法统计了，大概2小时就可以进入Fuel的登录界面了.此过程中切勿关闭或者重启虚拟机.任何不必要的操作都可能导致安装失败.然后会出现下面的画面，到这里Fuel-master的安装就结束了.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s3.51cto.com/wyfs02/M02/86/3A/wKiom1e5Vb7xBqZQAAArjj3g6u0603.png-wh_500x0-wm_3-wmp_4-s_205191224.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKiom1e5Vb7xBqZQAAArjj3g6u0603.png-wh_50\" id=\"图片_x0020_7\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image008.png\" style=\"height:213pt; width:375pt\" /> <img alt=\"wKiom1e5Vb7xBqZQAAArjj3g6u0603.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image008.png\" style=\"height:284px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">在浏览器打开</span><a href=\"https://9.110.187.200:8443\" style=\"color:#0563c1; text-decoration:underline\"><span style=\"color:black\">https://</span><span style=\"color:black\">9.110.187.200</span><span style=\"color:black\">:8443</span></a><span style=\"color:black\">测试一下是否安装成功.如果这里没有显示Fuel的登录界面，说明安装中忽略了一些步骤，或者资源分配不足.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:black\"><img alt=\"http://www.iyunv.com/data/attachment/forum/201512/15/154126z6rrkvvdgikpuehx.png\" src=\"http://www.iyunv.com/data/attachment/forum/201512/15/154126z6rrkvvdgikpuehx.png\" style=\"height:416px; width:554px\" /></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">1</span></span><span style=\"background-color:white\"><span style=\"color:black\">制作</span></span><span style=\"background-color:white\"><span style=\"color:black\">MOS</span></span><span style=\"background-color:white\"><span style=\"color:black\">本地源</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">制作本地源就两步，修改配置文件的源地址和运行</span></span><span style=\"background-color:white\"><span style=\"color:black\">fuel-createmirror</span></span><span style=\"background-color:white\"><span style=\"color:black\">命令</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">修改源地址的配置文件</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">vi /usr/share/fuel-mirror/ubuntu.yaml</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">fuel-createmirror</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">打开</span></span><span style=\"background-color:white\"><span style=\"color:black\">&nbsp;cd /var/www/nailgun</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">查看</span></span><span style=\"background-color:white\"><span style=\"color:black\"> ls /nailgun </span></span><span style=\"background-color:white\"><span style=\"color:black\">下的</span></span><span style=\"background-color:white\"><span style=\"color:black\">mirrors</span></span><span style=\"background-color:white\"><span style=\"color:black\">文件夹的大小，正常大小是</span></span><span style=\"background-color:white\"><span style=\"color:black\">2.45-2.5g</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">2</span></span><span style=\"background-color:white\"><span style=\"color:black\">制作</span></span><span style=\"background-color:white\"><span style=\"color:black\">bootstrap</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">vi</span></code>&nbsp;<code><span style=\"color:black\">/etc/fuel-bootstrap-cli/fuel_bootstrap_cli.yaml</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">fuel-bootstrap build</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">fuel-bootstrap import /tmp/id.tar.gz</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">fuel-bootstrap activate </span></code><code><span style=\"color:black\">生成</span></code><code><span style=\"color:black\">id</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">fuel-bootstrap list</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:black\">至此，</span></code><code><span style=\"color:black\">boootstrap</span></code><code><span style=\"color:black\">制作完成！</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:black\">开启虚拟机后选择ubuntu_bootstrap启动.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s1.51cto.com/wyfs02/M01/86/3A/wKiom1e5YRfjTRglAABNLwlOzgo952.png-wh_500x0-wm_3-wmp_4-s_3408911539.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKiom1e5YRfjTRglAABNLwlOzgo952.png-wh_50\" id=\"图片_x0020_14\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image011.png\" style=\"height:237.75pt; width:375pt\" /> <img alt=\"wKiom1e5YRfjTRglAABNLwlOzgo952.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image011.png\" style=\"height:317px; width:500px\" /></span></a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><a href=\"http://s1.51cto.com/wyfs02/M01/86/3A/wKioL1e5YReCyokqAABhkKuwdcY725.png-wh_500x0-wm_3-wmp_4-s_367929633.png\" style=\"color:#0563c1; text-decoration:underline\" target=\"_blank\"><span style=\"color:black\"><img alt=\"wKioL1e5YReCyokqAABhkKuwdcY725.png-wh_50\" id=\"图片_x0020_13\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image012.png\" style=\"height:187.5pt; width:375pt\" /> <img alt=\"wKioL1e5YReCyokqAABhkKuwdcY725.png-wh_50\" src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image012.png\" style=\"height:250px; width:500px\" /></span></a></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong><code><span style=\"color:red\">问题</span></code></strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:red\">1 PXE</span></code><code><span style=\"color:red\">需要依赖</span></code><code><span style=\"color:red\">dhcp</span></code><code><span style=\"color:red\">分配资源，对网络要求大。</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:red\">2 fuel</span></code><code><span style=\"color:red\">主推的版本为</span></code><code><span style=\"color:red\">Ubuntu </span></code><code><span style=\"color:red\">与我们使用</span></code><code><span style=\"color:red\">centos7.2</span></code><code><span style=\"color:red\">环境不相符。</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:red\">3 fuel</span></code><code><span style=\"color:red\">功能未全部开源，创建</span></code><code><span style=\"color:red\">openstack</span></code><code><span style=\"color:red\">集群，不会安装</span></code><code><span style=\"color:red\">pacemaker</span></code><code><span style=\"color:red\">高可用。</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:red\">综合以上几点与我们自动化部署要求不符，故不采用该方案。</span></code></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:red\">版本</span></code><code><span style=\"color:red\">11.0 </span></code><code><span style=\"color:red\">无</span></code><code> </code><span style=\"color:red\">/usr/share/fuel-mirror/ubuntu.yaml </span><span style=\"color:red\">无</span><span style=\"background-color:white\"><span style=\"color:red\">fuel-createmirror</span></span><span style=\"background-color:white\"><span style=\"color:red\">。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/2018010417093565228&fm=27&gp=0.jpg','http://www.askeds.com/server',1,0,0,'2018-01-04 09:10:15',1,19,1,0,1),(28,'Nova Serial Console使用','Nova Serial 原生Console使用','<h1 style=\"margin-left:0cm; margin-right:0cm\"><strong>controller 节点启动</strong></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#333333\">base_url= ws://127.0.0.1:6083/ </span><span style=\"color:#333333\">此</span><span style=\"color:#333333\">ip</span><span style=\"color:#333333\">为</span>nova-serialproxy 监听ip地址</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">service openstack-nova-serialproxy restart</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">service openstack-nova-consoleauth</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">nova-consoleauth novaconsole认证机制</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>Compute节点</strong></h2>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><strong><span style=\"color:#333333\">访问</span><span style=\"color:#333333\"> serial console</span></strong></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><code><span style=\"color:#333333\">编辑</span></code><code><span style=\"color:#333333\">nova.conf</span></code>&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">[serial_console]</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">enabled=true</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">base_url=ws://192.168.2.253:6083/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">listen=192.168.2.11</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">proxyclient_address=192.168.2.11</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">你可以通过</span>&nbsp;<code><span style=\"color:#333333\">nova get-serial-proxy</span></code>&nbsp;<span style=\"color:#333333\">命令</span> <span style=\"color:#333333\">接收</span><span style=\"color:#333333\"> websocket </span></span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">$ nova get-serial-console my-server</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">+--------+-----------------------------------------------------------------+</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">| Type&nbsp;&nbsp; | Url&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">+--------+-----------------------------------------------------------------+</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">| serial | ws://127.0.0.1:6083/?token=18510769-71ad-4e5a-8348-4218b5613b3d |</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">+--------+-----------------------------------------------------------------+</span></code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">或者通过</span><span style=\"color:#333333\">rest api</span><span style=\"color:#333333\">获取</span></span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">curl -i &#39;http://127.0.0.1:8774/v2/&lt;tenant_uuid&gt;/servers/&lt;server_uuid&gt;/action&#39; \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -X POST \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -H &quot;Accept: application/json&quot; \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -H &quot;Content-Type: application/json&quot; \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -H &quot;X-Auth-Project-Id: &lt;project_id&gt;&quot; \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -H &quot;X-Auth-Token: &lt;auth_token&gt;&quot; \\</span></code></span></pre>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">&nbsp; -d &#39;{&quot;os-getSerialConsole&quot;: {&quot;type&quot;: &quot;serial&quot;}}&#39;</span></code></span></pre>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>安装<code><span style=\"color:#333333\">novaconsole</span></code><code><span style=\"color:#333333\">命令</span></code></strong></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">git clone </span><a href=\"https://github.com/larsks/novaconsole\" style=\"color:blue; text-decoration:underline\">https://github.com/larsks/novaconsole</a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cd novaconsole</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">python setup.py install</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><strong>Novaconsole 连接虚拟机</strong></h2>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">$ novaconsole my-server</span></code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">或者</span></span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:whitesmoke\"><code><span style=\"color:#333333\">$ novaconsole --url ws://127.0.0.1:6083/?token=18510769-71ad-4e5a-8348-4218b5613b3d</span></code></span></pre>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">注意novaconsole 不支持keystone 3.0接口</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">设置环境变量</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">vim ~/admin-openv2</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">export OS_USERNAME=admin</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">export OS_TENANT_NAME=admin</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">export OS_REGION_NAME=RegionOne</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">export OS_AUTH_URL=http://ctrl.openstack.com:5000/v2.0</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">export OS_PASSWORD=admin12#$</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104171703timg%20(1).jpg','http://www.askeds.com/server',0,0,0,'2018-01-04 09:17:09',1,15,1,0,1),(29,'pycharm远程调试搭建','pycharm远程调试搭建,可适合各种python程序','<p><strong>安装流程</strong></p>\r\n\r\n<p>1.安装pycharm专业版</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　　本文安装pycharm 2017.1专业版。网上教程较多，这里不做详细介绍，只要到pycharm官网上下载应用程序进行安装即可。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2.pycharm配置</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<ol>\r\n	<li>首先按下图1打开tools-&gt;deployment-&gt;configuration:</li>\r\n</ol>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172259_1.png\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　　（2）接下来add server，补充server name以及传输方式SFTP，点击ok，如下图2所示：</p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172323_2.png\" /></p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (3)切换到Mappings选项，在Deployment Path中输入路径&ldquo;/&rdquo;</p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172338_3.png\" /></p>\r\n\r\n<p>&nbsp;（4）点击&ldquo;Test SFTP connection&rdquo;按钮，测试服务能否连接成功</p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172355_4.png\" /></p>\r\n\r\n<p>　　</p>\r\n\r\n<p>（5）然后通过打开tools-&gt;deployment-&gt;browse remote host,如下图4所示:</p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172413_5.png\" /></p>\r\n\r\n<p>（6）设置远程的解释器</p>\r\n\r\n<p>菜单File &ndash;&gt; Setting，找到Project Interpreter，点击&ldquo;Add Remote&rdquo;设置远程的Interpreter</p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104172431_6.png\" /></p>\r\n\r\n<p>在弹出的窗口中选择&ldquo;SSH Credentials&rdquo;，然后输入对应的服务器及账号密码，OK后，Pycharm会自行从服务器上下载必需的解释器，待下载完成后才能进行调试。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>（7）打开Gevent&nbsp; Compatible选项</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image016.jpg\" /><img alt=\"\" src=\"/medias/upload_imgss/20180104172941_8.png\" style=\"height:573px; width:850px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　（8）从服务器上下载代码到本地，这样才能设置断点</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image017.png\" /><img alt=\"\" src=\"/medias/upload_imgss/20180104173001_9.png\" style=\"height:595px; width:484px\" /></p>\r\n\r\n<p>（9）待interpreter下载完成后就可以进行远程调试openstack程序了，如下图5所示：</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image019.jpg\" /><img alt=\"\" src=\"/medias/upload_imgss/20180104173207_10.png\" style=\"height:327px; width:650px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　 （5）代码更改完毕后即可通过右上角的upload图标进行上传、下载，如下图6所示：</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image021.jpg\" /><img alt=\"\" src=\"/medias/upload_imgss/20180104173234_11.png\" style=\"height:281px; width:650px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>　 （7）为了方便代码修改前和修改后进行比较，可以通过sync文件同步</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image023.jpg\" /><img alt=\"\" src=\"/medias/upload_imgss/20180104173319_12.png\" style=\"height:360px; width:650px\" /></p>\r\n\r\n<p><img alt=\"\" src=\"/medias/upload_imgss/20180104173404_13.png\" style=\"height:427px; width:650px\" /></p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image025.jpg\" /></p>\r\n\r\n<p>　注意:修改组件代码</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image026.png\" /></p>\r\n\r\n<p>Thread=True 要改为False,然后开启debug调试。</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">Gevent compatible</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><img alt=\"\" src=\"/medias/upload_imgss/20180104173644_22.png\" style=\"height:142px; width:650px\" /></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">手动调试</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">pip install ipdb</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#2b2b2b\"><strong><span style=\"color:#cc7832\">import </span></strong><span style=\"color:#a9b7c6\">ipdb; ipdb.set_trace()</span></span></p>\r\n\r\n<pre style=\"margin-left:0cm; margin-right:0cm\">\r\n<span style=\"background-color:#2b2b2b\"><strong><span style=\"color:#cc7832\">import </span></strong><span style=\"color:#a9b7c6\">pdb; pdb.set_trace()</span></span></pre>\r\n\r\n<p><span style=\"color:#a9b7c6\"><span style=\"background-color:#2b2b2b\">手动执行 如 python nova-api</span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img src=\"file:///C:\\Users\\wangyc\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image028.jpg\" /></p>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180104173807timg%20(2).jpg','http://www.askeds.com/server',1,0,0,'2018-01-04 09:39:03',1,15,1,0,1),(30,'自建openstack YUM源','原链接：http://www.live-in.org/archives/1410.html','<h1 style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">原链接：</span><a href=\"http://www.live-in.org/archives/1410.html\" style=\"color:blue; text-decoration:underline\"><span style=\"color:#3b5999\">http://www.live-in.org/archives/1410.html</span></a></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">背景</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">平时使用</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">方式安装更新软件，可以自建一个</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">源，同步官方更新源，这样如果本地有机器要升级的话就可以直接使用本地的更新源了。这里系统为</span><span style=\"color:#333333\">CentOS 7.2</span><span style=\"color:#333333\">。</span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">一、自定义rpm包服务端</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">1</span><span style=\"color:#333333\">、安装需要的环境</span><br />\r\n<span style=\"color:#333333\">自建</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">本地更新源可以使用</span><span style=\"color:#333333\">http</span><span style=\"color:#333333\">服务或</span><span style=\"color:#333333\">ftp</span><span style=\"color:#333333\">服务，由于</span><span style=\"color:#333333\">ftp</span><span style=\"color:#333333\">服务器要考虑防火墙配置，主动、被动连接模式，这里使用</span><span style=\"color:#333333\">http</span><span style=\"color:#333333\">服务。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">安装</span><span style=\"color:#333333\">apache</span><span style=\"color:#333333\">：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">yum install httpd</span><br />\r\n<br />\r\n<span style=\"color:#333333\">配置</span><span style=\"color:#333333\">apache</span><span style=\"color:#333333\">过程略过。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">2</span><span style=\"color:#333333\">、安装</span><span style=\"color:#333333\">createrepo</span><span style=\"color:#333333\">软件包</span><br />\r\n<br />\r\n<span style=\"color:#333333\">yum install createrepo<br />\r\n<br />\r\n3</span><span style=\"color:#333333\">、建立存放软件包目录</span><br />\r\n<br />\r\n<span style=\"color:#333333\">mkdir -p /home/ws_yum/<br />\r\nchown -R apache:apache /home/ws_yum/* -R<br />\r\n4</span><span style=\"color:#333333\">、</span><span style=\"color:#333333\">apache</span><span style=\"color:#333333\">创建虚拟目录</span><br />\r\n<br />\r\n<span style=\"color:#333333\">[root@joint-compute-03 ~]# vim /etc/httpd/conf.d/centos7.conf </span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&lt;VirtualHost 36.250.74.74:80&gt;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DocumentRoot &quot;/home/ws_yum/centos7.2/&quot;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServerName test.com</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServerAlias www.test.com</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alias /centos7.2 &quot;/home/ws_yum/centos7.2/&quot;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErrorLog &quot;logs/centos7.com-error.log&quot;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CustomLog &quot;logs/centos7.com-access_log&quot; common</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Directory&nbsp; &quot;/home/ws_yum/centos7.2/&quot;&gt;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options Indexes FollowSymLinks</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowOverride all</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Order allow,deny</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Allow From All</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Require all granted</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Directory&gt;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&lt;/VirtualHost&gt;</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />\r\n<br />\r\n5</span><span style=\"color:#333333\">、将</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">软件包放入</span><span style=\"color:#333333\">/home/ws_yum/centos7.2/</span><span style=\"color:#333333\">目录</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">6</span><span style=\"color:#333333\">、执行</span><span style=\"color:#333333\">createrepo<br />\r\n<br />\r\ncreaterepo &nbsp;/home/ws_yum/centos7.2/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">二、镜像同步公网yum源</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol>\r\n	<li><span style=\"color:#333333\">上游</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">源必须要支持</span><span style=\"color:#333333\">rsync</span><span style=\"color:#333333\">协议，否则不能使用</span><span style=\"color:#333333\">rsync</span><span style=\"color:#333333\">进行同步。</span></li>\r\n	<li><span style=\"color:#333333\">http://mirrors.ustc.edu.cn/status/</span></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol start=\"3\">\r\n	<li><span style=\"color:#333333\">CentOS</span><span style=\"color:#333333\">官方标准源：</span><span style=\"color:#333333\">rsync://mirrors.ustc.edu.cn/centos/</span></li>\r\n	<li><span style=\"color:#333333\">epel</span><span style=\"color:#333333\">源：</span><span style=\"color:#333333\">rsync://mirrors.ustc.edu.cn/epel/</span></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol start=\"5\">\r\n	<li><span style=\"color:#333333\">同步命令：</span></li>\r\n	<li><span style=\"color:#333333\"># </span><span style=\"color:#333333\">使用</span><span style=\"color:#333333\">rsync</span><span style=\"color:#333333\">同步</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">源，为了节省带宽、磁盘和下载时间，我只同步了</span><span style=\"color:#333333\">CentOS7</span><span style=\"color:#333333\">的</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">包，这样所有的</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">包只占用了</span><span style=\"color:#333333\">21G</span><span style=\"color:#333333\">，全部同步需要</span><span style=\"color:#333333\">300G</span><span style=\"color:#333333\">左右。</span></li>\r\n	<li>&nbsp;</li>\r\n	<li><span style=\"color:#333333\"># </span><span style=\"color:#333333\">同步</span><span style=\"color:#333333\">base</span><span style=\"color:#333333\">源，小技巧，我们安装系统的光盘镜像含有部分</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">包，大概</span><span style=\"color:#333333\">3G</span><span style=\"color:#333333\">，这些就不用重新下载。</span></li>\r\n	<li><span style=\"color:#333333\">/usr/bin/rsync -av rsync://mirrors.ustc.edu.cn/centos/7/os/x86_64/ /data/yum_data/centos/7/os/x86_64/</span></li>\r\n	<li>&nbsp;</li>\r\n	<li><span style=\"color:#333333\">/usr/bin/rsync -av rsync://mirrors.ustc.edu.cn/centos/7/extras/x86_64/ /data/yum_data/centos/7/extras/x86_64/</span></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol start=\"12\">\r\n	<li><span style=\"color:#333333\">/usr/bin/rsync -av rsync://mirrors.ustc.edu.cn/centos/7/updates/x86_64/ /data/yum_data/centos/7/updates/x86_64/</span></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<ol start=\"13\">\r\n	<li><span style=\"color:#333333\"># epel</span><span style=\"color:#333333\">源</span></li>\r\n	<li><span style=\"color:#333333\">/usr/bin/rsync -av --exclude=debug rsync://mirrors.ustc.edu.cn/epel/7/x86_64/ /data/yum_data/epel/7/x86_64/</span></li>\r\n</ol>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">或者</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">wget -m -c -np --reject=html,gif,A,D -nH --cut-dirs=4 -P openstack-havana http://vault.centos.org/7.2.1511/cloud/Source/openstack-newton/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">wget -c -r -np -k -L -p --accept=rpm </span><a href=\"http://vault.centos.org/7.2.1511/cloud/Source/openstack-newton/\" style=\"color:blue; text-decoration:underline\">http://vault.centos.org/7.2.1511/cloud/Source/openstack-newton/</a></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">在</span><span style=\"color:#333333\">/home/ws_yum/centos7.2</span><span style=\"color:#333333\">目录下会自动生成</span><span style=\"color:#333333\">repodata</span><span style=\"color:#333333\">目录，</span><span style=\"color:#333333\">repodata</span><span style=\"color:#333333\">目录里是一个数据库，其中的文件主要是</span><span style=\"color:#333333\">XML</span><span style=\"color:#333333\">格式，描述了一个</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">包的详细信息，如依赖关系，包含文件，校验码信息。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n&nbsp;</p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">三、服务端使用gpg key对rpm软件包进行签名</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">1</span><span style=\"color:#333333\">、创建</span><span style=\"color:#333333\">gpg key<br />\r\ngpg key</span><span style=\"color:#333333\">也是基于非对称加密算法，产生公钥和私钥。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">执行：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">cd ~<br />\r\ngpg --gen-key</span><br />\r\n<br />\r\n<span style=\"color:#333333\">创建过程：</span><br />\r\n<span style=\"color:#333333\"><img alt=\"http://images.cnitblog.com/blog/507024/201406/181103413792259.png\" src=\"http://images.cnitblog.com/blog/507024/201406/181103413792259.png\" style=\"height:340px; width:550px\" /></span><br />\r\n<span style=\"color:#333333\">选择加密算法、加密强度、是否设置有效期</span><br />\r\n<span style=\"color:#333333\"><img alt=\"http://images.cnitblog.com/blog/507024/201406/181103416295802.png\" src=\"http://images.cnitblog.com/blog/507024/201406/181103416295802.png\" style=\"height:165px; width:550px\" /></span><br />\r\n<span style=\"color:#333333\">设置名称和邮箱</span><br />\r\n<span style=\"color:#333333\"><img alt=\"http://images.cnitblog.com/blog/507024/201406/181103418017087.png\" src=\"http://images.cnitblog.com/blog/507024/201406/181103418017087.png\" style=\"height:108px; width:381px\" /></span><br />\r\n<span style=\"color:#333333\"><img alt=\"http://images.cnitblog.com/blog/507024/201406/181103419895144.png\" src=\"http://images.cnitblog.com/blog/507024/201406/181103419895144.png\" style=\"height:93px; width:381px\" /></span><br />\r\n<span style=\"color:#333333\">输入保护密码</span><br />\r\n<span style=\"color:#333333\"><img alt=\"http://images.cnitblog.com/blog/507024/201406/181103427078529.png\" src=\"http://images.cnitblog.com/blog/507024/201406/181103427078529.png\" style=\"height:230px; width:550px\" /></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">在</span><span style=\"color:#333333\">/root/.gnupg</span><span style=\"color:#333333\">目录下生成公钥和私钥文件。据观察</span><span style=\"color:#333333\">pubring.gpg</span><span style=\"color:#333333\">是公钥，</span><span style=\"color:#333333\">secring.gpg</span><span style=\"color:#333333\">是私钥。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">2</span><span style=\"color:#333333\">、查看公钥</span><br />\r\n<br />\r\n<span style=\"color:#333333\">gpg --list-key</span><br />\r\n<br />\r\n<span style=\"color:#333333\">显示如下：</span></span></p>\r\n\r\n<div>\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:#f8f8f8\"><span style=\"background-color:#f8f8f8\"><span style=\"color:#333333\">/root/.gnupg/pubring.gpg------------------------pub&nbsp;&nbsp; 2048R/EF9632F2 2012-07-21uid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wsadmin (wsadmin@qq.com) &lt;wsadmin@qq.com&gt; 2048R/C17A35BC 2012-07-21</span></span></span></p>\r\n</div>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">3</span><span style=\"color:#333333\">、在家目录建立</span><span style=\"color:#333333\">.rpmmacros</span><span style=\"color:#333333\">文件</span><br />\r\n<br />\r\n<span style=\"color:#333333\">cd ~<br />\r\nvim .rpmmacros</span><br />\r\n<br />\r\n<span style=\"color:#333333\">添加：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">%_signature gpg<br />\r\n%_gpg_name test repo &lt;testrepo@example.com&gt;<br />\r\n<br />\r\n%_gpg_name</span><span style=\"color:#333333\">后面要填写</span><span style=\"color:#333333\">gpg --list-key</span><span style=\"color:#333333\">命令显示的</span><span style=\"color:#333333\">uid</span><span style=\"color:#333333\">，指定这一组</span><span style=\"color:#333333\">key</span><span style=\"color:#333333\">进行签名。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#333333\">4</span><span style=\"color:#333333\">、对</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">软件包签名</span><br />\r\ncd /home/ws_yum/centos7.2</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm --resign `find ./ -name *.rpm|xargs -n 10000000000000000`&nbsp;&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/epel/7/x86_64/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/mariadb10.1/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/os/x86_64/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">createrepo --update&nbsp; /home/ws_yum/centos7.2/ws_openstack_newton/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">随后需要输入保护密码。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">5</span><span style=\"color:#333333\">、导出公钥到文本文件</span><br />\r\n<br />\r\n<span style=\"color:#333333\">cd ~<br />\r\ngpg --export -a &quot;</span> <span style=\"color:#333333\">wsadmin (wsadmin@qq.com) &lt;wsadmin@qq.com&gt; &quot; &gt;RPM-GPG-KEY<br />\r\n6</span><span style=\"color:#333333\">、验证是否签名成功</span><br />\r\n<span style=\"color:#333333\">查看</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">数据库中的公钥：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">rpm -q gpg-pubkey</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#777777\">gpg-pubkey-c105b9de-4e0fd3a3</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">导入公钥：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">rpm --import RPM-GPG-KEY<br />\r\n<br />\r\nrpm -q gpg-pubkey</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#777777\">gpg-pubkey-c105b9de-4e0fd3a3<br />\r\ngpg-pubkey-ef9632f2-500a6e55</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">已经添加了一组公钥。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">检验</span><span style=\"color:#333333\">rpm</span><span style=\"color:#333333\">软件包：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">rpm &ndash;K /home/ws_yum/centos7.2/os/x86_64/Packages/zip-3.0-10.el7.x86_64.rpm</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#777777\">mtree-2.7-1.el6.rf.i686.rpm: rsa sha1 (md5) pgp md5 OK</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">7</span><span style=\"color:#333333\">、将公钥放到</span><span style=\"color:#333333\">web</span><span style=\"color:#333333\">服务器上</span><br />\r\n<br />\r\n<span style=\"color:#333333\">cp ~/RPM-GPG-KEY-TESTREPO /home/ws_yum/centos7.2</span><br />\r\n<br />\r\n<span style=\"color:red\">8</span><span style=\"color:red\">、服务端更新仓库信息</span><span style=\"color:red\"> (</span><span style=\"color:red\">必须</span><span style=\"color:red\">)</span><br />\r\n<br />\r\n<span style=\"color:#333333\">createrepo --update /home/yum/centos/6</span><br />\r\n<br />\r\n<span style=\"color:#333333\">主要是更新</span><span style=\"color:#333333\">repodata</span><span style=\"color:#333333\">目录中的数据。</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">四、（可选）客户端导入公钥</span><br />\r\n<br />\r\n<span style=\"color:#333333\">rpm --import http://XXX.XXX.XXX/centos/RPM-GPG-KEY </span><br />\r\n<span style=\"color:#333333\">（</span><span style=\"color:#333333\">XXX.XXX.XXX</span><span style=\"color:#333333\">是绑定的域名）</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">测试安装：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">yum install zip</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">四、同步公网yum客户端</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><br />\r\n<span style=\"background-color:white\"><span style=\"color:#333333\">1</span><span style=\"color:#333333\">、创建</span><span style=\"color:#333333\">yum</span><span style=\"color:#333333\">客户端</span><span style=\"color:#333333\">repo</span><span style=\"color:#333333\">文件</span><br />\r\n<br />\r\n<span style=\"color:#333333\">yum_ip=36.250.74.74</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">ifyumexist=`ls -l /etc/yum.repos.d/ |awk -F &#39; &#39; &#39;{print $9}&#39;`</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">for i in `echo $ifyumexist`</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">do</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">if [[ ! -f /etc/yum.repos.d/$i.bak ]];then</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">mv /etc/yum.repos.d/$i /etc/yum.repos.d/$i.bak</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">fi</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">done</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cd /etc/yum.repos.d</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">if [[ ! -d&nbsp; /mnt/openstack-newton ]];then</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir /mnt/openstack-newton/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">fi</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cat &lt;&lt; EOF &gt;/etc/yum.repos.d/centos7_2.repo</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">[centos7_2]</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">name=centos7_2</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">baseurl=http://$yum_ip/centos7.2/os/x86_64/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">enabled=1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">gpgcheck=0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">EOF</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cat &lt;&lt; EOF &gt;/etc/yum.repos.d/epel.repo</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">[epel]</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">name=epel</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">baseurl=http://$yum_ip/centos7.2/epel/7/x86_64/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">enabled=1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">gpgcheck=0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">EOF</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cat &lt;&lt; EOF &gt;/etc/yum.repos.d/openstack.repo</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">[openstack]</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">name=openstack</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">#baseurl=http://mirror.centos.org/centos/7/cloud/x86_64/openstack-newton/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">#baseurl=file:///mnt/openstack-newton/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">baseurl=http://$yum_ip/centos7.2/openstack-newton/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">enabled=1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">gpgcheck=0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">EOF</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">cat &lt;&lt; EOF &gt;/etc/yum.repos.d/mariadb.repo</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">[mariadb]</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">name=mariadb</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">#baseurl=file:///mnt/mariadb10.1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">baseurl=http://$yum_ip/centos7.2/mariadb10.1/</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">enabled=1</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">gpgcheck=0</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">EOF</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">echo &quot;yum</span><span style=\"color:#333333\">源准完毕</span><span style=\"color:#333333\">&quot;</span><br />\r\n<span style=\"color:#333333\">说明：</span><br />\r\n<br />\r\n<span style=\"color:#333333\">name</span><span style=\"color:#333333\">：仓库的描述。</span><br />\r\n<span style=\"color:#333333\">baseurl</span><span style=\"color:#333333\">：仓库的位置。</span><br />\r\n<span style=\"color:#333333\">enabled</span><span style=\"color:#333333\">：是否启用这个仓库，</span><span style=\"color:#333333\">1</span><span style=\"color:#333333\">为起用，</span><span style=\"color:#333333\">0</span><span style=\"color:#333333\">为禁用。</span><br />\r\n<span style=\"color:#333333\">gpgcheck</span><span style=\"color:#333333\">：是否检查</span><span style=\"color:#333333\">gpg</span><span style=\"color:#333333\">签名，</span><span style=\"color:#333333\">1</span><span style=\"color:#333333\">为检查，</span><span style=\"color:#333333\">0</span><span style=\"color:#333333\">为不检查。</span></span><br />\r\n&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">rpm -q gpg-pubkey</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#333333\">rpm&nbsp; --import&nbsp; http://36.250.74.74/centos7.2/</span><a href=\"http://36.250.74.74/centos7.2/RPM-GPG-KEY\" style=\"color:blue; text-decoration:underline\">RPM-GPG-KEY</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"background-color:white\"><span style=\"color:#333333\">rpm -q gpg-pubkey</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\">yum&nbsp;clean&nbsp;all<br />\r\nyum&nbsp;clean&nbsp;metadata<br />\r\nyum&nbsp;clean&nbsp;dbcache</span><br />\r\n&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">yum install openstack-nova* python-nova*</span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\">相关命令</h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">签名目录下所有rpm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">cd /home/ws_yum/centos7.2</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm --resign `find ./ -name *.rpm|xargs -n 10000000000000000`&nbsp;&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/epel/7/x86_64/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/mariadb10.1/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"background-color:white\"><span style=\"color:#333333\">createrepo --update&nbsp;</span></span> /home/ws_yum/centos7.2/os/x86_64/</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">已有加密的无需重复加密</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum&nbsp;clean&nbsp;all<br />\r\nyum&nbsp;clean&nbsp;metadata<br />\r\nyum&nbsp;clean&nbsp;dbcache<br />\r\nyum&nbsp;makecache&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">yum&nbsp;clean&nbsp;&nbsp;--enablerepo=centos7_2&nbsp;all&nbsp;<br />\r\nyum&nbsp;--enablerepo=centos7_2&nbsp;clean&nbsp;metadata<br />\r\nyum&nbsp;--enablerepo=centos7_2&nbsp;clean&nbsp;dbcache&nbsp;&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">vim /etc/yum.conf</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">http_caching=packages</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm&nbsp;-q&nbsp;gpg-pubkey</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm --delsign rpm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">rpm --addsign rpm</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">--addsign</span><span style=\"color:#2d374b\">：为自动软件包添加签名；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">&nbsp;--checksig</span><span style=\"color:#2d374b\">：验证软件包签名；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">--delsign</span><span style=\"color:#2d374b\">：删除软件包签名；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">--import</span><span style=\"color:#2d374b\">：导入公钥；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">&nbsp;--resign</span><span style=\"color:#2d374b\">：重新签名软件包；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">&nbsp;--nodigest</span><span style=\"color:#2d374b\">：不验证软件包摘要；</span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"color:#2d374b\">&nbsp;--nosignature</span><span style=\"color:#2d374b\">：不验证软件包签名。</span><br />\r\n<br />\r\n<span style=\"color:#2d374b\">来自</span><span style=\"color:#2d374b\">:&nbsp;</span><a href=\"http://man.linuxde.net/rpmsign\" style=\"color:blue; text-decoration:underline\">http://man.linuxde.net/rpmsign</a></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n','document/20170209130422_Broods.txt','upload_imgss/2018010418285227463&fm=27&gp=0.jpg','http://www.askeds.com/server',2,0,0,'2018-01-04 10:29:04',1,15,1,0,1),(31,'OpenvSwitch概念和原理  ','OpenvSwitch，简称OVS是一个虚拟交换软件，主要用于虚拟机VM环境，作为一个虚拟交换机，支持Xen/XenServer, KVM, and VirtualBox多种虚拟化技术。在这种某一台机器的虚拟化的环境中，一个虚拟交换机（vswitch）主要有两个作用：传递虚拟机VM之间的流量，以及实现VM和外界网络的通信。','<h2>1 什么是OpenvSwitch</h2>\r\n\r\n<p>OpenvSwitch，简称OVS是一个虚拟交换软件，主要用于虚拟机VM环境，作为一个虚拟交换机，支持Xen/XenServer, KVM, and VirtualBox多种虚拟化技术。</p>\r\n\r\n<p>在这种某一台机器的虚拟化的环境中，一个虚拟交换机（vswitch）主要有两个作用：传递虚拟机VM之间的流量，以及实现VM和外界网络的通信。</p>\r\n\r\n<p>整个OVS代码用C写的。目前有以下功能：</p>\r\n\r\n<ul>\r\n	<li>Standard 802.1Q VLAN model with trunk and access ports</li>\r\n	<li>NIC bonding with or without LACP on upstream switch</li>\r\n	<li>NetFlow, sFlow(R), and mirroring for increased visibility</li>\r\n	<li>QoS (Quality of Service) configuration, plus policing</li>\r\n	<li>GRE, GRE over IPSEC, VXLAN, and LISP tunneling</li>\r\n	<li>802.1ag connectivity fault management</li>\r\n	<li>OpenFlow 1.0 plus numerous extensions</li>\r\n	<li>Transactional configuration database with C and Python bindings</li>\r\n	<li>High-performance forwarding using a Linux kernel module</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2><a name=\"t1\"></a>2 OpenvSwitch的组成</h2>\r\n\r\n<ul>\r\n	<li>ovs-vswitchd：守护程序，实现交换功能，和Linux内核兼容模块一起，实现基于流的交换flow-based switching。</li>\r\n	<li>ovsdb-server：轻量级的数据库服务，主要保存了整个OVS的配置信息，包括接口啊，交换内容，VLAN啊等等。ovs-vswitchd会根据数据库中的配置信息工作。</li>\r\n	<li>ovs-dpctl：一个工具，用来配置交换机内核模块，可以控制转发规则。</li>\r\n	<li>ovs-vsctl：主要是获取或者更改ovs-vswitchd的配置信息，此工具操作的时候会更新ovsdb-server中的数据库。</li>\r\n	<li>ovs-appctl：主要是向OVS守护进程发送命令的，一般用不上。</li>\r\n	<li>ovsdbmonitor：GUI工具来显示ovsdb-server中数据信息。</li>\r\n	<li>ovs-controller：一个简单的OpenFlow控制器</li>\r\n	<li>ovs-ofctl：用来控制OVS作为OpenFlow交换机工作时候的流表内容。</li>\r\n</ul>\r\n\r\n<h2><a name=\"t2\"></a>3 OpenvSwitch和其他vswitch</h2>\r\n\r\n<p>这里其他的vswitch,包括VMware vNetwork distributed switch以及思科的Cisco Nexus 1000V。</p>\r\n\r\n<p>VMware vNetwork distributed switch以及思科的Cisco Nexus 1000V这种虚拟交换机提供的是一个集中式的控制方式，。而OVS则是一个独立的vswitch，他运行在每个实现虚拟化的物理机器上，并提供远程管 理。OVS提供了两种在虚拟化环境中远程管理的协议：一个是OpenFlow,通过流表来管理交换机的行为，一个是OVSDB management protocol，用来暴露sietch的port状态。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>(二)-概念及工作流程1</p>\r\n\r\n<h2><a name=\"t3\"></a>1 vswitch、Bridge、Datapath</h2>\r\n\r\n<p>在网络中，交换机和桥都是同一个概念，OVS实现了一个虚拟机的以太交换机，换句话说，OVS也就是实现了一个以太桥。那么，在OVS中，给一个交换机，或者说一个桥，用了一个专业的名词，叫做DataPath！</p>\r\n\r\n<p>要了解，OVS如何工作，首先需要知道桥的概念。</p>\r\n\r\n<p>网桥也叫做桥接器，连接两个局域网的设备，网桥工作在数据链路层，将两个LAN连接，根据MAC地址来转发帧，可以看成一个&ldquo;低层的路由器&rdquo;（路由器工作在网络层，根据IP地质进行转发）。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"t4\"></a>1.1 网桥的工作原理</h3>\r\n\r\n<p>网桥处理包遵循以下几条规则：</p>\r\n\r\n<ul>\r\n	<li>在一个接口上接收到的包不会再往那个接口上发送此包。</li>\r\n	<li>每个接收到的包都要学习其源MAC地址。</li>\r\n	<li>如果数据包是多播或者广播包（通过2层MAC地址确定）则要向接收端口以外的所有端口转发，如果上层协议感兴趣，则还会递交上层处理。</li>\r\n	<li>如果数据包的地址不能再CAM表中找到，则向接收端口以外的其他端口转发。</li>\r\n	<li>如果CAM表中能找到，则转发给相应端口，如果发送和接收都是统一端口，则不发送。</li>\r\n</ul>\r\n\r\n<p>注意，网桥是以<code>混杂模式工作</code>的。关于网桥更多，请查阅相关资料。</p>\r\n\r\n<h2><a name=\"t5\"></a>2 OVS中的bridge</h2>\r\n\r\n<p>上面，说到，一个桥就是一个交换机。在OVS中，</p>\r\n\r\n<pre>\r\n<code>ovs-vsctl add-br brname(br-int)\r\n\r\nroot@Compute2:~# ifconfig\r\n      br-int    Link encap:Ethernet  HWaddr 1a:09:56:ea:0b:49  \r\n      inet6 addr: fe80::1809:56ff:feea:b49/64 Scope:Link\r\n      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n      RX packets:1584 errors:0 dropped:0 overruns:0 frame:0\r\n      TX packets:6 errors:0 dropped:0 overruns:0 carrier:0\r\n      collisions:0 txqueuelen:0 \r\n      RX bytes:316502 (316.5 KB)  TX bytes:468 (468.0 B)</code></pre>\r\n\r\n<p>当我们创建了一个交换机（网桥）以后，此时网络功能不受影响，但是会产生一个虚拟网卡，名字就是brname，之所以会产生一个虚拟网卡，是为了实现接下 来的网桥（交换机）功能。有了这个交换机以后，我还需要为这个交换机增加端口(port)，一个端口，就是一个物理网卡，当网卡加入到这个交换机之后，其 工作方式就和普通交换机的一个端口的工作方式类似了。</p>\r\n\r\n<pre>\r\n<code>ovs-vsctl add-port brname port</code></pre>\r\n\r\n<p>这里要特别注意，网卡加入网桥以后，要按照网桥的工作标准工作，那么加入的一个端口就必须是以混杂模式工作，工作在链路层，处理2层的帧，所以这个port就不需要配置IP了。（你没见过哪个交换的端口有IP的吧）</p>\r\n\r\n<p>那么接下来你可能会问，通常的交换机不都是有一个管理接口，可以telnet到交换机上进行配置吧，那么在OVS中创建的虚拟交换机有木有这种呢，有的！ 上面既然创建交换机brname的时候产生了一个虚拟网口brname,那么，你给这个虚拟网卡配置了IP以后，就相当于给交换机的管理接口配置了IP， 此时一个正常的虚拟交换机就搞定了。</p>\r\n\r\n<pre>\r\n<code>ip address add 192.168.1.1/24 dev brname</code></pre>\r\n\r\n<p>最后，我们来看看一个br的具体信息：</p>\r\n\r\n<pre>\r\n<code>root@Compute2:~# ovs-vsctl show\r\nbc12c8d2-6900-42dd-9c1c-30e8ecb99a1b\r\nBridge &quot;br0&quot;\r\n    Port &quot;eth0&quot;\r\n        Interface &quot;eth0&quot;\r\n    Port &quot;br0&quot;\r\n        Interface &quot;br0&quot;\r\n            type: internal\r\novs_version: &quot;1.4.0+build0&quot;</code></pre>\r\n\r\n<p>首先，这里显示了一个名为br0的桥（交换机），这个交换机有两个接口,一个是eth0，一个是br0，上面说到，创建桥的时候会创建一个和桥名字一样的 接口，并自动作为该桥的一个端口，那么这个虚拟接口的作用，一方面是可以作为交换机的管理端口，另一方面也是基于这个虚拟接口，实现了桥的功能。</p>\r\n\r\n<h2>&nbsp;</h2>\r\n\r\n<p>概念及工作流程2</p>\r\n\r\n<p>这一部分我以一个简单的例子，说明在虚拟化环境中OpenvSwitch的典型工作流程。</p>\r\n\r\n<p>前面已经说到，OVS主要是用来在虚拟化环境中。虚拟机之间一个虚拟机和外网之间的通信所用，如下是一个典型的结构图：</p>\r\n\r\n<p>那么，通常情况下的工作流程如下：</p>\r\n\r\n<p><img alt=\"\" src=\"http://img.my.csdn.net/uploads/201304/03/1364959886_3705.png\" /></p>\r\n\r\n<ul>\r\n	<li>1 VM实例instance产生一个数据包并发送至实例内的虚拟网络接口VNIC，图中就是instance中的eth0.</li>\r\n	<li>2 这个数据包会传送到物理节点上的VNIC接口，如图就是vnet接口。</li>\r\n	<li>3 数据包从vnet NIC出来，到达桥（虚拟交换机）br100上.</li>\r\n	<li>4 数据包经过交换机的处理，从物理节点上的物理接口发出，如图中物理节点上的eth0.</li>\r\n	<li>5 数据包从eth0出去的时候，是按照物理节点上的路由以及默认网关操作的，这个时候该数据包其实已经不受你的控制了。</li>\r\n</ul>\r\n','document/20170209130422_Broods.txt','upload_imgss/20180105155713timg%20(1).jpg','http://www.askeds.com/server',1,0,0,'2018-01-05 07:57:26',1,15,1,0,1);
/*!40000 ALTER TABLE `app01_documentdata` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_documentdata_focususer`
--

DROP TABLE IF EXISTS `app01_documentdata_focususer`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_documentdata_focususer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `documentdata_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `documentdata_id` (`documentdata_id`,`user_id`),
  KEY `app01_documentdata_focu_user_id_50e4f4b996bfe645_fk_auth_user_id` (`user_id`),
  CONSTRAINT `app01_documentdata_focu_user_id_50e4f4b996bfe645_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`),
  CONSTRAINT `app01__documentdata_id_54587b9b25efc459_fk_app01_documentdata_id` FOREIGN KEY (`documentdata_id`) REFERENCES `app01_documentdata` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_documentdata_focususer`
--

LOCK TABLES `app01_documentdata_focususer` WRITE;
/*!40000 ALTER TABLE `app01_documentdata_focususer` DISABLE KEYS */;
INSERT INTO `app01_documentdata_focususer` VALUES (1,1,2),(5,2,2),(2,5,2),(6,8,2),(8,9,2),(7,10,2),(14,12,2),(13,13,2),(12,15,2),(16,17,2),(15,20,2),(17,22,2),(18,25,2),(19,30,2);
/*!40000 ALTER TABLE `app01_documentdata_focususer` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_goodslist`
--

DROP TABLE IF EXISTS `app01_goodslist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_goodslist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_uuid` char(32),
  `total_num` int(11) NOT NULL,
  `total_price` int(11) NOT NULL,
  `create_date` datetime NOT NULL,
  `buyers` varchar(100) NOT NULL,
  `ifpay` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_goodslist`
--

LOCK TABLES `app01_goodslist` WRITE;
/*!40000 ALTER TABLE `app01_goodslist` DISABLE KEYS */;
INSERT INTO `app01_goodslist` VALUES (1,'34c16bf2bca54e5eb3e7fabad32a049b',1,2,'2017-12-19 13:02:04','sam',0),(2,'b7bda473a7704696b8b8ed5eb7babc6f',1,0,'2017-12-19 13:05:53','sam',0),(3,'4c0331b175ea4e54be1a2de8877cbeff',1,0,'2017-12-25 09:26:37','sam',0),(4,'2102008529654b448920d072ae931a2d',1,0,'2018-01-04 01:12:13','sam',0);
/*!40000 ALTER TABLE `app01_goodslist` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_goodslist_total_goods`
--

DROP TABLE IF EXISTS `app01_goodslist_total_goods`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_goodslist_total_goods` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `goodslist_id` int(11) NOT NULL,
  `news_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `goodslist_id` (`goodslist_id`,`news_id`),
  KEY `app01_goodslist_total__news_id_1c0921a9e3819927_fk_app01_news_id` (`news_id`),
  CONSTRAINT `app01_goodslist_total__news_id_1c0921a9e3819927_fk_app01_news_id` FOREIGN KEY (`news_id`) REFERENCES `app01_news` (`id`),
  CONSTRAINT `app01_goodsl_goodslist_id_75b8a9c7647d9bd0_fk_app01_goodslist_id` FOREIGN KEY (`goodslist_id`) REFERENCES `app01_goodslist` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_goodslist_total_goods`
--

LOCK TABLES `app01_goodslist_total_goods` WRITE;
/*!40000 ALTER TABLE `app01_goodslist_total_goods` DISABLE KEYS */;
INSERT INTO `app01_goodslist_total_goods` VALUES (4,4,20);
/*!40000 ALTER TABLE `app01_goodslist_total_goods` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_gotvideo`
--

DROP TABLE IF EXISTS `app01_gotvideo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_gotvideo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `create_date` datetime NOT NULL,
  `buyers` varchar(100),
  PRIMARY KEY (`id`),
  UNIQUE KEY `buyers` (`buyers`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_gotvideo`
--

LOCK TABLES `app01_gotvideo` WRITE;
/*!40000 ALTER TABLE `app01_gotvideo` DISABLE KEYS */;
INSERT INTO `app01_gotvideo` VALUES (1,'2017-12-19 09:22:21','sam');
/*!40000 ALTER TABLE `app01_gotvideo` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_gotvideo_myvideo`
--

DROP TABLE IF EXISTS `app01_gotvideo_myvideo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_gotvideo_myvideo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `gotvideo_id` int(11) NOT NULL,
  `news_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `gotvideo_id` (`gotvideo_id`,`news_id`),
  KEY `app01_gotvideo_myvideo_news_id_62fabb177da5b509_fk_app01_news_id` (`news_id`),
  CONSTRAINT `app01_gotvideo_gotvideo_id_7ea699be9129ed47_fk_app01_gotvideo_id` FOREIGN KEY (`gotvideo_id`) REFERENCES `app01_gotvideo` (`id`),
  CONSTRAINT `app01_gotvideo_myvideo_news_id_62fabb177da5b509_fk_app01_news_id` FOREIGN KEY (`news_id`) REFERENCES `app01_news` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_gotvideo_myvideo`
--

LOCK TABLES `app01_gotvideo_myvideo` WRITE;
/*!40000 ALTER TABLE `app01_gotvideo_myvideo` DISABLE KEYS */;
/*!40000 ALTER TABLE `app01_gotvideo_myvideo` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_news`
--

DROP TABLE IF EXISTS `app01_news`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_news` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(30) NOT NULL,
  `summary` varchar(256) DEFAULT NULL,
  `video` varchar(100) DEFAULT NULL,
  `newpic` varchar(100) NOT NULL,
  `favor_count` int(11) NOT NULL,
  `reply_count` int(11) NOT NULL,
  `focus_count` int(11) NOT NULL,
  `create_date` datetime NOT NULL,
  `category_id` int(11) DEFAULT NULL,
  `news_type_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `course_price` int(11) NOT NULL,
  `weixinnum` varchar(20) DEFAULT NULL,
  `videourl` varchar(5000) DEFAULT NULL,
  `check_enable` tinyint(1) NOT NULL,
  `content` longtext,
  `url` varchar(200),
  `videos_url` varchar(5000) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `app01_news_category_id_22d45c7df858c81b_fk_app01_category_id` (`category_id`),
  KEY `app01_news_17655364` (`news_type_id`),
  KEY `app01_news_e8701ad4` (`user_id`),
  CONSTRAINT `app01_news_category_id_22d45c7df858c81b_fk_app01_category_id` FOREIGN KEY (`category_id`) REFERENCES `app01_category` (`id`),
  CONSTRAINT `app01_news_news_type_id_28df901426081527_fk_app01_newtype_id` FOREIGN KEY (`news_type_id`) REFERENCES `app01_newtype` (`id`),
  CONSTRAINT `app01_news_user_id_780a4f37c1933c05_fk_app01_admin_id` FOREIGN KEY (`user_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=61 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_news`
--

LOCK TABLES `app01_news` WRITE;
/*!40000 ALTER TABLE `app01_news` DISABLE KEYS */;
INSERT INTO `app01_news` VALUES (18,' Python入门教程完整版','目录大纲：本套教程15天1-3   天内容为Linux基础命令4-13  天内容为Python基础教程14-15 天内容为 飞机大战项目演练','','medias/upload_imgss/20171222062814timg.jpg',5,0,0,'2017-12-22 06:43:02',3,2,1,0,'','/medias/video/python/01-课程安排.mp4',1,'<p><strong>目录大纲：</strong></p>\r\n\r\n<p>本套教程15天</p>\r\n\r\n<p>1-3&nbsp;&nbsp;&nbsp;天内容为Linux基础命令</p>\r\n\r\n<p>4-13&nbsp;&nbsp;天内容为Python基础教程</p>\r\n\r\n<p>14-15&nbsp;天内容为&nbsp;飞机大战项目演练</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>视频概括：</strong></p>\r\n\r\n<p>第一阶段（1-3天）：</p>\r\n\r\n<p>该阶段首先通过介绍不同领域的三种操作系统，操作系统的发展简史以及Linux系统的文件目录结构让大家对Linux系统有一个简单的认识，同时知道为什么要学习Linux命令。然后我们会正式学习Linux命令</p>\r\n\r\n<p>1.&nbsp;文件和目录命令：ls，cd，touch，mkdir，rm</p>\r\n\r\n<p>2.&nbsp;拷贝和移动命令：tree，cp，mv</p>\r\n\r\n<p>3.&nbsp;文件内容命令：cat，more，grep</p>\r\n\r\n<p>4.&nbsp;远程管理命令：ifconfig，ping，SSH的工作方式简介以及ssh命令</p>\r\n\r\n<p>5.&nbsp;用户权限及用户管理命令：chmod，chgrp，useradd，passwd，userdel</p>\r\n\r\n<p>6.&nbsp;软件安装及压缩命令：apt简介及命令，tar，gzip压缩命令，bzip2压缩命令</p>\r\n\r\n<p>7.&nbsp;vim的基本使用</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第二阶段（4-10天）</p>\r\n\r\n<p>该阶段我们正式进入Python这门语言的学习，首先通过了解Python语言的起源，Python语言的设计目标，Python语言的设计哲学，Python语言的优缺点和面向对象的基本概念，以及Python语言的执行方式，还有Python集成开发环境PyCharm的使用为我们接下来的学习做铺垫。</p>\r\n\r\n<p>然后我们会学习int，string，float三种简单的变量类型，变量间的计算，变量的输入输出，if判断语句，while循环语句，for循环语句，break和continue的使用，函数的基本使用，模块的使用，列表，元组，字典三种高级变量，字符串的常用操作。</p>\r\n\r\n<p>接下来我们会通过一个名片管理系统的案例，把这一阶段的知识进行一个串联。在学习名片管理系统时，首先我们会学习怎么去搭建这一系统的框架，然后我们会分别实现新增名片，显示全部名片，查询名片，删除名片，修改名片这些功能。</p>\r\n\r\n<p>最后我们会学习语法的进阶内容，全局变量，局部变量，可变数据类型和不可变数据类型以及函数返回多个值，函数的缺省参数，多值参数，递归的基本使用。</p>\r\n\r\n<p>&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第三阶段（11-13天）</p>\r\n\r\n<p>该阶段我们会学习面向对象（OOP）这一重要的编程思想，首先学习的知识点有类和对象的基本概念，dir函数，self的作用，初始化方法__init__，内置函数__str__，__del__，单继承，方法重写，私有属性和方法，多继承，多态，类属性，静态方法。</p>\r\n\r\n<p>然后我们还会学习单例模式这一设计模式，异常的捕获，异常的抛出，from&nbsp;import局部导入，from&nbsp;import导入同名工具， from&nbsp;import导入所有工具，包的使用，制作模块，pip的使用以及文件的相关操作。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>第四阶段（14-15天）</p>\r\n\r\n<p>该阶段是项目演练阶段，我们会带领大家通过使用之前学习过的知识开发飞机大战这一经典游戏，项目中分别有游戏窗口，图像绘制，游戏循环，事件监听，精灵和精灵组以及创建敌机，创建英雄和发射子弹，碰撞检测等模块。</p>\r\n','http://www.askeds.com/server','{\"05-\\u4e0d\\u540c\\u9886\\u57df\\u7684\\u4e3b\\u6d41\\u64cd\\u4f5c\\u7cfb\\u7edf-02-\\u670d\\u52a1\\u5668\\u64cd\\u4f5c\\u7cfb\\u7edf\": \"/medias/video/python/05-\\u4e0d\\u540c\\u9886\\u57df\\u7684\\u4e3b\\u6d41\\u64cd\\u4f5c\\u7cfb\\u7edf-02-\\u670d\\u52a1\\u5668\\u64cd\\u4f5c\\u7cfb\\u7edf.mp4\", \"03-\\u4ec0\\u4e48\\u662f\\u64cd\\u4f5c\\u7cfb\\u7edf\": \"/medias/video/python/03-\\u4ec0\\u4e48\\u662f\\u64cd\\u4f5c\\u7cfb\\u7edf.mp4\", \"04-\\u4e0d\\u540c\\u9886\\u57df\\u7684\\u4e3b\\u6d41\\u64cd\\u4f5c\\u7cfb\\u7edf-01-\\u684c\\u9762\\u64cd\\u4f5c\\u7cfb\\u7edf\": \"/medias/video/python/04-\\u4e0d\\u540c\\u9886\\u57df\\u7684\\u4e3b\\u6d41\\u64cd\\u4f5c\\u7cfb\\u7edf-01-\\u684c\\u9762\\u64cd\\u4f5c\\u7cfb\\u7edf.mp4\", \"01-\\u8bfe\\u7a0b\\u5b89\\u6392\": \"/medias/video/python/01-\\u8bfe\\u7a0b\\u5b89\\u6392.mp4\", \"02-\\u52b1\\u5fd7\\u516c\\u5f0f\\u548cpython\\u4f53\\u9a8c\": \"/medias/video/python/02-\\u52b1\\u5fd7\\u516c\\u5f0f\\u548cpython\\u4f53\\u9a8c.mp4\"}'),(19,'探索OpenStack：计量模块 Ceilometer 介绍','通常云，特别是公有云在计费方面有三个层次：计量 （Metering）： 收集资源的使用数据，其数据信息主要包括：使用对象（what）, 使用者（who）, 使用时间（when）和 用量（how much）。计费 （Rating）：将资源使用数据按照商务规则转化为可计费项目并计算费用结算 （Billing）：收钱开票Ceilometer 的目标是 计量 Metering 方面，为上层的计费、结算或者监控应用提供统一的资源使用数据收集功能。“To provide an infrastructure','','medias/upload_imgss/201712230315302.jpg',7,0,0,'2017-12-23 03:17:54',1,7,1,0,'','/medias/video/ceilometer/ceilometer教程一.mp4',1,'<h1>0. 背景</h1>\r\n\r\n<h3>0.1 为什么要有 Ceilometer？</h3>\r\n\r\n<p>通常云，特别是公有云在计费方面有三个层次：</p>\r\n\r\n<ul>\r\n	<li>计量 （Metering）： 收集资源的使用数据，其数据信息主要包括：使用对象（what）, 使用者（who）, 使用时间（when）和 用量（how much）。</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>计费 （Rating）：将资源使用数据按照商务规则转化为可计费项目并计算费用</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>结算 （Billing）：收钱开票</li>\r\n</ul>\r\n\r\n<p>Ceilometer 的目标是 计量 Metering 方面，为上层的计费、结算或者监控应用提供统一的资源使用数据收集功能。</p>\r\n\r\n<p>&ldquo;To provide an infrastructure to collect any information needed within all OpenStack projects so that rating engines could use this single point to transform events into bill items, which we tagged &ldquo;<strong>metering</strong>&ldquo;.&rdquo;</p>\r\n\r\n<h3>0.2 历史</h3>\r\n\r\n<ul>\r\n	<li>项目开始于2012年四五月份，由 Julien Danjou, Dreamhost 和 Canonical等发起。</li>\r\n	<li>2012年的10月份（Folsom版本），Ceilometer发布了它的v1.0版本，在 第一个版本中，Ceilometer主要实现了对一些重要数据的计量，包括Compute, Network, Memory, CPU, Image, Volume等，并且提供了REST API。</li>\r\n	<li>2013年2月，Ceilometer完成了由Incubation到Integrated的转变，这意味着Ceilometer将作为OpenStack 发行版的一部分而发布。</li>\r\n	<li>Grizzly 中，Ceilometer添加了对 Swift 的支持，增加了SQLAlchemy作为Storage Backend，开发了Multi Publisher， 并且发布了V2版本的API。</li>\r\n	<li>Havana 中，Ceilometer主要增加了 HBase 作为Storage Backend，Alarm功能也基本完成， 并且增加了UDP Publisher 作为取代RPC发送消息的第二选择，更加高效。还增加了DB2作为Storage Backend.</li>\r\n	<li>IceHouse 中，主要是分离collector，增加vmware vcenter server支持等。<a href=\"https://blueprints.launchpad.net/ceilometer/icehouse\" target=\"_blank\">参考链接</a>。</li>\r\n	<li>Juno 中，主要是进行优化（还之前留下的技术债），以及添加Temptest。<a href=\"http://opensource.com/business/14/9/whats-new-openstack-juno\" target=\"_blank\">参考链接。</a></li>\r\n</ul>\r\n\r\n<h2>&nbsp;1. 概念</h2>\r\n\r\n<p>Ceilometer 的主要概念包括：</p>\r\n\r\n<ul>\r\n	<li>Meter：计量项</li>\r\n	<li>Sample：某Resource 某时刻某 Meter 的值</li>\r\n	<li>Statistics：某区间 Samples 的聚合值</li>\r\n	<li>Alarm：某区间 Statistics 满足给定条件后发出的告警</li>\r\n</ul>\r\n\r\n<h3>1.1 Meter</h3>\r\n\r\n<p>资源使用的某个计量项，它的属性包括：名称（name）、单位 （unit）、类型 （cumulative：累计值，delta：变化值、gauge：离散或者波动值）以及对应的资源属性等。</p>\r\n\r\n<p>（1）在&nbsp;<a href=\"http://docs.openstack.org/admin-guide-cloud/content/section_telemetry-measurements.html\" target=\"_blank\">这里</a>&nbsp;可以看到所有的 Ceilometer meter 列表和说明。</p>\r\n\r\n<p>（2）使用CLI &ldquo;ceilometer meter-list&rdquo; 来获取所有的meters。例如：</p>\r\n\r\n<p>s1@controller:~$ ceilometer meter-list<br />\r\n+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+<br />\r\n| Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Unit&nbsp;&nbsp;&nbsp;&nbsp; | Resource ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | User ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Project ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />\r\n+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+<br />\r\n| cpu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | cumulative | ns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 440e4e2c-f255-43b3-8150-c6bc6b061ef7 &nbsp; | 1dc0db32a936496ebfc50be54924a7cc | fa2046aaead44a698de8268f94759fc1 |<br />\r\n| cpu_util&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | gauge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 440e4e2c-f255-43b3-8150-c6bc6b061ef7 &nbsp; | 1dc0db32a936496ebfc50be54924a7cc | fa2046aaead44a698de8268f94759fc1 |<br />\r\n| cpu_util&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | gauge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 49618cae-dd28-41a0-ae97-e98899d717eb | 8f4f734443674afcbbb57b9909d5a07f &nbsp;| d6feddb5279a42f4854b93a729470448 |<br />\r\n| image&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | gauge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | image &nbsp; | 1e7b0a5a-7b78-4673-8d56-3abff7b491ae &nbsp;| None &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| fa2046aaead44a698de8268f94759fc1 |</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>tips：</p>\r\n\r\n<p>（a）meter 列表结果和被计量对象关联。该CLI只列出的当前存在的计量对象的meter 列表。</p>\r\n\r\n<p>（b）meter 列表结果和 samples 关联。没有 samples 的meter 不出现在列表中。</p>\r\n\r\n<h3>1.2 Sample</h3>\r\n\r\n<p>某时刻某个 resource 的某个 meter 的值。Sample 的收集有区间概念，即收集数据的时间间隔。它的属性出了meter属性外，还有 timestampe（采样时间）和 Volume （采样值）。</p>\r\n\r\n<p>s1@controller:~$ ceilometer sample-list -m cpu_util<br />\r\n+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;-+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+<br />\r\n| Resource ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Name &nbsp; &nbsp; | Type &nbsp; | Volume &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Unit | Timestamp |<br />\r\n+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;-+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>\r\n\r\n<p>| 631507ed-598c-4e6d-8582-9fd7490e7805 | cpu_util | gauge | 22.5263157895 | % | 2015-03-29T13:22:10 |<br />\r\n| 49618cae-dd28-41a0-ae97-e98899d717eb | cpu_util | gauge | 0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | % | 2015-03-29T13:22:10 |<br />\r\n| 631507ed-598c-4e6d-8582-9fd7490e7805 | cpu_util | gauge | 21.85 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | % | 2015-03-29T13:21:51 |</p>\r\n\r\n<h3>1.3&nbsp;Statistics</h3>\r\n\r\n<p>一个时间段（Period）内的 samples 聚合值，包括计数（Count）、最大（Max）、最小（Min）、平均 （Avg）、求和（Sum）等。例如：</p>\r\n\r\n<p>s1@controller:~$ ceilometer statistics -m cpu -p 10000000<br />\r\n+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&mdash;-+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+<br />\r\n| Period &nbsp; &nbsp; &nbsp;| Period Start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Period End &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Max | Min | Avg | Sum | Count | Duration | Duration Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Duration End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />\r\n+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&mdash;-+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+<br />\r\n| 10000000 | 2015-03-29T05:56:38 | 2046-12-05T07:43:18 | 0.0 | 0.0 | 0.0 | 0.0 | 17&nbsp;&nbsp;&nbsp; | 11273.0&nbsp; | 2015-03-29T05:56:38 | 2015-03-29T09:04:31 |<br />\r\n+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&ndash;+&mdash;&mdash;-+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>\r\n\r\n<p>&nbsp;这里的Period表示当前该查询的区间，使用 -p 参数指定；Duration 表示 samples 的区间。</p>\r\n\r\n<h3>1.4 Alarm：告警</h3>\r\n\r\n<p>在 Havana 版本中引入。<a href=\"http://docs.openstack.org/admin-guide-cloud/content/section_telemetry-alarms.html\" target=\"_blank\">参考文档</a></p>\r\n\r\n<h4>1.4.1&nbsp;<strong>类型</strong></h4>\r\n\r\n<p>Alarm 包括 threshold alarm （阈值告警）和 combination （组合告警）两种类型。</p>\r\n\r\n<ul>\r\n	<li>Threshold alarm&nbsp;根据监控指标的阈值去判断alarm的状态，它只是针对某一个监控指标建立alarm。它包括几个要素：\r\n	<ul>\r\n		<li>一个静态阈值和比较方法 （a&nbsp;<em>static</em>&nbsp;threshold value &amp; comparison operator）</li>\r\n		<li>指定的 meter statistic （against which a selected meter statistic is compared）</li>\r\n		<li>比较的时间窗 （over an evaluation window of configurable length into the recent past.）</li>\r\n	</ul>\r\n	</li>\r\n	<li>Combination alarm&nbsp;根据多个alarm的状态来判断自己的状态的，多个alarm之间是or/and的关系，这相当于是对多个监控指标建立了一个alarm。比如：</li>\r\n</ul>\r\n\r\n<pre>\r\n$ ceilometer alarm-combination-create --name meta \\\r\n  --alarm_ids <em><code>ALARM_ID1</code></em> \\\r\n  --alarm_ids <em><code>ALARM_ID2</code></em> \\\r\n  --operator or \\\r\n  --alarm-action &#39;http://example.org/notify&#39;</pre>\r\n\r\n<h4>1.4.2&nbsp;<strong>CLI</strong></h4>\r\n\r\n<p>Ceilometer Alarm CLI 支持一下Alarm的操作：</p>\r\n\r\n<ul>\r\n	<li>create：[POST ] /alarms</li>\r\n	<li>list： [GET ] /alarms</li>\r\n	<li>get：[GET ] /alarms/&lt;alarm&gt;</li>\r\n	<li>update：[PUT ] /alarms/&lt;alarm&gt;</li>\r\n	<li>delete：[DELETE] /alarms/&lt;alarm&gt;</li>\r\n	<li>histroy：GET /v2/alarms/{alarm_id}/history</li>\r\n</ul>\r\n\r\n<p>使用 CLI 创建一个名为 &ldquo;cpu_high&rdquo; 的 Threshold Alarm &ldquo;当连续 3 个 10 分钟内 某 instance 的 cpu_util 值超过70 的时候产告警，并其内容被写入日志文件&rdquo;：</p>\r\n\r\n<p>ceilometer alarm-threshold-create &ndash;name cpu_high &ndash;description &lsquo;instance running hot&rsquo;&nbsp; &ndash;meter-name cpu_util&nbsp; &ndash;threshold 70.0 &ndash;comparison-operator gt&nbsp; &ndash;statistic avg &ndash;period 600 &ndash;evaluation-periods 3 &ndash;alarm-action &lsquo;log://&rsquo; &ndash;query resource_id=INSTANCE_ID</p>\r\n\r\n<ul>\r\n	<li>name: 告警名称</li>\r\n	<li>meter-name：meter 名称</li>\r\n	<li>threshold: 阈值</li>\r\n	<li>comparison_operator: 这个参数确定了怎么和阈值进行比较，有6个可选：lt, le, eq, ne, ge, gt，默认是eq</li>\r\n	<li>statistic: 这个参数确定了使用什么数据去和 threshold 比较，有5种可选：max, min, avg, sum, count，默认是avg</li>\r\n	<li>period: 这个参数其实有两个作用，一个是确定了获取该监控指标的监控数据的时间范围，和下面的 evaluation_periods 配合使用，另外一个作用就是它确定了两个点之间的时间间隔，默认是60s</li>\r\n	<li>evaluation_periods: 表示连续的监控间隔数目。和 period 参数相乘，可以确定获取监控数据的时间范围，默认是1。</li>\r\n	<li>alarm-action：告警产生后的反应。</li>\r\n	<li>query: 该参数一般用于过滤到监控指标下的某个资源，默认是[]</li>\r\n</ul>\r\n\r\n<h4>1.4.3 Alarm 的<strong>状态</strong></h4>\r\n\r\n<ul>\r\n	<li>ALARM （告警状态）：</li>\r\n</ul>\r\n\r\n<p>{&ldquo;current&rdquo;: &ldquo;alarm&rdquo;, &ldquo;alarm_id&rdquo;: &ldquo;742873f0-97f0-4d99-87da-b5f7c7829b7f&rdquo;, &ldquo;reason&rdquo;: &ldquo;<strong>Remaining as alarm due to 1 samples outside threshold</strong>, most recent: 0.138333333333&Prime;, &ldquo;previous&rdquo;: &ldquo;alarm&rdquo;}</p>\r\n\r\n<ul>\r\n	<li>OK （数据充足，未告警）：</li>\r\n</ul>\r\n\r\n<p>{&ldquo;current&rdquo;: &ldquo;ok&rdquo;, &ldquo;alarm_id&rdquo;: &ldquo;742873f0-97f0-4d99-87da-b5f7c7829b7f&rdquo;, &ldquo;reason&rdquo;: &ldquo;<strong>Remaining as ok due to 1 samples inside threshold</strong>, most recent: 0.138333333333&Prime;, &ldquo;previous&rdquo;: &ldquo;ok&rdquo;}</p>\r\n\r\n<ul>\r\n	<li>Insufficient Data （默认状态 &ndash; 数据不足）：</li>\r\n</ul>\r\n\r\n<p>{&ldquo;current&rdquo;: &ldquo;insufficient data&rdquo;, &ldquo;alarm_id&rdquo;: &ldquo;742873f0-97f0-4d99-87da-b5f7c7829b7f&rdquo;, &ldquo;reason&rdquo;: &ldquo;<strong>1 datapoints are unknown</strong>&ldquo;, &ldquo;previous&rdquo;: &ldquo;ok&rdquo;}</p>\r\n\r\n<h4>1.4.4 Alarm&nbsp;<strong>Action</strong></h4>\r\n\r\n<p>使用Ceilometer&nbsp;alarm-threshold/combination-create CLI 的如下属性来为不同状态的下的 Alarm 定义不同的 Action：</p>\r\n\r\n<ul>\r\n	<li>&ndash;ok-action</li>\r\n	<li>&ndash;alarm-action</li>\r\n	<li>&ndash;insufficient-data-action</li>\r\n</ul>\r\n\r\n<p>Ceilometer 支持两种Action：</p>\r\n\r\n<ul>\r\n	<li>&lsquo;log://&rsquo;：Alarm 被写入 Log 文件</li>\r\n	<li>Webhook URL： 这是一个&nbsp;HTTP(S) endpoint 的URL，例如 &lsquo;http://130.56.250.199:8080/alarm/instances_TOO_MANY&rsquo;。Alarm 的内容会以 JSON 的格式被 POST 到该URL 中。</li>\r\n</ul>\r\n','http://www.askeds.com/server','{\"ceilometer\\u6559\\u7a0b\\u4e03\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u4e03.mp4\", \"ceilometer\\u6559\\u7a0b\\u516d\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u516d.mp4\", \"ceilometer\\u6559\\u7a0b\\u4e94\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u4e94.mp4\", \"ceilometer\\u6559\\u7a0b\\u4e09\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u4e09.mp4\", \"ceilometer\\u6559\\u7a0b\\u4e00\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u4e00.mp4\", \"ceilometer\\u6559\\u7a0b\\u4e8c\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u4e8c.mp4\", \"ceilometer\\u6559\\u7a0b\\u56db\": \"/medias/video/ceilometer/ceilometer\\u6559\\u7a0b\\u56db.mp4\"}'),(20,'docker安装','私有环境安装 Docker 公有环境安装 Docker 配置国内镜像仓库 ','','medias/upload_imgss/201712240717511.jpeg',2,0,0,'2017-12-24 07:21:30',2,1,1,0,'','/medias/video/dockerstart/docker安装.mp4',1,'<p>本文在CentsOS下安装Docker</p>\r\n\r\n<p>1.安装前准备工作</p>\r\n\r\n<p>系统要求：</p>\r\n\r\n<p>在CentOS下需要64位的CentsOS 7</p>\r\n\r\n<p>&nbsp; OS requirements</p>\r\n\r\n<p>To install Docker, you need the 64-bit version of CentOS 7.</p>\r\n\r\n<p>&nbsp; 需要删除非官方的Docker Package</p>\r\n\r\n<p>由于 Red Hat 操作系统包含了一个旧版本的 Dcoker，使用docker代替 docker-engine,如果想使用官方版本需要执行删除语句</p>\r\n\r\n<p>$ sudo yum -y remove docker docker-common container-selinux<br />\r\n&nbsp; 注意:如果在新装的系统中 使用sudo提示：</p>\r\n\r\n<p>用户名 不在 sudoers 文件中。此事将被报告。<br />\r\n为了解释这个问题，先来说说sudo。</p>\r\n\r\n<p>sudo命令可以让你以root身份执行命令，来完成一些我们这个帐号完成不了的任务。</p>\r\n\r\n<p>其实并非所有用户都能够执行sudo，因为有权限的用户都在/etc/sudoers中呢。</p>\r\n\r\n<p>我们可以通过编辑器来打开/etc/sudoers，或者直接使用命令visudo来搞定这件事情。</p>\r\n\r\n<p>打开sudoers后，像如下那样加上自己的帐号保存后就可以了。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p># User privilege specification&nbsp;&nbsp;<br />\r\nroot&nbsp; &nbsp; ALL=(ALL:ALL) ALL&nbsp;&nbsp;<br />\r\nlinc&nbsp; &nbsp; ALL=(ALL:ALL) ALL&nbsp;&nbsp;<br />\r\nsudoers的权限是0440，即只有root才能读。在你用root或sudo后强行保存（wq!）即可。</p>\r\n\r\n<p>需要使用如下语句删除与官方包 docker-engine 可能有冲突的 docker-selinux</p>\r\n\r\n<p>$ sudo yum -y remove docker-selinux<br />\r\n当CentOS7时你的内核必须不小于3.10</p>\r\n\r\n<p>2. 安装 Docker</p>\r\n\r\n<p>安装 Docker常用两种方式：</p>\r\n\r\n<p>2.1 使用官方推荐的方式，更容易进行安装和升级操作</p>\r\n\r\n<p>2.1.1 安装 yum-utils</p>\r\n\r\n<p>$ sudo yum install -y yum-utils</p>\r\n\r\n<p>2.1.2 使用如下的命令设置稳定版的 repository</p>\r\n\r\n<p>$ sudo yum-config-manager \\<br />\r\n--add-repo \\<br />\r\nhttps://docs.docker.com/engine/installation/linux/repo_files/centos/docker.repo<br />\r\n&nbsp; 注意：不要使用不稳定的版本仓库在生产环境或非测试环境中。如果同时拥有稳定的仓库和非稳定的仓库，在使用 yum install或者yum update 在没有指定特定版本的前提下进行安装或升级操作，需要注意大多数情况下获取的是最高的版本，并且极有可能是不稳定的版本。</p>\r\n\r\n<p>2.1.3 可以使用如下命令开启或关闭 测试仓库</p>\r\n\r\n<p>$ sudo yum-config-manager --enable docker-testing</p>\r\n\r\n<p><br />\r\n$ sudo yum-config-manager --disable docker-testing</p>\r\n\r\n<p><br />\r\n&nbsp; 2.1.4 更新yum</p>\r\n\r\n<p>$ sudo yum makecache fast</p>\r\n\r\n<p><br />\r\n2.1.5 安装最新版本或指定版本的docker</p>\r\n\r\n<p>在安装前执行以下操作：</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>复制代码<br />\r\n$&nbsp; sudo vim /etc/yum.repos.d/docker.repo</p>\r\n\r\n<p>## 在vim编辑器中输入以下内容后保存</p>\r\n\r\n<p>[dockerrepo]<br />\r\nname=Docker Repository<br />\r\nbaseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/<br />\r\nenabled=1<br />\r\ngpgcheck=1<br />\r\ngpgkey=https://yum.dockerproject.org/gpg</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><br />\r\n可以使用如下命令安装最新版本的docker</p>\r\n\r\n<p>$ sudo yum -y install docker-engine</p>\r\n\r\n<p><br />\r\n安装特定版本的 docker&nbsp;</p>\r\n\r\n<p>可以使用如下命令列出所有的 .x86_64 版本</p>\r\n\r\n<p>$ yum list docker-engine.x86_64&nbsp; --showduplicates |sort -r</p>\r\n\r\n<p><br />\r\ndocker-engine.x86_64&nbsp; 1.13.0-1.el7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;docker-main<br />\r\ndocker-engine.x86_64&nbsp; 1.12.5-1.el7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;docker-main&nbsp; &nbsp;<br />\r\ndocker-engine.x86_64&nbsp; 1.12.4-1.el7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;docker-main&nbsp; &nbsp;<br />\r\ndocker-engine.x86_64&nbsp; 1.12.3-1.el7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;docker-main&nbsp; &nbsp;<br />\r\n...</p>\r\n\r\n<p><br />\r\n安装特定版本的 dcoker</p>\r\n\r\n<p>$ sudo yum -y install docker-engine-&lt;VERSION_STRING&gt;<br />\r\n[root@bogon package]# yum -y install docker-engine-1.13.1-1.el7.centos&nbsp;</p>\r\n\r\n<p><br />\r\n2.2 使用rpm 包的方式进行安装</p>\r\n\r\n<p>2.2.1 可以从 https://yum.dockerproject.org/repo/main/centos/ 中选择合适的CentsOS版本 下载 rpm包 注意stable&nbsp; 和 testing</p>\r\n\r\n<p>2.2.2 安装 docker</p>\r\n\r\n<p>$ sudo yum -y install /path/to/package.rpm<br />\r\n&nbsp; 使用这种方式可能需要手动处理依赖问题。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>3.启动 Docker</p>\r\n\r\n<p>$ sudo systemctl start docker</p>\r\n\r\n<p><br />\r\n&nbsp; 可以运行hello-world 镜像 验证是否安装正确</p>\r\n\r\n<p>$ sudo docker run hello-world</p>\r\n\r\n<p><br />\r\n4. 删除 Docker</p>\r\n\r\n<p>4.1 移除 docker</p>\r\n\r\n<p>$ sudo yum -y remove docker-engine</p>\r\n\r\n<p><br />\r\n4.2 删除 docker 相关目录文件(安装docker 后在 /var/lib/docker 目录下包含 images，containers, volumes和自定义的配置文件，这些文件必须手动删除。)</p>\r\n\r\n<p>$ sudo rm -rf /var/lib/docker</p>\r\n','http://www.askeds.com/server','{\"docker\\u5b89\\u88c5\": \"/medias/video/dockerstart/docker\\u5b89\\u88c5.mp4\", \"\\u914d\\u7f6e\\u56fd\\u5185\\u955c\\u50cf\\u4ed3\\u5e93\": \"/medias/video/dockerstart/\\u914d\\u7f6e\\u56fd\\u5185\\u955c\\u50cf\\u4ed3\\u5e93.mp4\", \"\\u516c\\u6709\\u73af\\u5883\\u5b89\\u88c5docker\": \"/medias/video/dockerstart/\\u516c\\u6709\\u73af\\u5883\\u5b89\\u88c5docker.mp4\"}'),(36,'Python 面向对象编程','这是一门介绍Python的面向对象编程的的课程，通过本课程的学习，让你能熟练运用Python语言通过面向对象编程，并运用其面向对象特性，以高效率的方式完成编程项目程序。','','upload_imgss/20180104180617timg.jpg',0,0,0,'2018-01-04 10:07:01',3,2,1,0,'','/medias/video/python对象编程介绍/1.面向对象编程课程简介.mp4',1,'<h1>&nbsp;</h1>\r\n\r\n<p>这是一门介绍Python的面向对象编程的的课程，通过本课程的学习，让你能熟练运用Python语言通过面向对象编程，并运用其面向对象特性，以高效率的方式完成编程项目程序。</p>\r\n','http://www.askeds.com/server','{\"2.面向对象与面向过程\": \"/medias/video/python\\u5bf9\\u8c61\\u7f16\\u7a0b\\u4ecb\\u7ecd/2.\\u9762\\u5411\\u5bf9\\u8c61\\u4e0e\\u9762\\u5411\\u8fc7\\u7a0b.mp4\", \"1.面向对象编程课程简介\": \"/medias/video/python\\u5bf9\\u8c61\\u7f16\\u7a0b\\u4ecb\\u7ecd/1.\\u9762\\u5411\\u5bf9\\u8c61\\u7f16\\u7a0b\\u8bfe\\u7a0b\\u7b80\\u4ecb.mp4\"}'),(43,'一分钟了解云计算','一分钟了解云计算,介绍云计算的发展与作用','','upload_imgss/20180105134714timg%20(1).jpg',1,0,0,'2018-01-05 05:48:03',1,15,1,0,'','/medias/video/20180105134802/一分钟了解云计算/1.什么是云.mp4',1,'<p>云计算三个概念 &nbsp;</p>\r\n\r\n<p>如果你是一个网站站长，想要建立一个网站。不采用云服务，你所需要的投入大概是：买服务器，安装服务器软件，编写网站程序。<br />\r\n现在你追随潮流，采用流行的云计算，<br />\r\n如果你采用IaaS服务，那么意味着你就不用自己买服务器了，随便在哪家购买虚拟机，但是还是需要自己装服务器软件<br />\r\n而如果你采用PaaS的服务，那么意味着你既不需要买服务器，也不需要自己装服务器软件，只需要自己开发网站程序<br />\r\n如果你再进一步，购买某些在线论坛或者在线网店的服务,这意味着你也不用自己开发网站程序，只需要使用它们开发好的程序，而且他们会负责程序的升级、维护、增加服务器等，而你只需要专心运营即可，此即为SaaS。</p>\r\n\r\n<p><br />\r\n<br />\r\n作者：John Wang<br />\r\n链接：https://www.zhihu.com/question/20387284/answer/28514161<br />\r\n来源：知乎<br />\r\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>\r\n','http://www.askeds.com/server','{\"3.\\u4e91\\u8ba1\\u7b97\\u53ef\\u4ee5\\u505a\\u4ec0\\u4e48\": \"/medias/video/20180105134802/\\u4e00\\u5206\\u949f\\u4e86\\u89e3\\u4e91\\u8ba1\\u7b97/3.\\u4e91\\u8ba1\\u7b97\\u53ef\\u4ee5\\u505a\\u4ec0\\u4e48.mp4\", \"4.\\u521b\\u4e1a\\u516c\\u53f8\\u5982\\u4f55\\u5728\\u4e91\\u4e0a\\u5feb\\u901f\\u9a8c\\u8bc1\\u5546\\u4e1a\\u6a21\\u5f0f\\uff1f\": \"/medias/video/20180105134802/\\u4e00\\u5206\\u949f\\u4e86\\u89e3\\u4e91\\u8ba1\\u7b97/4.\\u521b\\u4e1a\\u516c\\u53f8\\u5982\\u4f55\\u5728\\u4e91\\u4e0a\\u5feb\\u901f\\u9a8c\\u8bc1\\u5546\\u4e1a\\u6a21\\u5f0f\\uff1f.mp4\", \"5.\\u4e91\\u670d\\u52a1\\u7684\\u9009\\u578b\": \"/medias/video/20180105134802/\\u4e00\\u5206\\u949f\\u4e86\\u89e3\\u4e91\\u8ba1\\u7b97/5.\\u4e91\\u670d\\u52a1\\u7684\\u9009\\u578b.mp4\", \"1.\\u4ec0\\u4e48\\u662f\\u4e91\": \"/medias/video/20180105134802/\\u4e00\\u5206\\u949f\\u4e86\\u89e3\\u4e91\\u8ba1\\u7b97/1.\\u4ec0\\u4e48\\u662f\\u4e91.mp4\", \"2.\\u4e3a\\u4ec0\\u4e48\\u8bf4\\u4e91\\u8ba1\\u7b97\\u662f\\u672a\\u6765\\u7684\\u6280\\u672f\\u8d8b\\u52bf\": \"/medias/video/20180105134802/\\u4e00\\u5206\\u949f\\u4e86\\u89e3\\u4e91\\u8ba1\\u7b97/2.\\u4e3a\\u4ec0\\u4e48\\u8bf4\\u4e91\\u8ba1\\u7b97\\u662f\\u672a\\u6765\\u7684\\u6280\\u672f\\u8d8b\\u52bf.mp4\"}'),(50,'在混合云模式中现代化您的微软应用程序 ','1.AWS上的微软应用程序简介2.如何充分利用微软应用程序3.将应用程序迁移到AWS上4.使用AWS的混合云部署和许可注意事项5.可在迁移过程为您提供的工具和服务 ','','upload_imgss/20180105145715timg.jpg',1,0,0,'2018-01-05 06:58:43',3,20,1,0,'','/medias/video/20180105145842/1.AWS上的微软应用程序简介.mp4',1,'<p><strong>核心内容：</strong>&nbsp;<br />\r\n1.AWS上的微软应用程序简介<br />\r\n2.如何充分利用微软应用程序<br />\r\n3.将应用程序迁移到AWS上<br />\r\n4.使用AWS的混合云部署和许可注意事项<br />\r\n5.可在迁移过程为您提供的工具和服务&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>AWS云计算环境&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>否&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>中级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\n系统管理人员、系统开发人员、 解决方案架构师、解决方案设计工程师</p>\r\n','http://www.askeds.com/server','{\"1.AWS\\u4e0a\\u7684\\u5fae\\u8f6f\\u5e94\\u7528\\u7a0b\\u5e8f\\u7b80\\u4ecb\": \"/medias/video/20180105145842/1.AWS\\u4e0a\\u7684\\u5fae\\u8f6f\\u5e94\\u7528\\u7a0b\\u5e8f\\u7b80\\u4ecb.mp4\", \"3 \\u5c06\\u5e94\\u7528\\u7a0b\\u5e8f\\u8fc1\\u79fb\\u5230AWS\\u4e0a\": \"/medias/video/20180105145842/3 \\u5c06\\u5e94\\u7528\\u7a0b\\u5e8f\\u8fc1\\u79fb\\u5230AWS\\u4e0a.mp4\", \"5 \\u53ef\\u5728\\u8fc1\\u79fb\\u8fc7\\u7a0b\\u4e3a\\u60a8\\u63d0\\u4f9b\\u7684\\u5de5\\u5177\\u548c\\u670d\\u52a1\": \"/medias/video/20180105145842/5 \\u53ef\\u5728\\u8fc1\\u79fb\\u8fc7\\u7a0b\\u4e3a\\u60a8\\u63d0\\u4f9b\\u7684\\u5de5\\u5177\\u548c\\u670d\\u52a1.mp4\", \"4 \\u4f7f\\u7528AWS\\u7684\\u6df7\\u5408\\u4e91\\u90e8\\u7f72\\u548c\\u8bb8\\u53ef\\u6ce8\\u610f\\u4e8b\\u9879\": \"/medias/video/20180105145842/4 \\u4f7f\\u7528AWS\\u7684\\u6df7\\u5408\\u4e91\\u90e8\\u7f72\\u548c\\u8bb8\\u53ef\\u6ce8\\u610f\\u4e8b\\u9879.mp4\", \"2 \\u5982\\u4f55\\u5145\\u5206\\u5229\\u7528\\u5fae\\u8f6f\\u5e94\\u7528\\u7a0b\\u5e8f\": \"/medias/video/20180105145842/2 \\u5982\\u4f55\\u5145\\u5206\\u5229\\u7528\\u5fae\\u8f6f\\u5e94\\u7528\\u7a0b\\u5e8f.mp4\"}'),(51,'CloudStack 基础安装与配置 ','CloudStack 是成熟的云管理平台，拥有大量的公有云和私有云的用户，包括电信运营商、云服务提供商、跨国大型企业和大学等重量级用户。CloudStack 是 Apache 的开源项目之一，同时也有商业发行版 CloudPlatform。CloudStack 正在快速健康地发展，对于人才需求日益增加，此课程可帮助刚进初学者认识及使用 CloudStack。','','upload_imgss/20180105150750timg.jpg',0,0,0,'2018-01-05 07:10:01',6,21,1,0,'','/medias/video/20180105150959/1 CloudStack 简介.mp4',1,'<p><strong>课程背景：</strong></p>\r\n\r\n<p>CloudStack 是成熟的云管理平台，拥有大量的公有云和私有云的用户，包括电信运营商、云服务提供商、跨国大型企业和大学等重量级用户。CloudStack 是 Apache 的开源项目之一，同时也有商业发行版 CloudPlatform。CloudStack 正在快速健康地发展，对于人才需求日益增加，此课程可帮助刚进初学者认识及使用 CloudStack。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>核心内容：</strong></p>\r\n\r\n<p>1. CloudStack 简介<br />\r\n2. CloudStack 管理节点的准备工作<br />\r\n3. CloudStack 管理节点的安装<br />\r\n4. NFS 存储节点的配置<br />\r\n5. XenServer 计算节点的安装与配置<br />\r\n6. CloudStack 基本区域的创建与配置<br />\r\n7. CloudStack 高级区域的创建与配置</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>软件环境：</strong>CentOS 6.4, CloudStack 4.4, XenServer 6.2</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>是否提供资料：</strong>是</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>课程等级：</strong>初级</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>适合人群：</strong></p>\r\n\r\n<p>具备一定 Linux、网络、存储基础的开发者</p>\r\n','http://www.askeds.com/server','{\"6 CloudStack \\u57fa\\u672c\\u533a\\u57df\\u7684\\u521b\\u5efa\\u4e0e\\u914d\\u7f6e\": \"/medias/video/20180105150959/6 CloudStack \\u57fa\\u672c\\u533a\\u57df\\u7684\\u521b\\u5efa\\u4e0e\\u914d\\u7f6e.mp4\", \"3 CloudStack \\u7ba1\\u7406\\u8282\\u70b9\\u7684\\u5b89\\u88c5\\u4e0e\\u914d\\u7f6e\": \"/medias/video/20180105150959/3 CloudStack \\u7ba1\\u7406\\u8282\\u70b9\\u7684\\u5b89\\u88c5\\u4e0e\\u914d\\u7f6e.mp4\", \"1 CloudStack \\u7b80\\u4ecb\": \"/medias/video/20180105150959/1 CloudStack \\u7b80\\u4ecb.mp4\", \"4 NFS \\u5b58\\u50a8\\u8282\\u70b9\\u7684\\u914d\\u7f6e\": \"/medias/video/20180105150959/4 NFS \\u5b58\\u50a8\\u8282\\u70b9\\u7684\\u914d\\u7f6e.mp4\", \"2 CloudStack \\u7ba1\\u7406\\u8282\\u70b9\\u7684\\u51c6\\u5907\\u5de5\\u4f5c\": \"/medias/video/20180105150959/2 CloudStack \\u7ba1\\u7406\\u8282\\u70b9\\u7684\\u51c6\\u5907\\u5de5\\u4f5c.mp4\", \"5 XenServer \\u8ba1\\u7b97\\u8282\\u70b9\\u7684\\u5b89\\u88c5\\u4e0e\\u914d\\u7f6e\": \"/medias/video/20180105150959/5 XenServer \\u8ba1\\u7b97\\u8282\\u70b9\\u7684\\u5b89\\u88c5\\u4e0e\\u914d\\u7f6e.mp4\"}'),(52,'在云端构建完整的企业级 IT 系统 ','青云 QingCloud 是全球首家资源秒级响应并按秒计费的基础云服务商，致力于为企业用户提供安全可靠、性能卓越、按需、实时 IT 资源交付平台。其服务包括：主机、磁盘、网络、弹性公网 IP、负载均衡器、防火墙、映像、备份和 SSH 密钥等，覆盖了 IT 基础设施层所需的各个组件。QingCloud 采用分布式块存储系统确保高性能 IO，部署实时异地副本保障数据安全，通过云端 SDN 实现灵活易用的专享私有云服务（VPC），提供块设备级的在线备份与恢复，设计实时 P2P 机器人社区协作确保故障无害，并无限制','','upload_imgss/20180105151614timg.jpg',1,0,0,'2018-01-05 07:17:58',6,22,1,0,'','/medias/video/20180105151757/1 当前大多数用户对云计算认识的误区.mp4',1,'<p><strong>课程背景：</strong>&nbsp;<br />\r\n青云 QingCloud 是全球首家资源秒级响应并按秒计费的基础云服务商，致力于为企业用户提供安全可靠、性能卓越、按需、实时 IT 资源交付平台。其服务包括：主机、磁盘、网络、弹性公网 IP、负载均衡器、防火墙、映像、备份和 SSH 密钥等，覆盖了 IT 基础设施层所需的各个组件。QingCloud 采用分布式块存储系统确保高性能 IO，部署实时异地副本保障数据安全，通过云端 SDN 实现灵活易用的专享私有云服务（VPC），提供块设备级的在线备份与恢复，设计实时 P2P 机器人社区协作确保故障无害，并无限制开放全部功能 API。&nbsp;<br />\r\n<br />\r\n<strong>核心内容：</strong>&nbsp;<br />\r\n1.完整的云计算基础资源组件<br />\r\n2.搭建私有网络 VxNet<br />\r\n3.IT 系统的水平扩展<br />\r\n4.实现混合组网<br />\r\n5.系统如何更加健壮与安全&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>非 IE 的浏览器&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>是&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>中级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\n企业 IT 和运维工程师、架构师、管理员、决策者</p>\r\n','http://www.askeds.com/server','{\"4 \\u7531\\u6d45\\u5165\\u6df1\\u4ecb\\u7ecd\\u51e0\\u79cd\\u5178\\u578b\\u7684\\u7f51\\u7edc\\u62d3\\u6251\": \"/medias/video/20180105151757/4 \\u7531\\u6d45\\u5165\\u6df1\\u4ecb\\u7ecd\\u51e0\\u79cd\\u5178\\u578b\\u7684\\u7f51\\u7edc\\u62d3\\u6251.mp4\", \"2 QingCloud \\u7684\\u4e91\\u8ba1\\u7b97\\u7406\\u5ff5\": \"/medias/video/20180105151757/2 QingCloud \\u7684\\u4e91\\u8ba1\\u7b97\\u7406\\u5ff5.mp4\", \"6 \\u5728\\u4e1a\\u52a1\\u7cfb\\u7edf\\u8bbe\\u8ba1\\u65b9\\u9762\\u7684\\u5efa\\u8bae\": \"/medias/video/20180105151757/6 \\u5728\\u4e1a\\u52a1\\u7cfb\\u7edf\\u8bbe\\u8ba1\\u65b9\\u9762\\u7684\\u5efa\\u8bae.mp4\", \"1 \\u5f53\\u524d\\u5927\\u591a\\u6570\\u7528\\u6237\\u5bf9\\u4e91\\u8ba1\\u7b97\\u8ba4\\u8bc6\\u7684\\u8bef\\u533a\": \"/medias/video/20180105151757/1 \\u5f53\\u524d\\u5927\\u591a\\u6570\\u7528\\u6237\\u5bf9\\u4e91\\u8ba1\\u7b97\\u8ba4\\u8bc6\\u7684\\u8bef\\u533a.mp4\", \"7 \\u5b89\\u5168\\u95ee\\u9898\\u4e0e\\u9632\\u8303\": \"/medias/video/20180105151757/7 \\u5b89\\u5168\\u95ee\\u9898\\u4e0e\\u9632\\u8303.mp4\", \"3 QingCloud IaaS \\u5c42\\u63d0\\u4f9b\\u7684\\u5404\\u7c7b\\u8d44\\u6e90\\u7ec4\\u4ef6\\u4ecb\\u7ecd\": \"/medias/video/20180105151757/3 QingCloud IaaS \\u5c42\\u63d0\\u4f9b\\u7684\\u5404\\u7c7b\\u8d44\\u6e90\\u7ec4\\u4ef6\\u4ecb\\u7ecd.mp4\", \"5 \\u6f14\\u793a\\u73af\\u8282 Demo\": \"/medias/video/20180105151757/5 \\u6f14\\u793a\\u73af\\u8282 Demo.mp4\"}'),(53,'云计算基础知识','Docker入门与实践由精灵云出品，精灵云是国内第一批从事容器云平台的公司，本课程的几位讲师均为国内顶级docker技术专家且为docker及docker相关项目贡献者。讲师介绍：晏东：阿里云栖社区首席Docker技术专家，曾任Symantec/Veritas云计算及信息安全研究院中国区首席架构师，全球Top-talent，师从Veritas联合创始人兼Symantec首席科学家Ron Karr，从事分布式系统研发11年。Veritas中国区获得美国专利第一人，同时拥有10余项国内和美国专利，全球专利评','','upload_imgss/2018010515275464018&fm=27&gp=0.jpg',1,0,0,'2018-01-05 07:29:40',2,1,1,0,'','/medias/video/20180105152940/1 Docker 基础知识.mp4',1,'<p><strong>课程背景：</strong>&nbsp;<br />\r\nDocker入门与实践由精灵云出品，精灵云是国内第一批从事容器云平台的公司，本课程的几位讲师均为国内顶级docker技术专家且为docker及docker相关项目贡献者。讲师介绍：<br />\r\n晏东：<br />\r\n阿里云栖社区首席Docker技术专家，曾任Symantec/Veritas云计算及信息安全研究院中国区首席架构师，全球Top-talent，师从Veritas联合创始人兼Symantec首席科学家Ron Karr，从事分布式系统研发11年。Veritas中国区获得美国专利第一人，同时拥有10余项国内和美国专利，全球专利评审委员会委员。曾以公司代表身份，主导华为赛门铁克存储产品线的软件OEM交付工作。进入Veritas之前，曾任索贝数码文件系统及存储研究室资深架构师，以创始人身份研发出国内第一款商用SAN文件系统-FiShare及高可用中间件-FiSEC，填补了国内在商用分布式集群系统领域的空白。&nbsp;<br />\r\n<br />\r\n<strong>核心内容：</strong>&nbsp;<br />\r\n1.docker hello world<br />\r\n2.虚拟化技术介绍<br />\r\n3.云计算基础知识&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>linux&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>是&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>中级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\n中高级开发人员、测试人员、运维人员</p>\r\n','http://www.askeds.com/server','{\"1 Docker \\u57fa\\u7840\\u77e5\\u8bc6\": \"/medias/video/20180105152940/1 Docker \\u57fa\\u7840\\u77e5\\u8bc6.mp4\", \"2 \\u865a\\u62df\\u5316\\u6280\\u672f\": \"/medias/video/20180105152940/2 \\u865a\\u62df\\u5316\\u6280\\u672f.mp4\", \"3 \\u4e91\\u8ba1\\u7b97\\u57fa\\u7840\\u77e5\\u8bc6\": \"/medias/video/20180105152940/3 \\u4e91\\u8ba1\\u7b97\\u57fa\\u7840\\u77e5\\u8bc6.mp4\"}'),(54,' 从Docker到CaaS（六）微服务与CaaS','服务的疯狂增长与云计算技术的进步，让微服务架构受到重点关注。它的主要作用是将功能分解到离散的各个服务当中，从而降低系统的耦合性，并提供更加灵活的服务支持。然而微服务的架构给应用部署带来了困难， Docker 的出现极大解决了部署的问题。因此微服务和 Docker 是一对完美的结合。 ','','upload_imgss/20180105153201timg%20(2).jpg',0,0,0,'2018-01-05 07:33:15',2,1,1,0,'','/medias/video/20180105153315/1 微服务概述.mp4',1,'<p>服务的疯狂增长与云计算技术的进步，让微服务架构受到重点关注。它的主要作用是将功能分解到离散的各个服务当中，从而降低系统的耦合性，并提供更加灵活的服务支持。然而微服务的架构给应用部署带来了困难， Docker 的出现极大解决了部署的问题。因此微服务和 Docker 是一对完美的结合。&nbsp;<br />\r\n<br />\r\n<strong>核心内容：</strong>&nbsp;<br />\r\n1. 微服务综述<br />\r\n2. 微服务典型案例分析<br />\r\n3. 在 CaaS 平台（灵雀云）部署微服务&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>Linux&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>是&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>中级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\n具有一定 Docker 容器基础</p>\r\n','http://www.askeds.com/server','{\"1 \\u5fae\\u670d\\u52a1\\u6982\\u8ff0\": \"/medias/video/20180105153315/1 \\u5fae\\u670d\\u52a1\\u6982\\u8ff0.mp4\", \"2 \\u5fae\\u670d\\u52a1\\u6848\\u4f8b\\u5206\\u6790\": \"/medias/video/20180105153315/2 \\u5fae\\u670d\\u52a1\\u6848\\u4f8b\\u5206\\u6790.mp4\"}'),(55,' Docker 技术原理 ','在学习了“走近Docker”之后，学员对Docker有了一个初步的认识。本课程进一步带领学员探索Docker背后的技术原理。','','upload_imgss/20180105153521timg.jpg',0,0,0,'2018-01-05 07:35:56',2,1,1,0,'','http://47.96.153.147/medias/video/20180105153530%20%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB%E4%B8%8E%20Namespace.mp4',1,'<p><strong>课程背景：</strong><br />\r\n在学习了&ldquo;走近Docker&rdquo;之后，学员对Docker有了一个初步的认识。本课程进一步带领学员探索Docker背后的技术原理。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>核心内容：</strong><br />\r\n1.资源隔离与 Namespace<br />\r\n2.Docker 网络<br />\r\n3.资源控制与 CGroup</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>软件环境：</strong>Ubuntu 14.04 &nbsp;64位</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>是否提供资料：</strong>是</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>课程等级：</strong>高级</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>适合人群:</strong><br />\r\n具备 Linux 系统上 C 语言开发经验的学员</p>\r\n','http://www.askeds.com/server','{}'),(56,'Docker 容器与外部网络的连接','本课程介绍 Docker 容器的网络连接的基础技术，以及利用这些技术，实现 Docker 容器间的互联。同时，进一步介绍的如何利用 Docker 的网络连接设置选项，实现 Docker 容器间互联的限制，也简单介绍了Docker对 Linix iptables 设置的依赖，并演示了如何利用 iptables ，实现容器与外部网络访问的控制。','','upload_imgss/2018010515395964018&fm=27&gp=0.jpg',0,0,0,'2018-01-05 07:40:58',2,1,1,0,'','/medias/video/20180105154057/1 Docker 容器的网络连接.mp4',1,'<p>课程背景：<br />\r\n本课程介绍 Docker 容器的网络连接的基础技术，以及利用这些技术，实现 Docker 容器间的互联。同时，进一步介绍的如何利用 Docker 的网络连接设置选项，实现 Docker 容器间互联的限制，也简单介绍了Docker对 Linix iptables 设置的依赖，并演示了如何利用 iptables ，实现容器与外部网络访问的控制。</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>核心内容：<br />\r\n1. Docker中容器的网络基础设施的实现<br />\r\n2. 根据Docker提供的配置，实现对虚拟网桥的自定义配置<br />\r\n3. Docker中容器间的访问规则<br />\r\n4. 使用link配置容器间的连接<br />\r\n5. 如何阻断容器间的连接并允许特定容器间的连接</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>软件环境：Ubuntu 14.04 64bit</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>是否提供资料：否</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>课程等级：初级</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>适合人群：<br />\r\n云计算、Docker、Docker入门、Docker容器、Docker网络设置</p>\r\n','http://www.askeds.com/server','{\"1 Docker \\u5bb9\\u5668\\u7684\\u7f51\\u7edc\\u8fde\\u63a5\": \"/medias/video/20180105154057/1 Docker \\u5bb9\\u5668\\u7684\\u7f51\\u7edc\\u8fde\\u63a5.mp4\", \"3 Docker \\u5bb9\\u5668\\u7684\\u4e92\\u8054\": \"/medias/video/20180105154057/3 Docker \\u5bb9\\u5668\\u7684\\u4e92\\u8054.mp4\", \"4 Docker \\u5bb9\\u5668\\u4e0e\\u5916\\u90e8\\u7f51\\u7edc\\u7684\\u8fde\\u63a5\": \"/medias/video/20180105154057/4 Docker \\u5bb9\\u5668\\u4e0e\\u5916\\u90e8\\u7f51\\u7edc\\u7684\\u8fde\\u63a5.mp4\", \"2 Docker \\u5bb9\\u5668\\u7684\\u7f51\\u7edc\\u57fa\\u7840\": \"/medias/video/20180105154057/2 Docker \\u5bb9\\u5668\\u7684\\u7f51\\u7edc\\u57fa\\u7840.mp4\"}'),(57,'Docker容器的跨主机访问 ','Docker 是 PaaS 提供商 dotCloud 开源的一个基于 LXC 的高级容器引擎，源代码托管在 Github 上, 基于go语言并遵从Apache2.0协议开源。Docker自2013年以来非常火热，无论是从 github 上的代码活跃度，还是各大厂商的支持，都使Docker成为了时下最受关注的技术，甚至微软都声称在下一代Windows Server中集成对Docker的支持 ','','upload_imgss/2018010515482842826&fm=27&gp=0.jpg',1,0,0,'2018-01-05 07:49:16',2,1,1,0,'','/medias/video/20180105154915/1 Docker容器跨主机网络访问简介.mp4',1,'<p><strong>课程背景：</strong>&nbsp;<br />\r\nDocker 是 PaaS 提供商 dotCloud 开源的一个基于 LXC 的高级容器引擎，源代码托管在 Github 上, 基于go语言并遵从Apache2.0协议开源。<br />\r\nDocker自2013年以来非常火热，无论是从 github 上的代码活跃度，还是各大厂商的支持，都使Docker成为了时下最受关注的技术，甚至微软都声称在下一代Windows Server中集成对Docker的支持&nbsp;<br />\r\n<br />\r\n<strong>核心内容：</strong>&nbsp;<br />\r\n1. 搭建容器网络测试的多主机环境<br />\r\n2. 配置网桥<br />\r\n3. Open vSwitch简介<br />\r\n4. GRE隧道技术简介<br />\r\n5. ovs配置方式<br />\r\n6. weave简介<br />\r\n7. 使用weave连接多主机<br />\r\n8. 使用weave启动容器&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>Ubuntu 14.04 64bit； Docker 1.5.0；&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>否&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>中级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\n学生，运维，开发者</p>\r\n','http://www.askeds.com/server','{\"1 Docker\\u5bb9\\u5668\\u8de8\\u4e3b\\u673a\\u7f51\\u7edc\\u8bbf\\u95ee\\u7b80\\u4ecb\": \"/medias/video/20180105154915/1 Docker\\u5bb9\\u5668\\u8de8\\u4e3b\\u673a\\u7f51\\u7edc\\u8bbf\\u95ee\\u7b80\\u4ecb.mp4\", \"2 \\u4f7f\\u7528\\u7f51\\u6865\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5\": \"/medias/video/20180105154915/2 \\u4f7f\\u7528\\u7f51\\u6865\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5.mp4\", \"4 \\u4f7f\\u7528weave\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5\": \"/medias/video/20180105154915/4 \\u4f7f\\u7528weave\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5.mp4\", \"3 \\u4f7f\\u7528Open vSwitch\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5\": \"/medias/video/20180105154915/3 \\u4f7f\\u7528Open vSwitch\\u5b9e\\u73b0\\u8de8\\u4e3b\\u673a\\u5bb9\\u5668\\u8fde\\u63a5.mp4\"}'),(58,' Docker 源码分析(一) Docker 介绍','Docker 的诞生，给云计算领域的发展带来巨大的变化，国内外的行业领航者纷纷开始关注、研究与实践 Docker。目前，Docker 技术的普及已然成为大势所趋，此课程即从 Docker 架构与源码的角度，为大家带来最前沿最务实的 Docker 技术剖析。DaoCloud（www.daocloud.io）是业界领先的企业级容器云平台和解决方案提供商。专注于为开发者和企业提供基于 Docker 容器技术的云平台和解决方案，包括基于容器技术的开发运维联动和混合云解决方案等。邀请注册 DaoCloud 送签名','','upload_imgss/2018010516051580687&fm=27&gp=0.jpg',0,0,0,'2018-01-05 08:06:29',2,1,1,0,'','/medias/video/20180105160629/1 初识 Docker.mp4',1,'<p><strong>课程背景：</strong>&nbsp;<br />\r\nDocker 的诞生，给云计算领域的发展带来巨大的变化，国内外的行业领航者纷纷开始关注、研究与实践 Docker。目前，Docker 技术的普及已然成为大势所趋，此课程即从 Docker 架构与源码的角度，为大家带来最前沿最务实的 Docker 技术剖析。<br />\r\nDaoCloud（www.daocloud.io）是业界领先的企业级容器云平台和解决方案提供商。专注于为开发者和企业提供基于 Docker 容器技术的云平台和解决方案，包括基于容器技术的开发运维联动和混合云解决方案等。<br />\r\n邀请注册 DaoCloud 送签名版《Docker 源码分析》著作和大疆无人机：<br />\r\nhttp://www.daocloud.io/invite_friends&nbsp;<br />\r\n<br />\r\n<strong>核心内容：</strong>&nbsp;<br />\r\n1.初识 Docker<br />\r\n2.容器技术历史<br />\r\n3.Docker 生态<br />\r\n4.Docker 体验&nbsp;<br />\r\n<br />\r\n<strong>软件环境：</strong>Linux 操作系统&nbsp;<br />\r\n<br />\r\n<strong>是否提供资料：</strong>是&nbsp;<br />\r\n<br />\r\n<strong>课程等级：</strong>初级&nbsp;<br />\r\n<br />\r\n<strong>适合人群：</strong>&nbsp;<br />\r\nDocker 入门者</p>\r\n','http://www.askeds.com/server','{\"3 Docker \\u751f\\u6001\": \"/medias/video/20180105160629/3 Docker \\u751f\\u6001.mp4\", \"1 \\u521d\\u8bc6 Docker\": \"/medias/video/20180105160629/1 \\u521d\\u8bc6 Docker.mp4\", \"2 \\u5bb9\\u5668\\u6280\\u672f\\u5386\\u53f2\": \"/medias/video/20180105160629/2 \\u5bb9\\u5668\\u6280\\u672f\\u5386\\u53f2.mp4\", \"4 Docker \\u4f53\\u9a8c\": \"/medias/video/20180105160629/4 Docker \\u4f53\\u9a8c.mp4\"}'),(60,'Scrapy教程_Scrapy视频教程','1、Scrapy的简介。主要知识点：Scrapy的架构和运作流程。 2、搭建开发环境：主要知识点：Windows及Linux环境下Scrapy的安装。 3、Scrapy Shell以及Scrapy Selectors的使用。 4、使用Scrapy完成网站信息的爬取。主要知识点：创建Scrapy项目(scrapy startproject)、定义提取的结构化数据(Item)、编写爬取网站的 Spider 并提取出结构化数据(Item)、编写 Item Pipelines 来存储提取到的Ite','','upload_imgss/20180105182239timg%20(1).jpg',3,0,0,'2018-01-05 10:22:49',3,3,1,0,'','/medias/video/20180105182245/1 Scrapy架构流程介绍.mp4',1,'<p>Scrapy（官网&nbsp;<a href=\"http://scrapy.org/\" target=\"_blank\">http://scrapy.org/</a>）是一款功能强大的，用户可定制的网络爬虫软件包。其官方描述称：&quot;</p>\r\n\r\n<h1>Scrapy is a fast high-level screen scraping and web crawling framework, used to crawl websites and extract structured data from their pages. It can be used for a wide range of purposes, from data mining to monitoring and automated testing</h1>\r\n\r\n<p>&quot;</p>\r\n\r\n<p>Scrapy在github中有源码托管<a href=\"https://github.com/scrapy/scrapy\" target=\"_blank\">https://github.com/scrapy/scrapy</a>，其安装可以参考github中提供的安装方法（大百度中也提供了很多安装方法的描述）。另外<a href=\"http://scrapy-chs.readthedocs.io/zh_CN/latest/intro/overview.html\" target=\"_blank\">网站</a>1和<a href=\"https://github.com/scrapy/scrapy/wiki\" target=\"_blank\">网站2</a>提供了scrapy的使用方法和简单实例（小编后续随笔也会简单写一个scrapy实例，供大家参考）。</p>\r\n\r\n<p><strong>Scrapy的爬虫原理：</strong></p>\r\n\r\n<p><img alt=\"\" src=\"https://images2015.cnblogs.com/blog/949318/201606/949318-20160607113313246-1139120771.png\" /></p>\r\n\r\n<p>　　　　　　　　　　　　&rdquo;盗用&ldquo;的scrapy 官网中的scrapy核心框架图</p>\r\n\r\n<p>&nbsp;　　Scrapy Engine是scrapy软件的核心，他负责各个组件的协调处理</p>\r\n\r\n<p>&nbsp;　　Scheduler是调度器，负责爬去队列的管理，如Request的入队和出队管理</p>\r\n\r\n<p>&nbsp;　　Item Pipeline 是抓取内容的核心组件，用户想要获取的内容可以写入item 然后再pipeline中设计数据的流向比如写入文件或是持久化到数据库中</p>\r\n\r\n<p>&nbsp;　　Downloader 则是scrapy与web site接触的端口，负责根据Request 请求网页然后以response的形式返回用户处理接口（默认是 spider的parse函数）</p>\r\n\r\n<p>&nbsp;　　Spider则是用户定制兴趣内容的模块，在scrapy的spiders中内置了BaseSpider，CSVFeedSpider，CrawlerSpider，用户可以根据情况选择合适spider继承与开发</p>\r\n\r\n<p>&nbsp;　　Spider Middlewares则是Spider与Scrapy Engine 的中间层，用户可以个性化定义Spider向Engine传输过程</p>\r\n\r\n<p><strong>Scrpay的运行过程：</strong></p>\r\n\r\n<p><strong>&nbsp; &nbsp;&nbsp;</strong>（1）Engine从Spider中获取一个需要爬取的URL（从spider中start_url获取），并以Request的形式在Scheduler中列队。</p>\r\n\r\n<p>&nbsp; &nbsp; （2）Scheduler根据列队情况，把Request发送给Downloader，Downloader根据Request请求网页，并获取网页内容。</p>\r\n\r\n<p>&nbsp; &nbsp; （3）网页内容以Response的形式经过Engine发送给Spider，并根据用户解析生成Item，发送给Pipeline。</p>\r\n\r\n<p>&nbsp; &nbsp; （4）Pipeline根据获得的item和settings中的设置，处理item（process_item）把数据输出到文件或是数据库中。</p>\r\n\r\n<p>&nbsp; 上述过程反复进行，直到没有新的请求为止（此过程是一个异步处理过程）。</p>\r\n\r\n<p><strong>个人整理的Scrapy资源列表（望笑纳）：</strong></p>\r\n\r\n<p>　 （1）scrapy中文教程</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href=\"http://scrapy-chs.readthedocs.io/zh_CN/latest/intro/overview.html\" target=\"_blank\">http://scrapy-chs.readthedocs.io/zh_CN/latest/intro/overview.html</a></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;（2）一个不错的scrapy学习博客</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<a href=\"http://blog.csdn.net/column/details/younghz-scrapy.html\" target=\"_blank\">http://blog.csdn.net/column/details/younghz-scrapy.html</a></p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;（3）scrapy 官方wiki</p>\r\n\r\n<p>　　 &nbsp; &nbsp; &nbsp;<a href=\"https://github.com/scrapy/scrapy/wiki\" target=\"_blank\">https://github.com/scrapy/scrapy/wiki</a></p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;（4）scrapy实例</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<a href=\"https://github.com/jackgitgz/CnblogsSpider\" target=\"_blank\">https://github.com/jackgitgz/CnblogsSpider</a></p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href=\"http://nkcoder.github.io/2015/12/10/scrapy-crawl-simple-in-action/?utm_source=tuicool&amp;utm_medium=referral\" target=\"_blank\">http://nkcoder.github.io/2015/12/10/scrapy-crawl-simple-in-action/?utm_source=tuicool&amp;utm_medium=referral</a></p>\r\n','http://www.askeds.com/server','{\"2 Scrapy\\u6846\\u67b6\\u914d\\u7f6e\\u5b89\\u88c5\\u548c\\u547d\\u4ee4\\u4ecb\\u7ecd\": \"/medias/video/20180105182245/2 Scrapy\\u6846\\u67b6\\u914d\\u7f6e\\u5b89\\u88c5\\u548c\\u547d\\u4ee4\\u4ecb\\u7ecd.mp4\", \"3 Scrapy\\u9879\\u76ee\\u7684\\u57fa\\u672c\\u4f7f\\u7528\": \"/medias/video/20180105182245/3 Scrapy\\u9879\\u76ee\\u7684\\u57fa\\u672c\\u4f7f\\u7528.mp4\", \"1 Scrapy\\u67b6\\u6784\\u6d41\\u7a0b\\u4ecb\\u7ecd\": \"/medias/video/20180105182245/1 Scrapy\\u67b6\\u6784\\u6d41\\u7a0b\\u4ecb\\u7ecd.mp4\"}');
/*!40000 ALTER TABLE `app01_news` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_news_focususer`
--

DROP TABLE IF EXISTS `app01_news_focususer`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_news_focususer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `news_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `news_id` (`news_id`,`user_id`),
  KEY `app01_news_focususer_user_id_183cb6f83eaee7e4_fk_auth_user_id` (`user_id`),
  CONSTRAINT `app01_news_focususer_news_id_d73e27957b490c1_fk_app01_news_id` FOREIGN KEY (`news_id`) REFERENCES `app01_news` (`id`),
  CONSTRAINT `app01_news_focususer_user_id_183cb6f83eaee7e4_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_news_focususer`
--

LOCK TABLES `app01_news_focususer` WRITE;
/*!40000 ALTER TABLE `app01_news_focususer` DISABLE KEYS */;
INSERT INTO `app01_news_focususer` VALUES (14,18,2),(11,19,2),(18,20,2),(19,36,2),(21,43,2),(22,52,2),(23,53,2),(20,60,2);
/*!40000 ALTER TABLE `app01_news_focususer` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_newtype`
--

DROP TABLE IF EXISTS `app01_newtype`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_newtype` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `display` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_newtype`
--

LOCK TABLES `app01_newtype` WRITE;
/*!40000 ALTER TABLE `app01_newtype` DISABLE KEYS */;
INSERT INTO `app01_newtype` VALUES (1,'docker'),(2,'python'),(3,'Scrapy'),(4,'django'),(5,'全栈'),(6,'python3'),(7,'ceilometer'),(8,'机器学习'),(9,'python爬虫'),(10,'keystone'),(11,'PaddlePaddle'),(12,'openstack集群搭建'),(13,'saltstack'),(14,'crmsh'),(15,'openstack'),(16,'nova'),(17,'devstack'),(18,'kvm'),(19,'fuel'),(20,'混合云'),(21,'cloudstack'),(22,'IaaS');
/*!40000 ALTER TABLE `app01_newtype` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_reply`
--

DROP TABLE IF EXISTS `app01_reply`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_reply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` longtext NOT NULL,
  `create_date` datetime NOT NULL,
  `new_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `app01_reply_new_id_62e19fe51b9ce8c9_fk_app01_news_id` (`new_id`),
  KEY `app01_reply_user_id_5553124172809d2e_fk_app01_admin_id` (`user_id`),
  CONSTRAINT `app01_reply_new_id_62e19fe51b9ce8c9_fk_app01_news_id` FOREIGN KEY (`new_id`) REFERENCES `app01_news` (`id`),
  CONSTRAINT `app01_reply_user_id_5553124172809d2e_fk_app01_admin_id` FOREIGN KEY (`user_id`) REFERENCES `app01_admin` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_reply`
--

LOCK TABLES `app01_reply` WRITE;
/*!40000 ALTER TABLE `app01_reply` DISABLE KEYS */;
/*!40000 ALTER TABLE `app01_reply` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_serverclient`
--

DROP TABLE IF EXISTS `app01_serverclient`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_serverclient` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `serverclient` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_serverclient`
--

LOCK TABLES `app01_serverclient` WRITE;
/*!40000 ALTER TABLE `app01_serverclient` DISABLE KEYS */;
/*!40000 ALTER TABLE `app01_serverclient` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app01_usertype`
--

DROP TABLE IF EXISTS `app01_usertype`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app01_usertype` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dispaly` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app01_usertype`
--

LOCK TABLES `app01_usertype` WRITE;
/*!40000 ALTER TABLE `app01_usertype` DISABLE KEYS */;
INSERT INTO `app01_usertype` VALUES (1,'普通用户');
/*!40000 ALTER TABLE `app01_usertype` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_group`
--

DROP TABLE IF EXISTS `auth_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(80) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group`
--

LOCK TABLES `auth_group` WRITE;
/*!40000 ALTER TABLE `auth_group` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_group_permissions`
--

DROP TABLE IF EXISTS `auth_group_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `group_id` (`group_id`,`permission_id`),
  KEY `auth_group__permission_id_79412282bb96e6dc_fk_auth_permission_id` (`permission_id`),
  CONSTRAINT `auth_group_permission_group_id_472f99dbd7c1f872_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`),
  CONSTRAINT `auth_group__permission_id_79412282bb96e6dc_fk_auth_permission_id` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group_permissions`
--

LOCK TABLES `auth_group_permissions` WRITE;
/*!40000 ALTER TABLE `auth_group_permissions` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_group_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_permission`
--

DROP TABLE IF EXISTS `auth_permission`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_permission` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `content_type_id` int(11) NOT NULL,
  `codename` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `content_type_id` (`content_type_id`,`codename`),
  CONSTRAINT `auth__content_type_id_46dd7472a000886a_fk_django_content_type_id` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=55 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_permission`
--

LOCK TABLES `auth_permission` WRITE;
/*!40000 ALTER TABLE `auth_permission` DISABLE KEYS */;
INSERT INTO `auth_permission` VALUES (1,'Can add log entry',1,'add_logentry'),(2,'Can change log entry',1,'change_logentry'),(3,'Can delete log entry',1,'delete_logentry'),(4,'Can add permission',2,'add_permission'),(5,'Can change permission',2,'change_permission'),(6,'Can delete permission',2,'delete_permission'),(7,'Can add group',3,'add_group'),(8,'Can change group',3,'change_group'),(9,'Can delete group',3,'delete_group'),(10,'Can add user',4,'add_user'),(11,'Can change user',4,'change_user'),(12,'Can delete user',4,'delete_user'),(13,'Can add content type',5,'add_contenttype'),(14,'Can change content type',5,'change_contenttype'),(15,'Can delete content type',5,'delete_contenttype'),(16,'Can add session',6,'add_session'),(17,'Can change session',6,'change_session'),(18,'Can delete session',6,'delete_session'),(19,'Can add 视频教程',7,'add_news'),(20,'Can change 视频教程',7,'change_news'),(21,'Can delete 视频教程',7,'delete_news'),(22,'Can add 文档资料',8,'add_documentdata'),(23,'Can change 文档资料',8,'change_documentdata'),(24,'Can delete 文档资料',8,'delete_documentdata'),(25,'Can add 访问量',9,'add_serverclient'),(26,'Can change 访问量',9,'change_serverclient'),(27,'Can delete 访问量',9,'delete_serverclient'),(28,'Can add 账户',10,'add_admin'),(29,'Can change 账户',10,'change_admin'),(30,'Can delete 账户',10,'delete_admin'),(31,'Can add 用户类型',11,'add_usertype'),(32,'Can change 用户类型',11,'change_usertype'),(33,'Can delete 用户类型',11,'delete_usertype'),(34,'Can add 标签云',12,'add_newtype'),(35,'Can change 标签云',12,'change_newtype'),(36,'Can delete 标签云',12,'delete_newtype'),(37,'Can add 评论',13,'add_reply'),(38,'Can change 评论',13,'change_reply'),(39,'Can delete 评论',13,'delete_reply'),(40,'Can add 导航栏',14,'add_category'),(41,'Can change 导航栏',14,'change_category'),(42,'Can delete 导航栏',14,'delete_category'),(43,'Can add 聊天室',15,'add_chat'),(44,'Can change 聊天室',15,'change_chat'),(45,'Can delete 聊天室',15,'delete_chat'),(46,'Can add 购物车',16,'add_buycart'),(47,'Can change 购物车',16,'change_buycart'),(48,'Can delete 购物车',16,'delete_buycart'),(49,'Can add 购买清单',17,'add_goodslist'),(50,'Can change 购买清单',17,'change_goodslist'),(51,'Can delete 购买清单',17,'delete_goodslist'),(52,'Can add 我购买的视频',18,'add_gotvideo'),(53,'Can change 我购买的视频',18,'change_gotvideo'),(54,'Can delete 我购买的视频',18,'delete_gotvideo');
/*!40000 ALTER TABLE `auth_permission` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user`
--

DROP TABLE IF EXISTS `auth_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(128) NOT NULL,
  `last_login` datetime DEFAULT NULL,
  `is_superuser` tinyint(1) NOT NULL,
  `username` varchar(30) NOT NULL,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(30) NOT NULL,
  `email` varchar(254) DEFAULT NULL,
  `is_staff` tinyint(1) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `date_joined` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user`
--

LOCK TABLES `auth_user` WRITE;
/*!40000 ALTER TABLE `auth_user` DISABLE KEYS */;
INSERT INTO `auth_user` VALUES (1,'pbkdf2_sha256$20000$79FoJyjXgG0w$1fT4KQj07FmYhYLa7OCWToInhHjFiO3CvryGc8AVJMI=','2018-01-05 11:44:35',1,'admin','','','admin@qq.com',1,1,'2017-12-19 04:35:14'),(2,'pbkdf2_sha256$20000$d2rWmKz7nWqf$/EYasIJbsFKH5LTcwS6dnsk2wjrPJwt4co86t5kwvCc=',NULL,0,'sam','','','1076158802@qq.com',0,1,'2017-12-19 09:22:21');
/*!40000 ALTER TABLE `auth_user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user_groups`
--

DROP TABLE IF EXISTS `auth_user_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user_groups` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`,`group_id`),
  KEY `auth_user_groups_group_id_2eb493c06ae6636_fk_auth_group_id` (`group_id`),
  CONSTRAINT `auth_user_groups_group_id_2eb493c06ae6636_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`),
  CONSTRAINT `auth_user_groups_user_id_693e5c1a69589564_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user_groups`
--

LOCK TABLES `auth_user_groups` WRITE;
/*!40000 ALTER TABLE `auth_user_groups` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_user_groups` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user_user_permissions`
--

DROP TABLE IF EXISTS `auth_user_user_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user_user_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`,`permission_id`),
  KEY `auth_user_u_permission_id_27c34ec1f570c8ac_fk_auth_permission_id` (`permission_id`),
  CONSTRAINT `auth_user_user_permissi_user_id_54dba8cace10211c_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`),
  CONSTRAINT `auth_user_u_permission_id_27c34ec1f570c8ac_fk_auth_permission_id` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user_user_permissions`
--

LOCK TABLES `auth_user_user_permissions` WRITE;
/*!40000 ALTER TABLE `auth_user_user_permissions` DISABLE KEYS */;
INSERT INTO `auth_user_user_permissions` VALUES (1,2,19);
/*!40000 ALTER TABLE `auth_user_user_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_admin_log`
--

DROP TABLE IF EXISTS `django_admin_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_admin_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `action_time` datetime NOT NULL,
  `object_id` longtext,
  `object_repr` varchar(200) NOT NULL,
  `action_flag` smallint(5) unsigned NOT NULL,
  `change_message` longtext NOT NULL,
  `content_type_id` int(11) DEFAULT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `djang_content_type_id_3da2858c0799d03c_fk_django_content_type_id` (`content_type_id`),
  KEY `django_admin_log_user_id_1b2ea7587c108f11_fk_auth_user_id` (`user_id`),
  CONSTRAINT `django_admin_log_user_id_1b2ea7587c108f11_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`),
  CONSTRAINT `djang_content_type_id_3da2858c0799d03c_fk_django_content_type_id` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=231 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_admin_log`
--

LOCK TABLES `django_admin_log` WRITE;
/*!40000 ALTER TABLE `django_admin_log` DISABLE KEYS */;
INSERT INTO `django_admin_log` VALUES (1,'2017-12-19 10:32:01','1','sam',2,'Changed user_valid and gender.',10,1),(2,'2017-12-19 10:45:04','1','OpenStack',1,'',14,1),(3,'2017-12-19 10:45:17','2','Docker',1,'',14,1),(4,'2017-12-19 10:45:34','3','python',1,'',14,1),(5,'2017-12-19 10:45:45','3','Python',2,'Changed name.',14,1),(6,'2017-12-19 10:45:53','4','机器学习',1,'',14,1),(7,'2017-12-19 11:16:25','1','Docker是什么',2,'Changed content, newpic, url and check_enable.',8,1),(8,'2017-12-19 12:24:01','1','test',2,'Changed content, url and check_enable.',7,1),(9,'2017-12-19 12:28:05','1','test',2,'Changed course_price.',7,1),(10,'2017-12-19 12:29:59','2','212212',2,'Changed content, url and check_enable.',7,1),(11,'2017-12-19 12:42:54','2','212212',3,'',7,1),(12,'2017-12-19 12:42:54','1','test',3,'',7,1),(13,'2017-12-19 13:01:53','3','2',2,'Changed content, url and check_enable.',7,1),(14,'2017-12-19 13:05:25','3','2',2,'Changed course_price.',7,1),(15,'2017-12-20 03:39:40','4','视频',2,'Changed content, url and check_enable.',7,1),(16,'2017-12-20 04:56:23','4','视频',3,'',7,1),(17,'2017-12-20 04:56:23','3','2',3,'',7,1),(18,'2017-12-20 06:00:42','5','22',2,'Changed content, url and check_enable.',7,1),(19,'2017-12-20 06:17:45','5','22',3,'',7,1),(20,'2017-12-20 11:53:35','6','Python入门教程完整版',2,'Changed summary, content, url and check_enable.',7,1),(21,'2017-12-20 11:58:18','6','Python入门教程完整版',2,'Changed content.',7,1),(22,'2017-12-20 12:10:27','6','Python入门教程完整版',2,'Changed content.',7,1),(23,'2017-12-20 12:24:27','9',' Python全栈教程_快速搭建Web服务器',2,'Changed summary, content, url and check_enable.',7,1),(24,'2017-12-20 12:24:32','8','Django视频教程_Django入门视频教程|黑马程序员',2,'Changed summary, content, url and check_enable.',7,1),(25,'2017-12-20 12:24:46','7','Scrapy教程_Scrapy视频教程|黑马程序员',2,'Changed summary, content, url and check_enable.',7,1),(26,'2017-12-20 12:42:15','3','Docker 命令大全',2,'Changed content, url and check_enable.',8,1),(27,'2017-12-20 12:42:21','2','Python 3 教程全集',2,'Changed summary, content, url and check_enable.',8,1),(28,'2017-12-20 12:43:13','3','Docker 命令大全',2,'Changed newpic.',8,1),(29,'2017-12-20 12:43:49','3','Docker 命令大全',2,'Changed newpic.',8,1),(30,'2017-12-20 12:44:47','3','Docker 命令大全',2,'Changed newpic.',8,1),(31,'2017-12-20 12:52:04','3','Docker 命令大全',2,'Changed newpic.',8,1),(32,'2017-12-20 12:54:29','3','Docker 命令大全',2,'Changed newpic.',8,1),(33,'2017-12-20 12:56:37','3','Docker 命令大全',2,'Changed newpic.',8,1),(34,'2017-12-20 13:03:13','3','Docker 命令大全',2,'Changed newpic.',8,1),(35,'2017-12-20 13:03:46','3','Docker 命令大全',2,'Changed newpic.',8,1),(36,'2017-12-20 13:05:41','3','Docker 命令大全',2,'Changed newpic.',8,1),(37,'2017-12-20 13:05:52','3','Docker 命令大全',2,'No fields changed.',8,1),(38,'2017-12-20 13:06:05','3','Docker 命令大全',2,'Changed newpic.',8,1),(39,'2017-12-20 13:07:13','4','2',2,'Changed content, url and check_enable.',8,1),(40,'2017-12-20 13:08:48','4','2',2,'Changed newpic.',8,1),(41,'2017-12-20 13:16:19','4','2',3,'',8,1),(42,'2017-12-20 13:18:28','3','Docker 命令大全',3,'',8,1),(43,'2017-12-20 13:18:48','5','Docker命令大全',2,'Changed content, url and check_enable.',8,1),(44,'2017-12-20 14:41:55','10','安装和配置监控服务 Ceilometer ',2,'Changed content, url and check_enable.',7,1),(45,'2017-12-20 15:49:55','10','安装和配置监控服务 Ceilometer ',3,'',7,1),(46,'2017-12-20 15:49:55','9',' Python全栈教程_快速搭建Web服务器',3,'',7,1),(47,'2017-12-20 15:49:55','8','Django视频教程_Django入门视频教程|黑马程序员',3,'',7,1),(48,'2017-12-20 15:49:55','7','Scrapy教程_Scrapy视频教程|黑马程序员',3,'',7,1),(49,'2017-12-20 15:49:55','6','Python入门教程完整版',3,'',7,1),(50,'2017-12-20 17:04:36','12','222a',2,'Changed content, url and check_enable.',7,1),(51,'2017-12-21 08:25:54','14','啧啧啧',2,'Changed content, url and check_enable.',7,1),(52,'2017-12-21 08:46:41','15','aaaz2',2,'Changed content, url and check_enable.',7,1),(53,'2017-12-21 08:46:57','15','aaaz2',2,'No fields changed.',7,1),(54,'2017-12-21 09:25:33','17','ph',2,'Changed content, url and check_enable.',7,1),(55,'2017-12-21 09:30:28','17','ph',3,'',7,1),(56,'2017-12-21 09:30:28','16','vv',3,'',7,1),(57,'2017-12-21 09:30:28','15','aaaz2',3,'',7,1),(58,'2017-12-21 09:30:28','14','啧啧啧',3,'',7,1),(59,'2017-12-21 09:30:28','13','11aa',3,'',7,1),(60,'2017-12-21 09:30:28','12','222a',3,'',7,1),(61,'2017-12-21 09:30:28','11','22',3,'',7,1),(62,'2017-12-21 09:30:50','7','12c',3,'',8,1),(63,'2017-12-21 09:30:50','6','2a',3,'',8,1),(64,'2017-12-22 06:47:18','18',' Python入门教程完整版',2,'Changed summary, content, url and check_enable.',7,1),(65,'2017-12-23 03:18:24','19','探索OpenStack：计量模块 Ceilometer 介绍',2,'Changed summary, content, url and check_enable.',7,1),(66,'2017-12-23 04:41:05','2','Python 3 教程全集',2,'Changed content.',8,1),(67,'2017-12-23 04:42:24','2','Python 3 教程全集',2,'Changed content.',8,1),(68,'2017-12-23 10:39:55','8','什么是python',2,'Changed content, url and check_enable.',8,1),(69,'2017-12-23 11:04:36','10','AI、机器学习和深度学习之间的区别是什么？',2,'Changed content, url and check_enable.',8,1),(70,'2017-12-23 11:04:56','9','什么是机器学习',2,'Changed content, url and check_enable.',8,1),(71,'2017-12-23 11:15:02','9','什么是机器学习',2,'Changed content.',8,1),(72,'2017-12-24 07:21:50','20','docker安装',2,'Changed summary, content, url and check_enable.',7,1),(73,'2017-12-24 09:02:28','22','33333',2,'Changed content, url and check_enable.',7,1),(74,'2017-12-25 03:38:08','22','33333',3,'',7,1),(75,'2017-12-25 03:38:08','21','222',3,'',7,1),(76,'2017-12-25 04:31:40','20','docker安装',2,'Changed videourl and videos_url.',7,1),(77,'2017-12-25 07:03:20','27','2哦',2,'Changed content, url and check_enable.',7,1),(78,'2017-12-25 07:03:25','26','456',2,'Changed content, url and check_enable.',7,1),(79,'2017-12-25 07:04:06','26','456',2,'Changed course_price.',7,1),(80,'2017-12-25 07:05:40','27','2哦',3,'',7,1),(81,'2017-12-25 07:05:40','26','456',3,'',7,1),(82,'2017-12-25 07:05:40','25','啊啊的2',3,'',7,1),(83,'2017-12-25 07:05:40','24','啊啊',3,'',7,1),(84,'2017-12-25 07:05:40','23','221a',3,'',7,1),(85,'2017-12-25 07:06:14','11','test',3,'',8,1),(86,'2017-12-25 07:16:21','18',' Python入门教程完整版',2,'Changed videos_url.',7,1),(87,'2017-12-25 07:21:50','28','python爬虫讲解xpath',2,'Changed content, url and check_enable.',7,1),(88,'2017-12-25 07:51:25','12','Openstack 中 HTTPD 运行 Keystone',2,'Changed content, url and check_enable.',8,1),(89,'2017-12-25 07:56:34','12','Openstack 中 HTTPD 运行 Keystone',2,'Changed content.',8,1),(90,'2017-12-25 07:58:12','12','Openstack 中 HTTPD 运行 Keystone',2,'No fields changed.',8,1),(91,'2017-12-25 09:08:13','29','PaddlePaddle框架新手入门',2,'Changed content, url and check_enable.',7,1),(92,'2017-12-26 10:55:39','13','openstack集群构建',2,'Changed content, url and check_enable.',8,1),(93,'2017-12-27 01:07:00','13','openstack集群构建',2,'Changed content.',8,1),(94,'2017-12-27 01:08:40','13','openstack集群构建',2,'Changed content.',8,1),(95,'2017-12-27 05:33:09','5','自动化',1,'',14,1),(96,'2017-12-27 05:34:36','14','test',2,'Changed content, url and check_enable.',8,1),(97,'2017-12-27 05:35:11','14','test',3,'',8,1),(98,'2017-12-27 07:13:44','30','Python ORM 框架概述',2,'Changed content, url and check_enable.',7,1),(99,'2017-12-27 09:11:28','15','Python实战笔记',2,'Changed content, url and check_enable.',8,1),(100,'2017-12-29 05:50:40','16','CRM工具简介',2,'Changed content, url and check_enable.',8,1),(101,'2017-12-29 06:22:13','17','快速入门SaltStack',2,'Changed content, url and check_enable.',8,1),(102,'2017-12-29 06:23:07','17','快速入门SaltStack',2,'Changed content.',8,1),(103,'2017-12-30 02:13:20','30','Python ORM 框架概述',3,'',7,1),(104,'2017-12-30 02:13:20','29','PaddlePaddle框架新手入门',3,'',7,1),(105,'2017-12-30 02:13:20','28','python爬虫讲解xpath',3,'',7,1),(106,'2017-12-30 07:12:51','17','快速入门SaltStack',2,'Changed newpic.',8,1),(107,'2017-12-30 07:15:00','17','快速入门SaltStack',2,'Changed newpic.',8,1),(108,'2017-12-30 07:20:35','17','快速入门SaltStack',2,'Changed newpic.',8,1),(109,'2017-12-30 07:25:28','17','快速入门SaltStack',2,'Changed newpic.',8,1),(110,'2017-12-30 07:28:58','17','快速入门SaltStack',2,'Changed newpic.',8,1),(111,'2017-12-30 07:31:27','17','快速入门SaltStack',2,'Changed newpic.',8,1),(112,'2017-12-30 07:39:13','17','快速入门SaltStack',2,'Changed newpic.',8,1),(113,'2017-12-30 07:40:57','17','快速入门SaltStack',2,'Changed newpic.',8,1),(114,'2017-12-30 07:42:13','17','快速入门SaltStack',2,'Changed newpic.',8,1),(115,'2017-12-30 07:44:16','17','快速入门SaltStack',2,'Changed document_data and newpic.',8,1),(116,'2017-12-30 07:48:41','17','快速入门SaltStack',2,'Changed newpic.',8,1),(117,'2017-12-30 07:54:24','17','快速入门SaltStack',2,'Changed newpic.',8,1),(118,'2017-12-30 07:55:48','17','快速入门SaltStack',2,'Changed newpic.',8,1),(119,'2017-12-30 07:56:22','17','快速入门SaltStack',2,'Changed newpic.',8,1),(120,'2017-12-30 07:57:14','17','快速入门SaltStack',2,'Changed document_data and newpic.',8,1),(121,'2017-12-30 08:00:01','17','快速入门SaltStack',2,'Changed newpic.',8,1),(122,'2017-12-30 08:00:55','17','快速入门SaltStack',2,'Changed newpic.',8,1),(123,'2017-12-30 08:02:51','17','快速入门SaltStack',2,'Changed newpic.',8,1),(124,'2017-12-30 08:02:51','17','快速入门SaltStack',2,'Changed newpic.',8,1),(125,'2017-12-30 08:09:28','17','快速入门SaltStack',2,'Changed newpic.',8,1),(126,'2017-12-30 08:13:55','16','CRM工具简介',2,'Changed newpic.',8,1),(127,'2017-12-30 08:15:56','16','CRM工具简介',2,'Changed newpic.',8,1),(128,'2017-12-30 08:23:33','16','CRM工具简介',2,'Changed newpic.',8,1),(129,'2017-12-30 08:25:54','16','CRM工具简介',2,'Changed newpic.',8,1),(130,'2017-12-30 08:28:57','16','CRM工具简介',2,'Changed newpic.',8,1),(131,'2017-12-30 08:31:34','16','CRM工具简介',2,'Changed newpic.',8,1),(132,'2017-12-30 08:37:46','16','CRM工具简介',2,'Changed newpic.',8,1),(133,'2017-12-30 08:39:57','18','s',2,'Changed content, url and check_enable.',8,1),(134,'2017-12-30 08:44:14','19','23',2,'Changed content, url and check_enable.',8,1),(135,'2017-12-30 08:45:40','19','23',3,'',8,1),(136,'2017-12-30 08:45:40','18','s',3,'',8,1),(137,'2017-12-30 08:46:03','16','CRM工具简介',2,'Changed newpic.',8,1),(138,'2017-12-30 09:07:07','16','CRM工具简介',2,'Changed newpic.',8,1),(139,'2017-12-30 09:24:21','16','CRM工具简介',2,'Changed newpic.',8,1),(140,'2017-12-30 09:25:20','16','CRM工具简介',2,'Changed newpic.',8,1),(141,'2017-12-30 09:26:12','16','CRM工具简介',2,'Changed newpic.',8,1),(142,'2017-12-30 09:42:17','31','2',1,'',7,1),(143,'2017-12-30 09:45:08','31','2',2,'Changed newpic.',7,1),(144,'2017-12-30 09:45:51','31','2',2,'Changed newpic.',7,1),(145,'2017-12-30 09:47:02','31','2',2,'Changed newpic.',7,1),(146,'2017-12-30 09:47:30','31','2',2,'Changed newpic.',7,1),(147,'2017-12-30 09:48:03','31','2',2,'Changed newpic.',7,1),(148,'2017-12-30 09:48:34','31','2',2,'Changed newpic.',7,1),(149,'2017-12-30 09:48:54','31','2',2,'Changed newpic.',7,1),(150,'2017-12-30 09:52:39','31','2',2,'Changed newpic.',7,1),(151,'2017-12-30 09:55:26','31','2',2,'Changed newpic.',7,1),(152,'2017-12-30 10:00:47','31','2',2,'Changed newpic.',7,1),(153,'2017-12-30 10:02:10','31','2',2,'Changed newpic.',7,1),(154,'2017-12-30 10:03:48','31','2',2,'Changed newpic.',7,1),(155,'2017-12-30 10:05:16','31','2',2,'Changed newpic.',7,1),(156,'2017-12-30 10:05:57','31','2',3,'',7,1),(157,'2017-12-30 10:08:09','32','566',2,'Changed content, url and check_enable.',7,1),(158,'2017-12-30 10:10:12','32','566',2,'Changed newpic.',7,1),(159,'2017-12-30 10:12:45','32','566',2,'Changed video.',7,1),(160,'2017-12-30 10:29:23','33','jhhhh',2,'Changed content, url and check_enable.',7,1),(161,'2017-12-30 10:32:18','34','6666',1,'',7,1),(162,'2017-12-30 10:34:43','34','6666',2,'Changed videourl.',7,1),(163,'2017-12-30 11:08:32','35','docker223',2,'Changed content, url and check_enable.',7,1),(164,'2017-12-30 11:10:51','35','docker223',3,'',7,1),(165,'2017-12-30 11:10:51','34','6666',3,'',7,1),(166,'2017-12-30 11:10:51','33','jhhhh',3,'',7,1),(167,'2017-12-30 11:10:51','32','566',3,'',7,1),(168,'2017-12-30 11:11:20','15','Python实战笔记',2,'Changed newpic.',8,1),(169,'2017-12-30 11:11:43','13','openstack集群构建',2,'Changed newpic.',8,1),(170,'2017-12-30 11:12:31','12','Openstack 中 HTTPD 运行 Keystone',2,'Changed newpic.',8,1),(171,'2017-12-30 11:57:20','20','python个人支付宝查询',2,'Changed summary, content, url and check_enable.',8,1),(172,'2017-12-30 11:58:30','20','python个人支付宝查询',2,'Changed content.',8,1),(173,'2018-01-03 10:15:43','21','Centos7.2 Openstack镜像制作',2,'Changed content, url and check_enable.',8,1),(174,'2018-01-04 04:37:52','22','nova api介绍中文版',2,'Changed content, url and check_enable.',8,1),(175,'2018-01-04 05:09:55','23','Openstack N版升级方案',2,'Changed content, url and check_enable.',8,1),(176,'2018-01-04 05:11:37','23','Openstack N版升级方案',2,'Changed content.',8,1),(177,'2018-01-04 05:12:39','23','Openstack N版升级方案',2,'Changed content.',8,1),(178,'2018-01-04 05:13:22','23','Openstack N版升级方案',2,'Changed content.',8,1),(179,'2018-01-04 05:26:19','24','OpenStack 安装手册（Devstack）',2,'Changed content, url and check_enable.',8,1),(180,'2018-01-04 07:49:29','20','docker安装',2,'Changed content.',7,1),(181,'2018-01-04 08:33:29','25','kvm 宿主机部署文档',2,'Changed content, url and check_enable.',8,1),(182,'2018-01-04 08:46:53','26','Openstack开发基础',2,'Changed content, url and check_enable.',8,1),(183,'2018-01-04 08:48:33','26','Openstack开发基础',2,'Changed content.',8,1),(184,'2018-01-04 09:11:33','27','Fuel openstack 自动化部署方案',2,'已修改 content，url 和 check_enable 。',8,1),(185,'2018-01-04 09:17:23','28','Nova Serial Console使用',2,'已修改 content，url 和 check_enable 。',8,1),(186,'2018-01-04 09:18:13','28','Nova Serial Console使用',2,'已修改 content 。',8,1),(187,'2018-01-04 09:18:20','27','Fuel openstack 自动化部署方案',2,'已修改 content 。',8,1),(188,'2018-01-04 09:39:20','29','VMP2.0远程调试搭建',2,'已修改 content，url 和 check_enable 。',8,1),(189,'2018-01-04 09:42:36','29','pycharm远程调试搭建',2,'已修改 title 和 summary 。',8,1),(190,'2018-01-04 10:07:14','36','Python 面向对象编程',2,'已修改 content，url 和 check_enable 。',7,1),(191,'2018-01-04 10:21:31','36','Python 面向对象编程',2,'已修改 videos_url 和 favor_count 。',7,1),(192,'2018-01-04 10:29:23','30','自建openstack YUM源',2,'已修改 content，url 和 check_enable 。',8,1),(193,'2018-01-05 01:32:24','37','云计算基础 - 一分钟了解云计算',3,'',7,1),(194,'2018-01-05 02:14:01','39','2112',3,'',7,1),(195,'2018-01-05 02:14:01','38','一分钟了解云计算',3,'',7,1),(196,'2018-01-05 02:14:49','40','一分钟了解云计算',2,'已修改 content，url 和 check_enable 。',7,1),(197,'2018-01-05 05:32:59','42','333',2,'已修改 content，url 和 check_enable 。',7,1),(198,'2018-01-05 05:45:57','42','333',3,'',7,1),(199,'2018-01-05 05:45:57','41','222',3,'',7,1),(200,'2018-01-05 05:46:31','40','一分钟了解云计算',3,'',7,1),(201,'2018-01-05 05:48:20','43','一分钟了解云计算',2,'已修改 content，url 和 check_enable 。',7,1),(202,'2018-01-05 05:50:31','44','5566',3,'',7,1),(203,'2018-01-05 05:57:03','46','2234',2,'已修改 content，newpic，url 和 check_enable 。',7,1),(204,'2018-01-05 06:17:52','49','accc',2,'已修改 content，url 和 check_enable 。',7,1),(205,'2018-01-05 06:18:32','49','accc',2,'没有字段被修改。',7,1),(206,'2018-01-05 06:19:37','49','accc',3,'',7,1),(207,'2018-01-05 06:19:37','48','445d',3,'',7,1),(208,'2018-01-05 06:19:37','47','vgv',3,'',7,1),(209,'2018-01-05 06:19:37','46','2234',3,'',7,1),(210,'2018-01-05 06:19:37','45','23',3,'',7,1),(211,'2018-01-05 06:59:21','50','在混合云模式中现代化您的微软应用程序 ',2,'已修改 summary，content，url 和 check_enable 。',7,1),(212,'2018-01-05 07:05:06','6','云计算',1,'',14,1),(213,'2018-01-05 07:10:36','51','CloudStack 基础安装与配置 ',2,'已修改 content，url 和 check_enable 。',7,1),(214,'2018-01-05 07:18:14','52','在云端构建完整的企业级 IT 系统 ',2,'已修改 content，url 和 check_enable 。',7,1),(215,'2018-01-05 07:41:13','56','Docker 容器与外部网络的连接',2,'已修改 content，url 和 check_enable 。',7,1),(216,'2018-01-05 07:41:18','55',' Docker 技术原理 ',2,'已修改 content，url 和 check_enable 。',7,1),(217,'2018-01-05 07:41:25','54',' 从Docker到CaaS（六）微服务与CaaS',2,'已修改 summary，content，url 和 check_enable 。',7,1),(218,'2018-01-05 07:41:30','53','云计算基础知识',2,'已修改 summary，content，url 和 check_enable 。',7,1),(219,'2018-01-05 07:41:35','52','在云端构建完整的企业级 IT 系统 ',2,'没有字段被修改。',7,1),(220,'2018-01-05 07:49:28','57','Docker容器的跨主机访问 ',2,'已修改 summary，content，url 和 check_enable 。',7,1),(221,'2018-01-05 07:57:45','31','OpenvSwitch概念和原理  ',2,'已修改 summary，content，url 和 check_enable 。',8,1),(222,'2018-01-05 08:06:43','31','OpenvSwitch概念和原理  ',2,'没有字段被修改。',8,1),(223,'2018-01-05 08:06:53','58',' Docker 源码分析(一) Docker 介绍',2,'已修改 summary，content，url 和 check_enable 。',7,1),(224,'2018-01-05 09:16:46','59','Scrapy教程_Scrapy视频教程',2,'已修改 content，newpic 和 url 。',7,1),(225,'2018-01-05 09:16:52','59','Scrapy教程_Scrapy视频教程',2,'已修改 check_enable 。',7,1),(226,'2018-01-05 09:21:33','59','Scrapy教程_Scrapy视频教程',3,'',7,1),(227,'2018-01-05 10:46:36','62','333',3,'',7,1),(228,'2018-01-05 10:46:36','61','eee',3,'',7,1),(229,'2018-01-05 10:46:43','60','Scrapy教程_Scrapy视频教程',2,'已修改 summary，content，url 和 check_enable 。',7,1),(230,'2018-01-05 11:47:42','43','一分钟了解云计算',2,'已修改 content 。',7,1);
/*!40000 ALTER TABLE `django_admin_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_content_type`
--

DROP TABLE IF EXISTS `django_content_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_content_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_label` varchar(100) NOT NULL,
  `model` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `django_content_type_app_label_6e9451c4aca3732d_uniq` (`app_label`,`model`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_content_type`
--

LOCK TABLES `django_content_type` WRITE;
/*!40000 ALTER TABLE `django_content_type` DISABLE KEYS */;
INSERT INTO `django_content_type` VALUES (1,'admin','logentry'),(10,'app01','admin'),(16,'app01','buycart'),(14,'app01','category'),(15,'app01','chat'),(8,'app01','documentdata'),(17,'app01','goodslist'),(18,'app01','gotvideo'),(7,'app01','news'),(12,'app01','newtype'),(13,'app01','reply'),(9,'app01','serverclient'),(11,'app01','usertype'),(3,'auth','group'),(2,'auth','permission'),(4,'auth','user'),(5,'contenttypes','contenttype'),(6,'sessions','session');
/*!40000 ALTER TABLE `django_content_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_migrations`
--

DROP TABLE IF EXISTS `django_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_migrations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `applied` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_migrations`
--

LOCK TABLES `django_migrations` WRITE;
/*!40000 ALTER TABLE `django_migrations` DISABLE KEYS */;
INSERT INTO `django_migrations` VALUES (1,'contenttypes','0001_initial','2017-12-19 04:34:42'),(2,'auth','0001_initial','2017-12-19 04:34:42'),(3,'admin','0001_initial','2017-12-19 04:34:42'),(4,'app01','0001_initial','2017-12-19 04:34:43'),(5,'app01','0002_auto_20170831_1446','2017-12-19 04:34:43'),(6,'app01','0003_documentdata','2017-12-19 04:34:43'),(7,'app01','0004_auto_20170902_1056','2017-12-19 04:34:43'),(8,'app01','0005_auto_20170904_1042','2017-12-19 04:34:43'),(9,'app01','0006_auto_20170904_1104','2017-12-19 04:34:43'),(10,'app01','0007_auto_20170904_1105','2017-12-19 04:34:43'),(11,'app01','0008_auto_20170905_1642','2017-12-19 04:34:43'),(12,'app01','0009_auto_20170905_1647','2017-12-19 04:34:44'),(13,'app01','0010_auto_20170905_1658','2017-12-19 04:34:44'),(14,'app01','0011_auto_20170905_1700','2017-12-19 04:34:44'),(15,'app01','0012_auto_20170905_1738','2017-12-19 04:34:44'),(16,'app01','0013_auto_20170905_1745','2017-12-19 04:34:44'),(17,'app01','0014_auto_20170905_1816','2017-12-19 04:34:44'),(18,'app01','0015_auto_20170905_1822','2017-12-19 04:34:44'),(19,'app01','0016_documentdata_course_price','2017-12-19 04:34:44'),(20,'app01','0017_auto_20171112_0247','2017-12-19 04:34:44'),(21,'app01','0018_auto_20171112_0255','2017-12-19 04:34:44'),(22,'app01','0019_remove_admin_buy_car','2017-12-19 04:34:44'),(23,'app01','0020_admin_buy_car','2017-12-19 04:34:44'),(24,'app01','0021_remove_admin_buy_car','2017-12-19 04:34:44'),(25,'app01','0022_auto_20171112_0314','2017-12-19 04:34:44'),(26,'app01','0023_auto_20171112_0321','2017-12-19 04:34:44'),(27,'app01','0024_auto_20171112_0326','2017-12-19 04:34:44'),(28,'app01','0025_auto_20171112_0328','2017-12-19 04:34:44'),(29,'app01','0026_buycar','2017-12-19 04:34:44'),(30,'app01','0027_auto_20171112_0330','2017-12-19 04:34:45'),(31,'app01','0028_auto_20171112_0339','2017-12-19 04:34:45'),(32,'app01','0029_buycar_total_price','2017-12-19 04:34:45'),(33,'app01','0030_auto_20171112_0359','2017-12-19 04:34:45'),(34,'app01','0031_admin_my_cart','2017-12-19 04:34:45'),(35,'app01','0032_goodslist','2017-12-19 04:34:45'),(36,'app01','0033_auto_20171119_1124','2017-12-19 04:34:45'),(37,'app01','0034_auto_20171120_1548','2017-12-19 04:34:45'),(38,'app01','0035_auto_20171120_1609','2017-12-19 04:34:45'),(39,'app01','0036_goodslist_ifpay','2017-12-19 04:34:45'),(40,'app01','0037_courses','2017-12-19 04:34:45'),(41,'app01','0038_news_check_enable','2017-12-19 04:34:45'),(42,'app01','0039_auto_20171128_0612','2017-12-19 04:34:45'),(43,'app01','0040_auto_20171128_0630','2017-12-19 04:34:46'),(44,'app01','0041_auto_20171128_0634','2017-12-19 04:34:46'),(45,'app01','0042_courses_create_date','2017-12-19 04:34:46'),(46,'app01','0043_auto_20171129_0620','2017-12-19 04:34:46'),(47,'app01','0044_documentdata_check_enable','2017-12-19 04:34:46'),(48,'app01','0045_gotvideo','2017-12-19 04:34:46'),(49,'app01','0046_auto_20171210_1549','2017-12-19 04:34:46'),(50,'contenttypes','0002_remove_content_type_name','2017-12-19 04:34:47'),(51,'auth','0002_alter_permission_name_max_length','2017-12-19 04:34:47'),(52,'auth','0003_alter_user_email_max_length','2017-12-19 04:34:47'),(53,'auth','0004_alter_user_username_opts','2017-12-19 04:34:47'),(54,'auth','0005_alter_user_last_login_null','2017-12-19 04:34:47'),(55,'auth','0006_require_contenttypes_0002','2017-12-19 04:34:47'),(56,'sessions','0001_initial','2017-12-19 04:34:47'),(57,'app01','0047_auto_20171220_1536','2017-12-20 16:11:34'),(58,'app01','0048_auto_20171220_1539','2017-12-20 16:11:34'),(59,'app01','0049_news_videos_url','2017-12-20 16:11:34'),(60,'app01','0050_auto_20171220_1546','2017-12-20 16:11:34'),(61,'app01','0051_remove_news_videos_url','2017-12-20 16:11:34'),(62,'app01','0052_news_videos_url','2017-12-20 16:11:34'),(63,'app01','0053_remove_news_videos_url','2017-12-20 16:11:34'),(64,'app01','0054_news_videos_url','2017-12-20 16:11:34'),(65,'app01','0055_remove_news_videos_url','2017-12-20 16:11:34'),(66,'app01','0056_news_videos_url','2017-12-20 16:11:34'),(67,'app01','0057_auto_20171221_0846','2017-12-21 08:46:35'),(68,'app01','0058_auto_20171230_0740','2017-12-30 07:40:38'),(69,'app01','0059_auto_20171230_0741','2017-12-30 07:41:56'),(70,'app01','0060_auto_20171230_0743','2017-12-30 07:43:48'),(71,'app01','0061_auto_20171230_0815','2017-12-30 08:15:45'),(72,'app01','0062_auto_20171230_0816','2017-12-30 08:16:54'),(73,'app01','0063_auto_20171230_0825','2017-12-30 08:25:34'),(74,'app01','0064_auto_20171230_0828','2017-12-30 08:28:37'),(75,'app01','0065_auto_20171230_0831','2017-12-30 08:31:21'),(76,'app01','0066_auto_20171230_0837','2017-12-30 08:37:35'),(77,'app01','0067_auto_20171230_0842','2017-12-30 08:42:40'),(78,'app01','0068_auto_20171230_1004','2017-12-30 10:04:56');
/*!40000 ALTER TABLE `django_migrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_session`
--

DROP TABLE IF EXISTS `django_session`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_session` (
  `session_key` varchar(40) NOT NULL,
  `session_data` longtext NOT NULL,
  `expire_date` datetime NOT NULL,
  PRIMARY KEY (`session_key`),
  KEY `django_session_de54fa62` (`expire_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_session`
--

LOCK TABLES `django_session` WRITE;
/*!40000 ALTER TABLE `django_session` DISABLE KEYS */;
INSERT INTO `django_session` VALUES ('25fotwjqepbf9dkak5jxm5l231vmgl0k','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-03 14:12:34'),('2y88c3tuk9vqs5c30rxxb7akd0ztmitz','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-17 09:36:01'),('36t5yv6gtjgqnfole2pr27b8fpv7fuxk','YzJlYTJhYzM1ODk5MGI5ODEzNWQxZWI2YzQ4N2UyMzk4ZjQ4NDhiZTp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxLCJfYXV0aF91c2VyX2lkIjoiMSIsIl9hdXRoX3VzZXJfYmFja2VuZCI6ImRqYW5nby5jb250cmliLmF1dGguYmFja2VuZHMuTW9kZWxCYWNrZW5kIiwiX2F1dGhfdXNlcl9oYXNoIjoiM2Q5YWRkMDI0YjMzYWYyYTk1MjVmNzIwMjMwMmNmOWI3MGY2MjQzNiJ9','2018-01-10 05:33:28'),('4axcevfdj4w1a2unrjfm3n1w92gvp5wi','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-05 13:34:06'),('4eepat4o4k8th53ecaddo0z0tcs3z35r','MjI2YWUxNWRlMzIyZjJmZDE4Nzk0ZTdjZDY3ZGQ4ZDllZTM1OTYzYzp7ImlzX2xvZ2luIjoic2FtIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiIzZDlhZGQwMjRiMzNhZjJhOTUyNWY3MjAyMzAyY2Y5YjcwZjYyNDM2IiwiX2F1dGhfdXNlcl9pZCI6IjEiLCJjdXJyZW50X3VzZXJfaWQiOjF9','2018-01-17 09:33:23'),('4pp9hdcpr0odpgir4rinoinm4ktcgf3x','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-06 08:18:33'),('9l304eh387t4utg5kl6tw2qyixbm81g1','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-06 08:03:05'),('dh4ci6423wi6byaojkaa4p70hl2bb5tv','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-02-04 11:01:48'),('hd8ocb5ugqfn6wp6fvs46rkg3qw5fa06','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-02 16:14:59'),('ifdaftutszbxp5onnl0h2p2qjgb9jbjn','NjUxNGJmN2NkMTQ5MzEzMTM3YzM5NTY5ZDY3OGJiNDliYWQwYjQ3Yjp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiX2F1dGhfdXNlcl9oYXNoIjoiM2Q5YWRkMDI0YjMzYWYyYTk1MjVmNzIwMjMwMmNmOWI3MGY2MjQzNiIsIl9hdXRoX3VzZXJfaWQiOiIxIiwiaXNfbG9naW4iOiJzYW0iLCJfYXV0aF91c2VyX2JhY2tlbmQiOiJkamFuZ28uY29udHJpYi5hdXRoLmJhY2tlbmRzLk1vZGVsQmFja2VuZCJ9','2018-01-06 10:39:23'),('iw40am7iapbbzpxi0087rtkwcans4bbk','ZmJmZWM4YzEyZTcwZTMyZWI3ZmQ3YzE2MmU0NjM4NzM5ODdjZGQ4Yzp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiX2F1dGhfdXNlcl9pZCI6IjEiLCJfYXV0aF91c2VyX2hhc2giOiIzZDlhZGQwMjRiMzNhZjJhOTUyNWY3MjAyMzAyY2Y5YjcwZjYyNDM2IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJpc19sb2dpbiI6InNhbSJ9','2018-01-02 10:46:21'),('jjt7zzyhe5rxdhzj5zp8z7e528vfqasj','NjIyMDcwNzQyYmY0MTIwYmZjZTY2YmUxMWY2Y2FiNzEwNWEyODY3NTp7Il9hdXRoX3VzZXJfYmFja2VuZCI6ImRqYW5nby5jb250cmliLmF1dGguYmFja2VuZHMuTW9kZWxCYWNrZW5kIiwiX2F1dGhfdXNlcl9oYXNoIjoiM2Q5YWRkMDI0YjMzYWYyYTk1MjVmNzIwMjMwMmNmOWI3MGY2MjQzNiIsIl9hdXRoX3VzZXJfaWQiOiIxIiwiaXNfbG9naW4iOiJzYW0iLCJjdXJyZW50X3VzZXJfaWQiOjF9','2018-01-29 12:57:06'),('mp40hcd2fojn6exknouhphmxw9y0vfef','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-03 12:11:21'),('o85zozp8z5ft9rrurxb1n0wq076dhji9','MmU2YjdiODEyMGZjYjViYTMxN2EwODUxYzEyNzI1YmFhOTA0OTAxNDp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0iLCJfYXV0aF91c2VyX2lkIjoiMSIsIl9hdXRoX3VzZXJfYmFja2VuZCI6ImRqYW5nby5jb250cmliLmF1dGguYmFja2VuZHMuTW9kZWxCYWNrZW5kIiwiX2F1dGhfdXNlcl9oYXNoIjoiM2Q5YWRkMDI0YjMzYWYyYTk1MjVmNzIwMjMwMmNmOWI3MGY2MjQzNiJ9','2018-01-03 14:41:28'),('oopyq8ryhn9eycbb55l813v3d5xk9pwz','MjI2YWUxNWRlMzIyZjJmZDE4Nzk0ZTdjZDY3ZGQ4ZDllZTM1OTYzYzp7ImlzX2xvZ2luIjoic2FtIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiIzZDlhZGQwMjRiMzNhZjJhOTUyNWY3MjAyMzAyY2Y5YjcwZjYyNDM2IiwiX2F1dGhfdXNlcl9pZCI6IjEiLCJjdXJyZW50X3VzZXJfaWQiOjF9','2018-01-17 09:27:58'),('p25gnd0ely3grqop08uwhsj3yqe9mdcs','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-13 05:14:46'),('plrc6pmafu39q796a9thmrdjtr0bobrr','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-25 14:44:44'),('qfi0w9rcasznciz9lgv3v6qrm532y0lc','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-17 09:18:11'),('qxo4c6dx1fmht6zyyoij64hvy0fl94o3','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-03 03:41:05'),('rmxegd3bexc80fb9p1qlud2qz5mp3gn6','ODA3MDRkZDRkZTE4MzkxYjI5ODUzODNhNDk1MDFkOTFlMTdkYWZmNzp7ImlzX2xvZ2luIjoic2FtIiwiY3VycmVudF91c2VyX2lkIjoxfQ==','2018-01-02 11:20:29'),('ro1tpwwtjapkqucculmp0c1kmv46wg0v','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-10 11:51:17'),('ui4nftgycxa6wjbzd9kcc966g526mz4f','MDhjN2ZmOTg0MzY4NjY1NzAwZGFjYjM2NGQwOTFlMjY3MjY3ZWE4NTp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiY3VycmVudF91c2VyX2lkIjoxLCJfYXV0aF91c2VyX2hhc2giOiIzZDlhZGQwMjRiMzNhZjJhOTUyNWY3MjAyMzAyY2Y5YjcwZjYyNDM2IiwiaXNfbG9naW4iOiJzYW0iLCJfYXV0aF91c2VyX2JhY2tlbmQiOiJkamFuZ28uY29udHJpYi5hdXRoLmJhY2tlbmRzLk1vZGVsQmFja2VuZCJ9','2018-01-18 09:58:06'),('vvgj1039er763xiibhfjizrnq3sgoasc','ODIwNTE0ZWEyYzVkMzBhM2M1ZDk4M2ZkMGM1ZGY2Y2UxNmU0YzBiZTp7ImN1cnJlbnRfdXNlcl9pZCI6MSwiaXNfbG9naW4iOiJzYW0ifQ==','2018-01-19 13:24:25'),('xkkd07qr8tyuzmug0cafdkfhj1tewckj','NTRlYTQwOTk4YTQ1MjA2ODIxOTkxMTZkNGY4NWQ0OTJiNTE4ZGFhNTp7Il9hdXRoX3VzZXJfYmFja2VuZCI6ImRqYW5nby5jb250cmliLmF1dGguYmFja2VuZHMuTW9kZWxCYWNrZW5kIiwiY3VycmVudF91c2VyX2lkIjoxLCJfYXV0aF91c2VyX2lkIjoiMSIsIl9hdXRoX3VzZXJfaGFzaCI6IjNkOWFkZDAyNGIzM2FmMmE5NTI1ZjcyMDIzMDJjZjliNzBmNjI0MzYiLCJpc19sb2dpbiI6InNhbSJ9','2018-01-19 06:59:10');
/*!40000 ALTER TABLE `django_session` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-01-23 13:15:37
