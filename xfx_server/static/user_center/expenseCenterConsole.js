/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
*/

/**
 * @license AngularJS v1.2.2
 * (c) 2010-2012 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*
 AngularJS v1.2.2
 (c) 2010-2012 Google, Inc. http://angularjs.org
 License: MIT
*/

/**
 * angular-growl - v0.4.0 - 2013-11-19
 * https://github.com/marcorinck/angular-growl
 * Copyright (c) 2013 Marco Rinck; Licensed MIT
 */

/**
 * State-based routing for AngularJS
 * @version v0.2.7
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.1.0 - 2013-12-29
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*!
 * angular-translate - v2.2.0 - 2014-06-03
 * http://github.com/PascalPrecht/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */

/**
	 * Bindonce - Zero watches binding for AngularJs
	 * @version v0.3.1
	 * @link https://github.com/Pasvaz/bindonce
	 * @author Pasquale Vazzana <pasqualevazzana@gmail.com>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */

/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

/*! 4.0.0 */

/**
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */

(function(e,t){function H(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e){var t=B[e]={};return w.each(e.match(S)||[],function(e,n){t[n]=!0}),t}function q(e,n,r,i){if(w.acceptData(e)){var s,o,u=w.expando,a=e.nodeType,f=a?w.cache:e,l=a?e[u]:e[u]&&u;if(l&&f[l]&&(i||f[l].data)||r!==t||"string"!=typeof n)return l||(l=a?e[u]=c.pop()||w.guid++:u),f[l]||(f[l]=a?{}:{toJSON:w.noop}),("object"==typeof n||"function"==typeof n)&&(i?f[l]=w.extend(f[l],n):f[l].data=w.extend(f[l].data,n)),o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[w.camelCase(n)]=r),"string"==typeof n?(s=o[n],null==s&&(s=o[w.camelCase(n)])):s=o,s}}function R(e,t,n){if(w.acceptData(e)){var r,i,s=e.nodeType,o=s?w.cache:e,u=s?e[w.expando]:w.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in r?t=[t]:(t=w.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!z(r):!w.isEmptyObject(r))return}(n||(delete o[u].data,z(o[u])))&&(s?w.cleanData([e],!0):w.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function U(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(I,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else r=t}return r}function z(e){var t;for(t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function it(){return!0}function st(){return!1}function ot(){try{return o.activeElement}catch(e){}}function ct(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function ht(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ut.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return w.nodeName(e,"table")&&w.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _t(e){return e.type=(null!==w.find.attr(e,"type"))+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function Ht(e,t){if(1===t.nodeType&&w.hasData(e)){var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)w.event.add(t,n,u[n][r])}o.data&&(o.data=w.extend({},o.data))}}function Bt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}"script"===n&&t.text!==e.text?(_t(t).text=e.text,Dt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;null!=(s=r[o]);o++)!n||w.nodeName(s,n)?u.push(s):w.merge(u,jt(s,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===w.css(e,"display")||!w.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;u>o;o++)r=e[o],r.style&&(s[o]=w._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(s[o]=w._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&"none"!==n||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;for(;4>s;s+=2)"margin"===n&&(o+=w.css(e,n+Zt[s],!0,i)),r?("content"===n&&(o-=w.css(e,"padding"+Zt[s],!0,i)),"margin"!==n&&(o-=w.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=w.css(e,"padding"+Zt[s],!0,i),"padding"!==n&&(o+=w.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=qt(e),o=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Rt(e,t,s),(0>i||null==i)&&(i=e.style[t]),Jt.test(i))return i;r=o&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=o,n=Qt[e];return n||(n=fn(e,t),"none"!==n&&n||(It=(It||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach()),Qt[e]=n),n}function fn(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(w.isArray(t))w.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==w.type(t))r(e,t);else for(i in t)vn(e+"["+i+"]",t[i],n,r)}function _n(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,n,r,i){function u(a){var f;return s[a]=!0,w.each(e[a]||[],function(e,a){var l=a(n,r,i);return"string"!=typeof l||o||s[l]?o?!(f=l):t:(n.dataTypes.unshift(l),u(l),!1)}),f}var s={},o=e===An;return u(n.dataTypes[0])||!s["*"]&&u("*")}function Pn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&w.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while("*"===f[0])f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}return o?(o!==f[0]&&f.unshift(o),r[o]):t}function Bn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=w.now()}function Zn(e,t,n){var r,i=(Gn[t]||[]).concat(Gn["*"]),s=0,o=i.length;for(;o>s;s++)if(r=i[s].call(n,t,e))return r}function er(e,t,n){var r,i,s=0,o=Qn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(tr(l,f.opts.specialEasing);o>s;s++)if(r=Qn[s].call(f,e,l,f.opts))return r;return w.map(l,Zn,f),w.isFunction(f.opts.start)&&f.opts.start.call(e,f),w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(n in e)if(r=w.camelCase(n),i=t[r],s=e[n],w.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=w.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function nr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&nn(e),p=w._data(e,"fxshow");n.queue||(u=w._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,w.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],"inline"===w.css(e,"display")&&"none"===w.css(e,"float")&&(w.support.inlineBlockNeedsLayout&&"inline"!==an(e.nodeName)?c.zoom=1:c.display="inline-block")),n.overflow&&(c.overflow="hidden",w.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],$n.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(h?"hide":"show"))continue;l[r]=p&&p[r]||w.style(e,r)}if(!w.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=w._data(e,"fxshow",{}),s&&(p.hidden=!h),h?w(e).show():f.done(function(){w(e).hide()}),f.done(function(){var t;w._removeData(e,"fxshow");for(t in l)w.style(e,t,l[t])});for(r in l)o=Zn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return w.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.location,o=e.document,u=o.documentElement,a=e.jQuery,f=e.$,l={},c=[],h="1.10.2",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,r)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(P(),w.ready())},P=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(o.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),N.test(i[1])&&w.isPlainObject(n))for(i in n)w.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(s=o.getElementById(i[2]),s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return v.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[1]||{},a=2),"object"==typeof u||w.isFunction(u)||(u={}),f===a&&(u=this,--a);f>a;a++)if(null!=(s=arguments[a]))for(i in s)e=u[i],r=s[i],u!==r&&(l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=e&&w.isArray(e)?e:[]):o=e&&w.isPlainObject(e)?e:{},u[i]=w.extend(l,o,r)):r!==t&&(u[i]=r));return u},w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=f),t&&e.jQuery===w&&(e.jQuery=a),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?!--w.readyWait:!w.isReady){if(!o.body)return setTimeout(w.ready);w.isReady=!0,e!==!0&&--w.readyWait>0||(n.resolveWith(o,[w]),w.fn.trigger&&w(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(w.support.ownLast)for(n in e)return y.call(e,n);for(n in e);return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=N.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=w.trim(n),n&&C.test(n.replace(L,"@").replace(A,"]").replace(k,"")))?Function("return "+n)():(w.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("﻿ ")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(H(Object(e))?w.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if("number"==typeof r)for(;r>s;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o)for(;s>i;i++)r=t(e[i],i,n),null!=r&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(u[u.length]=r);return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return"string"==typeof n&&(s=e[n],n=e,e=s),w.isFunction(e)?(r=v.call(arguments,2),i=function(){return e.apply(n||this,r.concat(v.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===w.type(r)){s=!0;for(a in r)w.access(e,n,a,r[a],!0,o,u)}else if(i!==t&&(s=!0,w.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)})),n))for(;f>a;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)));return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),w.ready.promise=function(t){if(!n)if(n=w.Deferred(),"complete"===o.readyState)setTimeout(w.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{o.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function s(){if(!w.isReady){try{r.doScroll("left")}catch(e){return setTimeout(s,50)}P(),w.ready()}}()}return n.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),r=w(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,w;if((t?t.ownerDocument||t:E)!==h&&c(t),t=t||h,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(9===a){if(o=t.getElementById(u),!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){if(m=p=b,g=t,w=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,w=l.join(",")}if(w)try{return H.apply(n,g.querySelectorAll(w)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){(!n||(r=X.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),a.push(i=[])),n=!1,(r=V.exec(u))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length));for(o in s.filter)!(r=G[o].exec(u))||f[o]&&!(r=f[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&"parentNode"===r,o=x++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if((1===t.nodeType||s)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||s)if(l=t[b]||(t[b]={}),(f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else if(f=l[r]=[c],f[1]=e(t,n,u)||i,f[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=null!=t;for(;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;i>a;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=s.filter[e[a].type].apply(null,e[a].matches),n[b]){for(r=++a;i>r;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),n,r>a&&St(e.slice(a,r)),i>r&&St(e=e.slice(r)),i>r&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=null!=p,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=null==x?1:Math.random()||.1;for(E&&(f=a!==h&&a,i=n);null!=(d=T[b]);b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}if(y+=b,r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)w[b]||g[b]||(g[b]=D.call(c));g=wt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&1===h.length){if(u=h[0]=h[0].slice(0),u.length>2&&"ID"===(f=u[0]).type&&r.getById&&9===t.nodeType&&d&&s.relative[u[1].type]){if(t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){if(f=u[o],s.relative[l=f.type])break;if((c=s.find[l])&&(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t))){if(u.splice(o,1),e=i.length&&gt(u),!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=RegExp("^"+I+"*,"+I+"*"),V=RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=RegExp(I+"*[+~]"),J=RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=RegExp(z),Q=RegExp("^"+R+"$"),G={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q.replace("w","w*")+")"),ATTR:RegExp("^"+U),PSEUDO:RegExp("^"+z),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:RegExp("^(?:"+F+")$","i"),needsContext:RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{H.apply(_=B.call(E.childNodes),E.childNodes),_[E.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=ot.support={},c=ot.setDocument=function(e){var n=e?e.ownerDocument||e:E,i=n.defaultView;return n!==h&&9===n.nodeType&&n.documentElement?(h=n,p=n.documentElement,d=!u(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ft(function(e){return p.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==A&&d?n.getElementsByClassName(e):t},m=[],v=[],(r.qsa=Y.test(n.querySelectorAll))&&(ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&RegExp(v.join("|")),m=m.length&&RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||y(E,e)?-1:t===n||y(E,t)?1:l?j.call(l,e)-j.call(l,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(e===t)return k=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:l?j.call(l,e)-j.call(l,t):0;if(s===o)return ct(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===E?-1:a[i]===E?1:0},n):h},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']"),!(!r.matchesSelector||!d||m&&m.test(t)||v&&v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;if(k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L),k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[b]||(c[b]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(F,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),w.find=ot,w.expr=ot.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ot.uniqueSort,w.text=ot.getText,w.isXMLDoc=ot.isXML,w.contains=ot.contains}(e);var B={};w.Callbacks=function(e){e="string"==typeof e?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){for(r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;a&&s>o;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1)a.splice(r,1),n&&(s>=r&&s--,o>=r&&o--)}),this},has:function(e){return e?w.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||i&&!f||(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=1!==r||e&&w.isFunction(e.promise)?r:0,s=1===i?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?v.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=Array(r),a=Array(r),f=Array(r);r>t;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}}),w.support=function(t){var n,r,s,u,a,f,l,c,h,p=o.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;u=o.createElement("select"),f=u.appendChild(o.createElement("option")),s=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==p.className,t.leadingWhitespace=3===p.firstChild.nodeType,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!s.value,t.optSelected=f.selected,t.enctype=!!o.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}s=o.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),a=o.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===p.style.backgroundClip;for(h in w(t))break;return t.ownLast="0"!==h,w(function(){var n,r,s,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=p.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&0===s[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===p.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(p,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(p,null)||{width:"4px"}).width,r=p.appendChild(o.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==p.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=s=r=null)}),n=u=a=f=r=s=null,t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length&&(s=w.data(u),1===u.nodeType&&!w._data(u,"parsedAttrs"))){for(r=u.attributes;r.length>o;o++)i=r[o].name,0===i.indexOf("data-")&&(i=w.camelCase(i.slice(5)),U(u,i,s[i]));w._data(u,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):u?U(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=w._data(e,n),r&&(!i||w.isArray(r)?i=w._data(e,n,w.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(u--)r=w._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var W,X,V=/[\t\r\n\f]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,G=w.support.getSetAttribute,Y=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a="string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(S)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(V," "):" ")){s=0;while(i=t[s++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=w.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=0===arguments.length||"string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(S)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(V," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,s=w(this),o=e.match(S)||[];while(t=o[r++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(arguments.length)return i=w.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=i?e.call(this,n,w(this).val()):e,null==s?s="":"number"==typeof s?s+="":w.isArray(s)&&(s=w.map(s,function(e){return null==e?"":e+""})),r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,s,"value")!==t||(this.value=s))});if(s)return r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;for(;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(w.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&w.nodeName(n.parentNode,"optgroup"))){if(t=w(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=w.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=w.inArray(w(r).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?w.prop(e,n,r):(1===u&&w.isXMLDoc(e)||(n=n.toLowerCase(),s=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:W)),r===t?s&&"get"in s&&null!==(o=s.get(e,n))?o:(o=w.find.attr(e,n),null==o?t:o):null!==r?s&&"set"in s&&(o=s.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(w.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&1===e.nodeType)while(n=s[i++])r=w.propFix[n]||n,w.expr.match.bool.test(n)?Y&&G||!Q.test(n)?e[r]=!1:e[w.camelCase("default-"+n)]=e[r]=!1:w.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!w.isXMLDoc(e),o&&(n=w.propFix[n]||n,s=w.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&null!==(i=s.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?w.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var r=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Y&&G||!Q.test(n)?function(e,n,i){var s=w.expr.attrHandle[n],o=i?t:(w.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return w.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}}),Y&&G||(w.attrHooks.value={set:function(e,n,r){return w.nodeName(e,"input")?(e.defaultValue=n,t):W&&W.set(e,n,r)}}),G||(W={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:W.set},w.attrHooks.contenteditable={set:function(e,t,n){W.set(e,""===t?!1:t,n)}},w.each(["width","height"],function(e,n){w.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,n){return w.isArray(n)?e.checked=w.inArray(w(e).val(),n)>=0:t}},w.support.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(y){r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=w.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof w===i||e&&w.event.triggered===e.type?t:w.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(S)||[""],f=n.length;while(f--)u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),v&&(c=w.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=w.event.special[v]||{},p=w.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l),(d=a[v])||(d=a[v]=[],d.delegateCount=0,c.setup&&c.setup.call(e,s,m,h)!==!1||(e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[v]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(m&&(l=m.events)){t=(t||"").match(S)||[""],f=t.length;while(f--)if(u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=w.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],!i&&v!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||w.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[f],n,r,!0);w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))}},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(f=h=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(v+w.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=0>v.indexOf(":")&&"on"+v,n=n[w.expando]?n:new w.Event(v,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:w.makeArray(r,[n]),c=w.event.special[v]||{},s||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!s&&!c.noBubble&&!w.isWindow(i)){for(l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||o)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();if(n.type=v,!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&w.acceptData(i)&&a&&i[v]&&!w.isWindow(i)){h=i[a],h&&(i[a]=null),w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t,h&&(i[a]=h)}return n.result}},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=w.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!=this;f=f.parentNode||this)if(1===f.nodeType&&(f.disabled!==!0||"click"!==e.type)){for(s=[],o=0;a>o;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return n.length>a&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new w.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||u===t||(e.which=1&u?1:2&u?3:4&u?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ot()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ot()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return w.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},w.Event=function(e,n){return this instanceof w.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,n&&w.extend(this,n),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0,t):new w.Event(e,n)},w.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!w.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){return w.nodeName(this,"form")?!1:(w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;r&&!w._data(r,"submitBubbles")&&(w.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),w._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return w.nodeName(this,"form")?!1:(w.event.remove(this,"._submit"),t)}}),w.support.changeBubbles||(w.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(w.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)})),!1):(w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=st;else if(!i)return this;return 1===s&&(u=i,i=function(e){return w().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=st),this.each(function(){w.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?w.event.trigger(e,n,r,!0):t}});var ut=/^.[^:#\[\.,]*$/,at=/^(?:parents|prev(?:Until|All))/,ft=w.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;i>t;t++)if(w.contains(r[t],this))return!0}));for(t=0;i>t;t++)w.find(e,r[t],n);return n=this.pushStack(i>1?w.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e||[],!0))},filter:function(e){return this.pushStack(ht(this,e||[],!1))},is:function(e){return!!ht(this,"string"==typeof e&&ft.test(e)?w(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||"string"!=typeof e?w(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?"string"==typeof e?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(lt[e]||(i=w.unique(i)),at.test(e)&&(i=i.reverse())),this.pushStack(i)}}),w.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&9!==s.nodeType&&(r===t||1!==s.nodeType||!w(s).is(r)))1===s.nodeType&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(o),Ot=At.appendChild(o.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Mt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Mt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?w.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||w.cleanData(jt(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&w.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(vt,""):t;if(!("string"!=typeof e||St.test(e)||!w.support.htmlSerialize&&mt.test(e)||!w.support.leadingWhitespace&&gt.test(e)||Lt[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(yt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(w.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),w(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=p.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,d=e[0],v=w.isFunction(d);if(v||!(1>=l||"string"!=typeof d||w.support.checkClone)&&Tt.test(d))return this.each(function(r){var i=c.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(l&&(a=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,1===a.childNodes.length&&(a=r),r)){for(o=w.map(jt(a,"script"),_t),s=o.length;l>f;f++)i=a,f!==h&&(i=w.clone(i,!0,!0),s&&w.merge(o,jt(i,"script"))),t.call(this[f],i,f);if(s)for(u=o[o.length-1].ownerDocument,w.map(o,Dt),f=0;s>f;f++)i=o[f],Nt.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(u,i)&&(i.src?w._evalUrl(i.src):w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(kt,"")));a=r=null}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;o>=r;r++)n=r===o?this:this.clone(!0),w(s[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);if(w.support.html5Clone||w.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild)),!(w.support.noCloneEvent&&w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(r=jt(s),u=jt(e),o=0;null!=(i=u[o]);++o)r[o]&&Bt(i,r[o]);if(t)if(n)for(u=u||jt(e),r=r||jt(s),o=0;null!=(i=u[o]);o++)Ht(i,r[o]);else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;c>d;d++)if(s=e[d],s||0===s)if("object"===w.type(s))w.merge(p,s.nodeType?[s]:s);else if(Et.test(s)){u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;if(!w.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0])),!w.support.tbody){s="table"!==a||wt.test(s)?"<table>"!==l[1]||wt.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}w.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}else p.push(t.createTextNode(s));u&&h.removeChild(u),w.support.appendChecked||w.grep(jt(p,"input"),Ft),d=0;while(s=p[d++])if((!r||-1===w.inArray(s,r))&&(o=w.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u),n)){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;null!=(n=e[u]);u++)if((t||w.acceptData(n))&&(s=n[a],o=s&&f[s])){if(o.events)for(r in o.events)h[r]?w.event.remove(n,r):w.removeEvent(n,r,o.handle);f[s]&&(delete f[s],l?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,c.push(s))}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=RegExp("^("+E+")(.*)$","i"),Jt=RegExp("^("+E+")(?!px)[a-z%]+$","i"),Kt=RegExp("^([+-])=("+E+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){for(s=qt(e),i=n.length;i>u;u++)o[n[u]]=w.css(e,n[u],!1,s);return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=w.camelCase(n),f=e.style;if(n=w.cssProps[a]||(w.cssProps[a]=tn(f,a)),u=w.cssHooks[n]||w.cssHooks[a],r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];if(o=typeof r,"string"===o&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||w.cssNumber[a]||(r+="px"),w.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(f[n]="inherit"),u&&"set"in u&&(r=u.set(e,r,i))===t)))try{f[n]=r}catch(l){}}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);return n=w.cssProps[a]||(w.cssProps[a]=tn(e.style,a)),u=w.cssHooks[n]||w.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),"normal"===o&&n in Yt&&(o=Yt[n]),""===r||r?(s=parseFloat(o),r===!0||w.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(""!==a||w.contains(e.ownerDocument,e)||(a=w.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):o.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return null==a&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left="fontSize"===n?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),""===a?"auto":a}),w.each(["height","width"],function(e,n){w.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(w.css(e,"display"))?w.swap(e,Gt,function(){return un(e,n,i)}):un(e,n,i):t},set:function(e,t,r){var i=r&&qt(e);return sn(e,t,r?on(e,n,r,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,i),i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===w.trim(s.replace(Ut,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i)}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,n){return n?w.swap(e,{display:"inline-block"},Rt,[e,"marginRight"]):t}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,n){w.cssHooks[n]={get:function(e,r){return r?(r=Rt(e,n),Jt.test(r)?w(e).position()[n]+"px":r):t}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!w.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||w.css(e,"display"))},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(w.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,gn,yn=w.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=w.fn.load,Ln={},An={},On="*/".concat("*");try{gn=s.href}catch(Mn){gn=o.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],w.fn.load=function(e,n,r){if("string"!=typeof e&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),w.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),u.length>0&&w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,w.ajaxSettings),t):Pn(w.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;2!==b&&(b=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,r&&(E=Hn(c,x,r)),E=Bn(c,E,x,l),l?(c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(w.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(w.etag[s]=S)),204===e||"HEAD"===c.type?T="nocontent":304===e?T="notmodified":(T=E.state,g=E.data,y=E.error,l=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--w.active||w.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return f&&f.abort(t),N(0,t),this}};if(d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""],null==c.crossDomain&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=w.param(c.data,c.traditional)),Dn(Ln,c,n,x),2===b)return x;a=c.global,a&&0===w.active++&&w.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&2!==b){E="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);if(f=Dn(An,c,n,x)){x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(2>b))throw T;N(-1,T)}}else N(-1,"No Transport");return x}return x.abort()},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){return w.isFunction(r)&&(s=s||i,i=r,r=t),w.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||w.expando+"_"+yn++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");return a||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||w.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&w.isFunction(o)&&o(u[0]),u=o=t}),"script"):t});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=w.ajaxSettings.xhr(),w.support.cors=!!qn&&"withCredentials"in qn,qn=w.support.ajax=!!qn,qn&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();if(n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async),n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||4===a.readyState))if(r=t,o&&(a.onreadystatechange=w.noop,Un&&delete In[o]),i)4!==a.readyState&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}u||!n.isLocal||n.crossDomain?1223===u&&(u=204):u=c.text?200:404}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?4===a.readyState?setTimeout(r):(o=++Rn,Un&&(In||(In={},w(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Jn.exec(t),s=i&&i[3]||(w.cssNumber[e]?"":"px"),o=(w.cssNumber[e]||"px"!==s&&+r)&&Jn.exec(w.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,w.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};w.Animation=w.extend(er,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),w.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=er(this,w.extend({},e),s);(i||w._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};return r.duration=w.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=rr.prototype.init,w.fx.tick=function(){var e,n=w.timers,r=0;for(Xn=w.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||w.fx.stop(),Xn=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){Vn||(Vn=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(Vn),Vn=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(u)return n=u.documentElement,w.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");"static"===r&&(e.style.position="relative");var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=("absolute"===r||"fixed"===r)&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),w.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+c),null!=t.left&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},w.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===w.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u;while(e&&!w.nodeName(e,"html")&&"static"===w.css(e,"position"))e=e.offsetParent;return e||u})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=sr(e);return s===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?w(o).scrollLeft():s,r?s:w(o).scrollTop()):e[i]=s,t)},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return w.access(this,function(n,r,i){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=w:(e.jQuery=e.$=w,"function"==typeof define&&define.amd&&define("jquery",[],function(){return w}))})(window),define("jQuery",function(e){return function(){var t,n;return t||e.jQuery}}(this)),function(e,t,n){"use strict";function r(e){return function(){var t=arguments[0],n="["+(e?e+":":"")+t+"] ",r=arguments[1],i=arguments,s=function(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):typeof e=="undefined"?"undefined":typeof e!="string"?JSON.stringify(e):e},o,u;o=n+r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n;if(t+2<i.length)return n=i[t+2],typeof n=="function"?n.toString().replace(/ ?\{[\s\S]*$/,""):typeof n=="undefined"?"undefined":typeof n!="string"?ft(n):n;return e}),o=o+"\nhttp://errors.angularjs.org/1.2.2/"+(e?e+"/":"")+t;for(u=2;u<arguments.length;u++)o=o+(u==2?"?":"&")+"p"+(u-2)+"="+encodeURIComponent(s(arguments[u]));return new Error(o)}}function w(e){if(e==null||U(e))return!1;var t=e.length;return e.nodeType===1&&t?!0:B(e)||I(e)||t===0||typeof t=="number"&&t>0&&t-1 in e}function E(e,t,n){var r;if(e)if(q(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==E)e.forEach(t,n);else if(w(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function S(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function x(e,t,n){var r=S(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function T(e){return function(t,n){e(n,t)}}function N(){var e=b.length,t;while(e){e--,t=b[e].charCodeAt(0);if(t==57)return b[e]="A",b.join("");if(t!=90)return b[e]=String.fromCharCode(t+1),b.join("");b[e]="0"}return b.unshift("0"),b.join("")}function C(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function k(e){var t=e.$$hashKey;return E(arguments,function(t){t!==e&&E(t,function(t,n){e[n]=t})}),C(e,t),e}function L(e){return parseInt(e,10)}function A(e,t){return k(new(k(function(){},{prototype:e})),t)}function O(){}function M(e){return e}function _(e){return function(){return e}}function D(e){return typeof e=="undefined"}function P(e){return typeof e!="undefined"}function H(e){return e!=null&&typeof e=="object"}function B(e){return typeof e=="string"}function j(e){return typeof e=="number"}function F(e){return p.apply(e)=="[object Date]"}function I(e){return p.apply(e)=="[object Array]"}function q(e){return typeof e=="function"}function R(e){return p.apply(e)=="[object RegExp]"}function U(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function z(e){return e&&e.$evalAsync&&e.$watch}function W(e){return p.apply(e)==="[object File]"}function X(e){return typeof e=="boolean"}function $(e){return e&&(e.nodeName||e.on&&e.find)}function J(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function K(e,t,n){var r=[];return E(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r}function Q(e,t){var n=0,r;if(I(e)||B(e))return e.length;if(H(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function G(e,t){return Y(e,t)!=-1}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function Z(e,t){var n=Y(e,t);return n>=0&&e.splice(n,1),t}function et(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function tt(e,t){if(U(e)||z(e))throw d("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(!t)t=e,e&&(I(e)?t=tt(e,[]):F(e)?t=new Date(e.getTime()):R(e)?t=new RegExp(e.source):H(e)&&(t=tt(e,{})));else{if(e===t)throw d("cpi","Can't copy! Source and destination are identical.");if(I(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(tt(e[n]))}else{var r=t.$$hashKey;E(t,function(e,n){delete t[n]});for(var i in e)t[i]=tt(e[i]);C(t,r)}}return t}function nt(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&n.substr(0,2)!=="$$"&&(t[n]=e[n]);return t}function rt(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var r=typeof e,i=typeof t,s,o,u;if(r==i&&r=="object"){if(!I(e)){if(F(e))return F(t)&&e.getTime()==t.getTime();if(R(e)&&R(t))return e.toString()==t.toString();if(z(e)||z(t)||U(e)||U(t)||I(t))return!1;u={};for(o in e){if(o.charAt(0)==="$"||q(e[o]))continue;if(!rt(e[o],t[o]))return!1;u[o]=!0}for(o in t)if(!u.hasOwnProperty(o)&&o.charAt(0)!=="$"&&t[o]!==n&&!q(t[o]))return!1;return!0}if(!I(t))return!1;if((s=e.length)==t.length){for(o=0;o<s;o++)if(!rt(e[o],t[o]))return!1;return!0}}return!1}function it(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&(!!t.querySelector("[ng-csp]")||!!t.querySelector("[data-ng-csp]"))}function st(e,t,n){return e.concat(c.call(t,n))}function ot(e,t){return c.call(e,t||0)}function ut(e,t){var n=arguments.length>2?ot(arguments,2):[];return!q(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(c.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function at(e,r){var i=r;return typeof e=="string"&&e.charAt(0)==="$"?i=n:U(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":z(r)&&(i="$SCOPE"),i}function ft(e,t){return typeof e=="undefined"?n:JSON.stringify(e,at,t?"  ":null)}function lt(e){return B(e)?JSON.parse(e):e}function ct(e){if(e&&e.length!==0){var t=i(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function ht(e){e=f(e).clone();try{e.html("")}catch(t){}var n=3,r=f("<div>").append(e).html();try{return e[0].nodeType===n?i(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+i(t)})}catch(t){return i(r)}}function pt(e){try{return decodeURIComponent(e)}catch(t){}}function dt(e){var t={},n,r;return E((e||"").split("&"),function(e){if(e){n=e.split("="),r=pt(n[0]);if(P(r)){var i=P(n[1])?pt(n[1]):!0;t[r]?I(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}}}),t}function vt(e){var t=[];return E(e,function(e,n){I(e)?E(e,function(e){t.push(gt(n,!0)+(e===!0?"":"="+gt(e,!0)))}):t.push(gt(n,!0)+(e===!0?"":"="+gt(e,!0)))}),t.length?t.join("&"):""}function mt(e){return gt(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function gt(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function yt(e,n){function a(e){e&&r.push(e)}var r=[e],i,s,o=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;E(o,function(n){o[n]=!0,a(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(E(e.querySelectorAll("."+n),a),E(e.querySelectorAll("."+n+"\\:"),a),E(e.querySelectorAll("["+n+"]"),a))}),E(r,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);n?(i=e,s=(n[2]||"").replace(/\s+/g,",")):E(e.attributes,function(t){!i&&o[t.name]&&(i=e,s=t.value)})}}),i&&n(i,s?[s]:[])}function bt(n,r){var i=function(){n=f(n);if(n.injector()){var e=n[0]===t?"document":ht(n);throw d("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng");var i=vn(r);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},s=/^NG_DEFER_BOOTSTRAP!/;if(e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),m.resumeBootstrap=function(e){E(e,function(e){r.push(e)}),i()}}function Et(e,t){return t=t||"_",e.replace(wt,function(e,n){return(n?t:"")+e.toLowerCase()})}function St(){l=e.jQuery,l?(f=l,k(l.fn,{scope:tn.scope,isolateScope:tn.isolateScope,controller:tn.controller,injector:tn.injector,inheritedData:tn.inheritedData}),Rt("remove",!0,!0,!1),Rt("empty",!1,!1,!1),Rt("html",!1,!1,!0)):f=Ut,m.element=f}function xt(e,t,n){if(!e)throw d("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Tt(e,t,n){return n&&I(e)&&(e=e[e.length-1]),xt(q(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e)),e}function Nt(e,t){if(e==="hasOwnProperty")throw d("badname","hasOwnProperty is not a valid {0} name",t)}function Ct(e,t,n){if(!t)return e;var r=t.split("."),i,s=e,o=r.length;for(var u=0;u<o;u++)i=r[u],e&&(e=(s=e)[i]);return!n&&q(e)?ut(s,e):e}function kt(e){if(e.startNode===e.endNode)return f(e.startNode);var t=e.startNode,n=[t];do{t=t.nextSibling;if(!t)break;n.push(t)}while(t!==e.endNode);return f(n)}function Lt(e){function i(e,t,n){return e[t]||(e[t]=n())}var t=r("$injector"),n=r("ng"),s=i(e,"angular",Object);return s.$$minErr=s.$$minErr||r,i(s,"module",function(){var e={};return function(s,o,u){var a=function(e,t){if(e==="hasOwnProperty")throw n("badname","hasOwnProperty is not a valid {0} name",t)};return a(s,"module"),o&&e.hasOwnProperty(s)&&(e[s]=null),i(e,s,function(){function a(t,n,r){return function(){return e[r||"push"]([t,n,arguments]),i}}if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var e=[],n=[],r=a("$injector","invoke"),i={_invokeQueue:e,_runBlocks:n,requires:o,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:r,run:function(e){return n.push(e),this}};return u&&r(u),i})}})}function Ot(t){k(t,{bootstrap:bt,copy:tt,extend:k,equals:rt,element:f,forEach:E,injector:vn,noop:O,bind:ut,toJson:ft,fromJson:lt,identity:M,isUndefined:D,isDefined:P,isString:B,isFunction:q,isObject:H,isNumber:j,isElement:$,isArray:I,version:At,isDate:F,lowercase:i,uppercase:s,callbacks:{counter:0},$$minErr:r,$$csp:it}),g=Lt(e);try{g("ngLocale")}catch(n){g("ngLocale",[]).provider("$locale",Wn)}g("ng",["ngLocale"],["$provide",function(t){t.provider("$compile",Tn).directive({a:ai,input:Ni,textarea:Ni,form:pi,script:os,select:fs,style:cs,option:ls,ngBind:ji,ngBindHtml:Ii,ngBindTemplate:Fi,ngClass:Ri,ngClassEven:zi,ngClassOdd:Ui,ngCloak:Wi,ngController:Xi,ngForm:di,ngHide:es,ngIf:$i,ngInclude:Ji,ngInit:Ki,ngNonBindable:Qi,ngPluralize:Gi,ngRepeat:Yi,ngShow:Zi,ngStyle:ts,ngSwitch:ns,ngSwitchWhen:rs,ngSwitchDefault:is,ngOptions:as,ngTransclude:ss,ngModel:Mi,ngList:Pi,ngChange:_i,required:Di,ngRequired:Di,ngValue:Bi}).directive(fi).directive(Vi),t.provider({$anchorScroll:mn,$animate:yn,$browser:wn,$cacheFactory:En,$controller:On,$document:Mn,$exceptionHandler:_n,$filter:Rr,$interpolate:Un,$interval:zn,$http:jn,$httpBackend:In,$location:or,$log:ur,$parse:Er,$rootScope:Tr,$q:Sr,$sce:Mr,$sceDelegate:Or,$sniffer:_r,$templateCache:Sn,$timeout:Dr,$window:qr})}])}function Bt(){return++Dt}function qt(e){return e.replace(jt,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ft,"Moz$1")}function Rt(e,t,n,r){function s(e){var s=n&&e?[this.filter(e)]:[this],o=t,u,a,c,h,p,d,v;if(!r||e!=null)while(s.length){u=s.shift();for(a=0,c=u.length;a<c;a++){h=f(u[a]),o?h.triggerHandler("$destroy"):o=!o;for(p=0,d=(v=h.children()).length;p<d;p++)s.push(l(v[p]))}}return i.apply(this,arguments)}var i=l.fn[e];i=i.$original||i,s.$original=i,l.fn[e]=s}function Ut(e){if(e instanceof Ut)return e;if(!(this instanceof Ut)){if(B(e)&&e.charAt(0)!="<")throw It("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ut(e)}if(B(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),Yt(this,n.childNodes);var r=f(t.createDocumentFragment());r.append(this)}else Yt(this,e)}function zt(e){return e.cloneNode(!0)}function Wt(e){Vt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)Wt(n[t])}function Xt(e,t,n,r){if(P(r))throw It("offargs","jqLite#off() does not support the `selector` argument");var i=$t(e,"events"),s=$t(e,"handle");if(!s)return;D(t)?E(i,function(t,n){Ht(e,n,t),delete i[n]}):E(t.split(" "),function(t){D(n)?(Ht(e,t,i[t]),delete i[t]):Z(i[t]||[],n)})}function Vt(e,t){var r=e[_t],i=Mt[r];if(i){if(t){delete Mt[r].data[t];return}i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Xt(e)),delete Mt[r],e[_t]=n}}function $t(e,t,n){var r=e[_t],i=Mt[r||-1];if(!P(n))return i&&i[t];i||(e[_t]=r=Bt(),i=Mt[r]={}),i[t]=n}function Jt(e,t,n){var r=$t(e,"data"),i=P(n),s=!i&&P(t),o=s&&!H(t);!r&&!o&&$t(e,"data",r={});if(i)r[t]=n;else{if(!s)return r;if(o)return r&&r[t];k(r,t)}}function Kt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Qt(e,t){t&&e.setAttribute&&E(t.split(" "),function(t){e.setAttribute("class",V((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+V(t)+" "," ")))})}function Gt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");E(t.split(" "),function(e){e=V(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",V(n))}}function Yt(e,t){if(t){t=!t.nodeName&&P(t.length)&&!U(t)?t:[t];for(var n=0;n<t.length;n++)e.push(t[n])}}function Zt(e,t){return en(e,"$"+(t||"ngController")+"Controller")}function en(e,t,r){e=f(e),e[0].nodeType==9&&(e=e.find("html"));var i=I(t)?t:[t];while(e.length){for(var s=0,o=i.length;s<o;s++)if((r=e.data(i[s]))!==n)return r;e=e.parent()}}function sn(e,t){var n=nn[t.toLowerCase()];return n&&rn[e.nodeName]&&n}function on(e,n){var r=function(r,i){r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t);if(D(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,s.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1},E(n[i||r.type],function(t){t.call(e,r)}),a<=8?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function un(e){var t=typeof e,r;return t=="object"&&e!==null?typeof (r=e.$$hashKey)=="function"?r=e.$$hashKey():r===n&&(r=e.$$hashKey=N()):r=e,t+":"+r}function an(e){E(e,this.put,this)}function dn(e){var t,n,r,i;return typeof e=="function"?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(hn,""),r=n.match(fn),E(r[1].split(ln),function(e){e.replace(cn,function(e,n,r){t.push(r)})})),e.$inject=t):I(e)?(i=e.length-1,Tt(e[i],"fn"),t=e.slice(0,i)):Tt(e,"fn",!0),t}function vn(e){function f(e){return function(t,n){if(!H(t))return e(t,n);E(t,T(e))}}function l(e,t){Nt(e,"service");if(q(t)||I(t))t=o.instantiate(t);if(!t.$get)throw pn("pget","Provider '{0}' must define $get factory method.",e);return s[e+n]=t}function c(e,t){return l(e,{$get:t})}function h(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function p(e,t){return c(e,_(t))}function d(e,t){Nt(e,"constant"),s[e]=t,u[e]=t}function v(e,t){var r=o.get(e+n),i=r.$get;r.$get=function(){var e=a.invoke(i,r);return a.invoke(t,null,{$delegate:e})}}function m(e){var t=[],n,r,s,u;return E(e,function(e){if(i.get(e))return;i.put(e,!0);try{if(B(e)){n=g(e),t=t.concat(m(n.requires)).concat(n._runBlocks);for(r=n._invokeQueue,s=0,u=r.length;s<u;s++){var a=r[s],f=o.get(a[0]);f[a[1]].apply(f,a[2])}}else q(e)?t.push(o.invoke(e)):I(e)?t.push(o.invoke(e)):Tt(e,"module")}catch(l){throw I(e)&&(e=e[e.length-1]),l.message&&l.stack&&l.stack.indexOf(l.message)==-1&&(l=l.message+"\n"+l.stack),pn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}),t}function y(e,i){function o(n){if(e.hasOwnProperty(n)){if(e[n]===t)throw pn("cdep","Circular dependency found: {0}",r.join(" <- "));return e[n]}try{return r.unshift(n),e[n]=t,e[n]=i(n)}finally{r.shift()}}function u(e,t,n){var r=[],i=dn(e),s,u,a;for(u=0,s=i.length;u<s;u++){a=i[u];if(typeof a!="string")throw pn("itkn","Incorrect injection token! Expected service name as string, got {0}",a);r.push(n&&n.hasOwnProperty(a)?n[a]:o(a))}e.$inject||(e=e[s]);switch(t?-1:r.length){case 0:return e();case 1:return e(r[0]);case 2:return e(r[0],r[1]);case 3:return e(r[0],r[1],r[2]);case 4:return e(r[0],r[1],r[2],r[3]);case 5:return e(r[0],r[1],r[2],r[3],r[4]);case 6:return e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return e(r[0],r[1],r[2],r[3],r[4],r[5],r[6]);case 8:return e(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]);case 9:return e(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]);case 10:return e(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9]);default:return e.apply(t,r)}}function a(e,t){var n=function(){},r,i;return n.prototype=(I(e)?e[e.length-1]:e).prototype,r=new n,i=u(e,r,t),H(i)||q(i)?i:r}return{invoke:u,instantiate:a,get:o,annotate:dn,has:function(t){return s.hasOwnProperty(t+n)||e.hasOwnProperty(t)}}}var t={},n="Provider",r=[],i=new an,s={$provide:{provider:f(l),factory:f(c),service:f(h),value:f(p),constant:f(d),decorator:v}},o=s.$injector=y(s,function(){throw pn("unpr","Unknown provider: {0}",r.join(" <- "))}),u={},a=u.$injector=y(u,function(e){var t=o.get(e+n);return a.invoke(t.$get,t)});return E(m(e),function(e){a.invoke(e||O)}),a}function mn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return E(e,function(e){!t&&i(e.nodeName)==="a"&&(t=e)}),t}function u(){var e=n.hash(),r;e?(r=s.getElementById(e))?r.scrollIntoView():(r=o(s.getElementsByName(e)))?r.scrollIntoView():e==="top"&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(u)}),u}]}function bn(e,t,r,i){function v(e){try{e.apply(null,ot(arguments,1))}finally{p--;if(p===0)while(d.length)try{d.pop()()}catch(t){r.error(t)}}}function y(e,t){(function n(){E(m,function(e){e()}),g=t(n,e)})()}function N(){S=null;if(b==s.url())return;b=s.url(),E(x,function(e){e(s.url())})}var s=this,o=t[0],u=e.location,a=e.history,l=e.setTimeout,c=e.clearTimeout,h={};s.isMock=!1;var p=0,d=[];s.$$completeOutstandingRequest=v,s.$$incOutstandingRequestCount=function(){p++},s.notifyWhenNoOutstandingRequests=function(e){E(m,function(e){e()}),p===0?e():d.push(e)};var m=[],g;s.addPollFn=function(e){return D(g)&&y(100,l),m.push(e),e};var b=u.href,w=t.find("base"),S=null;s.url=function(t,n){u!==e.location&&(u=e.location);if(t){if(b==t)return;return b=t,i.history?n?a.replaceState(null,"",t):(a.pushState(null,"",t),w.attr("href",w.attr("href"))):(S=t,n?u.replace(t):u.href=t),s}return S||u.href.replace(/%27/g,"'")};var x=[],T=!1;s.onUrlChange=function(t){return T||(i.history&&f(e).on("popstate",N),i.hashchange?f(e).on("hashchange",N):s.addPollFn(N),T=!0),x.push(t),t},s.baseHref=function(){var e=w.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var C={},k="",L=s.baseHref();s.cookies=function(e,t){var i,s,u,a,f;if(!e){if(o.cookie!==k){k=o.cookie,s=k.split("; "),C={};for(a=0;a<s.length;a++)u=s[a],f=u.indexOf("="),f>0&&(e=unescape(u.substring(0,f)),C[e]===n&&(C[e]=unescape(u.substring(f+1))))}return C}t===n?o.cookie=escape(e)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":B(t)&&(i=(o.cookie=escape(e)+"="+escape(t)+";path="+L).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},s.defer=function(e,t){var n;return p++,n=l(function(){delete h[n],v(e)},t||0),h[n]=!0,n},s.defer.cancel=function(e){return h[e]?(delete h[e],c(e),v(O),!0):!1}}function wn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new bn(e,r,t,n)}]}function En(){this.$get=function(){function t(t,n){function c(e){e!=f&&(l?l==e&&(l=e.n):l=e,h(e.n,e.p),h(e,f),f=e,f.n=null)}function h(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,s=k({},n,{id:t}),o={},u=n&&n.capacity||Number.MAX_VALUE,a={},f=null,l=null;return e[t]={put:function(e,t){var n=a[e]||(a[e]={key:e});c(n);if(D(t))return;return e in o||i++,o[e]=t,i>u&&this.remove(l.key),t},get:function(e){var t=a[e];if(!t)return;return c(t),o[e]},remove:function(e){var t=a[e];if(!t)return;t==f&&(f=t.p),t==l&&(l=t.n),h(t.n,t.p),delete a[e],delete o[e],i--},removeAll:function(){o={},i=0,a={},f=l=null},destroy:function(){o=null,s=null,a=null,delete e[t]},info:function(){return k({},s,{size:i})}}}var e={};return t.info=function(){var t={};return E(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Sn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Tn(e){var r={},i="Directive",s=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,o=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u=/^\s*(https?|ftp|mailto|tel|file):/,l=/^\s*(https?|ftp|file):|data:image\//,c=/^(on[a-z]+|formaction)$/;this.directive=function h(t,n){return Nt(t,"directive"),B(t)?(xt(n,"directiveFactory"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+i,["$injector","$exceptionHandler",function(e,n){var i=[];return E(r[t],function(r,s){try{var o=e.invoke(r);q(o)?o={compile:_(o)}:!o.compile&&o.link&&(o.compile=_(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",i.push(o)}catch(u){n(u)}}),i}])),r[t].push(n)):E(t,T(h)),this},this.aHrefSanitizationWhitelist=function(e){return P(e)?(u=e,this):u},this.imgSrcSanitizationWhitelist=function(e){return P(e)?(l=e,this):l},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate",function(e,h,p,d,v,m,g,b,w,S,x){function D(e,t,n,r,i){e instanceof f||(e=f(e)),E(e,function(t,n){t.nodeType==3&&t.nodeValue.match(/\S+/)&&(e[n]=t=f(t).wrap("<span></span>").parent()[0])});var s=j(e,t,e,n,r,i);return function(n,r,i){xt(n,"scope");var o=r?tn.clone.call(e):e;E(i,function(e,t){o.data("$"+t+"Controller",e)});for(var u=0,a=o.length;u<a;u++){var f=o[u];(f.nodeType==1||f.nodeType==9)&&o.eq(u).data("$scope",n)}return P(o,"ng-scope"),r&&r(o,n),s&&s(n,o,o),o}}function P(e,t){try{e.addClass(t)}catch(n){}}function j(e,t,r,i,s,o){function v(e,r,i,s){var o,a,l,c,h,p,d,v,m,g=[];for(d=0,v=r.length;d<v;d++)g.push(r[d]);for(d=0,m=0,v=u.length;d<v;m++)l=g[m],o=u[d++],a=u[d++],c=f(l),o?(o.scope?(h=e.$new(),c.data("$scope",h),P(c,"ng-scope")):h=e,p=o.transclude,p||!s&&t?o(a,h,l,i,F(e,p||t)):o(a,h,l,n,s)):a&&a(e,l.childNodes,n,s)}var u=[],a,l,c,h,p;for(var d=0;d<e.length;d++)h=new T,c=R(e[d],[],h,d===0?i:n,s),a=c.length?W(c,e[d],h,t,r,null,[],[],o):null,l=a&&a.terminal||!e[d].childNodes||!e[d].childNodes.length?null:j(e[d].childNodes,a?a.transclude:t),u.push(a),u.push(l),p=p||a||l,o=null;return p?v:null}function F(e,t){return function(r,i,s){var o=!1;r||(r=e.$new(),r.$$transcluded=!0,o=!0);var u=t(r,i,s);return o&&u.on("$destroy",ut(r,r.$destroy)),u}}function R(e,t,n,r,i){var u=e.nodeType,f=n.$attr,l,c;switch(u){case 1:$(t,Cn(y(e).toLowerCase()),"E",r,i);for(var h,p,d,v,m,g=e.attributes,b=0,w=g&&g.length;b<w;b++){var E=!1,S=!1;h=g[b];if(!a||a>=8||h.specified){p=h.name,v=Cn(p),O.test(v)&&(p=Et(v.substr(6),"-"));var x=v.replace(/(Start|End)$/,"");v===x+"Start"&&(E=p,S=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),d=Cn(p.toLowerCase()),f[d]=p,n[d]=m=V(a&&p=="href"?decodeURIComponent(e.getAttribute(p,2)):h.value),sn(e,d)&&(n[d]=!0),et(e,t,m,d),$(t,d,"A",r,i,E,S)}}c=e.className;if(B(c)&&c!=="")while(l=o.exec(c))d=Cn(l[2]),$(t,d,"C",r,i)&&(n[d]=V(l[3])),c=c.substr(l.index+l[0].length);break;case 3:Y(t,e.nodeValue);break;case 8:try{l=s.exec(e.nodeValue),l&&(d=Cn(l[1]),$(t,d,"M",r,i)&&(n[d]=V(l[2])))}catch(T){}}return t.sort(Q),t}function U(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){var s=e;do{if(!e)throw xn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==1&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return f(r)}function z(e,t,n){return function(r,i,s,o,u){return i=U(i[0],t,n),e(r,i,s,o,u)}}function W(e,r,i,s,o,u,a,l,c){function ut(e,t,n,r){if(e){n&&(e=z(e,n,r)),e.require=k.require;if(b===k||k.$$isolateScope)e=rt(e,{isolateScope:!0});a.push(e)}if(t){n&&(t=z(t,n,r)),t.require=k.require;if(b===k||k.$$isolateScope)t=rt(t,{isolateScope:!0});l.push(t)}}function at(e,t,n){var r,i="data",s=!1;if(B(e)){while((r=e.charAt(0))=="^"||r=="?")e=e.substr(1),r=="^"&&(i="inheritedData"),s=s||r=="?";r=null,n&&i==="data"&&(r=n[e]),r=r||t[i]("$"+e+"Controller");if(!r&&!s)throw xn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,A);return r}return I(e)&&(r=[],E(e,function(e){r.push(at(e,t,n))})),r}function ft(e,t,s,o,u){function H(e,t){var r;return arguments.length<2&&(t=e,e=n),N&&(r=L),u(e,t,r)}var c,d,v,S,x,C,k,L={},A;r===s?c=i:c=nt(i,new T(f(s),i.$attr)),d=c.$$element;if(b){var O=/^\s*([@=&])(\??)\s*(\w*)\s*$/,M=f(s);k=t.$new(!0),w&&w===b.$$originalDirective?M.data("$isolateScope",k):M.data("$isolateScopeNoTemplate",k),P(M,"ng-isolate-scope"),E(b.scope,function(e,n){var r=e.match(O)||[],i=r[3]||n,s=r[2]=="?",o=r[1],u,a,f;k.$$isolateBindings[n]=o+i;switch(o){case"@":c.$observe(i,function(e){k[n]=e}),c.$$observers[i].$$scope=t,c[i]&&(k[n]=h(c[i])(t));break;case"=":if(s&&!c[i])return;a=m(c[i]),f=a.assign||function(){throw u=k[n]=a(t),xn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",c[i],b.name)},u=k[n]=a(t),k.$watch(function(){var r=a(t);return r!==k[n]&&(r!==u?u=k[n]=r:f(t,r=u=k[n])),r});break;case"&":a=m(c[i]),k[n]=function(e){return a(t,e)};break;default:throw xn("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b.name,n,e)}})}A=u&&H,y&&E(y,function(e){var n={$scope:e===b||e.$$isolateScope?k:t,$element:d,$attrs:c,$transclude:A},r;C=e.controller,C=="@"&&(C=c[e.name]),r=g(C,n),L[e.name]=r,N||d.data("$"+e.name+"Controller",r),e.controllerAs&&(n.$scope[e.controllerAs]=r)});for(v=0,S=a.length;v<S;v++)try{x=a[v],x(x.isolateScope?k:t,d,c,x.require&&at(x.require,d,L),A)}catch(_){p(_,ht(d))}var D=t;b&&(b.template||b.templateUrl===null)&&(D=k),e&&e(D,s.childNodes,n,u);for(v=l.length-1;v>=0;v--)try{x=l[v],x(x.isolateScope?k:t,d,c,x.require&&at(x.require,d,L),A)}catch(_){p(_,ht(d))}}c=c||{};var d=-Number.MAX_VALUE,v,y=c.controllerDirectives,b=c.newIsolateScopeDirective,w=c.templateDirective,S=c.nonTlbTranscludeDirective,x=!1,N=!1,C=i.$$element=f(r),k,A,O,M=u,_=s,j,F;for(var W=0,$=e.length;W<$;W++){k=e[W];var Q=k.$$start,Y=k.$$end;Q&&(C=U(r,Q,Y)),O=n;if(d>k.priority)break;if(F=k.scope)v=v||k,k.templateUrl||(G("new/isolated scope",b,k,C),H(F)&&(b=k));A=k.name,!k.templateUrl&&k.controller&&(F=k.controller,y=y||{},G("'"+A+"' controller",y[A],k,C),y[A]=k);if(F=k.transclude)x=!0,k.$$tlb||(G("transclusion",S,k,C),S=k),F=="element"?(N=!0,d=k.priority,O=U(r,Q,Y),C=i.$$element=f(t.createComment(" "+A+": "+i[A]+" ")),r=C[0],tt(o,f(ot(O)),r),_=D(O,s,d,M&&M.name,{nonTlbTranscludeDirective:S})):(O=f(zt(r)).contents(),C.html(""),_=D(O,s));if(k.template){G("template",w,k,C),w=k,F=q(k.template)?k.template(C,i):k.template,F=L(F);if(k.replace){M=k,O=f("<div>"+V(F)+"</div>").contents(),r=O[0];if(O.length!=1||r.nodeType!==1)throw xn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"");tt(o,C,r);var Z={$attr:{}},et=R(r,[],Z),it=e.splice(W+1,e.length-(W+1));b&&X(et),e=e.concat(et).concat(it),J(i,Z),$=e.length}else C.html(F)}if(k.templateUrl)G("template",w,k,C),w=k,k.replace&&(M=k),ft=K(e.splice(W,e.length-W),C,i,o,_,a,l,{controllerDirectives:y,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:S}),$=e.length;else if(k.compile)try{j=k.compile(C,i,_),q(j)?ut(null,j,Q,Y):j&&ut(j.pre,j.post,Q,Y)}catch(st){p(st,ht(C))}k.terminal&&(ft.terminal=!0,d=Math.max(d,k.priority))}return ft.scope=v&&v.scope===!0,ft.transclude=x&&_,ft}function X(e){for(var t=0,n=e.length;t<n;t++)e[t]=A(e[t],{$$isolateScope:!0})}function $(t,s,o,u,a,f,l){if(s===a)return null;var c=null;if(r.hasOwnProperty(s))for(var h,d=e.get(s+i),v=0,m=d.length;v<m;v++)try{h=d[v],(u===n||u>h.priority)&&h.restrict.indexOf(o)!=-1&&(f&&(h=A(h,{$$start:f,$$end:l})),t.push(h),c=h)}catch(g){p(g)}return c}function J(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;E(e,function(r,i){i.charAt(0)!="$"&&(t[i]&&t[i]!==r&&(r+=(i==="style"?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),E(t,function(t,s){s=="class"?(P(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):s=="style"?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):s.charAt(0)!="$"&&!e.hasOwnProperty(s)&&(e[s]=t,r[s]=n[s])})}function K(e,t,n,r,i,s,o,u){var a=[],l,c,h=t[0],p=e.shift(),m=k({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=q(p.templateUrl)?p.templateUrl(t,n):p.templateUrl;return t.html(""),d.get(S.getTrustedResourceUrl(g),{cache:v}).success(function(d){var v,y,b,w;d=L(d);if(p.replace){b=f("<div>"+V(d)+"</div>").contents(),v=b[0];if(b.length!=1||v.nodeType!==1)throw xn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,g);y={$attr:{}},tt(r,t,v);var S=R(v,[],y);H(p.scope)&&X(S),e=S.concat(e),J(n,y)}else v=h,t.html(d);e.unshift(m),l=W(e,v,n,i,t,p,s,o,u),E(r,function(e,n){e==v&&(r[n]=t[0])}),c=j(t[0].childNodes,i);while(a.length){var x=a.shift(),T=a.shift(),N=a.shift(),C=a.shift(),k=t[0];T!==h&&(k=zt(v),tt(N,f(T),k)),l.transclude?w=F(x,l.transclude):w=C,l(c,x,k,r,w)}a=null}).error(function(e,t,n,r){throw xn("tpload","Failed to load template: {0}",r.url)}),function(t,n,r,i,s){a?(a.push(n),a.push(r),a.push(i),a.push(s)):l(c,n,r,i,s)}}function Q(e,t){var n=t.priority-e.priority;return n!==0?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,r){if(t)throw xn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,ht(r))}function Y(e,t){var n=h(t,!0);n&&e.push({priority:0,compile:_(function(t,r){var i=r.parent(),s=i.data("$binding")||[];s.push(n),P(i.data("$binding",s),"ng-binding"),t.$watch(n,function(t){r[0].nodeValue=t})})})}function Z(e,t){if(t=="srcdoc")return S.HTML;var n=y(e);if(t=="xlinkHref"||n=="FORM"&&t=="action"||n!="IMG"&&(t=="src"||t=="ngSrc"))return S.RESOURCE_URL}function et(e,t,n,r){var i=h(n,!0);if(!i)return;if(r==="multiple"&&y(e)==="SELECT")throw xn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ht(e));t.push({priority:100,compile:function(){return{pre:function(n,s,o){var u=o.$$observers||(o.$$observers={});if(c.test(r))throw xn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");i=h(o[r],!0,Z(e,r));if(!i)return;o[r]=i(n),(u[r]||(u[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||n).$watch(i,function(t,n){r==="class"&&t!=n?o.$updateClass(t,n):o.$set(r,t)})}}}})}function tt(e,n,r){var i=n[0],s=n.length,o=i.parentNode,u,a;if(e)for(u=0,a=e.length;u<a;u++)if(e[u]==i){e[u++]=r;for(var l=u,c=l+s-1,h=e.length;l<h;l++,c++)c<h?e[l]=e[c]:delete e[l];e.length-=s-1;break}o&&o.replaceChild(r,i);var p=t.createDocumentFragment();p.appendChild(i),r[f.expando]=i[f.expando];for(var d=1,v=n.length;d<v;d++){var m=n[d];f(m).remove(),p.appendChild(m),delete n[d]}n[0]=r,n.length=1}function rt(e,t){return k(function(){return e.apply(null,arguments)},e,t)}var T=function(e,t){this.$$element=e,this.$attr=t||{}};T.prototype={$normalize:Cn,$addClass:function(e){e&&e.length>0&&x.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&x.removeClass(this.$$element,e)},$updateClass:function(e,t){this.$removeClass(An(t,e)),this.$addClass(An(e,t))},$set:function(e,t,r,i){var s=sn(this.$$element[0],e),o,f;s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=Et(e,"-"))),f=y(this.$$element);if(f==="A"&&e==="href"||f==="IMG"&&e==="src")if(!a||a>=8)o=jr(t).href,o!==""&&(e==="href"&&!o.match(u)||e==="src"&&!o.match(l))&&(this[e]=t="unsafe:"+o);r!==!1&&(t===null||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var c=this.$$observers;c&&E(c[e],function(e){try{e(t)}catch(n){p(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),b.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var N=h.startSymbol(),C=h.endSymbol(),L=N=="{{"||C=="}}"?M:function(t){return t.replace(/\{\{/g,N).replace(/}}/g,C)},O=/^ngAttr[A-Z]/;return D}]}function Cn(e){return qt(e.replace(Nn,""))}function kn(e,t,n,r){}function Ln(e,t,n,r,i){}function An(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var s=0;s<r.length;s++){var o=r[s];for(var u=0;u<i.length;u++)if(o==i[u])continue e;n+=(n.length>0?" ":"")+o}return n}function On(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){Nt(t,"controller"),H(t)?k(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(s,o){var u,a,f,l;B(s)&&(a=s.match(t),f=a[1],l=a[3],s=e.hasOwnProperty(f)?e[f]:Ct(o.$scope,f,!0)||Ct(i,f,!0),Tt(s,f,!0)),u=n.instantiate(s,o);if(l){if(!o||typeof o.$scope!="object")throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",f||s.name,l);o.$scope[l]=u}return u}}]}function Mn(){this.$get=["$window",function(e){return f(e.document)}]}function _n(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Dn(e){var t={},n,r,s;return e?(E(e.split("\n"),function(e){s=e.indexOf(":"),n=i(V(e.substr(0,s))),r=V(e.substr(s+1)),n&&(t[n]?t[n]+=", "+r:t[n]=r)}),t):t}function Pn(e){var t=H(e)?e:n;return function(n){return t||(t=Dn(e)),n?t[i(n)]||null:t}}function Hn(e,t,n){return q(n)?n(e,t):(E(n,function(n){e=n(e,t)}),e)}function Bn(e){return 200<=e&&e<300}function jn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,o={"Content-Type":"application/json;charset=utf-8"},u=this.defaults={transformResponse:[function(n){return B(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=lt(n))),n}],transformRequest:[function(e){return H(e)&&!W(e)?ft(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:o,put:o,patch:o},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],f=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,o,l,c){function d(e){function m(e){var t=k({},e,{data:Hn(e.data,e.headers,r.transformResponse)});return Bn(e.status)?t:l.reject(t)}function y(e){function a(e){var t;E(e,function(n,r){q(n)&&(t=n(),t!=null?e[r]=t:delete e[r])})}var t=u.headers,n=k({},e.headers),r,s,o;t=k({},t.common,t[i(e.method)]),a(t),a(n);e:for(r in t){s=i(r);for(o in n)if(i(o)===s)continue e;n[r]=t[r]}return n}var r={transformRequest:u.transformRequest,transformResponse:u.transformResponse},o=y(e);k(r,e),r.headers=o,r.method=s(r.method);var a=Fr(r.url)?t.cookies()[r.xsrfCookieName||u.xsrfCookieName]:n;a&&(o[r.xsrfHeaderName||u.xsrfHeaderName]=a);var f=function(e){o=e.headers;var t=Hn(e.data,Pn(o),e.transformRequest);return D(e.data)&&E(o,function(e,t){i(t)==="content-type"&&delete o[t]}),D(e.withCredentials)&&!D(u.withCredentials)&&(e.withCredentials=u.withCredentials),g(e,t,o).then(m,m)},c=[f,n],h=l.when(r);E(p,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});while(c.length){var d=c.shift(),v=c.shift();h=h.then(d,v)}return h.success=function(e){return h.then(function(t){e(t.data,t.status,t.headers,r)}),h},h.error=function(e){return h.then(null,function(t){e(t.data,t.status,t.headers,r)}),h},h}function v(e){E(arguments,function(e){d[e]=function(t,n){return d(k(n||{},{method:e,url:t}))}})}function m(e){E(arguments,function(e){d[e]=function(t,n,r){return d(k(r||{},{method:e,url:t,data:n}))}})}function g(t,n,r){function p(e,t,n){a&&(Bn(e)?a.put(c,[e,t,Dn(n)]):a.remove(c)),v(t,e,n),o.$$phase||o.$apply()}function v(e,n,r){n=Math.max(n,0),(Bn(n)?i.resolve:i.reject)({data:e,status:n,headers:Pn(r),config:t})}function m(){var e=Y(d.pendingRequests,t);e!==-1&&d.pendingRequests.splice(e,1)}var i=l.defer(),s=i.promise,a,f,c=y(t.url,t.params);d.pendingRequests.push(t),s.then(m,m),(t.cache||u.cache)&&t.cache!==!1&&t.method=="GET"&&(a=H(t.cache)?t.cache:H(u.cache)?u.cache:h);if(a){f=a.get(c);if(P(f)){if(f.then)return f.then(m,m),f;I(f)?v(f[1],f[0],tt(f[2])):v(f,200,{})}else a.put(c,s)}return D(f)&&e(t.method,c,n,p,r,t.timeout,t.withCredentials,t.responseType),s}function y(e,t){if(!t)return e;var n=[];return x(t,function(e,t){if(e===null||D(e))return;I(e)||(e=[e]),E(e,function(e){H(e)&&(e=ft(e)),n.push(gt(t)+"="+gt(e))})}),e+(e.indexOf("?")==-1?"?":"&")+n.join("&")}var h=r("$http"),p=[];return E(a,function(e){p.unshift(B(e)?c.get(e):c.invoke(e))}),E(f,function(e,t){var n=B(e)?c.get(e):c.invoke(e);p.splice(t,0,{response:function(e){return n(l.when(e))},responseError:function(e){return n(l.reject(e))}})}),d.pendingRequests=[],v("get","delete","head","jsonp"),m("post","put"),d.defaults=u,d}]}function In(){this.$get=["$browser","$window","$document",function(e,t,n){return qn(e,Fn,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function qn(e,t,n,r,s,o){function f(e,t){var n=s.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,s.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,a&&a<=8?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},s.body.appendChild(n),r}var u=-1;return function(s,a,l,c,h,p,d,v){function S(){m=u,y&&y(),b&&b.abort()}function x(t,r,i,s){var u=o||jr(a).protocol;w&&n.cancel(w),y=b=null,r=u=="file"?i?200:404:r,r=r==1223?204:r,t(r,i,s),e.$$completeOutstandingRequest(O)}var m;e.$$incOutstandingRequestCount(),a=a||e.url();if(i(s)=="jsonp"){var g="_"+(r.counter++).toString(36);r[g]=function(e){r[g].data=e};var y=f(a.replace("JSON_CALLBACK","angular.callbacks."+g),function(){r[g].data?x(c,200,r[g].data):x(c,m||-2),delete r[g]})}else{var b=new t;b.open(s,a,!0),E(h,function(e,t){P(e)&&b.setRequestHeader(t,e)}),b.onreadystatechange=function(){if(b.readyState==4){var e=null,t=null;m!==u&&(e=b.getAllResponseHeaders(),t=b.responseType?b.response:b.responseText),x(c,m||b.status,t,e)}},d&&(b.withCredentials=!0),v&&(b.responseType=v),b.send(l||null)}if(p>0)var w=n(S,p);else p&&p.then&&p.then(S)}}function Un(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function u(u,a,f){var l,c,h=0,p=[],d=u.length,v=!1,m,g,y=[];while(h<d)(l=u.indexOf(e,h))!=-1&&(c=u.indexOf(t,l+s))!=-1?(h!=l&&p.push(u.substring(h,l)),p.push(m=n(g=u.substring(l+s,c))),m.exp=g,h=c+o,v=!0):(h!=d&&p.push(u.substring(h)),h=d);(d=p.length)||(p.push(""),d=1);if(f&&p.length>1)throw Rn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",u);if(!a||v)return y.length=d,m=function(e){try{for(var t=0,n=d,s;t<n;t++)typeof (s=p[t])=="function"&&(s=s(e),f?s=i.getTrusted(f,s):s=i.valueOf(s),s===null||D(s)?s="":typeof s!="string"&&(s=ft(s))),y[t]=s;return y.join("")}catch(o){var a=Rn("interr","Can't interpolate: {0}\n{1}",u,o.toString());r(a)}},m.exp=u,m.parts=p,m}var s=e.length,o=t.length;return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function zn(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,s,o,u){var a=t.setInterval,f=t.clearInterval,l=n.defer(),c=l.promise,h=0,p=P(u)&&!u;return o=P(o)?o:0,c.then(null,null,i),c.$$intervalId=a(function(){l.notify(h++),o>0&&h>=o&&(l.resolve(h),f(c.$$intervalId),delete r[c.$$intervalId]),p||e.$apply()},s),r[c.$$intervalId]=l,c}var r={};return i.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},i}]}function Wn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return e===1?"one":"other"}}}}function Jn(e){var t=e.split("/"),n=t.length;while(n--)t[n]=mt(t[n]);return t.join("/")}function Kn(e,t,n){var r=jr(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=L(r.port)||Vn[r.protocol]||null}function Qn(e,t,n){var r=e.charAt(0)!=="/";r&&(e="/"+e);var i=jr(e,n);t.$$path=decodeURIComponent(r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname),t.$$search=dt(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&t.$$path.charAt(0)!="/"&&(t.$$path="/"+t.$$path)}function Gn(e,t){if(t.indexOf(e)===0)return t.substr(e.length)}function Yn(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Zn(e){return e.substr(0,Yn(e).lastIndexOf("/")+1)}function er(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function tr(e,t){this.$$html5=!0,t=t||"";var r=Zn(e);Kn(e,this,e),this.$$parse=function(t){var n=Gn(r,t);if(!B(n))throw $n("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);Qn(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=vt(this.$$search),t=this.$$hash?"#"+mt(this.$$hash):"";this.$$url=Jn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var s,o;if((s=Gn(e,i))!==n)return o=s,(s=Gn(t,s))!==n?r+(Gn("/",s)||s):e+o;if((s=Gn(r,i))!==n)return r+s;if(r==i+"/")return r}}function nr(e,t){var n=Zn(e);Kn(e,this,e),this.$$parse=function(r){var i=Gn(e,r)||Gn(n,r),s=i.charAt(0)=="#"?Gn(t,i):this.$$html5?i:"";if(!B(s))throw $n("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);Qn(s,this,e),this.$$compose()},this.$$compose=function(){var n=vt(this.$$search),r=this.$$hash?"#"+mt(this.$$hash):"";this.$$url=Jn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){if(Yn(e)==Yn(t))return t}}function rr(e,t){this.$$html5=!0,nr.apply(this,arguments);var n=Zn(e);this.$$rewrite=function(r){var i;if(e==Yn(r))return r;if(i=Gn(n,r))return e+t+i;if(n===r+"/")return n}}function ir(e){return function(){return this[e]}}function sr(e,t){return function(n){return D(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function or(){var t="",n=!1;this.hashPrefix=function(e){return P(e)?(t=e,this):t},this.html5Mode=function(e){return P(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,s,o,u){function v(e){r.$broadcast("$locationChangeSuccess",a.absUrl(),e)}var a,l,c=s.baseHref(),h=s.url(),p;n?(p=er(h)+(c||"/"),l=o.history?tr:rr):(p=Yn(h),l=nr),a=new l(p,"#"+t),a.$$parse(a.$$rewrite(h)),u.on("click",function(t){if(t.ctrlKey||t.metaKey||t.which==2)return;var n=f(t.target);while(i(n[0].nodeName)!=="a")if(n[0]===u[0]||!(n=n.parent())[0])return;var o=n.prop("href"),l=a.$$rewrite(o);o&&!n.attr("target")&&l&&!t.isDefaultPrevented()&&(t.preventDefault(),l!=s.url()&&(a.$$parse(l),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}),a.absUrl()!=h&&s.url(a.absUrl(),!0),s.onUrlChange(function(e){if(a.absUrl()!=e){if(r.$broadcast("$locationChangeStart",e,a.absUrl()).defaultPrevented){s.url(a.absUrl());return}r.$evalAsync(function(){var t=a.absUrl();a.$$parse(e),v(t)}),r.$$phase||r.$digest()}});var d=0;return r.$watch(function(){var t=s.url(),n=a.$$replace;if(!d||t!=a.absUrl())d++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",a.absUrl(),t).defaultPrevented?a.$$parse(t):(s.url(a.absUrl(),n),v(t))});return a.$$replace=!1,d}),a}]}function ur(){var e=!0,t=this;this.debugEnabled=function(t){return P(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||O;return i.apply?function(){var e=[];return E(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,t==null?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function cr(e,t){if(e==="constructor")throw ar("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function hr(e,t){if(e&&e.constructor===e)throw ar("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e&&e.document&&e.location&&e.alert&&e.setInterval)throw ar("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e&&(e.nodeName||e.on&&e.find))throw ar("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);return e}function gr(e,t,r,i,s){s=s||{};var o=t.split("."),u;for(var a=0;o.length>1;a++){u=cr(o.shift(),i);var f=e[u];f||(f={},e[u]=f),e=f,e.then&&s.unwrapPromises&&(lr(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return u=cr(o.shift(),i),e[u]=r,r}function br(e,t,r,i,s,o,u){return cr(e,o),cr(t,o),cr(r,o),cr(i,o),cr(s,o),u.unwrapPromises?function(a,f){var l=f&&f.hasOwnProperty(e)?f:a,c;return l===null||l===n?l:(l=l[e],l&&l.then&&(lr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),!t||l===null||l===n?l:(l=l[t],l&&l.then&&(lr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),!r||l===null||l===n?l:(l=l[r],l&&l.then&&(lr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),!i||l===null||l===n?l:(l=l[i],l&&l.then&&(lr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),!s||l===null||l===n?l:(l=l[s],l&&l.then&&(lr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),l)))))}:function(u,a){var f=a&&a.hasOwnProperty(e)?a:u;return f===null||f===n?f:(f=f[e],!t||f===null||f===n?f:(f=f[t],!r||f===null||f===n?f:(f=f[r],!i||f===null||f===n?f:(f=f[i],!s||f===null||f===n?f:(f=f[s],f)))))}}function wr(e,t,r){if(yr.hasOwnProperty(e))return yr[e];var i=e.split("."),s=i.length,o;if(t.csp)s<6?o=br(i[0],i[1],i[2],i[3],i[4],r,t):o=function(e,o){var u=0,a;do a=br(i[u++],i[u++],i[u++],i[u++],i[u++],r,t)(e,o),o=n,e=a;while(u<s);return a};else{var u="var l, fn, p;\n";E(i,function(e,n){cr(e,r),u+="if(s === null || s === undefined) return s;\nl=s;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n":"")}),u+="return s;";var a=new Function("s","k","pw",u);a.toString=function(){return u},o=function(e,t){return a(e,t,lr)}}return e!=="hasOwnProperty"&&(yr[e]=o),o}function Er(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return P(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return P(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,lr=function(n){if(!t.logPromiseWarnings||fr.hasOwnProperty(n))return;fr[n]=!0,i.warn("[$parse] Promise found in the expression `"+n+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated.")},function(r){var i;switch(typeof r){case"string":if(e.hasOwnProperty(r))return e[r];var s=new vr(t),o=new mr(s,n,t);return i=o.parse(r,!1),r!=="hasOwnProperty"&&(e[r]=i),i;case"function":return r;default:return O}}}]}function Sr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return xr(function(t){e.$evalAsync(t)},t)}]}function xr(e,t){function u(e){return e}function a(e){return s(e)}function f(e){var t=r(),n=0,s=I(e)?[]:{};return E(e,function(e,r){n++,i(e).then(function(e){if(s.hasOwnProperty(r))return;s[r]=e,--n||t.resolve(s)},function(e){if(s.hasOwnProperty(r))return;t.reject(e)})}),n===0&&t.resolve(s),t.promise}var r=function(){var o=[],f,l;return l={resolve:function(t){if(o){var r=o;o=n,f=i(t),r.length&&e(function(){var e;for(var t=0,n=r.length;t<n;t++)e=r[t],f.then(e[0],e[1],e[2])})}},reject:function(e){l.resolve(s(e))},notify:function(t){if(o){var n=o;o.length&&e(function(){var e;for(var r=0,i=n.length;r<i;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,i){var s=r(),l=function(n){try{s.resolve((q(e)?e:u)(n))}catch(r){s.reject(r),t(r)}},c=function(e){try{s.resolve((q(n)?n:a)(e))}catch(r){s.reject(r),t(r)}},h=function(e){try{s.notify((q(i)?i:u)(e))}catch(n){t(n)}};return o?o.push([l,c,h]):f.then(l,c,h),s.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=r();return t?n.resolve(e):n.reject(e),n.promise}function n(n,r){var i=null;try{i=(e||u)()}catch(s){return t(s,!1)}return i&&q(i.then)?i.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}},l},i=function(t){return t&&q(t.then)?t:{then:function(n){var i=r();return e(function(){i.resolve(n(t))}),i.promise}}},s=function(n){return{then:function(i,s){var o=r();return e(function(){try{o.resolve((q(s)?s:a)(n))}catch(e){o.reject(e),t(e)}}),o.promise}}},o=function(n,o,f,l){var c=r(),h,p=function(e){try{return(q(o)?o:u)(e)}catch(n){return t(n),s(n)}},d=function(e){try{return(q(f)?f:a)(e)}catch(n){return t(n),s(n)}},v=function(e){try{return(q(l)?l:u)(e)}catch(n){t(n)}};return e(function(){i(n).then(function(e){if(h)return;h=!0,c.resolve(i(e).then(p,d,v))},function(e){if(h)return;h=!0,c.resolve(d(e))},function(e){if(h)return;c.notify(v(e))})}),c.promise};return{defer:r,reject:s,when:o,all:f}}function Tr(){var e=10,t=r("$rootScope");this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,r,i,s){function o(){this.$id=N(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function a(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function f(){u.$$phase=null}function l(e,t){var n=i(e);return Tt(n,t),n}function c(){}o.prototype={constructor:o,$new:function(e){var t,n;return e?(n=new o,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue,n.$$postDigestQueue=this.$$postDigestQueue):(t=function(){},t.prototype=this,n=new t,n.$id=N()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var r=this,i=l(e,"watch"),s=r.$$watchers,o={fn:t,last:c,get:i,exp:e,eq:!!n};if(!q(t)){var u=l(t||O,"listener");o.fn=function(e,t,n){u(n)}}if(typeof e=="string"&&i.constant){var a=o.fn;o.fn=function(e,t,n){a.call(this,e,t,n),Z(s,o)}}return s||(s=r.$$watchers=[]),s.unshift(o),function(){Z(s,o)}},$watchCollection:function(e,t){function c(){s=u(n);var e,t;if(!H(s))r!==s&&(r=s,o++);else if(w(s)){r!==a&&(r=a,l=r.length=0,o++),e=s.length,l!==e&&(o++,r.length=l=e);for(var i=0;i<e;i++)r[i]!==s[i]&&(o++,r[i]=s[i])}else{r!==f&&(r=f={},l=0,o++),e=0;for(t in s)s.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!==s[t]&&(o++,r[t]=s[t]):(l++,r[t]=s[t],o++));if(l>e){o++;for(t in r)r.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(l--,delete r[t])}}return o}function h(){t(s,r,n)}var n=this,r,s,o=0,u=i(e),a=[],f={},l=0;return this.$watch(c,h)},$digest:function(){var n,i,s,o,u=this.$$asyncQueue,l=this.$$postDigestQueue,h,p,d=e,v,m,g=this,y=[],b,w,E;a("$digest");do{p=!1,m=g;while(u.length)try{E=u.shift(),E.scope.$eval(E.expression)}catch(S){r(S)}do{if(o=m.$$watchers){h=o.length;while(h--)try{n=o[h],n&&(i=n.get(m))!==(s=n.last)&&!(n.eq?rt(i,s):typeof i=="number"&&typeof s=="number"&&isNaN(i)&&isNaN(s))&&(p=!0,n.last=n.eq?tt(i):i,n.fn(i,s===c?i:s,m),d<5&&(b=4-d,y[b]||(y[b]=[]),w=q(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,w+="; newVal: "+ft(i)+"; oldVal: "+ft(s),y[b].push(w)))}catch(S){r(S)}}if(!(v=m.$$childHead||m!==g&&m.$$nextSibling))while(m!==g&&!(v=m.$$nextSibling))m=m.$parent}while(m=v);if(p&&!(d--))throw f(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,ft(y))}while(p||u.length);f();while(l.length)try{l.shift()()}catch(S){r(S)}},$destroy:function(){if(u==this||this.$$destroyed)return;var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null},$eval:function(e,t){return i(e)(this,t)},$evalAsync:function(e){!u.$$phase&&!u.$$asyncQueue.length&&s.defer(function(){u.$$asyncQueue.length&&u.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return a("$apply"),this.$eval(e)}catch(t){r(t)}finally{f();try{u.$digest()}catch(t){throw r(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[Y(n,t)]=null}},$emit:function(e,t){var n=[],i,s=this,o=!1,u={name:e,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=st([u],arguments,1),f,l;do{i=s.$$listeners[e]||n,u.currentScope=s;for(f=0,l=i.length;f<l;f++){if(!i[f]){i.splice(f,1),f--,l--;continue}try{i[f].apply(null,a)}catch(c){r(c)}}if(o)return u;s=s.$parent}while(s);return u},$broadcast:function(e,t){var n=this,i=n,s=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1},u=st([o],arguments,1),a,f,l;do{i=s,o.currentScope=i,a=i.$$listeners[e]||[];for(f=0,l=a.length;f<l;f++){if(!a[f]){a.splice(f,1),f--,l--;continue}try{a[f].apply(null,u)}catch(c){r(c)}}if(!(s=i.$$childHead||i!==n&&i.$$nextSibling))while(i!==n&&!(s=i.$$nextSibling))i=i.$parent}while(i=s);return o}};var u=new o;return u}]}function kr(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Lr(e){if(e==="self")return e;if(B(e)){if(e.indexOf("***")>-1)throw Nr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=kr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(R(e))return new RegExp("^"+e.source+"$");throw Nr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ar(e){var t=[];return P(e)&&E(e,function(e){t.push(Lr(e))}),t}function Or(){this.SCE_CONTEXTS=Cr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ar(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ar(e)),t},this.$get=["$injector",function(r){function s(e,t){return e==="self"?Fr(t):!!e.exec(t.href)}function o(n){var r=jr(n.toString()),i,o,u=!1;for(i=0,o=e.length;i<o;i++)if(s(e[i],r)){u=!0;break}if(u)for(i=0,o=t.length;i<o;i++)if(s(t[i],r)){u=!1;break}return u}function u(e){var t=function(t){this.$$unwrapTrustedValue=function(){return t}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function l(e,t){var r=f.hasOwnProperty(e)?f[e]:null;if(!r)throw Nr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(t===null||t===n||t==="")return t;if(typeof t!="string")throw Nr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof a?e.$$unwrapTrustedValue():e}function h(e,t){if(t===null||t===n||t==="")return t;var r=f.hasOwnProperty(e)?f[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===Cr.RESOURCE_URL){if(o(t))return t;throw Nr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Cr.HTML)return i(t);throw Nr("unsafe","Attempting to use an unsafe value in a safe context.")}var i=function(t){throw Nr("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(i=r.get("$sanitize"));var a=u(),f={};return f[Cr.HTML]=u(a),f[Cr.CSS]=u(a),f[Cr.URL]=u(a),f[Cr.JS]=u(a),f[Cr.RESOURCE_URL]=u(f[Cr.URL]),{trustAs:l,getTrusted:h,valueOf:c}}]}function Mr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&n.msieDocumentMode<8)throw Nr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var s=tt(Cr);s.isEnabled=function(){return e},s.trustAs=r.trustAs,s.getTrusted=r.getTrusted,s.valueOf=r.valueOf,e||(s.trustAs=s.getTrusted=function(e,t){return t},s.valueOf=M),s.parseAs=function(n,r){var i=t(r);return i.literal&&i.constant?i:function(t,r){return s.getTrusted(n,i(t,r))}};var o=s.parseAs,u=s.getTrusted,a=s.trustAs;return E(Cr,function(e,t){var n=i(t);s[qt("parse_as_"+n)]=function(t){return o(e,t)},s[qt("get_trusted_"+n)]=function(t){return u(e,t)},s[qt("trust_as_"+n)]=function(t){return a(e,t)}}),s}]}function _r(){this.$get=["$window","$document",function(e,t){var n={},r=L((/android (\d+)/.exec(i((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},u=o.documentMode,f,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=o.body&&o.body.style,h=!1,p=!1,d;if(c){for(var v in c)if(d=l.exec(v)){f=d[0],f=f.substr(0,1).toUpperCase()+f.substr(1);break}f||(f="WebkitOpacity"in c&&"webkit"),h="transition"in c||f+"Transition"in c,p="animation"in c||f+"Animation"in c,r&&(!h||!p)&&(h=B(o.body.style.webkitTransition),p=B(o.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||r<4)&&!s,hashchange:"onhashchange"in e&&(!u||u>7),hasEvent:function(e){if(e=="input"&&a==9)return!1;if(D(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:it(),vendorPrefix:f,transitions:h,animations:p,msie:a,msieDocumentMode:u}}]}function Dr(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function s(s,o,u){var a=n.defer(),f=a.promise,l=P(u)&&!u,c;return c=t.defer(function(){try{a.resolve(s())}catch(t){a.reject(t),r(t)}finally{delete i[f.$$timeoutId]}l||e.$apply()},o),f.$$timeoutId=c,i[c]=a,f}var i={};return s.cancel=function(e){return e&&e.$$timeoutId in i?(i[e.$$timeoutId].reject("canceled"),delete i[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},s}]}function jr(e,t){var n=e,r;return a&&(Pr.setAttribute("href",n),n=Pr.href),Pr.setAttribute("href",n),r=Ir(Pr.pathname,e,t),r=r.charAt(0)==="/"?r:"/"+r,{href:Pr.href,protocol:Pr.protocol?Pr.protocol.replace(/:$/,""):"",host:Pr.host,search:Pr.search?Pr.search.replace(/^\?/,""):"",hash:Pr.hash?Pr.hash.replace(/^#/,""):"",hostname:Pr.hostname,port:Pr.port,pathname:r}}function Fr(e){var t=B(e)?jr(e):e;return t.protocol===Br.protocol&&t.host===Br.host}function Ir(e,t,n){var r;return t.indexOf(n)===0&&(t=t.replace(n,"")),Hr.exec(t)?e:(r=Hr.exec(e),r?r[1]:e)}function qr(){this.$get=_(e)}function Rr(e){function n(r,i){if(H(r)){var s={};return E(r,function(e,t){s[t]=n(t,e)}),s}return e.factory(r+t,i)}var t="Filter";this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",zr),n("date",ti),n("filter",Ur),n("json",ni),n("limitTo",si),n("lowercase",ri),n("number",Wr),n("orderBy",oi),n("uppercase",ii)}function Ur(){return function(e,t,n){if(!I(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},r!=="function"&&(r==="boolean"&&n?n=function(e,t){return m.equals(e,t)}:n=function(e,t){return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var s=function(e,t){if(typeof t=="string"&&t.charAt(0)==="!")return!s(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if(r.charAt(0)!=="$"&&s(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(s(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)o=="$"?function(){if(!t[o])return;var e=o;i.push(function(n){return s(n,t[e])})}():function(){if(typeof t[o]=="undefined")return;var e=o;i.push(function(n){return s(Ct(n,e),t[e])})}();break;case"function":i.push(t);break;default:return e}var u=[];for(var a=0;a<e.length;a++){var f=e[a];i.check(f)&&u.push(f)}return u}}function zr(e){var t=e.NUMBER_FORMATS;return function(e,n){return D(n)&&(n=t.CURRENCY_SYM),Vr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Wr(e){var t=e.NUMBER_FORMATS;return function(e,n){return Vr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Vr(e,t,n,r,i){if(isNaN(e)||!isFinite(e))return"";var s=e<0;e=Math.abs(e);var o=e+"",u="",a=[],f=!1;if(o.indexOf("e")!==-1){var l=o.match(/([\d\.]+)e(-?)(\d+)/);l&&l[2]=="-"&&l[3]>i+1?o="0":(u=o,f=!0)}if(!f){var c=(o.split(Xr)[1]||"").length;D(i)&&(i=Math.min(Math.max(t.minFrac,c),t.maxFrac));var h=Math.pow(10,i);e=Math.round(e*h)/h;var p=(""+e).split(Xr),d=p[0];p=p[1]||"";var v,m=0,g=t.lgSize,y=t.gSize;if(d.length>=g+y){m=d.length-g;for(v=0;v<m;v++)(m-v)%y===0&&v!==0&&(u+=n),u+=d.charAt(v)}for(v=m;v<d.length;v++)(d.length-v)%g===0&&v!==0&&(u+=n),u+=d.charAt(v);while(p.length<i)p+="0";i&&i!=="0"&&(u+=r+p.substr(0,i))}else i>0&&e>-1&&e<1&&(u=e.toFixed(i));return a.push(s?t.negPre:t.posPre),a.push(u),a.push(s?t.negSuf:t.posSuf),a.join("")}function $r(e,t,n){var r="";e<0&&(r="-",e=-e),e=""+e;while(e.length<t)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Jr(e,t,n,r){return n=n||0,function(i){var s=i["get"+e]();if(n>0||s>-n)s+=n;return s===0&&n==-12&&(s=12),$r(s,t,r)}}function Kr(e,t){return function(n,r){var i=n["get"+e](),o=s(t?"SHORT"+e:e);return r[o][i]}}function Qr(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=$r(Math[t>0?"floor":"ceil"](t/60),2)+$r(Math.abs(t%60),2),n}function Gr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ti(e){function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,s=0,o=n[8]?r.setUTCFullYear:r.setFullYear,u=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=L(n[9]+n[10]),s=L(n[9]+n[11])),o.call(r,L(n[1]),L(n[2])-1,L(n[3]));var a=L(n[4]||0)-i,f=L(n[5]||0)-s,l=L(n[6]||0),c=Math.round(parseFloat("0."+(n[7]||0))*1e3);return u.call(r,a,f,l,c),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,r){var i="",s=[],o,u;r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,B(t)&&(ei.test(t)?t=L(t):t=n(t)),j(t)&&(t=new Date(t));if(!F(t))return t;while(r)u=Zr.exec(r),u?(s=st(s,u,1),r=s.pop()):(s.push(r),r=null);return E(s,function(n){o=Yr[n],i+=o?o(t,e.DATETIME_FORMATS):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function ni(){return function(e){return ft(e,!0)}}function si(){return function(e,t){if(!I(e)&&!B(e))return e;t=L(t);if(B(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n=[],r,i;t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(r=0,i=t):(r=e.length+t,i=e.length);for(;r<i;r++)n.push(e[r]);return n}}function oi(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i!==0)return i}return 0}function u(e,t){return ct(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?(n=="string"&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<r?-1:1}if(!I(t))return t;if(!n)return t;n=I(n)?n:[n],n=K(n,function(t){var n=!1,r=t||M;if(B(t)){if(t.charAt(0)=="+"||t.charAt(0)=="-")n=t.charAt(0)=="-",t=t.substring(1);r=e(t)}return u(function(e,t){return a(r(e),r(t))},n)});var i=[];for(var s=0;s<t.length;s++)i.push(t[s]);return i.sort(u(o,r))}}function ui(e){return q(e)&&(e={link:e}),e.restrict=e.restrict||"AC",_(e)}function ci(e,t){function u(t,n){n=n?"-"+Et(n,"-"):"",e.removeClass((t?ki:Ci)+n).addClass((t?Ci:ki)+n)}var n=this,r=e.parent().controller("form")||li,i=0,s=n.$error={},o=[];n.$name=t.name||t.ngForm,n.$dirty=!1,n.$pristine=!0,n.$valid=!0,n.$invalid=!1,r.$addControl(n),e.addClass(Li),u(!0),n.$addControl=function(e){Nt(e.$name,"input"),o.push(e),e.$name&&(n[e.$name]=e)},n.$removeControl=function(e){e.$name&&n[e.$name]===e&&delete n[e.$name],E(s,function(t,r){n.$setValidity(r,!0,e)}),Z(o,e)},n.$setValidity=function(e,t,o){var a=s[e];if(t)a&&(Z(a,o),a.length||(i--,i||(u(t),n.$valid=!0,n.$invalid=!1),s[e]=!1,u(!0,e),r.$setValidity(e,!0,n)));else{i||u(t);if(a){if(G(a,o))return}else s[e]=a=[],i++,u(!1,e),r.$setValidity(e,!1,n);a.push(o),n.$valid=!1,n.$invalid=!0}},n.$setDirty=function(){e.removeClass(Li).addClass(Ai),n.$dirty=!0,n.$pristine=!1,r.$setDirty()},n.$setPristine=function(){e.removeClass(Ai).addClass(Li),n.$dirty=!1,n.$pristine=!0,E(o,function(e){e.$setPristine()})}}function bi(e,t,i,s,o,u){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionend",function(){a=!1,f()});var f=function(){if(a)return;var n=t.val();ct(i.ngTrim||"T")&&(n=V(n)),s.$viewValue!==n&&e.$apply(function(){s.$setViewValue(n)})};if(o.hasEvent("input"))t.on("input",f);else{var l,c=function(){l||(l=u.defer(function(){f(),l=null}))};t.on("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;c()}),t.on("change",f),o.hasEvent("paste")&&t.on("paste cut",c)}s.$render=function(){t.val(s.$isEmpty(s.$viewValue)?"":s.$viewValue)};var h=i.ngPattern,p,d,v=function(e,t){return s.$isEmpty(t)||e.test(t)?(s.$setValidity("pattern",!0),t):(s.$setValidity("pattern",!1),n)};h&&(d=h.match(/^\/(.*)\/([gim]*)$/),d?(h=new RegExp(d[1],d[2]),p=function(e){return v(h,e)}):p=function(n){var i=e.$eval(h);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,i,ht(t));return v(i,n)},s.$formatters.push(p),s.$parsers.push(p));if(i.ngMinlength){var m=L(i.ngMinlength),g=function(e){return!s.$isEmpty(e)&&e.length<m?(s.$setValidity("minlength",!1),n):(s.$setValidity("minlength",!0),e)};s.$parsers.push(g),s.$formatters.push(g)}if(i.ngMaxlength){var y=L(i.ngMaxlength),b=function(e){return!s.$isEmpty(e)&&e.length>y?(s.$setValidity("maxlength",!1),n):(s.$setValidity("maxlength",!0),e)};s.$parsers.push(b),s.$formatters.push(b)}}function wi(e,t,r,i,s,o){bi(e,t,r,i,s,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||gi.test(e)?(i.$setValidity("number",!0),e===""?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e});if(r.min){var u=function(e){var t=parseFloat(r.min);return!i.$isEmpty(e)&&e<t?(i.$setValidity("min",!1),n):(i.$setValidity("min",!0),e)};i.$parsers.push(u),i.$formatters.push(u)}if(r.max){var a=function(e){var t=parseFloat(r.max);return!i.$isEmpty(e)&&e>t?(i.$setValidity("max",!1),n):(i.$setValidity("max",!0),e)};i.$parsers.push(a),i.$formatters.push(a)}i.$formatters.push(function(e){return i.$isEmpty(e)||j(e)?(i.$setValidity("number",!0),e):(i.$setValidity("number",!1),n)})}function Ei(e,t,r,i,s,o){bi(e,t,r,i,s,o);var u=function(e){return i.$isEmpty(e)||vi.test(e)?(i.$setValidity("url",!0),e):(i.$setValidity("url",!1),n)};i.$formatters.push(u),i.$parsers.push(u)}function Si(e,t,r,i,s,o){bi(e,t,r,i,s,o);var u=function(e){return i.$isEmpty(e)||mi.test(e)?(i.$setValidity("email",!0),e):(i.$setValidity("email",!1),n)};i.$formatters.push(u),i.$parsers.push(u)}function xi(e,t,n,r){D(n.name)&&t.attr("name",N()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Ti(e,t,n,r){var i=n.ngTrueValue,s=n.ngFalseValue;B(i)||(i=!0),B(s)||(s=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:s})}function qi(e,t){return e="ngClass"+e,function(){return{restrict:"AC",link:function(n,r,i){function o(e){if(t===!0||n.$index%2===t){var r=u(e||"");s?rt(e,s)||i.$updateClass(r,u(s)):i.$addClass(r)}s=tt(e)}function u(e){if(I(e))return e.join(" ");if(H(e)){var t=[],n=0;return E(e,function(e,n){e&&t.push(n)}),t.join(" ")}return e}var s;n.$watch(i[e],o,!0),i.$observe("class",function(t){o(n.$eval(i[e]))}),e!=="ngClass"&&n.$watch("$index",function(r,s){var o=r&1;if(o!==s&1){var a=u(n.$eval(i[e]));o===t?i.$addClass(a):i.$removeClass(a)}})}}}}var i=function(e){return B(e)?e.toLowerCase():e},s=function(e){return B(e)?e.toUpperCase():e},o=function(e){return B(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e},u=function(e){return B(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(i=o,s=u);var a,f,l,c=[].slice,h=[].push,p=Object.prototype.toString,d=r("ng"),v=e.angular,m=e.angular||(e.angular={}),g,y,b=["0","0","0"];a=L((/msie (\d+)/.exec(i(navigator.userAgent))||[])[1]),isNaN(a)&&(a=L((/trident\/.*; rv:(\d+)/.exec(i(navigator.userAgent))||[])[1])),O.$inject=[],M.$inject=[];var V=function(){return String.prototype.trim?function(e){return B(e)?e.trim():e}:function(e){return B(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}();a<9?y=function(e){return e=e.nodeName?e:e[0],e.scopeName&&e.scopeName!="HTML"?s(e.scopeName+":"+e.nodeName):e.nodeName}:y=function(e){return e.nodeName?e.nodeName:e[0].nodeName};var wt=/[A-Z]/g,At={full:"1.2.2",major:1,minor:2,dot:2,codeName:"consciousness-inertia"},Mt=Ut.cache={},_t=Ut.expando="ng-"+(new Date).getTime(),Dt=1,Pt=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Ht=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},jt=/([\:\-\_]+(.))/g,Ft=/^moz([A-Z])/,It=r("jqLite"),tn=Ut.prototype={ready:function(n){function i(){if(r)return;r=!0,n()}var r=!1;t.readyState==="complete"?setTimeout(i):(this.on("DOMContentLoaded",i),Ut(e).on("load",i))},toString:function(){var e=[];return E(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?f(this[e]):f(this[this.length+e])},length:0,push:h,sort:[].sort,splice:[].splice},nn={};E("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){nn[i(e)]=e});var rn={};E("input,select,option,textarea,button,form,details".split(","),function(e){rn[s(e)]=!0}),E({data:Jt,inheritedData:en,scope:function(e){return f(e).data("$scope")||en(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return f(e).data("$isolateScope")||f(e).data("$isolateScopeNoTemplate")},controller:Zt,injector:function(e){return en(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Kt,css:function(e,t,r){t=qt(t);if(!P(r)){var i;return a<=8&&(i=e.currentStyle&&e.currentStyle[t],i===""&&(i="auto")),i=i||e.style[t],a<=8&&(i=i===""?n:i),i}e.style[t]=r},attr:function(e,t,r){var s=i(t);if(nn[s]){if(!P(r))return e[t]||(e.attributes.getNamedItem(t)||O).specified?s:n;r?(e[t]=!0,e.setAttribute(t,s)):(e[t]=!1,e.removeAttribute(s))}else if(P(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return o===null?n:o}},prop:function(e,t,n){if(!P(n))return e[t];e[t]=n},text:function(){function t(t,n){var r=e[t.nodeType];if(D(n))return r?t[r]:"";t[r]=n}var e=[];return a<9?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(e,t){if(D(t)){if(y(e)==="SELECT"&&e.multiple){var n=[];return E(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n.length===0?null:n}return e.value}e.value=t},html:function(e,t){if(D(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)Wt(r[n]);e.innerHTML=t}},function(e,t){Ut.prototype[t]=function(t,r){var i,s;if((e.length==2&&e!==Kt&&e!==Zt?t:r)===n){if(H(t)){for(i=0;i<this.length;i++)if(e===Jt)e(this[i],t);else for(s in t)e(this[i],s,t[s]);return this}var o=e.$dv,u=o===n?Math.min(this.length,1):this.length;for(var a=0;a<u;a++){var f=e(this[a],t,r);o=o?o+f:f}return o}for(i=0;i<this.length;i++)e(this[i],t,r);return this}}),E({removeData:Vt,dealoc:Wt,on:function hs(e,n,r,i){if(P(i))throw It("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var s=$t(e,"events"),o=$t(e,"handle");s||$t(e,"events",s={}),o||$t(e,"handle",o=on(e,s)),E(n.split(" "),function(n){var i=s[n];if(!i){if(n=="mouseenter"||n=="mouseleave"){var u=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1};s[n]=[];var a={mouseleave:"mouseout",mouseenter:"mouseover"};hs(e,a[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!u(t,r))&&o(e,n)})}else Pt(e,n,o),s[n]=[];i=s[n]}i.push(r)})},off:Xt,replaceWith:function(e,t){var n,r=e.parentNode;Wt(e),E(new Ut(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return E(e.childNodes,function(e){e.nodeType===1&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){E(new Ut(t),function(t){(e.nodeType===1||e.nodeType===11)&&e.appendChild(t)})},prepend:function(e,t){if(e.nodeType===1){var n=e.firstChild;E(new Ut(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=f(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){Wt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;E(new Ut(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:Gt,removeClass:Qt,toggleClass:function(e,t,n){D(n)&&(n=!Kt(e,t)),(n?Gt:Qt)(e,t)},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;var t=e.nextSibling;while(t!=null&&t.nodeType!==1)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:zt,triggerHandler:function(e,t,n){var r=($t(e,"events")||{})[t];n=n||[];var i=[{preventDefault:O,stopPropagation:O}];E(r,function(t){t.apply(e,i.concat(n))})}},function(e,t){Ut.prototype[t]=function(t,n,r){var i;for(var s=0;s<this.length;s++)D(i)?(i=e(this[s],t,n,r),P(i)&&(i=f(i))):Yt(i,e(this[s],t,n,r));return P(i)?i:this},Ut.prototype.bind=Ut.prototype.on,Ut.prototype.unbind=Ut.prototype.off}),an.prototype={put:function(e,t){this[un(e)]=t},get:function(e){return this[un(e)]},remove:function(e){var t=this[e=un(e)];return delete this[e],t}};var fn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,ln=/,/,cn=/^\s*(_?)(\S+?)\1\s*$/,hn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,pn=r("$injector"),gn=r("$animate"),yn=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&t.charAt(0)!=".")throw gn("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.$get=["$timeout",function(e){return{enter:function(t,n,r,i){if(r)r.after(t);else{if(!n||!n[0])n=r.parent();n.append(t)}i&&e(i,0,!1)},leave:function(t,n){t.remove(),n&&e(n,0,!1)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(t,n,r){n=B(n)?n:I(n)?n.join(" "):"",E(t,function(e){Gt(e,n)}),r&&e(r,0,!1)},removeClass:function(t,n,r){n=B(n)?n:I(n)?n.join(" "):"",E(t,function(e){Qt(e,n)}),r&&e(r,0,!1)},enabled:O}}]}],xn=r("$compile");Tn.$inject=["$provide"];var Nn=/^(x[\:\-_]|data[\:\-_])/i,Fn=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")},Rn=r("$interpolate"),Xn=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vn={http:80,https:443,ftp:21},$n=r("$location");rr.prototype=nr.prototype=tr.prototype={$$html5:!1,$$replace:!1,absUrl:ir("$$absUrl"),url:function(e,t){if(D(e))return this.$$url;var n=Xn.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:ir("$$protocol"),host:ir("$$host"),port:ir("$$port"),path:sr("$$path",function(e){return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(B(e))this.$$search=dt(e);else{if(!H(e))throw $n("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:D(t)||t===null?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:sr("$$hash",M),replace:function(){return this.$$replace=!0,this}};var ar=r("$parse"),fr={},lr,pr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":O,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),P(r)?P(i)?r+i:r:P(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(P(n)?n:0)-(P(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":O,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},dr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vr=function(e){this.options=e};vr.prototype={constructor:vr,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];var t,r=[];while(this.index<this.text.length){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&r[0]==="{"&&(t=this.tokens[this.tokens.length-1])&&(t.json=t.text.indexOf(".")===-1);else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&r.unshift(this.ch),this.is("}]")&&r.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var i=this.ch+this.peek(),s=i+this.peek(2),o=pr[this.ch],u=pr[i],a=pr[s];a?(this.tokens.push({index:this.index,text:s,fn:a}),this.index+=3):u?(this.tokens.push({index:this.index,text:i,fn:u}),this.index+=2):o?(this.tokens.push({index:this.index,text:this.ch,fn:o,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return e.indexOf(this.ch)!==-1},was:function(e){return e.indexOf(this.lastCh)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e==="\n"||e===""||e===" "},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||e==="$"},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=P(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ar("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){var e="",t=this.index;while(this.index<this.text.length){var n=i(this.text.charAt(this.index));if(n=="."||this.isNumber(n))e+=n;else{var r=this.peek();if(n=="e"&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)=="e")e+=n;else{if(!this.isExpOperator(n)||!!r&&!!this.isNumber(r)||e.charAt(e.length-1)!="e")break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,json:!0,fn:function(){return e}})},readIdent:function(){var e=this,t="",n=this.index,r,i,s,o;while(this.index<this.text.length){o=this.text.charAt(this.index);if(o!=="."&&!this.isIdent(o)&&!this.isNumber(o))break;o==="."&&(r=this.index),t+=o,this.index++}if(r){i=this.index;while(i<this.text.length){o=this.text.charAt(i);if(o==="("){s=t.substr(r-n+1),t=t.substr(0,r-n),this.index=i;break}if(!this.isWhitespace(o))break;i++}}var u={index:n,text:t};if(pr.hasOwnProperty(t))u.fn=pr[t],u.json=pr[t];else{var a=wr(t,this.options,this.text);u.fn=k(function(e,t){return a(e,t)},{assign:function(n,r){return gr(n,t,r,e.text,e.options)}})}this.tokens.push(u),s&&(this.tokens.push({index:r,text:".",json:!1}),this.tokens.push({index:r+1,text:s,json:!1}))},readString:function(e){var t=this.index;this.index++;var n="",r=e,i=!1;while(this.index<this.text.length){var s=this.text.charAt(this.index);r+=s;if(i){if(s==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var u=dr[s];u?n+=u:n+=s}i=!1}else if(s==="\\")i=!0;else{if(s===e){this.index++,this.tokens.push({index:t,text:r,string:n,json:!0,fn:function(){return n}});return}n+=s}this.index++}this.throwError("Unterminated quote",t)}};var mr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};mr.ZERO=function(){return 0},mr.prototype={constructor:mr,parse:function(e,t){this.text=e,this.json=t,this.tokens=this.lexer.lex(e),t&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:e,index:0})});var n=t?this.primary():this.statements();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),t.json&&(e.constant=!0,e.literal=!0)}var n,r;while(n=this.expect("(","[","."))n.text==="("?(e=this.functionCall(e,r),r=null):n.text==="["?(r=e,e=this.objectIndex(e)):n.text==="."?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ar("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(this.tokens.length===0)throw ar("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],s=i.text;if(s===e||s===t||s===n||s===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.json&&!i.json&&this.throwError("is not valid json",i),this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return k(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return k(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return k(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){var e=[];for(;;){this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain());if(!this.expect(";"))return e.length===1?e[0]:function(t,n){var r;for(var i=0;i<e.length;i++){var s=e[i];s&&(r=s(t,n))}return r}}},filterChain:function(){var e=this.expression(),t;for(;;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){var e=this.expect(),t=this.$filter(e.text),n=[];for(;;){if(!(e=this.expect(":"))){var r=function(e,r,i){var s=[i];for(var o=0;o<n.length;o++)s.push(n[o](e,r));return t.apply(e,s)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary(),t,n;return(n=this.expect("="))?(e.assign||this.throwError("implies assignment but ["+this.text.substring(0,n.index)+"] can not be assigned to",n),t=this.ternary(),function(n,r){return e.assign(n,t(n,r),r)}):e},ternary:function(){var e=this.logicalOR(),t,n;if(!(n=this.expect("?")))return e;t=this.ternary();if(n=this.expect(":"))return this.ternaryFn(e,t,this.ternary());this.throwError("expected :",n)},logicalOR:function(){var e=this.logicalAND(),t;for(;;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var e=this.equality(),t;if(t=this.expect("&&"))e=this.binaryFn(e,t.fn,this.logicalAND());return e},equality:function(){var e=this.relational(),t;if(t=this.expect("==","!=","===","!=="))e=this.binaryFn(e,t.fn,this.equality());return e},relational:function(){var e=this.additive(),t;if(t=this.expect("<",">","<=",">="))e=this.binaryFn(e,t.fn,this.relational());return e},additive:function(){var e=this.multiplicative(),t;while(t=this.expect("+","-"))e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){var e=this.unary(),t;while(t=this.expect("*","/","%"))e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(mr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=wr(n,this.options,this.text);return k(function(t,n,i){return r(i||e(t,n),n)},{assign:function(r,i,s){return gr(e(r,s),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),k(function(i,s){var o=e(i,s),u=r(i,s),a,f;return o?(a=hr(o[u],t.text),a&&a.then&&t.options.unwrapPromises&&(f=a,"$$v"in a||(f.$$v=n,f.then(function(e){f.$$v=e})),a=a.$$v),a):n},{assign:function(n,i,s){var o=r(n,s),u=hr(e(n,s),t.text);return u[o]=i}})},functionCall:function(e,t){var n=[];if(this.peekToken().text!==")")do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,s){var o=[],u=t?t(i,s):i;for(var a=0;a<n.length;a++)o.push(n[a](i,s));var f=e(i,s,u)||O;hr(u,r.text),hr(f,r.text);var l=f.apply?f.apply(u,o):f(o[0],o[1],o[2],o[3],o[4]);return hr(l,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if(this.peekToken().text!=="]")do{var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),k(function(t,n){var r=[];for(var i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if(this.peekToken().text!=="}")do{var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),k(function(t,n){var r={};for(var i=0;i<e.length;i++){var s=e[i];r[s.key]=s.value(t,n)}return r},{literal:!0,constant:t})}};var yr={},Nr=r("$sce"),Cr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pr=t.createElement("a"),Hr=/^\/?.*?:(\/.*)/,Br=jr(e.location.href,!0);Rr.$inject=["$provide"],zr.$inject=["$locale"],Wr.$inject=["$locale"];var Xr=".",Yr={yyyy:Jr("FullYear",4),yy:Jr("FullYear",2,0,!0),y:Jr("FullYear",1),MMMM:Kr("Month"),MMM:Kr("Month",!0),MM:Jr("Month",2,1),M:Jr("Month",1,1),dd:Jr("Date",2),d:Jr("Date",1),HH:Jr("Hours",2),H:Jr("Hours",1),hh:Jr("Hours",2,-12),h:Jr("Hours",1,-12),mm:Jr("Minutes",2),m:Jr("Minutes",1),ss:Jr("Seconds",2),s:Jr("Seconds",1),sss:Jr("Milliseconds",3),EEEE:Kr("Day"),EEE:Kr("Day",!0),a:Gr,Z:Qr},Zr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ei=/^\-?\d+$/;ti.$inject=["$locale"];var ri=_(i),ii=_(s);oi.$inject=["$parse"];var ai=_({restrict:"E",compile:function(e,n){return a<=8&&(!n.href&&!n.name&&n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.on("click",function(e){t.attr("href")||e.preventDefault()})}}}),fi={};E(nn,function(e,t){if(e=="multiple")return;var n=Cn("ng-"+t);fi[n]=function(){return{priority:100,compile:function(){return function(e,r,i){e.$watch(i[n],function(n){i.$set(t,!!n)})}}}}}),E(["src","srcset","href"],function(e){var t=Cn("ng-"+e);fi[t]=function(){return{priority:99,link:function(n,r,i){i.$observe(t,function(t){if(!t)return;i.$set(e,t),a&&r.prop(e,i[e])})}}}});var li={$addControl:O,$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O};ci.$inject=["$element","$attrs","$scope"];var hi=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:ci,compile:function(){return{pre:function(e,r,i,s){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Pt(r[0],"submit",o),r.on("$destroy",function(){t(function(){Ht(r[0],"submit",o)},0,!1)})}var u=r.parent().controller("form"),a=i.name||i.ngForm;a&&gr(e,a,s,a),u&&r.on("$destroy",function(){u.$removeControl(s),a&&gr(e,a,n,a),k(s,li)})}}}};return r}]},pi=hi(),di=hi(!0),vi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,mi=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,gi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,yi={text:bi,number:wi,url:Ei,email:Si,radio:xi,checkbox:Ti,hidden:O,button:O,submit:O,reset:O},Ni=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,s,o){o&&(yi[i(s.type)]||yi.text)(n,r,s,o,t,e)}}}],Ci="ng-valid",ki="ng-invalid",Li="ng-pristine",Ai="ng-dirty",Oi=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,i,s){function c(e,t){t=t?"-"+Et(t,"-"):"",i.removeClass((e?ki:Ci)+t).addClass((e?Ci:ki)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var o=s(n.ngModel),u=o.assign;if(!u)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,ht(i));this.$render=O,this.$isEmpty=function(e){return D(e)||e===""||e===null||e!==e};var a=i.inheritedData("$formController")||li,f=0,l=this.$error={};i.addClass(Li),c(!0),this.$setValidity=function(e,t){if(l[e]===!t)return;t?(l[e]&&f--,f||(c(!0),this.$valid=!0,this.$invalid=!1)):(c(!1),this.$invalid=!0,this.$valid=!1,f++),l[e]=!t,c(t,e),a.$setValidity(e,t,this)},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,i.removeClass(Ai).addClass(Li)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,i.removeClass(Li).addClass(Ai),a.$setDirty()),E(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),E(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var h=this;e.$watch(function(){var n=o(e);if(h.$modelValue!==n){var r=h.$formatters,i=r.length;h.$modelValue=n;while(i--)n=r[i](n);h.$viewValue!==n&&(h.$viewValue=n,h.$render())}})}],Mi=function(){return{require:["ngModel","^?form"],controller:Oi,link:function(e,t,n,r){var i=r[0],s=r[1]||li;s.$addControl(i),e.$on("$destroy",function(){s.$removeControl(i)})}}},_i=_({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Di=function(){return{require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=!0;var i=function(e){if(n.required&&r.$isEmpty(e)){r.$setValidity("required",!1);return}return r.$setValidity("required",!0),e};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}},Pi=function(){return{require:"ngModel",link:function(e,t,r,i){var s=/\/(.*)\//.exec(r.ngList),o=s&&new RegExp(s[1])||r.ngList||",",u=function(e){if(D(e))return;var t=[];return e&&E(e.split(o),function(e){e&&t.push(V(e))}),t};i.$parsers.push(u),i.$formatters.push(function(e){return I(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Hi=/^(true|false|\d+)$/,Bi=function(){return{priority:100,compile:function(e,t){return Hi.test(t.ngValue)?function(t,n,r){r.$set("value",t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){r.$set("value",t)})}}}},ji=ui(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(r){t.text(r==n?"":r)})}),Fi=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],Ii=["$sce","$parse",function(e,t){return function(n,r,i){function o(){return(s(n)||"").toString()}r.addClass("ng-binding").data("$binding",i.ngBindHtml);var s=t(i.ngBindHtml);n.$watch(o,function(i){r.html(e.getTrustedHtml(s(n))||"")})}}],Ri=qi("",!0),Ui=qi("Odd",0),zi=qi("Even",1),Wi=ui({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Xi=[function(){return{scope:!0,controller:"@",priority:500}}],Vi={};E("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Cn("ng-"+e);Vi[t]=["$parse",function(n){return{compile:function(r,s){var o=n(s[t]);return function(t,n,r){n.on(i(e),function(e){t.$apply(function(){o(t,{$event:e})})})}}}}]});var $i=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a;n.$watch(i.ngIf,function(f){ct(f)?a||(a=n.$new(),o(a,function(n){u={startNode:n[0],endNode:n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" ")},e.enter(n,r.parent(),r)})):(a&&(a.$destroy(),a=null),u&&(e.leave(kt(u)),u=null))})}}}],Ji=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(e,t,n,r,i,s){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",compile:function(o,u){var a=u.ngInclude||u.src,f=u.onload||"",l=u.autoscroll;return function(o,u,c,h,p){var d=0,v,m,g=function(){v&&(v.$destroy(),v=null),m&&(i.leave(m),m=null)};o.$watch(s.parseAsResourceUrl(a),function(a){var c=function(){P(l)&&(!l||o.$eval(l))&&n()},h=++d;a?(e.get(a,{cache:t}).success(function(e){if(h!==d)return;var t=o.$new(),n=p(t,O);g(),v=t,m=n,m.html(e),i.enter(m,null,u,c),r(m.contents())(v),v.$emit("$includeContentLoaded"),o.$eval(f)}).error(function(){h===d&&g()}),o.$emit("$includeContentRequested")):g()})}}}}],Ki=ui({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Qi=ui({terminal:!0,priority:1e3}),Gi=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,s,o){var u=o.count,a=o.$attr.when&&s.attr(o.$attr.when),f=o.offset||0,l=r.$eval(a)||{},c={},h=t.startSymbol(),p=t.endSymbol(),d=/^when(Minus)?(.+)$/;E(o,function(e,t){d.test(t)&&(l[i(t.replace("when","").replace("Minus","-"))]=s.attr(o.$attr[t]))}),E(l,function(e,r){c[r]=t(e.replace(n,h+u+"-"+f+p))}),r.$watch(function(){var n=parseFloat(r.$eval(u));return isNaN(n)?"":(n in l||(n=e.pluralCat(n-f)),c[n](r,s,!0))},function(t){s.text(t)})}}}],Yi=["$parse","$animate",function(e,n){var i="$$NG_REMOVED",s=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,o,u,a,l){var c=u.ngRepeat,h=c.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),p,d,v,m,g,y,b,S,x,T={$id:un};if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);y=h[1],b=h[2],p=h[4],p?(d=e(p),v=function(e,t,n){return x&&(T[x]=e),T[S]=t,T.$index=n,d(r,T)}):(m=function(e,t){return un(t)},g=function(e){return e}),h=y.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",y);S=h[3]||h[1],x=h[2];var N={};r.$watchCollection(b,function(u){var a,h,p=o[0],d,y={},b,T,C,k,L,A,O,M,_=[],D;if(w(u))O=u,A=v||m;else{A=v||g,O=[];for(C in u)u.hasOwnProperty(C)&&C.charAt(0)!="$"&&O.push(C);O.sort()}b=O.length,h=_.length=O.length;for(a=0;a<h;a++){C=u===O?a:O[a],k=u[C],L=A(C,k,a),Nt(L,"`track by` id");if(N.hasOwnProperty(L))M=N[L],delete N[L],y[L]=M,_[a]=M;else{if(y.hasOwnProperty(L))throw E(_,function(e){e&&e.startNode&&(N[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",c,L);_[a]={id:L},y[L]=!1}}for(C in N)N.hasOwnProperty(C)&&(M=N[C],D=kt(M),n.leave(D),E(D,function(e){e[i]=!0}),M.scope.$destroy());for(a=0,h=O.length;a<h;a++){C=u===O?a:O[a],k=u[C],M=_[a],_[a-1]&&(p=_[a-1].endNode);if(M.startNode){T=M.scope,d=p;do d=d.nextSibling;while(d&&d[i]);M.startNode!=d&&n.move(kt(M),null,f(p)),p=M.endNode}else T=r.$new();T[S]=k,x&&(T[x]=C),T.$index=a,T.$first=a===0,T.$last=a===b-1,T.$middle=!T.$first&&!T.$last,T.$odd=!(T.$even=(a&1)===0),M.startNode||l(T,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+c+" "),n.enter(e,null,f(p)),p=e,M.scope=T,M.startNode=p&&p.endNode?p.endNode:e[0],M.endNode=e[e.length-1],y[M.id]=M})}N=y})}}}],Zi=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(r){e[ct(r)?"removeClass":"addClass"](n,"ng-hide")})}}],es=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(r){e[ct(r)?"addClass":"removeClass"](n,"ng-hide")})}}],ts=ui(function(e,t,n){e.$watch(n.ngStyle,function(n,r){r&&n!==r&&E(r,function(e,n){t.css(n,"")}),n&&t.css(n)},!0)}),ns=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var s=r.ngSwitch||r.on,o,u,a=[];t.$watch(s,function(s){for(var f=0,l=a.length;f<l;f++)a[f].$destroy(),e.leave(u[f]);u=[],a=[];if(o=i.cases["!"+s]||i.cases["?"])t.$eval(r.change),E(o,function(n){var r=t.$new();a.push(r),n.transclude(r,function(t){var r=n.element;u.push(t),e.enter(t,r.parent(),r)})})})}}}],rs=ui({transclude:"element",priority:800,require:"^ngSwitch",compile:function(e,t){return function(e,n,r,i,s){i.cases["!"+t.ngSwitchWhen]=i.cases["!"+t.ngSwitchWhen]||[],i.cases["!"+t.ngSwitchWhen].push({transclude:s,element:n})}}}),is=ui({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),ss=ui({controller:["$element","$transclude",function(e,t){if(!t)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ht(e));this.$transclude=t}],link:function(e,t,n,r){r.$transclude(function(e){t.html(""),t.append(e)})}}),os=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if(n.type=="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}],us=r("ngOptions"),as=_({terminal:!0}),fs=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:O};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r=this,i={},o=s,u,a;r.databound=n.ngModel,r.init=function(e,t,n){o=e,u=t,a=n},r.addOption=function(t){Nt(t,'"option value"'),i[t]=!0,o.$viewValue==t&&(e.val(t),a.parent()&&a.remove())},r.removeOption=function(e){this.hasOption(e)&&(delete i[e],o.$viewValue==e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){var n="? "+un(t)+" ?";a.val(n),e.prepend(a),e.val(n),a.prop("selected",!0)},r.hasOption=function(e){return i.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=O})}],link:function(s,o,u,a){function T(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(y.parent()&&y.remove(),t.val(e),e===""&&v.prop("selected",!0)):D(e)&&v?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){y.parent()&&y.remove(),n.$setViewValue(t.val())})})}function N(e,t,n){var r;n.$render=function(){var e=new an(n.$viewValue);E(t.find("option"),function(t){t.selected=P(e.get(t.value))})},e.$watch(function(){rt(r,n.$viewValue)||(r=tt(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];E(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function C(t,s,o){function x(){var e={"":[]},n=[""],r,i,u,p,b,x,T=o.$modelValue,N=y(t)||[],C=l?S(N):N,k,L,A,O,M,_={},D,H=!1,B,j,F;if(h)if(w&&I(T)){H=new an([]);for(var q=0;q<T.length;q++)_[f]=T[q],H.put(w(t,_),T[q])}else H=new an(T);for(M=0;A=C.length,M<A;M++){k=M;if(l){k=C[M];if(k.charAt(0)==="$")continue;_[l]=k}_[f]=N[k],r=c(t,_)||"",(i=e[r])||(i=e[r]=[],n.push(r));if(h)D=P(H.remove(w?w(t,_):v(t,_)));else{if(w){var R={};R[f]=T,D=w(t,R)===w(t,_)}else D=T===v(t,_);H=H||D}F=a(t,_),F=P(F)?F:"",i.push({id:w?w(t,_):l?C[M]:M,label:F,selected:D})}h||(d||T===null?e[""].unshift({id:"",label:"",selected:!H}):H||e[""].unshift({id:"?",label:"",selected:!0}));for(O=0,L=n.length;O<L;O++){r=n[O],i=e[r],E.length<=O?(p={element:g.clone().attr("label",r),label:i.label},b=[p],E.push(b),s.append(p.element)):(b=E[O],p=b[0],p.label!=r&&p.element.attr("label",p.label=r)),B=null;for(M=0,A=i.length;M<A;M++)u=i[M],(x=b[M+1])?(B=x.element,x.label!==u.label&&B.text(x.label=u.label),x.id!==u.id&&B.val(x.id=u.id),x.selected!==u.selected&&B.prop("selected",x.selected=u.selected)):(u.id===""&&d?j=d:(j=m.clone()).val(u.id).attr("selected",u.selected).text(u.label),b.push(x={element:j,label:u.label,id:u.id,selected:u.selected}),B?B.after(j):p.element.append(j),B=j);M++;while(b.length>M)b.pop().element.remove()}while(E.length>O)E.pop()[0].element.remove()}var u;if(!(u=p.match(i)))throw us("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",p,ht(s));var a=r(u[2]||u[1]),f=u[4]||u[6],l=u[5],c=r(u[3]||""),v=r(u[2]?u[1]:f),y=r(u[7]),b=u[8],w=b?r(u[8]):null,E=[[{element:s,label:""}]];d&&(e(d)(t),d.removeClass("ng-scope"),d.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,r=y(t)||[],i={},u,a,c,p,d,m,g,b;if(h){a=[];for(d=0,g=E.length;d<g;d++){e=E[d];for(p=1,m=e.length;p<m;p++)if((c=e[p].element)[0].selected){u=c.val(),l&&(i[l]=u);if(w)for(b=0;b<r.length;b++){i[f]=r[b];if(w(t,i)==u)break}else i[f]=r[u];a.push(v(t,i))}}}else{u=s.val();if(u=="?")a=n;else if(u==="")a=null;else if(w)for(b=0;b<r.length;b++){i[f]=r[b];if(w(t,i)==u){a=v(t,i);break}}else i[f]=r[u],l&&(i[l]=u),a=v(t,i);E[0].length>1&&E[0][1].id!==u&&(E[0][1].selected=!1)}o.$setViewValue(a)})}),o.$render=x,t.$watch(x)}if(!a[1])return;var l=a[0],c=a[1],h=u.multiple,p=u.ngOptions,d=!1,v,m=f(t.createElement("option")),g=f(t.createElement("optgroup")),y=m.clone();for(var b=0,w=o.children(),x=w.length;b<x;b++)if(w[b].value===""){v=d=w.eq(b);break}l.init(c,d,y),h&&(c.$isEmpty=function(e){return!e||e.length===0}),p?C(s,o,c):h?N(s,o,c):T(s,o,c,l)}}}],ls=["$interpolate",function(e){var t={addOption:O,removeOption:O};return{restrict:"E",priority:100,compile:function(n,r){if(D(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var s="$selectController",o=n.parent(),u=o.data(s)||o.parent().data(s);u&&u.databound?n.prop("selected",!1):u=t,i?e.$watch(i,function(t,n){r.$set("value",t),t!==n&&u.removeOption(n),u.addOption(t)}):u.addOption(r.value),n.on("$destroy",function(){u.removeOption(r.value)})}}}}],cs=_({restrict:"E",terminal:!0});St(),Ot(m),f(t).ready(function(){yt(t,bt)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-start{border-spacing:1px 1px;-ms-zoom:1.0001;}.ng-animate-active{border-spacing:0px 0px;-ms-zoom:1;}</style>'),define("angular",["jQuery"],function(e){return function(){var t,n;return t||e.angular}}(this)),define("common/modelSystem/modelSystemModule",["angular"],function(e){var t=e.module(["aliyunConsoleModelSystem"],[]);return t.constant("aliyunConsoleDefaultModelConfig",{bizTypes:[],modelTypes:[],moduleModel:{},pageModel:{},bizComponentModel:{},bizModel:{},formModel:{},gridModel:{},toolBarModel:{}}).provider("aliyunConsoleModelSetting",["aliyunConsoleDefaultModelConfig",function(t){var n=t;return{setProviderOptions:function(t){e.extend(n,t)},setBizTypes:function(t){n&&e.isArray(t)&&(n.bizTypes=t)},setModelTypes:function(t){n&&e.isArray(t)&&(n.modelTypes=t)},$get:function(){return n}}}]).run(["controllerInheritService",function(e){e.init()}]),t}),define("common/modelSystem/scriptLoader",["angular","./modelSystemModule","require"],function(e,t,n){t.provider("modelSystem.scriptLoader",[function(){var t={load:n};return{setLoader:function(n){e.extend(t,{load:n})},$get:function(){return t}}}])}),define("common/services/services",["angular"],function(e){return e.module(["aliyunCommonServices"],[])}),define("common/helper/urlQueryStringHelper",[],function(){function n(){var n=window.location.search.substring(1),r=null;if(n){r={};if(n==t&&e)return e[n];t=n;var i=n.split("&");for(var s=0,o=null;o=i[s];s++)o=o.split("="),r[o[0]]=o[1];return e[n]=r,r}return null}var e={},t="";return{getQueryValue:function(e){var t=n();if(t==null)return null;var r=t[e];return r},getQueryValueMap:n}}),define("common/nls/messages",[],function(){var e={validator:{"validator.lb.char2to22":"只允许输入2到22个字符","validator.lb.char2to15":"只允许输入2到15个字符","validator.lb.preventHttpText":"不能以http://或https://开头。","validator.lb.nameValidator":'以大小写字母、数字和中文开头，不支持字符@/:="<>{[]}和空格。'},sidebar:{"common.directive.sidebar.backToOld":"将回旧版","common.directive.sidebarManage.pickedArea":"已选区域: ","common.directive.sidebarManage.allItems":"可选区域: ","common.directive.sidebarManage.errorTooltip":"请至少选择一个快捷入口"},"services.aliyunRiskService":{"break.title":"终止操作","break.message":"检测到存在严重安全风险，该操作无法执行，请联系客服。","verify.sms.title":"手机验证","verify.sms.detailDescription":"您绑定的手机：","verify.sms.changeDescription":"更换手机","verify.sms.bindDescription":"未检测到手机号码,为了保障您的账户安全，请先设置手机绑定。","verify.email.title":"邮箱验证","verify.email.detailDescription":"您绑定的邮箱：","verify.email.changeDescription":"更换邮箱","verify.email.bindDescription":"未检测到邮箱,为了保障您的账户安全，请先设置邮箱绑定。","verify.ga.title":"MFA验证","verify.ga.detailDescription":"验证虚拟MFA设备：","verify.ga.changeDescription":"解除MFA绑定","verify.errorMsg":"校验码错误,请重新输入","set.title":"设置","set.message":"请到新开窗口完成设置！","set.button.yes":"已完成设置","set.button.no":"遇到问题","verifyType.title":"设置验证方式","verifyType.article":"系统没有检测到您的验证方式!","verifyType.message":"为了保障您的账户安全，请先设置验证方式。","verifyType.confirm":"前往设置",verifyCode:"校验码：","verifyCode.required":"校验码不能为空。","verifyCode.invalid":"校验码格式错误。","verifyCode.resend":"秒后重发","verifyCode.send":"点击获取","close.message":"您的操作已取消。"},"services.aliyunHttpHandler":{"msg.timeoutTip.partOne":"您当前的会话已超时，请","msg.timeoutTip.partTwo":"重新登录","msg.response.error":"当前请求失败，建议您刷新页面或者稍后重试。"},selector:{"default.message.load":"正在载入,请稍候...","default.message.error":"载入失败！","default.message.retry":"请点击重试","default.message.empty":"暂无数据","default.message.more":"载入更多"},"modelSystem.steps":{pre:"上一步",next:"下一步",finish:"完成",jumpTo:"跳转到",cancel:"取消",cancelTitle:"流程退出提醒",cancelMsg:"您确定要退出当前流程吗？"},"modelSystem.simpleForm":{required:"不能为空"},"modelSystem.msChart":{dateFormat:"%Y年%m月%d日 %H:%M:%S"},"modelSystem.itemGrid":{successText:"完成"},"modelSystem.inlineCommand":{actionConfirm:"您确定要{0}吗？"},"directives.tag":{"tagSelect.tagKey":"标签键","tagSelect.tagValue":"标签值","tagSelect.pre":"上一页","tagSelect.next":"下一页","tagSelect.tagKeyEmpty":"暂无数据","tagEdit.title":"编辑标签","tagEdit.add":"绑定:","tagEdit.tagAvailable":"已有标签","tagEdit.addNew":"新建标签","tagEdit.tagKey":"键：","tagEdit.tagValue":"值：","tagEdit.tip":"注: 每个资源最多可绑定 {0}个标签,单次操作绑定/解绑标签的数量分别不能超过 {1}个"},"directives.simpleGrid":{noneDataInfoMessage:"没有查询到符合条件的记录",selectAll:"全选",tagButton:"标签"},"directives.simpleForm":{select:"请选择"},"directives.simpleChart":{"lang.loading":"正在加载...","lang.noData":"当前暂无监控数据","lang.resetZoom":"重置"},"directives.shuttle":{"shuttle.select.policy":"可选择策略","shuttle.selected":"已选择"},"directives.searchBar":{week:"周",today:"今天",clear:"清除",close:"确定",search:"搜索"},"directives.rds.backup":{"backup.dialog.setting.title":"备份设置","backup.dialog.confirm.title":"确认更改","backup.dialog.confirm.content":"确认修改备份设置。","backup.field.autoBackup":"自动备份状态：","backup.field.retentionPeriod":"保留天数：","backup.field.backupPeriod":"备份周期：","backup.field.backupTime":"备份时间：","backup.field.backupLog":"日志备份：","backup.field.nextTime":"预计下次备份时间：","backup.dialog.tip.retentionPeriod":"备份保留天数在{0}天之间","backup.dialog.tip.backupPeriod":"备份保留天数在{0}天之间","backup.weekday.Monday":"星期一","backup.weekday.Tuesday":"星期二","backup.weekday.Wednesday":"星期三","backup.weekday.Thursday":"星期四","backup.weekday.Friday":"星期五","backup.weekday.Saturday":"星期六","backup.weekday.Sunday":"星期日","backup.weekday.monday":"星期一","backup.weekday.tuesday":"星期二","backup.weekday.wednesday":"星期三","backup.weekday.thursday":"星期四","backup.weekday.friday":"星期五","backup.weekday.saturday":"星期六","backup.weekday.sunday":"星期日","backup.option.enable":"打开","backup.option.disabled":"关闭","backup.field.text.day":"天","backup.button.confirm":"确定","backup.button.cancel":"取消","backup.button.edit":"编辑"},"directives.numberSpinner":{add:"增加",sub:"减少"},"directives.guide":{dialog_title:"新功能引导",dialog_detail:"查看详情",dialog_ignore:"暂时忽略",dialog_noDisplay:"不再显示"},"directives.globalNotice":{ignore:"不再显示"},"directives.drcloud":{title:"云博士",godrcloud:"点我提问"},"directives.datetimePicker":{"datepicker.choose.range":"选择时间范围：","datepicker.choose.startDate":"开始时间：","datepicker.choose.endDate":"结束时间：","datepicker.today":"今天","datepicker.days":"天"},"directives.base":{"msg.save.fail":"保存失败，请重试","msg.request.exception":"请求异常，请重试"},"directives.aliyunConsolePagination":{total:"共有",item:"条",perPage:"每页显示：",previousText:"上一页",nextText:"下一页",firstText:"第一页",lastText:"最后一页"},"directives.aliyunConsoleOperationAudit":{succeeded:"成功",failed:"失败","undefined":"未设置"},"directives.aliyunClipCopy":{copy:"点击复制",copied:"已复制",copyByHand:"请手动复制"},"cons.products":{ecs:"云服务器",slb:"负载均衡",vpc:"专有网络",ess:"弹性伸缩服务","group.ec":"弹性计算",rds:"云数据库",ots:"开放结构化数据服务",ocs:"开放缓存服务",drds:"分布式关系型数据库","group.database":"数据库",oss:"开放存储服务",cdn:"内容分发网络",oas:"开放归档服务",kvstore:"键值存储","group.storageAndCdn":"存储与CDN",odps:"开放数据处理服务",dpc:"采云间",ads:"分析数据库服务","group.largeScaleComputing":"大规模计算",ace:"云引擎",sls:"简单日志服务",mqs:"消息队列服务",opensearch:"开放搜索服务",pts:"性能测试服务",ons:"开放消息服务",edas:"企业级分布式应用服务","group.appService":"应用服务",yundun:"云盾",yunjiankong:"云监控","group.securityAndManagement":"安全与管理",ticket:"我的工单","ticket.open":"提交工单","group.technicalSupport":"工单服务",beian:"备案管理",faq:"新版FAQ",help:"帮助中心",docs:"文档中心",forum:"论坛","group.help":"帮助","notificationLink.text.nomsg":"您暂时没有公告消息","notificationLink.text.more":"查看更多","notificationLink.title":"站内消息通知","productLink.text":"产品与服务","searchLink.text":"搜索","searchLink.placeholder":"搜索","homeLink.text":"管理控制台",net:"去万网用户中心",signOut:"退出","product.title":"云产品","product.dialogTitle":"自定义云产品快捷入口","product.popover":"自定义云产品","service.title":"用户中心","service.dialogTitle":"自定义用户中心快捷入口","service.popover":"自定义用户中心","service.account":"帐户管理","service.expenseCenter":"费用中心","service.renew":"续费管理","service.msc":"消息中心","service.workorder":"工单管理","service.bsn":"备案管理","qrcodeLink.text":"手机版","qrcodeLink.title":"扫码下载手机阿里云","helpLink.text":"帮助","helpLink.title":"文档与帮助","customHelpLink.text":"帮助与文档","customHelpLink.title":"帮助与文档",switchRole:"切换角色",exitSwitchedRole:"返回登录身份",currentName:"当前身份",currentAlias:"企业别名",loginName:"登录身份",loginAlias:"企业别名",role:"角色",subaccount:"子账号"},commonController:{"dialog.title":"错误提示","dialog.btn.ok":"确定",defaultErrorMsg:"当前请求失败，建议您刷新页面或者稍后重试。"},common:{"common.lb.confirm":"确定","common.lb.diagnose":"自动诊断","common.lb.cancel":"取消","common.lb.back":"返回","common.region.goto.loading":"您正在前往{0}的管理控制台..","common.region.recent.title":"最近访问:","common.region.goto.goback":"返回"},chart:{"config.tip.noData":"暂无数据","browser.not.support":"IE版本过低，为了正常浏览图表数据，请升级到最新版本IE浏览器，或者使用Chrome、FireFox等其他浏览器。"},aliyunValidator:{"aliyunValidator.lb.required":"该选项不能为空","aliyunValidator.lb.maxlength":"该选项输入值长度不能大于{maxlength}","aliyunValidator.lb.minlength":"该选项输入值长度不能小于{minlength}","aliyunValidator.lb.email":"输入邮件的格式不正确","aliyunValidator.lb.repeat":"两次输入不一致","aliyunValidator.lb.pattern":"该选项输入格式不正确","aliyunValidator.lb.number":"必须输入数字","aliyunValidator.lb.uniquecheck":"该输入值已经存在，请重新输入"},aliyunSetReleaseTimeSetting:{"aliyunSetReleaseTimeSetting.lb.releaseAction":"释放行为：","aliyunSetReleaseTimeSetting.lb.releaseSetTime":"设置自动释放：","aliyunSetReleaseTimeSetting.lb.releaseDate":"释放日期：","aliyunSetReleaseTimeSetting.lb.releaseTime":"释放时间：","aliyunSetReleaseTimeSetting.lb.releaseNowValue":"立即释放","aliyunSetReleaseTimeSetting.lb.releaseSetTimeValue":"定时释放","aliyunSetReleaseTimeSetting.lb.releaseTimeError":"释放时间不能小于当前时间","aliyunSetReleaseTimeSetting.lb.releaseTimeInvalidError":"请输入正确的时间","aliyunSetReleaseTimeSetting.lb.tipTitle":"温馨提示","aliyunSetReleaseTimeSetting.lb.tipReleaseTime":"系统执行释放时间是每整点和每半点，但系统会按您设置的释放时间停止计费。","aliyunSetReleaseTimeSetting.lb.tipReleaseTime2":"设置为整点释放会额外产生一个小时的费用，请谨慎。","aliyunSetReleaseTimeSetting.lb.tipReleaseTimeZone":"设置的时间为北京时间"},aliyunInstanceSelector:{"aliyunInstanceSelector.btn.confirm":"确定","aliyunInstanceSelector.lb.warning":"警告信息","aliyunInstanceSelector.lb.placeholder":"请填写实例ID","aliyunInstanceSelector.lb.instanceName":"实例名称：","aliyunInstanceSelector.lb.noMatch":"没有找到实例"},$locale:{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],MONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d ah:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"ah:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"(¤",negSuf:")",posPre:"¤",posSuf:""}]},id:"zh-cn"}};return e}),define("common/nls/messages_en",[],function(){var e={validator:{"validator.lb.char2to22":"Only allowed to enter 2 to 22 characters.","validator.lb.char2to15":"Only allowed to enter 2 to 15 characters.","validator.lb.preventHttpText":"Value cannot start with http:// or https://.","validator.lb.nameValidator":'Should begin with upper and lower case letter or Chinese. Space and characters of @/:="<>{[]} are not supported.'},sidebar:{"common.directive.sidebar.backToOld":"Old","common.directive.sidebarManage.pickedArea":"Selected: ","common.directive.sidebarManage.allItems":"Selectable Entrances: ","common.directive.sidebarManage.errorTooltip":"Please choose at least one entrance."},"services.aliyunRiskService":{"break.title":"Termination","break.message":"Detecting the presence of a serious security risk, the operation can not be performed, please contact customer service.","verify.sms.title":"Phone Verification","verify.sms.detailDescription":"Phone Number:","verify.sms.changeDescription":"Replace","verify.sms.bindDescription":"The Phone Number is not detected, in order to protect your account security, please set.","verify.email.title":"Email Verification","verify.email.detailDescription":"Email Address:","verify.email.changeDescription":"Replace","verify.email.bindDescription":"The Email Address is not detected, in order to protect your account security, please set.","verify.ga.title":"MFA Verification","verify.ga.detailDescription":"MFA Verification:","verify.ga.changeDescription":"Lift MFA binding","verify.errorMsg":"Verification code error, please try again.","set.title":"Setting","set.message":"Go to the newly opened window to complete the setting！","set.button.yes":"Completed","set.button.no":"Have problems","verifyType.title":"Set Authentication Type","verifyType.article":"The system does not detect your authentication type!","verifyType.message":"To protect your account security, please set the authentication type.","verifyType.confirm":"Go to Settings",verifyCode:"Verification code:","verifyCode.required":"Verification code can not be empty.","verifyCode.invalid":"Verification code has wrong format.","verifyCode.resend":"second resend","verifyCode.send":"Send verification code","close.message":"Your operation has been canceled."},"services.aliyunHttpHandler":{"msg.timeoutTip.partOne":"Your session has timed out. Please ","msg.timeoutTip.partTwo":" log in again.","msg.response.error":"The request has failed. Please refresh the current page or try again later. "},selector:{"default.message.load":"loading...","default.message.error":"Loading data failed","default.message.retry":"Click to try again","default.message.empty":"No data","default.message.more":"Load more data"},"modelSystem.steps":{pre:"Prev Step",next:"Next Step",finish:"Done",jumpTo:"Jump To",cancel:"Cancel",cancelTitle:"Cancel Notify",cancelMsg:"Are you sure you want to cancel ?"},"modelSystem.simpleForm":{required:"Value of the field is required"},"modelSystem.msChart":{dateFormat:"%Y-%m-%d %H:%M:%S"},"modelSystem.itemGrid":{successText:"successfully"},"modelSystem.inlineCommand":{actionConfirm:"Are you sure you want to {0} ?"},"directives.tag":{"tagSelect.tagKey":"Tag Key","tagSelect.tagValue":"Tag Value","tagSelect.pre":"Pre","tagSelect.next":"Next","tagEdit.title":"Edit Tags","tagSelect.tagKeyEmpty":"No data.","tagEdit.add":"Add:","tagEdit.tagAvailable":"Available Tags","tagEdit.addNew":"Create","tagEdit.tagKey":"Key：","tagEdit.tagValue":"Value：","tagEdit.tip":"NOTE : Each resource is bound up {0} tags,  the number of  bound / unbound labels in a single operations can not exceed {1}."},"directives.simpleGrid":{noneDataInfoMessage:"Could not find any record that met the condition.",selectAll:"Select all",tagButton:"Tag"},"directives.simpleForm":{select:"Please select an item"},"directives.simpleChart":{"lang.loading":"Loading...","lang.noData":"No data yet.","lang.resetZoom":"Reset Zoom"},"directives.shuttle":{"shuttle.select.policy":"Policy that can select","shuttle.selected":"Selected"},"directives.searchBar":{week:"Week",today:"Today",clear:"Clear",close:"Close",search:"Search"},"directives.rds.backup":{"backup.dialog.setting.title":"Backup setting","backup.dialog.confirm.title":"Confirm","backup.dialog.confirm.content":"Confirm to modify backup setting.","backup.field.autoBackup":"Automatic Backup Status: ","backup.field.retentionPeriod":"Retention Days: ","backup.field.backupPeriod":"Backup Cycle: ","backup.field.backupTime":"Backup Time: ","backup.field.backupLog":"Log Backup","backup.field.nextTime":"Estimated Time to Backup: ","backup.dialog.tip.retentionPeriod":"Backup retention days last {0} days","backup.dialog.tip.backupPeriod":"Backup retention days last {0} days","backup.weekday.Monday":"Monday","backup.weekday.Tuesday":"Tuesday","backup.weekday.Wednesday":"Wednesday","backup.weekday.Thursday":"Thursday","backup.weekday.Friday":"Friday","backup.weekday.Saturday":"Saturday","backup.weekday.Sunday":"Sunday","backup.weekday.monday":"Monday","backup.weekday.tuesday":"Tuesday","backup.weekday.wednesday":"Wednesday","backup.weekday.thursday":"Thursday","backup.weekday.friday":"Friday","backup.weekday.saturday":"Saturday","backup.weekday.sunday":"Sunday","backup.option.enable":"Enable","backup.option.disabled":"Disable","backup.field.text.day":"Day","backup.button.confirm":"Confirm","backup.button.cancel":"Cancel","backup.button.edit":"Edit"},"directives.numberSpinner":{add:"add",sub:"sub"},"directives.guide":{dialog_title:"Recent New Features",dialog_detail:"View Details",dialog_ignore:"Ignore",dialog_noDisplay:"No Longer Display"},"directives.globalNotice":{ignore:"Ignore"},"directives.drcloud":{title:"Dr.cloud",godrcloud:"Ask"},"directives.datetimePicker":{"datepicker.choose.range":"Select Range: ","datepicker.choose.startDate":"Start Time: ","datepicker.choose.endDate":"End Time: ","datepicker.today":"Today","datepicker.days":"Days"},"directives.base":{"msg.save.fail":"Save failed, please try again later","msg.request.exception":"request failed, please try again later"},"directives.aliyunConsolePagination":{total:"Total: ",item:" item(s)",perPage:"Per Page: ",previousText:"previous page",nextText:"next page",firstText:"first page",lastText:"last page"},"directives.aliyunConsoleOperationAudit":{succeeded:"succeeded",failed:"failed","undefined":"undefined"},"directives.aliyunClipCopy":{copy:"Click to copy",copied:"Copied",copyByHand:"Manually copy"},"cons.products":{ecs:"Elastic Compute Service",slb:"Server Load Balancer",vpc:"Virtual Private Cloud",ess:"Elastic Scaling Service","group.ec":"Elastic Computing",rds:"Relational Database Service",ots:"Open Table Service",ocs:"Open Cache Service",drds:"Distribute Relational Database Service","group.database":"Database",oss:"Open Storage Service",cdn:"Content Delivery Network",oas:"Open Archive Service",kvstore:"Key-Value Store","group.storageAndCdn":"Storage & Content Delivery",odps:"Open Data Processing Service",dpc:"Data Process Center",ads:"Analytic Database Service","group.largeScaleComputing":"Large Scale Computing",ace:"Aliyun Cloud Engine",sls:"Simple Log Service",mqs:"Message Queue Service",opensearch:"OpenSearch",pts:"Performance Test Service",ons:"Open Notification Service",edas:"Enterprise Distributed Application Service","group.appService":"Application Service",yundun:"Cloud Security Service",yunjiankong:"Cloud Monitor System","group.securityAndManagement":"Security & Management",ticket:"My Tickets","ticket.open":"Open a new ticket","group.technicalSupport":"Technical Support",beian:"Beian",faq:"FAQ",help:"Help",docs:"Docs",forum:"Forum","group.help":"Help","notificationLink.text.nomsg":"There's no messages for you","notificationLink.text.more":"More >>","notificationLink.title":"Notice","productLink.text":"Products & Services","searchLink.text":"Search","searchLink.placeholder":"Search","homeLink.text":"Home",net:"Net.cn Account Center",signOut:"Sign Out","product.title":"Products","product.dialogTitle":"Products Entrances Config","product.popover":"Products Config","service.title":"Services","service.dialogTitle":"Services Entrances Config","service.popover":"Services Config","service.account":"Account","service.expenseCenter":"Expense Center","service.renew":"Renew","service.msc":"Message","service.workorder":"Workorder","service.bsn":"Beian","qrcodeLink.text":"APP","qrcodeLink.title":"Scan QR code to download","helpLink.text":"Help","helpLink.title":"Docs & Help","customHelpLink.text":"Help & Docs","customHelpLink.title":"Help & Docs",switchRole:"SwitchRole",exitSwitchedRole:"ExitSwitchedRole",currentName:"C urrentName",currentAlias:"Alias",loginName:"Login Name",loginAlias:"Alias",role:"Role",subaccount:"Subaccount"},commonController:{"dialog.title":"Error","dialog.btn.ok":"OK",defaultErrorMsg:"The request has failed. Please refresh the current page or try again later. "},common:{"common.lb.confirm":"Confirm","common.lb.cancel":"Cancel","common.lb.diagnose":"Auto diagnose","common.lb.back":"Back","common.region.goto.loading":"You are heading to the {0} management console..","common.region.recent.title":"Recent Visits:","common.region.goto.goback":"Back"},chart:{"config.tip.noData":"No data","browser.not.support":"Your IE version is too low. To visit the monitor data, please upgrade your IE , or you can use another browser like Chrome, Firfox, etc."},aliyunValidator:{"aliyunValidator.lb.required":"This field is required.","aliyunValidator.lb.maxlength":"The length of the inputed value should not more than {maxlength}.","aliyunValidator.lb.minlength":"The length of the inputed value should not less than {minlength}.","aliyunValidator.lb.email":"Incorrect email format.","aliyunValidator.lb.repeat":"The value of two fields are not same.","aliyunValidator.lb.pattern":"The input value format is not correct.","aliyunValidator.lb.number":"Number only.","aliyunValidator.lb.uniquecheck":"The input value is already exist, please enter another value."},aliyunSetReleaseTimeSetting:{"aliyunSetReleaseTimeSetting.lb.releaseAction":"Release Action: ","aliyunSetReleaseTimeSetting.lb.releaseSetTime":"Auto-release Setting: ","aliyunSetReleaseTimeSetting.lb.releaseDate":"Release Date: ","aliyunSetReleaseTimeSetting.lb.releaseTime":"Release Time: ","aliyunSetReleaseTimeSetting.lb.releaseNowValue":"Release Now","aliyunSetReleaseTimeSetting.lb.releaseSetTimeValue":"Timed Release","aliyunSetReleaseTimeSetting.lb.releaseTimeError":"Release time cannot be earlier than the current time.","aliyunSetReleaseTimeSetting.lb.releaseTimeInvalidError":"Please enter the correct time.","aliyunSetReleaseTimeSetting.lb.tipTitle":"Note: ","aliyunSetReleaseTimeSetting.lb.tipReleaseTime":"The time for system to execute release is every hour and every half hour, but the system will stop billing according to the setted release time.","aliyunSetReleaseTimeSetting.lb.tipReleaseTime2":"Set for the whole point of release will be an additional cost of an hour, please be careful.","aliyunSetReleaseTimeSetting.lb.tipReleaseTimeZone":"The setted time is Beijing Time"},aliyunInstanceSelector:{"aliyunInstanceSelector.btn.confirm":"OK","aliyunInstanceSelector.lb.warning":"Warning","aliyunInstanceSelector.lb.placeholder":"please enter the instanceId","aliyunInstanceSelector.lb.instanceName":"Instance Name: ","aliyunInstanceSelector.lb.noMatch":"No data was found"},$locale:{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"}}};return e}),define("common/nls/messages_ja",[],function(){var e={validator:{"validator.lb.char2to22":"入力できる文字数は 2 ～ 22 文字です。","validator.lb.char2to15":"入力できる文字数は 2 ～ 15 文字です。","validator.lb.preventHttpText":"http:// または https:// を先頭にすることはできません。","validator.lb.nameValidator":"先頭の文字は大文字/小文字の英字または漢字で始まる必要があります。 スペースと特殊文字 @/:=&quot;&lt;&gt;{[]} は使用できません。"},sidebar:{"common.directive.sidebar.backToOld":"以前に戻す","common.directive.sidebarManage.pickedArea":"選択済み: ","common.directive.sidebarManage.allItems":"選択可能: ","common.directive.sidebarManage.errorTooltip":"エントランスを 1 つ以上選択してください。"},"services.aliyunRiskService":{"break.title":"終了","break.message":"重大なセキュリティリスクの存在が検出されたため、操作を実行できません。カスタマーサービスにお問い合わせください。","verify.sms.title":"電話の検証","verify.sms.detailDescription":"電話番号:","verify.sms.changeDescription":"置換","verify.sms.bindDescription":"電話番号が検出されませんでした。アカウントのセキュリティを確保するには、設定してください。","verify.email.title":"メールの検証","verify.email.detailDescription":"メールアドレス:","verify.email.changeDescription":"置換","verify.email.bindDescription":"メールアドレスが検出されませんでした。アカウントのセキュリティを確保するには、設定してください。","verify.ga.title":"MFA 検証","verify.ga.detailDescription":"MFA 検証:","verify.ga.changeDescription":"MFA バインディングの解除","verify.errorMsg":"検証コードエラーが発生しました。やり直してください。","set.title":"設定","set.message":"設定を完了するには、新しく開いたウィンドウに移動してください。","set.button.yes":"完了","set.button.no":"問題がある","verifyType.title":"認証タイプの設定","verifyType.article":"認証タイプが検出されませんでした。","verifyType.message":"アカウントのセキュリティを確保するには、認証タイプを設定してください。","verifyType.confirm":"設定に移動",verifyCode:"検証コード:","verifyCode.required":"検証コードは空にできません。","verifyCode.invalid":"検証コードの形式が正しくありません。","verifyCode.resend":"再送信","verifyCode.send":"送信","close.message":"操作はキャンセルされました。"},"services.aliyunHttpHandler":{"msg.timeoutTip.partOne":"セッションがタイムアウトしました ","msg.timeoutTip.partTwo":"ログインし直してください","msg.response.error":"リクエストは失敗しました。現在のページを更新するか、後でもう一度試してください"},selector:{"default.message.load":"ロード中...","default.message.error":"データのロードに失敗しました","default.message.retry":"クリックして、もう一度試してください","default.message.empty":"データなし","default.message.more":"データをさらにロードします"},"modelSystem.steps":{pre:"前のステップ",next:"次のステップ",finish:"仕上げ",jumpTo:"ジャンプ",cancel:"取り消す",cancelTitle:"取り消す",cancelMsg:"あなたがキャンセルすると確信しますか?"},"modelSystem.simpleForm":{required:"このフィールドの値は必須です"},"modelSystem.msChart":{dateFormat:"%Y-%m-%d %H:%M:%S"},"modelSystem.itemGrid":{successText:"正常"},"modelSystem.inlineCommand":{actionConfirm:"{0}しますか?"},"directives.tag":{"tagSelect.tagKey":"タグキー","tagSelect.tagValue":"タグ値","tagSelect.pre":"前へ","tagSelect.next":"次へ","tagEdit.title":"タグの編集","tagSelect.tagKeyEmpty":"データがありません。","tagEdit.add":"追加:","tagEdit.tagAvailable":"使用可能なタグ","tagEdit.addNew":"作成","tagEdit.tagKey":"キー:","tagEdit.tagValue":"値:","tagEdit.tip":"注意: 各リソースには、{0} 個までタグをバインドできます。ラベルがバインド/バインド解除される操作の数が {1} 個を超えることはできません"},"directives.simpleGrid":{noneDataInfoMessage:"条件を満たすレコードが見つかりません。",selectAll:"すべて選択",tagButton:"タグ"},"directives.simpleForm":{select:"項目を選択してください"},"directives.simpleChart":{"lang.loading":"ロード中...","lang.noData":"まだデータがありません。","lang.resetZoom":"ズームのリセット"},"directives.shuttle":{"shuttle.select.policy":"選択できるポリシー","shuttle.selected":"選択済み"},"directives.searchBar":{week:"週",today:"今日",clear:"クリア",close:"クローズ",search:"検索"},"directives.rds.backup":{"backup.dialog.setting.title":"バックアップ設定","backup.dialog.confirm.title":"確認","backup.dialog.confirm.content":"バックアップ設定の変更を確認する.","backup.field.autoBackup":"自動バックアップステータス:  ","backup.field.retentionPeriod":"保持期間:  ","backup.field.backupPeriod":"バックアップ周期:  ","backup.field.backupTime":"バックアップ時間:  ","backup.field.backupLog":"バックアップログ","backup.field.nextTime":"次回バックアップ:  ","backup.dialog.tip.retentionPeriod":"バックアップ保持期間は残り {0} 日です。","backup.dialog.tip.backupPeriod":"バックアップ保持期間は残り {0} 日です。","backup.weekday.Monday":"月曜日","backup.weekday.Tuesday":"火曜日","backup.weekday.Wednesday":"水曜日","backup.weekday.Thursday":"木曜日","backup.weekday.Friday":"金曜日","backup.weekday.Saturday":"土曜日","backup.weekday.Sunday":"日曜日","backup.weekday.monday":"月曜日","backup.weekday.tuesday":"火曜日","backup.weekday.wednesday":"水曜日","backup.weekday.thursday":"木曜日","backup.weekday.friday":"金曜日","backup.weekday.saturday":"土曜日","backup.weekday.sunday":"日曜日","backup.option.enable":"有効化","backup.option.disabled":"無効化","backup.field.text.day":"曜日","backup.button.confirm":"確認","backup.button.cancel":"キャンセル","backup.button.edit":"編集"},"directives.numberSpinner":{add:"増",sub:"減"},"directives.guide":{dialog_title:"最新の機能",dialog_detail:"詳細の表示",dialog_ignore:"無視",dialog_noDisplay:"今後は表示されません"},"directives.globalNotice":{ignore:"無視"},"directives.drcloud":{title:"博士クラウド",godrcloud:"私はポイントを疑問視"},"directives.datetimePicker":{"datepicker.choose.range":"範囲の選択: ","datepicker.choose.startDate":"開始時刻: ","datepicker.choose.endDate":"終了時刻: ","datepicker.today":"今日","datepicker.days":"日間"},"directives.base":{"msg.save.fail":"保存に失敗しました。後でもう一度試してください","msg.request.exception":"リクエストは失敗しました。後でもう一度試してください"},"directives.aliyunConsolePagination":{total:"合計: ",item:" 項目",perPage:"ページあたり: ",previousText:"前のページ",nextText:"次のページ",firstText:"最初のページ",lastText:"最後のページ"},"directives.aliyunConsoleOperationAudit":{succeeded:"成功",failed:"失敗","undefined":"未定義"},"directives.aliyunClipCopy":{copy:"コピー",copied:"コピー済み"},"cons.products":{ecs:"Elastic Compute Service (ECS)",slb:"Server Load Balancer",vpc:"Virtual Private Cloud",ess:"Auto Scaling","group.ec":"エラスティックコンピューティング",rds:"リレーショナルデータベースサービス",ots:"Table Store",ocs:"ApsaraDB for Memcache",drds:"Distribute Relational Database Service","group.database":"データベース",oss:"Open Storage Service",cdn:"コンテンツ配信ネットワーク",oas:"Open Archive Service",kvstore:"Key-Value Store","group.storageAndCdn":"ストレージとコンテンツ配信",odps:"MaxCompute",dpc:"データ処理センター",ads:"Analytic Database Service","group.largeScaleComputing":"大規模コンピューティング",ace:"Alibaba Cloud Engine (ACE)",sls:"シンプルログサービス",mqs:"Message Queue Service",opensearch:"OpenSearch",pts:"Performance Test Service",ons:"Open Notification Service",edas:"Enterprise Distributed Application Service (EDAS)","group.appService":"アプリケーションサービス",yundun:"Cloud Security Service",yunjiankong:"Cloud Monitor System","group.securityAndManagement":"セキュリティとマネジメント",ticket:"マイチケット","ticket.open":"新しいチケットを開く","group.technicalSupport":"テクニカルサポート",beian:"Beian",faq:"よくある質問",help:"ヘルプ",docs:"文書",forum:"フォーラム","group.help":"ヘルプ","notificationLink.text.nomsg":"メッセージはありません","notificationLink.text.more":"詳細 &gt;&gt;","notificationLink.title":"通知","productLink.text":"プロダクトとサービス","searchLink.text":"検索","searchLink.placeholder":"検索","homeLink.text":"ホーム",net:"Net.cn アカウントセンター",signOut:"サインアウト","product.title":"プロダクト","product.dialogTitle":"プロダクトのエントランスの設定","product.popover":"プロダクトの設定","service.title":"サービス","service.dialogTitle":"サービスのエントランスの設定","service.popover":"サービスの設定","service.account":"アカウント","service.expenseCenter":"費用センター","service.renew":"更新","service.msc":"メッセージ","service.workorder":"チケット","service.bsn":"Beian","qrcodeLink.text":"アプリ","qrcodeLink.title":"QR コードをスキャンしてダウンロード","helpLink.text":"ヘルプ","helpLink.title":"文書とヘルプ","customHelpLink.text":"ヘルプと文書","customHelpLink.title":"ヘルプと文書",switchRole:"SwitchRole",exitSwitchedRole:"ExitSwitchedRole",currentName:"現在の名前",currentAlias:"エイリアス",loginName:"ログイン名",loginAlias:"エイリアス",role:"役割",subaccount:"サブアカウント"},commonController:{"dialog.title":"エラー","dialog.btn.ok":"OK",defaultErrorMsg:"リクエストは失敗しました。現在のページを更新するか、後でもう一度試してください"},common:{"common.lb.confirm":"確認","common.lb.cancel":"キャンセル","common.lb.back":"戻る","common.region.goto.loading":"{0}の管理コンソールに切り替わります...","common.region.recent.title":"最終ログイン:","common.region.goto.goback":"戻る"},chart:{"config.tip.noData":"データなし","browser.not.support":"お使いの IE のバージョンが低すぎます。 モニタリングデータにアクセスするには、IE をアップグレードするか、Chrome や Firefox など、別のブラウザーを使用してください。"},aliyunValidator:{"aliyunValidator.lb.required":"このフィールドは必須です。","aliyunValidator.lb.maxlength":"入力値の長さは、{maxlength} 文字以下である必要があります。","aliyunValidator.lb.minlength":"入力値の長さは、{minlength} 文字以上である必要があります。","aliyunValidator.lb.email":"メールの形式が正しくありません。","aliyunValidator.lb.repeat":"2 つのフィールドの値が異なります。","aliyunValidator.lb.pattern":"入力値の形式が正しくありません。","aliyunValidator.lb.number":"数字のみです。","aliyunValidator.lb.uniquecheck":"この入力値は既に存在します。別の値を入力してください。"},aliyunSetReleaseTimeSetting:{"aliyunSetReleaseTimeSetting.lb.releaseAction":"リリースアクション: ","aliyunSetReleaseTimeSetting.lb.releaseSetTime":"自動リリース設定: ","aliyunSetReleaseTimeSetting.lb.releaseDate":"リリース日: ","aliyunSetReleaseTimeSetting.lb.releaseTime":"リリース時刻: ","aliyunSetReleaseTimeSetting.lb.releaseNowValue":"即時リリース","aliyunSetReleaseTimeSetting.lb.releaseSetTimeValue":"時刻指定リリース","aliyunSetReleaseTimeSetting.lb.releaseTimeError":"リリース時刻を現在の時刻よりも前にすることはできません。","aliyunSetReleaseTimeSetting.lb.releaseTimeInvalidError":"正確な時刻を入力してください。","aliyunSetReleaseTimeSetting.lb.tipTitle":"注意: ","aliyunSetReleaseTimeSetting.lb.tipReleaseTime":"システムがリリースを実行する時刻は毎時、正時と 30 分ですが、システムは指定されたリリース日時に基づいて課金を停止することに注意してください。","aliyunSetReleaseTimeSetting.lb.tipReleaseTimeZone":"設定された日時は北京時間です"},aliyunInstanceSelector:{"aliyunInstanceSelector.btn.confirm":"OK","aliyunInstanceSelector.lb.warning":"警告","aliyunInstanceSelector.lb.placeholder":"instanceId を入力してください","aliyunInstanceSelector.lb.instanceName":"インスタンス名: ","aliyunInstanceSelector.lb.noMatch":"データが見つかりませんでした"},$locale:{id:"ja-jp",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"&curren;",posSuf:"",negPre:"(&curren;",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],SHORTMONTH:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],DAY:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],SHORTDAY:["日","月","火","水","木","金","土"],AMPMS:["午前","午後"],medium:"y 年 MMM d 日 h:mm:ss a","short":"yy/M/d h:mm a",fullDate:"y 年 MMMM d 日 EEEE",longDate:"y 年 MMMM d 日",mediumDate:"y 年 MMM d 日",shortDate:"yy/M/d",mediumTime:"h:mm:ss a",shortTime:"h:mm a"}}};return e}),define("common/services/i18nService",["angular","./services","../helper/urlQueryStringHelper","../nls/messages","../nls/messages_en","../nls/messages_ja"],function(e,t,n,r,i,s){function f(e){if(!e)throw new Error('param "messageId" is needed to get i18n message');var t={common:a.common,local:a[e]||null};return t}function l(){var e=arguments;if(e[0])return e[0].replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,n){if(t=="{{")return"{";if(t=="}}")return"}";var r=parseInt(n,10)+1,i=e[r];return i==undefined&&(i=t),i})}function c(e){var t=f(e);(!t.common||!t.local)&&console.error("get I18nService which resources type is ["+u+']  failed ! Can not get message file "'+e+'", please check if you had add the file in folder "scripts/nls/'+u+'"'),this.localMessage=t.local,this.commonMessage=t.common}var o=e.element("html"),u=n.getQueryValue("lang")||(o?o.attr("lang"):"")||window.LANG;u=u?u:"en";var a=null;switch(u){case"zh":case"zh-cn":a=r;break;case"en":a=i;break;case"ja":a=s;break;default:a=i}c.prototype={constructor:c,formatter:l,f:l,i18n:function(e,t){var n=arguments,r=Array.prototype.slice.call(n,1);typeof e=="string"?t=e:r=Array.prototype.slice.call(n,2);if(t){var i=e===!0?this.commonMessage[t]:this.localMessage[t]||this.commonMessage[t];return i?(r.unshift(i),this.formatter.apply(this,r)):t}}};var h=new c("$locale");return t.value("$locale",h.localMessage),t.factory("aliyunCommonI18nService",function(){return{getI18n:function(e){return new c(e)},getLangKey:function(){return u}}}),{getI18n:function(e){return new c(e)},getLangKey:function(){return u}}}),define("common/modelSystem/modelDefineService",["angular","./modelSystemModule","../services/i18nService"],function(e,t,n){function i(e,t){var n,r=Object.prototype.toString,s="[object Array]";t=t||{};for(n in e)e.hasOwnProperty(n)&&(typeof e[n]=="object"?(t[n]=r.call(e[n])===s?[]:{},i(e[n],t[n])):t[n]=e[n]);return t}!e.emptyFunction&&(e.emptyFunction=function(){});var r=n.getI18n("modelSystem.inlineCommand");t.factory("modelDefineService",["$injector",function(t){function s(e,t){throw new Error(e||"the type of param should be"+t||"string")}function o(e){throw new Error(e)}function u(t){var n={bizType:"default",bizName:"默认业务",bizService:"defaultService",bizActions:{defaultAction:new f("default",{})},extraData:{}};e.extend(this,n,t)}function a(n,r,i,o,a){function c(e,t){var n={};if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=new f(e,t[r]));return n}(!e.isString(n)||!e.isString(r)||!e.isString(i))&&s();try{i=t.get(i)}catch(l){throw console.error('bizService :"'+i+'"不存在，检查你的业务模型 ['+n+"] 对应的代码，查看 modelDefineService 函数第三个参数是否为已有的Angular Service 名称"),new Error(l)}return!e.isObject(i)&&s("service of the biz '"+n+"' should return an object"),new u({bizType:n,bizName:r,bizService:i,bizActions:c(r,o),extraData:a})}function f(t,n){this.bizName=t||"默认业务",e.extend(this,n)}function l(t,n){this.bizName=t||"defaultToolBarModel";var r={template:"",templateUrl:"",prepareDataForTemplate:function(e,t,n){},actions:{DEFAULT:new c("defaultToolBarModel")},status:{normal:["DEFAULT"]}};e.extend(this,n)}function c(t,n){this.bizName=t;var r={action:"defaultToolBarAction",type:"command",text:"默认工具栏按钮",actionClass:"",bizStatus:"any",disabledTip:{any:"按钮处于any状态"},showTip:!1,tip:"",attrs:{key:"value"},rawData:null};!n&&(n=r),e.extend(this,n),this.rawData={},this.attrs=this.attrs||{},this.disabledTip=this.disabledTip||{}}function h(t){var n={id:"",title:"测试1",titleClass:"",componentClass:"",componentBodyClass:"",componentType:"",toolbar:"",bizType:"",bizAction:"",modelType:"",attributes:{},toolbarPosition:"right",toolbarClass:"",selfRefresh:!1,intervel:3e3};!t&&(t=n),e.extend(this,t),this.modelType=this.modelType?this.modelType:this.bizType}function p(){}return u.prototype.getActionModel=function(e){return this.bizActions[e]||console.log("error: no action named '"+e+"' in the bizModel '"+this.bizName+"', return default empty bizAction instead")&&new f},u.prototype.registAction=function(e,t){!this.bizActions&&(this.bizActions={}),this.bizActions[e]?o("action '"+e+"' has been registed in the bizModel"):this.bizActions[e]=t},u.prototype.makeRequest=function(n,r,i,s,o){var s=s||{params:{}},u=n.getActionParam(r);s.params=e.extend(s.params,u);var a=n.hideDefaultErroDialog!==undefined?n.hideDefaultErroDialog:n.responseHandler?!0:!1,f=n.responseHandler!=e.emptyFunction?n.responseHandler:i.responsePreHandler;this.bizService[n.handler](s).then(function(i){var s=f(i,t,!0);s&&e.isFunction(s.then)==0&&(s=n.afterActionExecuted(r,s)||s,e.isFunction(o)&&o(s))})},f.prototype={constructor:f,getActionParam:function(e){},getConfirmMsg:function(e,t){var i=r.formatter(r.localMessage.actionConfirm,e?this.name+(n.getLangKey()=="zh"?"":" ")+this.bizName+": "+(e[t.keyField]?e[t.keyField]:e.instanceId||e.name||e.id||""):this.name);return i},getActionResultMsg:function(e){return e.message||""},injectController:function(e,t){},setProperty:function(e,t){e&&(this[e]=t)},afterActionExecuted:e.emptyFunction,responseHandler:e.emptyFunction,hideDefaultErroDialog:undefined},l.prototype={constructor:l,registAction:function(e,t,n){if(n===!0)return this.actions[e]=t,this;var r=this.actions[e];if(!r)return this.actions[e]=t,this;throw new Error("toolbarAction '"+t.getName()+"' has registed")},_getActionByName:function(e){var t=this.actions[e],n=i(t,{});return n instanceof c||(n=new c("",n)),n||null},getActionListByBizStatus:function(t){function r(t,i){var u=[];if(e.isArray(t))for(var a=0,f=null,l=null;l=t[a];a++)typeof l=="string"?(l=l.split(":"),o=(l[1]||"").toLowerCase(),l=l[0],f=n._getActionByName(l),f.setBizStatus(i),f.setActionStatus(o,o,!0)):typeof l=="object"&&(f=l,f instanceof c||(f=new c("",f)),f.setBizStatus(i)),s=f.getType(),s==="menu"&&e.isArray(f.children)&&(f.children=r(f.children)),u.push(f);return u}var n=this,i=[],s="",o="",u=[];if(!t){var a=this.actions;for(var f in a)a.hasOwnProperty(f)&&u.push(f)}else u=this.status[t];return i=r(u,t),i},getModelBizStatus:function(e,t){return""},setActionListByBizStatus:function(t,n){e.isString(t)&&e.isArray(n)&&(this.status[t]=n)},setActionListOfBizStatusByRawData:function(e,t){},getActionSeparator:function(){return'<span class="text-explode">|</span> '},config:function(){}},c.prototype={constructor:c,render:function(e){return""},getAction:function(){return this.action||""},getType:function(){return this.type||""},getText:function(){return this.text||""},getSpmId:function(){return this.spmId||""},getBizStatus:function(){return this.bizStatus||""},setBizStatus:function(e){this.bizStatus=e},getBizStatusTip:function(){return this.disabledTip[this.getBizStatus()]||""},getAttrs:function(){return this.attrs||{}},getClass:function(){return this.actionClass||"btn btn-link btn-xs"},setActionStatus:function(e,t,n){e==="disabled"?this.showTip=!0:this.showTip=!1,this.tip=e==""?"":this.getBizStatusTip()||"",e!=""&&(this.attrs[t]=n,this.attrs["data-ng-"+t]=n)},setRawData:function(e){this.rawData=e},getRawDataValue:function(e){var t=this.rawData[e]||"";return t}},h.prototype={constructor:h,getId:function(){return this.id||""},getHeaderClass:function(){return this.headerClass||""},getClass:function(){return this.componentClass||""},getToolbarClass:function(){return this.toolbarClass||""},getToolbarPosition:function(){return this.toolbarPosition||"right"},getTitleClass:function(){return this.titleClass||""},getTitle:function(){return this.title||""},getComponentBodyClass:function(){return this.componentBodyClass||""},getType:function(){return this.componentType||""},getBizType:function(){return this.bizType||""},getBizAction:function(){return this.bizAction||""},getModelType:function(){return this.modelType||""},refresh:function(){},setBizModel:function(e){this.bizModel=e},getBizModel:function(){return this.bizModel||undefined}},p.prototype={refresh:function(e){}},{defBizModel:a,defBizAction:function(e,t){return new f(e,t)},defToolbarModel:function(e,t){return new l(e,t)},defToolbarAction:function(e,t){return new c(e,t)},defBizComponentModel:function(e){return new h(e)}}}])}),define("common/modelSystem/lib/util",[],function(){function e(t,n,r){var i,s=Object.prototype.toString,o="[object Array]";t=t||{};for(i in n)r?typeof n[i]=="object"?(t[i]=s.call(n[i])===o?[]:{},e(t[i],n[i],r)):t[i]=n[i]:n.hasOwnProperty(i)&&(typeof n[i]=="object"?(t[i]=s.call(n[i])===o?[]:{},e(t[i],n[i])):t[i]=n[i]);return t}function t(t,n){function r(){}r.prototype=n.prototype;var i=new r;return t.prototype=e(i,t.prototype),t.prototype.constructor=t,t._parent=i,t}return{deepClone:e,inherit:t}}),define("common/modelSystem/resourceLoader",["angular","./lib/util"],function(e,t){function n(e){this.moudle=e}function r(){}function i(e){this.module=e}function s(e){this.module=e}return n.constructors={},n.factory=function(e){return this.constructors[e]||n},n.regist=function(e,r,i){r=t.inherit(r,n),i?this.constructors[e]=r:this.constructors[e]===undefined?this.constructors[e]=r:console.log("regist '"+e+"' fail, because it has been registed")},n.prototype={constructor:n,loadResources:function(e,t,n){n(null)}},i.prototype={constructor:i,loadResources:function(e,t,n){var r=t.get("modelFactory"),i=this.module,s=i.getNameSpace();n(r.getModel(s,"BizComponentModel"))}},s.prototype={constructor:s,loadResources:function(t,n,r){var i=n.get("modelFactory"),s=this.module,o=s.pageModel;e.isString(o)&&(o=i.getModel(o,"PageModel"));if(o&&o.bizComponents){var u=o.bizComponents,a=[];if(u&&e.isString(u))u=i.getModel(u,"BizComponentModel"),o.bizComponents=u;else if(u&&e.isArray(u)){for(var f=0,l=u.length;f<l;f++){var c=u[f];e.isString(c)?(c=i.getModel(c,"BizComponentModel"),a.push(c),c=null):e.isObject(c)&&a.push(c)}o.bizComponents=a}}r(o)}},n.regist("module",r),n.regist("page",s),{factory:function(e){return n.factory(e)},regist:function(e,t){n.regist(e,t)}}}),define("common/modelSystem/pageInitializer",["angular","./lib/util"],function(e,t){function n(n){var r={templateUrl:""};n?n=t.deepClone(r,n):"",e.extend(this,r)}function r(){}function i(){}function s(e){}function o(){}return n.constructors={},n.factory=function(e){return this.constructors[e]||n},n.regist=function(e,r,i){r=t.inherit(r,n),i?this.constructors[e]=r:this.constructors[e]===undefined?this.constructors[e]=r:console.log("regist '"+e+"' fail, because it has been registed")},n.prototype={constructor:n,getTemplateUrl:function(){return this.templateUrl},initPageModel:function(e,n,r,i,s){s&&(t.deepClone(e.viewModel,s),e.viewModel.layoutConfig={layout:s.layout,components:s.bizComponents})}},r.prototype={constructor:r,getTemplateUrl:function(){return"scripts/template/commonSideMenuPage.html"},initPageModel:function(e,n,r,i,s){e.viewModel={},s&&(t.deepClone(e.viewModel,s),e.viewModel.layoutConfig={layout:s.layout,components:s.bizComponents}),e.viewModel.menuItems=e.viewModel.menuItems?e.viewModel.menuItems:i.getChildrenMenus(),e.viewModel.subUiViewName=e.viewModel.subUiViewName?e.viewModel.subUiViewName:i.getSubUiView()}},i.prototype={constructor:i,getTemplateUrl:function(){return"scripts/template/commonNormalPage.html"},initPageModel:function(e,n,r,i,s){e.viewModel={},s&&(t.deepClone(e.viewModel,s),e.viewModel.layoutConfig={layout:s.layout,components:s.bizComponents})}},s.prototype={constructor:s,getTemplateUrl:function(){return"scripts/template/commonInnerDetailPage.html"},initPageModel:function(e,n,r,i,s){var o=i.getParent();e.viewModel={iconClass:"",title:i.name,parentState:o.router.state,parentName:o.name,subTitle:i.subTitle},s&&(t.deepClone(e.viewModel,s),e.viewModel.layoutConfig={layout:s.layout,components:s.bizComponents}),e.viewModel.subUiViewName=e.viewModel.subUiViewName?e.viewModel.subUiViewName:i.getSubUiView()}},n.regist("menu",r),n.regist("normal",i),n.regist("tab",o),n.regist("innerDetail",s),{factory:function(e){return n.factory(e)},regist:function(e,t){n.regist(e,t)}}}),define("common/modelSystem/moduleManager",["angular","./lib/util","./resourceLoader","./pageInitializer"],function(e,t,n,r){function i(e){var t=e.pageType||"normal",i=r.factory(t),s=new i(e);e.pageInitializer=s,e.hasChildren()&&(e.pageType==="tab"||e.pageType==="menu")&&(e.subUiView=e.nameSpace.replace(/[.]/g,"$"));var o=e.getParent(),u=null;o&&t!="innerDetail"?u=o.subUiView:t=="innerDetail";var a={templateUrl:e.router.templateUrl||s.getTemplateUrl(),controller:e.router.controller||"commonBizController"};u?(!e.router.views&&(e.router.views={}),e.router.views[u]=a,e.parentSubUiView=u):(e.router.templateUrl=e.router.templateUrl?e.router.templateUrl:a.templateUrl,e.router.controller=e.router.controller?e.router.controller:a.controller),e.routerType!=="custom"&&(!e.router.resolve&&(e.router.resolve={}),e.router.resolve._currentModule=function(){return e},e.router.resolve._pageInitializer=function(){return s},e.router.resolve._moduleLoader=function(){var t=n.factory("module"),r=new t(e);return r},e.router.resolve._pageModelLoader=function(){var t=n.factory("page"),r=new t(e);return r})}function s(n,r){!n&&(n={});var o={id:"",name:"",type:"",router:{state:"",url:"",controller:"",templateUrl:""},children:{type:"menu",items:{}}};n=t.deepClone(o,n),e.extend(this,n),this.parent=r,this.pageModel=!this.pageModel&&this.getNameSpace();var u=this.children,a=null;i(this);var f=u.items,l=this;for(var c in f)f.hasOwnProperty(c)&&(a=f[c],a.nameSpace=this.nameSpace+"."+c,a=new s(a,l),f[c]=a)}function o(){this.modules={}}function u(e,t){var n=null,r=e.split("."),i=0,o=r.length,u=null,a=t[r[i++]];a instanceof s||(a=new s(a),t[r[0]]=a),u=a;while(a&&i<o){a=a.getChild(r[i++]),u=a;if(u==null||u==undefined)break}return u}function a(e,t,n,r){n.nameSpace=e;var i=null,o="",u=e.split("."),a=0,f=u.length,l=null,c=new s(n),h=t[u[a++]];if(f===1)return t[u[0]]=c,c;h instanceof s||(h=new s(h),t[u[0]]=h);while(a<f){o=u[a++],l=h.getChild(o);if(l===undefined||l===null)l=new s,h.setChild(o,l),h=h.getChild(o)}return h.setChild(o,c),c}s.prototype={constructor:s,getModuleMenus:function(){if(this.type==="top"){var e=[];return e=this.getChildrenStates(),e.push(this.router.state),{router:this.defaultPageRouter||this.router.state,text:this.name,module:e}}},getChildrenMenus:function(){var e=this.getChildren(),t=null,n=[],r={};for(var i in e)e.hasOwnProperty(i)&&(t=e[i],r={state:t.router.state,text:t.name},n.push(r),r=null);return n},getNameSpace:function(){return this.nameSpace},getParent:function(){return this.parent||null},getChildren:function(){return this.children.items},injectResolve:function(){},getSubUiView:function(){return this.subUiView},hasChildren:function(){var e=0,t=this.getChildren();if(!t)return!1;for(var n in t)if(t.hasOwnProperty(n))return!0;return!1},getChildrenStates:function(){var e=this.getChildren(),t=null,n=[];for(var r in e)e.hasOwnProperty(r)&&(t=e[r],t.hasChildren()?(n.push(t.router.state),n=n.concat(t.getChildrenStates())):n.push(t.router.state));return n},getChild:function(e){return this.children.items[e]},setChild:function(e,t,n){t instanceof s||(t=new s(t)),n?this.children.items[e]=t:this.children.items[e]===undefined?this.children.items[e]=t:console.log("setChild '"+e+"' fail, because it has been registed")}},o.prototype={contructor:o,getDefaultModuleChildType:function(e){var t=e.split(".").length,n="";switch(t){case 1:n="menu";break;case 2:n="tab";break;case 3:n="simpleDetail";break;default:n="tab"}return n},getValueByNameSpace:function(e,t){return u(e,t)},setValueByNameSpace:function(e,t,n,r){return a(e,t,n,r)},getModules:function(e){var t=[],n=this.modules;if(e==undefined)for(var r in n)n.hasOwnProperty(r)&&t.push(n[r]);else t=[this.getValueByNameSpace(e,n)];return t},getModuleMenus:function(){var e=[],t=this.getModules();for(var n=0,r=null;r=t[n];n++)e.push(r.getModuleMenus());return e},registModule:function(e,t){if(arguments.length===1)throw new Error("nameSpace is needed for regist modules");var n=this.modules[e];if(n!=undefined)return console.log(e+" has been registed!"),null;var n=this.modules;return this.setValueByNameSpace(e,n,t,this.getDefaultModuleChildType(e))},registModules:function(t){if(e.isArray(t))for(var n=0,r=null;r=t[n];n++)this.registModule(module.nameSpace,module)},registRemoteModules:function(e,t,n){this.modules.$remoteModules=t},config:function(e,t){var n={getDefaultModuleChildType:!0,getValueByNameSpace:!0,setValueByNameSpace:!0};n[e]===!0?this[e]=t:(console.log("Error: can't set "+e+" of ModuleManager because it's a protected property"),console.log("properties can be configed in ModuleManager is:"),console.dir(n))}};var f=null;return{getInstance:function(){return f==null&&(f=new o),f}}}),define("common/cons/aliyunCons",[],function(){var e={SUCCESS:"200",SESSION_TIMEOUT:"-99",NEED_LOGIN:"-100",HTTP_SUCCESS:200},t=function(){var e=window.location.hostname;if(!e.match(/^.+\.aliyun\.|^aliyun\./))return".com";var t=e.replace(/^.*\.aliyun|^aliyun/i,"");return t||(t=".com"),t}();return{SHOW_RESPONSE_ERROR_MESSAGE:"showResponseErrorMessage",RESPONSE_CODE:e,ALIYUN_CONSOLE_SESSION_TIMEOUT:"aliyunConsoleSessionTimeout",SUFFIX:t,AUTO_DIAGNOSE_KEY:"autoDiagnose"}}),define("common/services/topicService",["./services"],function(e){var t={};return e.factory("aliyunCommonTopicService",["$rootScope","$q",function(e,n){function r(t,r,i){if(i===!0){var s=n.defer();return angular.isString(r)?r={message:r,modalResultDeferred:s}:r.modalResultDeferred=s,e.$emit(t,r),s.promise}e.$emit(t,r)}function i(t,n){return e.$on(t,n)}return t={publish:r,subscribe:i},t}]),t}),define("common/helper/responsePreHandler",["../cons/aliyunCons","../services/topicService"],function(e){var t=e.RESPONSE_CODE,n=e.SHOW_RESPONSE_ERROR_MESSAGE,r=function(e,r,i,s){if(e.status==t.HTTP_SUCCESS){var o=e.data;if(o.code==t.SUCCESS)return i==1?o:o.data;if(s==1)return;var u;return r?r.invoke(["aliyunCommonTopicService",function(e){u=e.publish(n,o,!0)}]):u=o.data,u}},i=function(e,r,i,s,o){if(e.status==t.HTTP_SUCCESS){var u=e.data;if(u.code==t.SUCCESS)return i==1?u:u.data;if(s==1)return;var a;return r?r.invoke(["aliyunCommonTopicService",function(e){o&&angular.isFunction(o)&&o(u),a=e.publish(n,u,!0)}]):a=u.data,a}},s=function(e,n,r){if(e.status==t.HTTP_SUCCESS){var i=e.data;if(i.code==t.SUCCESS)return r==1?i:i.data;n&&n.invoke(["$q",function(e){var t=e.defer();return t.promise}])}};return{responsePreHandler:r,responseHandler:i,responsePreHandlerNoDialog:s}}),define("common/modelSystem/modelSystemBaseController",["angular","./modelSystemModule","../helper/responsePreHandler"],function(e,t,n){function r(e,t){return Array.prototype.slice.call(e,t||0)}function i(t){if(e.isArray(t))for(var n=0,r=null;r=t[n];n++)if(r==="$scope")return!0;return!1}function s(e,t,r){this.$rootScope=e,this.modelFactory=t,this.responsePreHandler=n,this.getScopeContext=function(){return r}}t.controller("modelSystemBaseController",s).controller("$$baseController",s),s.$inject=["$rootScope","modelFactory","modelSystemScopeContextService"],s.prototype={constructor:s,$constructor:function(e){this.$scope=e},$on:function(){if(this.$scope===undefined)throw new Error("父controller没有初始化，请在子controller中调用 this.$parent.$constructor.call(this,$scope)来完成父类的初始化");var t=r(arguments),n=this.$rootScope.$on.apply(this.$rootScope,t);this.$scope.$on("$destroy",function(){e.isFunction(n)&&n()})},$publish:function(){var e=r(arguments);this.$rootScope.$emit.apply(this.$rootScope,e)},$getModel:function(){var e=r(arguments);return this.modelFactory.getModel.apply(this.modelFactory,e)},$handleResponse:function(e){var t=Array.prototype.slice.call(arguments,0);return this.responsePreHandler.responsePreHandler.apply(this.responsePreHandler,t)}};var o={cache:{},$rootScope:null,$controller:null,resolveSubController:function(t,n,r,i){function h(e,t){if(!e||!t)return;var n=e;for(var r in t)n[r]=t[r];return n}var s=t.parent;if(t.resolved===!1&&e.isString(s)){var u=n[s];if(u===undefined||u.resolved===!0){var a={$scope:i.$new()};try{var f=r(s,a);t.constructor.$parent={$constructor:f.$constructor||function(){}},t.constructor.prototype=h(f,t.constructor.prototype),u||(t.constructor.prototype.$parent=f),t.constructor.prototype.constructor=t.constructor,t.constructor.prototype.$name=t.name}catch(l){throw console.log(l),new Error('modelSystem:BaseController:the controller "'+s+'" you want to inherit dose not exist or failed to instantiate, check if you had registed it or the services which it relies on are correct')}t.resolved=!0}else{var c=u;o.resolveSubController(c,n,r,i)}}},dynamicInherit:function(e,t,n){this.inherit(e,t,n);var r=this.cache,i=r[e];this.resolveSubController(i,r,this.$controller,this.$rootScope)},inherit:function(t,n,r){if(!e.isString(t))throw new Error("subControllerName must be the name of sub controller");if(!e.isFunction(n))throw new Error("subController must be a function");if(!e.isString(r))throw new Error("superController must be a name of a controller");var i={name:t,parent:r,constructor:n,resolved:!1},s=this.cache[t];if(e.isObject(s)&&s.parent!==r)throw new Error(t+'has inherited "'+s.parent+'" , can not inherit from '+r);this.cache[t]=i}};return t.factory("controllerInheritService",["$controller","$rootScope",function(e,t){var n=!1;return o.$controller=e,o.$rootScope=t,{init:function(){if(n===!1){n=!0;var r=o.cache,i=null,s=[];for(var u in r)if(r.hasOwnProperty(u)){var a=r[u];o.resolveSubController(a,r,e,t)}}}}}]),{inherit:function(e,t,n,r){return r===!0?o.dynamicInherit(e,t,n):o.inherit(e,t,n)},wrapController:function(t){var n=t,r=n.controller,i=this;return function(){var t=Array.prototype.slice.call(arguments,0),s=arguments.length===3;if(e.isObject(a)&&s)console.log("the way to define a controller can not inherit the other controller");else if(s){var o=arguments[1];e.isArray(o)&&(o=o[o.length-1]);var u=null,a=null;e.isFunction(o)&&(a=arguments[0],u=arguments[2]),n.$$isInLazyMod?i.inherit(a,o,u,!0):i.inherit(a,o,u)}return r.apply(n,t)}}}}),define("common/modelSystem/lazyModule",["angular","./modelSystemModule","./modelSystemBaseController"],function(e,t,n){function i(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function s(e,t,n){return function(r){var r=arguments[0],s=null;return i(r)&&r===!0?(s=Array.prototype.slice.call(arguments,1),t.apply(e,s),e):(s=Array.prototype.slice.call(arguments,0),n.apply(e,s),e)}}var r=null;t.config(["$compileProvider","$filterProvider","$controllerProvider","$provide",function(e,t,n,r){o.init({$compileProvider:e,$filterProvider:t,$controllerProvider:n,$provide:r},!0)}]);var o={init:function(e){r=e,o.isInLazyMod=!0},makeLazy:function(e){var t=r;return e.directive=s(e,e.directive,t.$compileProvider.directive),e.filter=s(e,e.filter,t.$filterProvider.register),e.controller=s(e,e.controller,t.$controllerProvider.register),e.provider=s(e,e.provider,t.$provide.provider),e.service=s(e,e.service,t.$provide.service),e.factory=s(e,e.factory,t.$provide.factory),e.value=s(e,e.value,t.$provide.value),e.constant=s(e,e.constant,t.$provide.constant),e.$$isInLazyMod=!0,e.controller=n.wrapController(e),e}};return o}),define("common/modelSystem/modelFactory",["angular","./modelSystemModule","./moduleManager","./lazyModule"],function(e,t,n,r){function u(){this.constructors={BizModel:new f,BizActionModel:new f,CommandModel:new f,StepModel:new f,BuySubtotalModel:new f,BuyCartModel:new f,BuyFrameworkModel:new f,GridModel:new a,ToolbarModel:new a,BizModuleModel:new l},this.regist=function(){}}function a(){}function f(){}function l(){}var i=[],s=[],o=n.getInstance();u.prototype.factory=function(e){return this.constructors[e]||new a},u.registBizType=function(e){var t=s[e];if(t<0||t===undefined)s[e]=s.length,s.push(e)},u.registModelType=function(e){var t=i[e];if(t<0||t===undefined)i[e]=i.length,i.push(e)},a.prototype.regist=function(n,r,i){var s=n+r;t.provider(s,function(){this.model=i,this.$get=function(){return this.model},this.setModel=function(t,n){var r=function(e,t,n){return e[t]=n,e};e.isFunction(t)&&arguments.length==1&&(r=t),this.model=r(this.model,t,n)}})},f.prototype.regist=function(e,n,r){var i=e+n;t.factory(i,r)},l.prototype.regist=function(e,r,i){var s=n.getInstance(),o=s.registModule(e,i),u=e+r;t.provider(u,function(){this.model=o,this.$get=function(){return this.model}})},t.factory("modelFactory",["$injector","aliyunConsoleDefaultModelConfig",function(t,n){var r={bootStrap:function(){},init:function(){this.models={};var r=this,o=n.bizTypes.concat(s),u=n.modelTypes.concat(i);e.forEach(o,function(e,n){for(var i=0,s=null;s=u[i];i++){!r[s]&&(r[s]={models:{}});var o="";try{o=t.get(e+s)}catch(a){o=null,console.error(a)}o&&(r[s].models[e]=o)}})},regist:function(e,t,n){return this.getModel(e,t)==null&&(this[t].models[e]=n),n},getModel:function(r,i){var s=null;if(e.isString(r)&&e.isString(i)){!this[i]&&(this[i]={models:{}}),s=this[i].models[r];if(s===null||s===undefined)try{s=t.get(r+i),this[i].models[r]=s}catch(o){s=null,console.error(o),console.error('moselSystem:modelFactory:get model "'+r+'" which type is "'+i+'" failed. check your code.')}s===null&&(s=n[i])}return e.copy(s)},setModel:function(e,t){}};return{getModel:function(e,t){return r.getModel(e,t)},getModels:function(t,n){var i=[];if(e.isArray(t))for(var s=0,o="";o=t[s];s++)i.push(r.getModel(o,n));return i},setModel:function(e,t){var n=Array.prototype.slice.call(arguments,0);return r.setModel.apply(r,n)},regist:function(e,t){return r.regist(e,t)}}}]);var c=new u;return{regist:function(e,n,i){r.isInLazyMod&&!t.$$isInLazyMod&&(t=r.makeLazy(t));var s=c.factory(n);return u.registModelType(n),u.registBizType(e),i instanceof Object&&!i.bizType&&(i.bizType=e),s.regist(e,n,i),this},bizModel:function(e,t){return this.regist(e,"BizModel",t)},bizActionModel:function(e,t){return this.regist(e,"BizActionModel",t)},module:function(e,t){return this.regist(e,"BizModuleModel",t)},page:function(e,t){return this.regist(e,"PageModel",t)},bizComponent:function(e,t){return this.regist(e,"BizComponentModel",t)},chart:function(e,t){return this.regist(e,"ChartModel",t)},form:function(e,t){return this.regist(e,"FormModel",t)},grid:function(e,t){return this.regist(e,"GridModel",t)},toolbar:function(e,t){return this.regist(e,"ToolbarModel",t)},step:function(e,t){return this.regist(e,"StepModel",t)}}}),define("common/modelSystem/bizModelFactory",["angular","./modelSystemModule"],function(e,t,n){t.factory("bizModelFactory",["$injector","aliyunConsoleDefaultModelConfig",function(t,n){function r(e,t){throw new Error(e||"the type of param should be"+t||"string")}function i(e){throw new Error(e)}var s={init:function(){this.bizModels={};var r=this,i=n.bizTypes;e.forEach(i,function(e,n){var i=null;try{i=t.get(e+"BizModel")}catch(s){}i&&r.regist(e,i)})},regist:function(e,t){var n=this.bizModels[e];if(n===undefined)return this.bizModels[e]=t,!0;i("the bizModel '"+e+"' has been registed!")},getBizModel:function(t){var n=null;return e.isString(t)?this.bizModels[t]||null:n}};return s.init(),{getBizModel:function(e){return s.getBizModel(e)},registBizModel:function(e,t){s.regist(e,t)}}}])}),define("common/modelSystem/dynamicStates",["./modelSystemModule","./moduleManager"],function(e,t){var n=t.getInstance();e.config(["$stateProvider","$urlRouterProvider",function(e,t){var r=n.getModules(),i=[],s=0,o=null,u=null,a=null;i=Array.prototype.slice.call(r,0),u=i.pop();while(u){a=u.router,a&&e.state(a.state,a);if(u.children&&u.children.items){o=u.children.items;for(var f in o)o.hasOwnProperty(f)&&i.push(o[f])}u=i.pop()}}])}),define("common/modelSystem/commonBizController",["angular","./modelSystemModule","./moduleManager"],function(e,t,n){t.controller("commonBizController",["$scope","$injector","$state","$q","_currentModule","_pageInitializer","_moduleLoader","_pageModelLoader",function(e,t,r,i,s,o,u,a){var f=s,l=o,c=u,h=a,p=n.getInstance();e.loadingState=!0;var d=function(){var n=i.defer();return c.loadResources(e,t,function(e){n.resolve(e)}),n.promise},v=function(){var n=i.defer();return h.loadResources(e,t,function(e){n.resolve(e)}),n.promise};i.all([d(),v()]).then(function(n){var i=n[0],s=n[1];p.registModules(i),f=p.getModules(f.nameSpace)[0],l.initPageModel(e,t,r,f,s),e.loadingState=!1},function(){})}])}),define("common/modelSystem/directives/inlineCommand",["../modelSystemModule","angular","../../helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r){e.directive("inlineCommand",["$compile","$injector","modelFactory","aliyunDialog",function(e,i,s,o){return{restrict:"A",link:function(e,u,a){u.on("click",function(f){function g(n){e.$emit(l+":actionExecuted",c,n),t.isFunction(m.afterActionExecuted)&&m.afterActionExecuted(n)}f.preventDefault();var l=a.bizType,c=a.action,h=a.actionModelId,p=a.itemField;if(!l&&!h)throw new Error("the 'inlineCommand' directive need a 'biz-type' attribute to work");if(!c&&!h)throw new Error("the 'inlineCommand' directive need a 'action' attribute to work");if(!p)throw new Error("the 'inlineCommand' directive need a 'item-field' attribute to get rawData");e.keyField=a.keyField||"";var d=e[p],v=s.getModel(l,"BizModel"),m=v&&v.bizActions&&v.bizActions[c]||s.getModel(h,"BizActionModel"),y={title:m.title||(v?m.name+(r.getLangKey()=="zh"?"":" ")+v.bizName:m.name),message:m.getConfirmMsg(d,e)},b=o.showMessageDialog(y,function(e){t.isFunction(m.injectController)&&m.injectController(d,e,i),e.bizInfo=v,e.eventHandler=function(r){if(r===!0){var s=m.getActionParam(d,e),o=m.requestMethod||"POST",u={};o=o.toUpperCase(),u.method=o,o==="GET"?u.params=s:u.data=s,u.successMessage=m.successMessage,u.postMessage=m.postMessage;var a=m.hideDefaultErroDialog!==undefined?m.hideDefaultErroDialog:m.responseHandler&&m.responseHandler!=t.emptyFunction?!0:!1,f=m.responseHandler&&m.responseHandler==t.emptyFunction?n.responsePreHandler:m.responseHandler;t.isFunction(m.handler)?m.handler(u,function(e){g(e)}):v?v.bizService[m.handler](u).then(function(e){var e=n.responsePreHandler(e,i,!0);g(e)}):m&&t.isFunction(m.request)&&m.request(u).then(function(e){var e=f(e,i,!0,a)||e.data;g(e)})}e.close()}},{});b.result.then(function(){u.focus()})})}}}])}),define("common/modelSystem/directives/itemCreator",["../modelSystemModule","angular","common/helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r){function o(e){throw new Error(e||"")}var i=r.getI18n("modelSystem.simpleForm"),s={ok:i.i18n(!0,"common.lb.confirm"),cancel:i.i18n(!0,"common.lb.cancel")};e.controller("aliyunItemCreatorController",["$scope","$attrs","$q","modelFactory","$injector",function(e,r,i,u,a){var f=e.bizType||r.bizType,l=e.bizAction||r.bizAction,c=e.formModelId||e.modelType||r.bizAction||f,h=u.getModel(f,"BizModel"),p=e.formModel||u.getModel(c,"FormModel"),d=e.actionModel||h?h.getActionModel(l):u.getModel(e.actionModelId,"BizActionModel");if(!d)throw new Error("the 'itemCreator' directive need a 'biz-action' attribute to work");p||!t.isObject(p)&&o("'simpleForm' directive need the formModel but can not get it. check if the service name is right or config Object is right");var v=this;v.dialog=r.dialog=="true"?!0:!1,e.initCreator=function(o){o.rawData=e.rawData,o.i18n=s,o.$actionModel=d,o.viewModel={dialog:r.dialog=="true"?!0:!1,formModel:p,formInvalid:!1,submitForm:function(){if(!this.formInvalid){var e=this.currentScope,r={method:"POST",postMessage:d.postMessage||"",successMessage:d.successMessage||"",data:d.getActionParam(o.rawData,e)},s=d.hideDefaultErroDialog!==undefined?d.hideDefaultErroDialog:d.responseHandler&&d.responseHandler!=t.emptyFunction?!0:!1,u=d.responseHandler&&d.responseHandler==t.emptyFunction?n.responsePreHandler:d.responseHandler,c=i.defer(),p=c.promise;return t.isFunction(d.handler)?d.handler(o.rawData,e):h&&t.isString(d.handler)?h.bizService[d.handler](r).then(function(n){var n=u(n,a,!0,s)||n.data;e.$emit(f+":actionExecuted",l,n),t.isFunction(d.afterActionExecuted)&&d.afterActionExecuted(n,e),c.resolve(n)}):d&&t.isFunction(d.request)&&d.request(r).then(function(n){var n=u(n,a,!0,s)||n.data;e.$emit(f+":actionExecuted",l,n),t.isFunction(d.afterActionExecuted)&&d.afterActionExecuted(n,e),c.resolve(n)}),p}},currentScope:o},d.injectController(e.rawData,o,a)}}]),e.directive("itemCreator",["$compile","$injector","aliyunDialog","modelFactory","$templateCache",function(e,n,r,i,s){return{restrict:"A",controller:"aliyunItemCreatorController as vm",scope:{bizType:"@",bizAction:"@",modelType:"@",dialog:"@",actionModelId:"@",formModelId:"@",actionModel:"=",formModel:"=",rawData:"="},link:function(n,i,o){var u=n.vm.dialog,a="scripts/template/itemCreator.html";if(u)i.on("click",function(e){e.preventDefault(),r.showDialogByUrl(a,function(e){n.initCreator(e),r.formIsSubmiting=!1,e.viewData={title:e.$actionModel.name},e.eventHandler=function(t){t==1&&!r.formIsSubmiting&&!e.viewModel.formInvalid&&(r.formIsSubmiting=!0,e.viewModel.submitForm().then(function(){r.formIsSubmiting=!1,e.close()}))}},{})});else{n.initCreator(n);var f=s.get(a)||"",l=t.element(f);i.append(l),e(i.contents())(n)}}}}])}),define("common/modelSystem/lib/template",[],function(){var e={},t={tmpl:function(n,r){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t.tmpl(document.getElementById(n).innerHTML);return r?i(r):i}};return t}),define("common/modelSystem/directives/itemGrid",["../modelSystemModule","angular","../lib/template","../../cons/aliyunCons","../../helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r,i,s){function a(e){return{total:e.total||0,page:e.page||0,pageSize:e.pageSize||0}}function f(e,n){return t.isFunction(e.gridModel.getGridData)?e.gridModel.getGridData(n,e.gridData):t.isArray(e.gridData)?e.gridData:t.isObject(e.gridData)?t.isArray(e.gridData.items)?e.gridData.items:t.isObject(e.gridData.items)?[e.gridData.items]:[e.gridData]:[]}var o=s.getI18n("modelSystem.itemGrid"),u=o.i18n("successText");e.directive("itemGrid",["$compile","$injector","aliyunDialog",function(e,n,r){return{restrict:"A",scope:{bizType:"@",bizModel:"=",modelType:"@",gridsModel:"=",selectedData:"=",rawData:"=",gridData:"=",renderTable:"&",refreshEventName:"="},controller:["$scope","$rootScope","$attrs","$injector","$state","$stateParams",function(e,n,r,s,o,l){function c(n,r){e.itemList=n.data||[],e.loadingState=!1,e.pageInfo=t.isFunction(r.getPagination)?r.getPagination(n):a(n.pageInfo||n)}var h=s.get("modelFactory"),p=r.bizType,d=e.refreshEventName||p+":actionExecuted",v=r.modelType||p,m=r.bizAction,g=e.bizModel||h.getModel(p,"BizModel"),y="",b=e.gridsModel||h.getModel(v,"GridModel");if(g){y=g.getActionModel(m);if(y){y.injectController(b,e),e.gridModel=b;var w=n.$on(d,y.actionExecutedEventHandler||function(){e.refreshTableList()});e.$on("$destroy",function(){w&&w()}),e.refreshTableList=function(){e.gridModel.config.refreshCurrentView()};var E=function(n,o){var n=n||{};o&&(n.successMessage=y.name+u),e.loadingState=!0;var a=y.getActionParam(e,r,n);n.params=t.extend(n.params,a);var f=y.hideDefaultErroDialog!==undefined?y.hideDefaultErroDialog:y.responseHandler?!0:!1,l=y.responseHandler||i.responsePreHandler;g.bizService[y.handler](n).then(function(n){var r=i.responsePreHandler(n,s,!0);r&&t.isFunction(r.then)==0&&(t.isFunction(y.afterActionExecuted)&&y.afterActionExecuted(r,e),c(r,b))})};e.updateTableData=function(e){E(e,!e.isInitTableRequest)}}}else e.gridModel=b,e.loadingState=!0,e.updateTableData=function(n){if(n&&e.renderTable){e.renderTable({data:n});return}e.gridData&&(e.itemList=f(e,n),e.loadingState=!1,e.pageInfo=t.isFunction(b.getPagination)?b.getPagination(e.gridData):a(e.gridData.pageInfo||e.gridData))};e.onSelectionChange=function(t){e.selectedData&&(e.selectedData=t)},e.onBeforeSearch=function(n){t.isFunction(e.gridModel.onBeforeSearch)&&e.gridModel.onBeforeSearch(n)}}],templateUrl:"scripts/template/itemGrid.html",link:function(e,t,n){e.$watch("gridData",function(t){t&&e.updateTableData()})}}}])}),define("common/modelSystem/directives/loadItemGrid",["../modelSystemModule","angular","../lib/template","../../cons/aliyunCons","../../helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r,i,s){var o=s.getI18n("modelSystem.itemGrid"),u=o.i18n("successText"),a=function(e,t){var n=e?e.data:undefined,r=t?t.response?t.response.itemListName:"items":"items";return n==undefined?[]:n[r]},f=function(e,t){var n=e?e.data:undefined,r=t?t.response?t.response.hasMoreName:"items":"items";return n==undefined?!1:n[r]},l=function(e,t){var n=e?e.data:undefined,r=t?t.response?t.response.currentLoadTokenName:"items":"items";return n==undefined?undefined:n[r]},c=function(e){var t=e?e.response?e.response.currentLoadTokenName:"items":"items";return t};e.directive("loadItemGrid",["$compile","$injector","aliyunDialog",function(e,n,r){return{restrict:"A",scope:{bizId:"@",bizModel:"=",viewModel:"=",config:"="},controller:["$scope","$rootScope","$attrs","$injector","$state","$stateParams",function(e,n,r,s,o,h){var p=r.bizId,d=s.get("modelFactory"),v=e.bizModel||d.getModel(p,"BizModel");e.gridModel=e.viewModel||d.getModel(p,"GridModel"),e.itemList=[];var m=undefined,g=!0,y={},b=!1;e.pageInfo=t.extend({},e.gridModel.config.paginationInfo,{total:undefined,page:1,pageSize:20}),e.allItemList=[],e.maxSize=e.gridModel.config.paginationInfo.maxSize||5;var w=e.config?e.config.bizActions?e.config.bizActions.loadItem:undefined:undefined,E=v.getActionModel(w);E.injectController(e.gridModel,e);var S=function(){e.itemList=e.allItemList.slice((e.pageInfo.page-1)*20,e.pageInfo.page*20)},x=function(){e.loadingState=!0;var n=n||{};n.successMessage=E.name+" "+u;var o=E.getActionParam(e,r,n);n.params=t.extend({},n.params,o),n.params[c(e.config)]=m,t.extend(n.params,y),v.bizService[E.handler](n).then(function(n){var r=i.responsePreHandler(n,s,!0);r&&t.isFunction(r.then)==0&&(t.isFunction(E.afterActionExecuted)&&E.afterActionExecuted(r,e),e.allItemList=e.allItemList.concat(a(r,e.config)),e.itemList=e.allItemList.slice((e.pageInfo.page-1)*20,e.pageInfo.page*20),g=f(r,e.config),m=l(r,e.config),e.loadingState=!1,e.pageInfo=t.extend(e.pageInfo,{total:e.allItemList.length})),b=!1})},T=function(t){if(!w)return;var n=e.pageInfo.page,r=e.pageInfo.total,i=e.pageInfo.pageSize||20;if(r!=undefined&&n<Math.floor(r/i)+(r%i==0?0:1))S();else{if(!g){S();return}x()}},N=function(n){if(b==1)return;b=!0,e.allItemList=[],e.pageInfo=t.extend({},e.pageInfo,{total:undefined,page:1,pageSize:20}),m=undefined,x()};e.updateTableData=function(e){if(e.actionType=="pageChanged")T();else if(e.actionType=="search"){var t={};y={},e.orginalParams&&e.orginalParams.searchParams&&(t=e.orginalParams.searchParams),t.key&&t.value&&(y[t.key]=t.value),N(e)}else y={},N(e)};var C=e.config?e.config.events?e.config.events.refreshEventName:undefined:undefined,k=function(){var t=n.$on(C,function(){e.gridModel.config.refreshCurrentView()});e.$on("$destroy",function(){t&&t()})};k()}],templateUrl:"scripts/template/loadItemGrid.html",link:function(e,t,n){}}}])}),define("common/modelSystem/directives/simpleForm",["../modelSystemModule","angular","../lib/template","../lib/util","common/helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r,i,s){function l(e){throw new Error(e||"")}function c(){}function h(e,t){this.formTemplateConst=e,this.formFieldFactory=t,this.templateEngine=n}function d(e,t,n){var r=e.formConfig;if(!r){var i=t.bizType||(e.$parent.$bizInfo?e.$parent.$bizInfo.bizType||"":""),s=t.bizAction||(e.$parent.$bizInfo?e.$parent.$bizInfo.bizAction||"":""),o=n.get("modelFactory"),u="",a=n.get("bizModelFactory"),f="",l="";o&&(u=o.getModel(i,"FormModel")),a&&(f=a.getBizModel(i)),r={bizType:i,bizAction:s,defaultDataName:t.defaultDataName||(e.$parent.$bizInfo?e.$parent.$bizInfo.defaultDataName||"":""),formModel:u,bizModel:f}}return r}var o=s.getI18n("modelSystem.simpleForm"),u={required:o.i18n("required")},a=null,f={FORM_TEMPLATE:['<form <%=attributes%> novalidate class="<%=inlineForm === true? "form-inline": "form-horizontal"%>  <%=formCls%>"','role="form"','name="<%=formName%>"',">","<%=fields%>","</form>"].join(""),FORM_FIELD_WRAPER_TEMPLATE:['<div <%=field.formGroupAttrs%> class="form-group <%=field.fieldWraperCls||""%>" >',"<%if(!field.noLabel){%>",'<label class="col-sm-<%=field.labelSpan || 3%> control-label" for="<%=field.fieldId%>">',"<%if(field.label){%>"," <%if(!field.allowEmpty){%>",' <span class="text-danger">*</span>'," <%}%>",' <span><%=field.label || ""%></span>：',"<%}%>","</label>","<%}%>",'<div class="col-sm-<%=field.fieldSpan || 5%>">',"<%=field.fieldHtml%>",'<span class="help-block" id="help-info-<%=field.fieldId%>">',"<%=field.helpInfo%>","</span>","</div>","<%=field.validateInfos%>","</div>"].join(""),FORM_FIELD_TEMPLATE:{label:["<div","    <%=attributes%>","    <%=dataBind%>",'    class="form-control-static <%=fieldCls%>"','    id="<%=fieldId%>" >',"</div>"].join(""),text:["<input",'    name="<%=name%>"',"    <%=validators%>","    <%=attributes%>","    <%=dataBind%>",'    class="form-control <%=fieldCls%>"','    id="<%=fieldId%>"','    aria-describedby="help-info-<%=fieldId%>"',"/>"].join(""),password:["<input",'    name="<%=name%>"','    type="password"',"    <%=validators%>","    <%=attributes%>","    <%=dataBind%>",'    class="form-control <%=fieldCls%>"','    id="<%=fieldId%>"',"/>"].join(""),textArea:["<textarea",'    name="<%=name%>"',"    <%=validators%>","    <%=attributes%>","    <%=dataBind%>",'    class="form-control <%=fieldCls%>"','    id="<%=fieldId%>" >',"</textarea>"].join(""),select:["<select",'    name="<%=name%>"',"    <%=validators%>","    <%=attributes%>","    <%=dataBind%>","    <%=ngOptions%>",'    id="<%=fieldId%>"','    class="form-control <%=fieldCls%>"',">","<%if(defaultOption){%>",'<option selected value="<%=(defaultOption && defaultOption.value) || ""%>"><%=(defaultOption && defaultOption.text) || defaultOption%></option>',"<%}%>","</select>"].join(""),checkboxList:[].join(""),radioList:['<div class="form-control-static"><span class="margin-right-3" ng-repeat="item in rawData.<%=name%>s">',"<input ",' class="margin-right"',' name="<%=name%>"',' type="radio"'," <%=validators%>"," <%=attributes%>"," <%=dataBind%>",' value="{{item.value}}"',' id="{{item.name}}"'," >",'<label class="{{item.cls}}" for="{{item.name}}" >{{item.text}}</label></span></div>'].join(""),aliyunOnOff:['<div class="form-control-static">',"<div aliyun-on-off ","     <%=attributes%>","     <%=dataBind%>","  >","</div>","</div>"].join(""),datePicker:['<p class="input-group">','<input type="text" ','    name="<%=name%>"',"     <%=validators%>","     <%=attributes%>","     <%=dataBind%>",'     class="form-control <%=fieldCls%>"',"   >",'<span class="input-group-btn">','<button class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>',"</span>","</p>"].join(""),timePicker:["<div timepicker",'   name="<%=name%>"',"   <%=validators%>","   <%=attributes%>","   <%=dataBind%>",'   class="form-control <%=fieldCls%>"',"></div>"].join(""),numberSpinner:["<div aliyun-number-spinner ",'    name="<%=name%>"',"   <%=validators%>","   <%=attributes%>","   <%=dataBind%>",'   class="form-control <%=fieldCls%>"',"></div>"].join("")},FORM_FIELD_VALIDATE:{wraper:['<div class="help-block col-sm-<%=(validateInfoSpan || 4) %>" ng-show="<%=formName%>.<%=fieldName%>.$dirty && <%=formName%>.<%=fieldName%>.$invalid">',"<%=validateInfos%>","</div>"].join(""),item:['<div class="error text-danger" ng-show="<%=formName%>.<%=fieldName%>.$error.<%=validatorName%>">','<span class="icon-no-2 rds-database-icon"></span>',"<%if(dynamicHelpInfo){%>",'<span bo-html="<%=validateInfo%>"></span>',"<%}else{%>","<span><%=validateInfo%></span>","<%}%>","</div>"].join(""),DEFAULTS:{ngMinlength:{validatorName:"minlength"},ngPattern:{validatorName:"pattern"},ngMaxlength:{validatorName:"maxlength"},ngRequire:{exp:'ng-required = "true"',validateInfo:u.required,validatorName:"required"}}}};c.subs=[],c.prototype={constructor:c,TP:n,getTemplateEngine:function(){return n},getFormTemplateConst:function(){return f},getFormFieldFactory:function(){return c},allowEmpty:function(e){if(t.isArray(e)){var n=!0;return t.forEach(e,function(e,t){e.type=="ngRequire"&&(n=!1),e.exp&&e.exp.indexOf("ngRequire")==="0"&&e.exp.indexOf("true")>0&&(n=!1)}),n}return!0},initValidators:function(e){function s(e){return e.replace(r,function(e,t,n,r){return r?n.toUpperCase():n}).replace(i,"Moz$1")}function o(e){var t,t="";if(e.type)t=e.type;else if(e.exp){var t=e.exp.split("=")[0];t&&t.length>0&&(t=s(t))}return t}function u(e){return f.FORM_FIELD_VALIDATE.DEFAULTS[e]||{exp:"",validateInfo:"",validatorName:""}}var r=/([\:\-\_]+(.))/g,i=/^moz([A-Z])/,a=this,l=e.validators,c=[],h=[],p="",d=f.FORM_FIELD_VALIDATE.wraper,v=f.FORM_FIELD_VALIDATE.item;return t.isArray(l)&&(t.forEach(l,function(e,t){var r=o(e),i=u(r);e.validatorName=e.validatorName?e.validatorName:i.validatorName||r,e.type&&!e.exp&&(e.exp=i.exp),e.validateInfo=e.validateInfo?e.validateInfo:i.validateInfo,c.push(e.exp||""),e.formName=a.attributes.formName,e.fieldName=a.attributes.name,e.dynamicHelpInfo=e.dynamicHelpInfo===!0?!0:!1,h.push(n.tmpl(v,e))}),p=n.tmpl(d,{formName:e.formName,fieldName:e.name,validateInfoSpan:e.validateInfoSpan||null,validateInfos:h.join("")})),this.validators={marks:c.join(" "),validateInfos:p},this.validators},initDataBind:function(e){if(e.dataBind)return;if(e.ngModel){e.dataBind='ng-model = "'+e.ngModel+'"';return}var t=e.bindType||"ng-model";if(t)switch(t){case"ng-model":e.dataBind='ng-model = "rawData.'+e.name+'"';break;case"{{}}":e.dataBind="{{rawData."+e.name+"}}";break;case"bo-text":e.dataBind='bo-bind = "rawData.'+e.name+'"';break;case"ng-bind":e.dataBind='ng-bind = "rawData.'+e.name+'"'}},getValidators:function(){return this.validators},getFieldRenderData:function(e){var n=this.getValidators(),r=t.extend({name:"",validators:"",attributes:"",dataBind:"",fieldCls:"",fieldId:""},e||{});return r.attributes=t.isArray(r.attributes)&&r.attributes.join(" "),r.validators=n&&n.marks||"",r},renderFieldElement:function(e){var t=this.getFieldRenderData(this.attributes);return n.tmpl(this.fieldHtmlTemplate,t)},getFieldWraper:function(){return this.attributes.fieldWraperTemplate||this.attributes.fieldWraperTmplate},html:function(){return this.htmlStr?this.htmlStr:this.htmlStr=n.tmpl(this.htmlTmplate,{field:this.attributes})},htmlTmplate:function(){return this.htmlTmplate}},c.define=function(e,n){!t.isString(e)&&l("formFieldName should be string")||!t.isFunction(n)&&l("constructor of the formField should be function"),t.isFunction(c.subs[e])&&l("the subclass of FormFieldFactory has already registed by name :'"+e+"'"),n=r.inherit(n,c),c.subs[e]=n},c.factory=function(e){var t=c.subs[e];if(!t)throw new Error('SimpleForm ERROR: Contructor "'+e+'" not registed in FormFieldFactory.');return t},t.forEach(["label","text","password","textArea","select","checkboxList","radioList","aliyunOnOff","datePicker","timePicker","numberSpinner"],function(e,r){c.define(e,function(r){this.attributes=t.extend({},r),this.attributes.formName=r.formName,e==="select"&&(this.attributes.defaultOption=this.attributes.defaultOption||"",this.attributes.ngOptions=this.attributes.ngOptions||""),e==="label"&&!this.attributes.bindType&&(this.attributes.bindType="bo-text"),this.fieldHtmlTemplate=f.FORM_FIELD_TEMPLATE[e],this.fieldWraperTemplate=this.getFieldWraper()||f.FORM_FIELD_WRAPER_TEMPLATE,this.initValidators(this.attributes),this.initDataBind(this.attributes),this.attributes.fieldHtml=this.renderFieldElement(e),this.attributes.formGroupAttrs=t.isArray(this.attributes.formGroupAttrs)&&this.attributes.formGroupAttrs.join(" ")||"",this.attributes.validateInfos=this.validators.validateInfos,this.attributes.allowEmpty=this.allowEmpty(r.validators),this.htmlStr=n.tmpl(this.fieldWraperTemplate,{field:this.attributes})})}),c.define("customField",function(e){this.attributes=t.extend({},e),this.attributes.formName=e.formName,this.fieldWraperTemplate=this.getFieldWraper()||f.FORM_FIELD_WRAPER_TEMPLATE,this.initValidators(this.attributes),this.initDataBind(this.attributes),this.attributes.fieldHtml=e.template?e.template:a&&e.templateUrl?a.get(e.templateUrl):"",this.attributes.validateInfos=this.validators.validateInfos,this.attributes.allowEmpty=this.allowEmpty(e.validators),this.htmlStr=n.tmpl(this.fieldWraperTemplate,{field:this.attributes})}),h.prototype={constructor:h,initFieldFactory:function(){},generateFormHtml:function(e){var t=this.formTemplateConst,r=t.FORM_TEMPLATE,i=this.generateFormFieldHtml(e);return n.tmpl(r,{formCls:e.formCls||"",fields:i,inlineForm:e.inlineForm||!1,attributes:e.attributes?e.attributes.join(" "):"",formName:e.name||e.id})},generateFormFieldHtml:function(e){var t=e.fields,n=this.formTemplateConst[e.fieldWraperTemplateName]||this.formTemplateConst.FORM_FIELD_WRAPER_TEMPLATE,r=[],i="";for(var s=0,o=null;o=t[s];s++){o.formName=e.name||e.id,o.name=o.name?o.name:o.id;var u=this.formFieldFactory.factory(o.type);o.fieldWraperTemplate=o.fieldWraperTemplate||n,i=new u(o,this),r.push(i.html())}return r.join("")}};var p=h;e.constant("aliyunModelSystemFormGeneratorConst",f),e.directive("htmlForm",["$compile","$injector","$templateCache",function(e,n,r){return a=r,{restrict:"A",controller:["$scope","$attrs","$injector","aliyunModelSystemFormGeneratorConst",function(e,t,n,i){e.getFormHtml=function(e,t){var n=e+t.name,s=r.get(n);if(!s){var o=new p(i,c,r);s=o.generateFormHtml(t),r.put(n,s)}return s}}],scope:{bizType:"@",modelType:"@",formModel:"=",rawData:"=",formInvalid:"=",formInited:"&",submit:"&onSubmit",formInstance:"="},link:function(r,i,s){function f(n){var s=t.element(r.getFormHtml(n.bizType,n));i.append(s),r.rawData=r.rawData||{},e(i.contents())(r),r.formInstance&&(r.formInstance=r[r.formModel.id]),r.$$postDigest(function(){t.isFunction(r.formInited)&&r.formInited(!0)}),r.$watch(n.name+".$invalid",function(){r.formInvalid!==undefined&&(r.formInvalid=r[n.name].$invalid)})}var o=n.get("modelFactory"),u=r.modelType||r.bizType,a=r.formModel||o.getModel(u,"FormModel");a?f(a):(console.log("'htmlForm' need formModel or modelType, add a watcher to reinitate directive"),r.$watchCollection("[formModel, modelType]",function(e){if(e){var t=e[0],n=e[1];a=t||o.getModel(n,"FormModel"),a&&f(a)}}))}}}]),e.provider("aliyunModelSystemHtmlFormConfig",["aliyunModelSystemFormGeneratorConst",function(e){var n={$get:function(){},extendFormGeneratorConst:function(n){t.isObject(n)?t.extend(e,n):t.isFunction(n)&&n(e)},extendFormGenerator:function(e){if(!t.isFunction(e))throw new Error("TypeError: subClass to extend FormGenerator must be a function");p=r.inherit(e,p)},extendFormFieldFactory:function(e,n){if(t.isString(e)&&t.isFunction(n))c.define(e,n);else if(t.isObject(e)&&!n){var r=e,n=null;for(var e in r)r.hasOwnProperty(e)&&(n=r[e],t.isFunction(n)&&c.define(e,n))}}};return n}])}),define("common/modelSystem/directives/toolbar",["../modelSystemModule","angular","../lib/template"],function(e,t,n){function r(e,t){function n(){}return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e}function i(e,t){var n=e.render(t);if(n)return n;e.setRawData(t);var r=e.getType()||"",i=new(s.factory(r))(e);return i.renderAction(e)}function s(e){this.action=e,t.isFunction(this.action.action)&&(this.action.action=this.action.action(this.action,this.action.rawData))}function o(e){s.call(this,e)}function u(e){s.call(this,e)}function a(e){s.call(this,e)}function f(e){s.call(this,e)}function l(e){s.call(this,e)}function c(e){s.call(this,e)}function p(e,t,n){if(e.toolBarModel)return e.toolBarModel;if(t)return t.getModel(n,"ToolbarModel")}s.prototype={constructor:s,renderAction:function(e){var t=n.tmpl(this.getActionTemplate(e),this.getRenderData(e))||"";return t},getActionTemplate:function(e){var e=this.action||e,t="",n=h.renderTemplates,r="";return e.showTip?r="tipAction":e.getType()=="menu"?r="menu":e.getType()=="empty"?r="empty":r="action",n[r]},getRenderData:function(e){var e=this.action||e,t={};return e.showTip?t={tipDirection:e.tipDirection||"left",tipText:e.tip||"",actionClass:e.getClass()||"",spmId:e.spmId||"",action:this.getActionDirective(e)||"",attributes:this.getAttrsHtml()||"",rawData:this.getRawDataHtml()||"",actionTextClass:e.actionTextClass||"",text:e.text||""}:t={actionClass:e.getClass()||"",spmId:e.spmId||"",action:this.getActionDirective(e)||"",attributes:this.getAttrsHtml()||"",rawData:this.getRawDataHtml()||"",actionTextClass:e.actionTextClass||"",text:e.text||""},t},getActionDirective:function(e){var e=this.action||e;return e.action},getAttrsHtml:function(e){var e=this.action||e,t=e.attrs,n="";if(t)for(var r in t)t.hasOwnProperty(r)&&(n+=r+'="'+t[r]+'" ');return n},getRawDataHtml:function(){}},s.init=function(e){!this.constructors&&(this.constructors={});var n=e.renders;!t.isObject(n)&&(n={}),t.extend(this.constructors,n),s.prototype.renderTemplates=e.renderTemplates},s.factory=function(e){return e==0?e="normal":"",this.constructors[e]||s},s.registRender=function(e,t){this.constructors[e]||(this.constructors[e]=t)},r(o,s),t.extend(o.prototype,{getActionDirective:function(e){return"inline-command"}}),r(u,s),t.extend(u.prototype,{getRenderData:function(e){return{menu:e,text:e.text||"",actions:e.children||[],itemClass:e.menuItemClass||"",renderer:i}}}),r(a,s),t.extend(a.prototype,{getActionDirective:function(e){return"inline-command"}}),r(f,s),t.extend(f.prototype,{getActionDirective:function(e){return'ng-href = " '+e.action+'"'}}),r(l,s),t.extend(l.prototype,{getActionDirective:function(e){return'ui-sref= "'+e.action+'"'}}),r(c,s),t.extend(c.prototype,{getActionDirective:function(e){return e.action}});var h={renders:{command:o,menu:u,empty:a,link:f,stateLink:l,normal:c},actionRender:s,renderTemplates:{tipAction:['<div style="display:inline-block;"','tooltip-placement="<%=tipDirection%>"','tooltip="<%=tipText%>">','<a href="javascript:;"','class="<%=actionClass%>"','aliyun-console-spm spm-id="<%=spmId%>"',"<%=action%>","<%=attributes%>","<%=rawData%>",'><span class="<%=actionTextClass%>">',"<%=text%>","</span></a></div>"].join(" "),action:['<a href="javascript:;"','class="<%=actionClass%>"','aliyun-console-spm spm-id="<%=spmId%>"',"<%=action%>","<%=attributes%>","<%=rawData%>",'><span class="<%=actionTextClass%>">',"<%=text%>","</span></a>"].join(" "),menu:['<div class="dropdown">','<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"><%=text%><span class="caret"></span></a>','<ul class="dropdown-menu">',"<%if(actions && actions.length>0){%>","<%for(var i=0, act=null;act=actions[i];i++){%>",'<li class="<%=itemClass%>"><%=renderer(act,menu.rawData)%></li>',"<%}}%>","</ul>","</div>"].join(""),empty:["<div ",'class="btn-xs" ',"<%=action%>","<%=attributes%>","<%=rawData%>",'><span class="<%=actionTextClass%>">',"<%=text%>","</span></div>"].join("")}};e.constant("toolbarRenderConf",h).directive("toolbar",["$compile","$injector","modelDefineService","modelFactory",function(e,n,r,o){return{restrict:"A",scope:{modelId:"@",toolBarModel:"=",rawData:"=",toolbarWatch:"="},controller:["$scope","$templateCache","toolbarRenderConf",function(e,r,o){function u(e){var t=e.template?e.template:e.templateUrl?r.get(e.templateUrl):"";return t}s.init(o),e.renderToolbar=function(r,s,o){var a=u(r);if(a)return t.isFunction(r.prepareDataForTemplate)&&r.prepareDataForTemplate(r,o,e,n),t.element(a);var f=[],l=r.getActionSeparator();for(var c=0,h=null;h=s[c];c++){h.withPreSeparator===!1&&s[c-1]&&s[c-1].withSeparator!==!1&&f.pop(),f.push(i(h,o));if(h.withSeparator!==!1&&c<s.length-1){var p=t.isFunction(h.getActionSeparator)?h.getActionSeparator():l;f.push(p)}}return f=f.join(""),t.element(f)}}],link:function(t,i,s){function f(r){a.setActionListOfBizStatusByRawData(r,a.getActionListByBizStatus());var s=a.getModelBizStatus(r,t,n),o=a.getActionListByBizStatus(s),u=t.renderToolbar(a,o,r);i.empty(),i.append(u),e(i.contents())(t)}var u=p(t,o,t.modelId||s.bizType);if(!u)throw new Error("toolBarModel is needed for the toolbar directive");var a=r.defToolbarModel(u.bizType,u);t.$watch("toolbarWatch",function(e){var n=t.rawData;f(n)})}}}]).provider("actionRenderExtend",["toolbarRenderConf",function(e){var t=e.renders;return{extend:function(e,n){var r=t[e];r||(t[e]=n)},$get:function(){return s}}}])}),define("common/modelSystem/directives/consoleUiView",["../modelSystemModule","angular"],function(e,t){e.directive("consoleUiView",["$compile","$injector",function(e,t){return{restrict:"A",replace:!0,link:function(t,n,r){n.html("<div ui-view='"+r.consoleUiView+"'><div>"),e(n.contents())(t)}}}])}),define("common/modelSystem/directives/bizComponent",["../modelSystemModule","angular","../lib/template","../lib/util","../../cons/aliyunCons","../../services/topicService"],function(e,t,n,r,i,s){function a(e){this.component=e,t.isFunction(this.component.component)&&(this.component.component=this.component.component(this.component,this.component.rawData))}function f(e){a.call(this,e)}function l(e){a.call(this,e)}function c(e){a.call(this,e)}function p(e,t,n){if(e.bizComponentModel)return e.bizComponentModel;if(t)return t.getModel(n,"BizComponentModel")}var o=i.RESPONSE_CODE,u={getTemplate:function(){}};a.prototype={constructor:a,renderComponent:function(e){var t=n.tmpl(this.getRenderTemplate(e),this.getRenderData(e))||"";return t},getRenderTemplate:function(e){var t=h.renderTemplates,n="bizComponent";return t[n]},getComponentHtml:function(e){return u.getTemplate(e)},getToolbarHtml:function(e){var t="";return e&&e.toolbar&&(t='<div toolbar tool-bar-model="toolbar"></div>'),t},getRenderData:function(e){var e=this.component||e,t={},n=e.getToolbarPosition()||"right";return t={componentClass:e.getClass(),attributes:this.getAttrsHtml(),headerClass:e.getHeaderClass(),toolbarPosition:n=="left"?"pull-left":"pull-right",toolbarClass:e.getToolbarClass(),toolbarHtml:this.getToolbarHtml(e),titleClass:e.getTitleClass(),title:e.getTitle(),componentBodyClass:e.getComponentBodyClass(),componentHtml:this.getComponentHtml(e),rawData:this.getRawDataHtml()},t},getAttrsHtml:function(e){var e=this.component||e,t=e.attrs,n="";if(t)for(var r in t)t.hasOwnProperty(r)&&(n+=r+'="'+t[r]+'" ');return n},getRawDataHtml:function(){}},a.init=function(e){!this.constructors&&(this.constructors={});var n=e.renders;!t.isObject(n)&&(n={});for(var i in n)n.hasOwnProperty(i)&&r.inherit(n[i],a);t.extend(this.constructors,n),a.prototype.renderTemplates=e.renderTemplates},a.factory=function(e){return e==0?e="normal":"",this.constructors[e]||a},a.registRender=function(e,t){this.constructors[e]||(t=r.inherit(t,a),this.constructors[e]=t)},f.prototype={constructor:f},l.prototype={constructor:l,getComponentHtml:function(e){var t={bizType:e.bizType,bizAction:e.bizAction,modelType:e.modelType};return n.tmpl('<div item-grid biz-type="<%=bizType%>" biz-action="<%=bizAction%>" biz-model="bizModel" model-type="<%=modelType%>"></div>',t)}},c.prototype={constructor:c,getComponentHtml:function(e){var t={bizType:e.bizType,bizAction:e.bizAction,modelType:e.modelType};return n.tmpl('<div ms-chart biz-type="<%=bizType%>" biz-action="<%=bizAction%>" biz-model="bizModel" model-type="<%=modelType%>" ></div>',t)}};var h={renders:{custom:f,grid:l,chart:c},BizComponentRender:a,renderTemplates:{bizComponent:["<div bind-once>",'<div class="console-biz-component <%=componentClass%>" <%=attributes%> >',"<%if(title){%>",'<div class="console-title <%=headerClass%>">','<div class="<%=toolbarPosition%> <%=toolbarClass%>">',"<%=toolbarHtml%>","</div>",'<h5 class="<%=titleClass%>">',"<%=title%>","</h5>","</div>","<%}%>",'<div class="<%=componentBodyClass%>" >','<div ng-class="{noVisibility:loadingComponent}">','<div data-ng-if="!requestFail">',"<%=componentHtml%>","</div>",'<div data-ng-hide="requestFail">','<div data-ng-bind="failInfo"></div>',"</div>","</div>",'<div data-ng-if="loadingComponent" aliyun-loading size="48" style="position:absolute; top:0px; margin-top:100px;"></div>',"</div>","</div>","</div>"].join(" "),action:[].join(" "),menu:[].join("")}};e.constant("bizComopnentRenderConf",h).directive("bizComponent",["$compile","$injector","modelDefineService","modelFactory",function(e,n,i,s){return{restrict:"A",scope:{bizComponentModel:"=",rawData:"=",renderWatch:"="},controller:["$scope","$templateCache","bizComopnentRenderConf","aliyunCommonTopicService",function(e,n,i,o){function f(e,t){var n=e.getType()||"",r=new(a.factory(n))(e);return r.renderComponent(e)}function l(e){var t=e.template?e.template:e.templateUrl?n.get(e.templateUrl):"";return t}function c(e){var t=e,r=t.componentTemplate||(t.componentTemplateUrl?n.get(t.componentTemplateUrl):"");return r?r:""}function h(e,t){var n=t.getBizType(),i=t.getBizAction(),o=s.getModel(n,"BizModel");if(o){e.loadingComponent=!0;var u=!0,a=r.deepClone({},o,u),f=a.getActionModel(i);f&&(f._getActionParam=f.getActionParam,f.getActionParam=function(){var e=Array.prototype.slice.call(arguments,0),n=f._getActionParam.apply(f,e);return!n&&(n={}),n.__bizComponentId=t.getId(),n},e.bizModel=a)}else e.loadingComponent=!1,e.requestFail=!1}function p(e,t){var n=t.getId();o.subscribe("BizComponent:"+n+":requestFail",function(){e.loadingComponent=!1,e.requestFail=!0}),o.subscribe("BizComponent:"+n+":requestSuccess",function(){e.loadingComponent=!1,e.requestFail=!1}),e.$on("$destroy",function(){})}a.init(i),u.getTemplate=c,e.renderBizComponent=function(n){var r=l(n);if(!r){var i=f(n);return t.element(i)}if(t.isFunction(n.prepareDataForTemplate))return n.prepareDataForTemplate(n,e),t.element(r)},e.initBizComponent=function(e,t){h(e,t),p(e,t)}}],link:function(n,r,o){function f(){var t=n.renderBizComponent(a);r.append(t),e(r.contents())(n)}var u=p(n,s,o.bizType);if(!u)throw new Error("bizComponentModel is needed for the bizComponent directive");var a=i.defBizComponentModel(u);t.extend(n,a),n.initBizComponent(n,a),n.$watch("renderWatch",function(e){f()})}}}]).provider("BizComponentRenderExtend",["bizComopnentRenderConf",function(e){var t=e.renders;return{extend:function(e,n){var r=t[e];r||(t[e]=n)},$get:function(){return a}}}]).factory("modelSystemBizComponentHttpInterceptor",["$q","$rootScope","aliyunCommonTopicService",function(e,t,n){return{response:function(e){var t=e.data,r=e.config,i=r.params&&r.params.__bizComponentId||0;return i?r&&t&&t.code==o.SUCCESS?(n.publish("BizComponent:"+i+":requestSuccess"),e):(n.publish("BizComponent:"+i+":requestFail"),!1):e},responseError:function(t){return n.publish(),e.reject(t)}}}]),e.config(["$httpProvider",function(e){e.interceptors.push("modelSystemBizComponentHttpInterceptor")}])}),define("common/modelSystem/directives/componentLayout",["../modelSystemModule","angular"],function(e,t){e.directive("componentLayout",["$compile","$injector","$state","$rootScope",function(e,n,r,i){return{restrict:"A",scope:{layoutConfig:"="},link:function(n,r,i){var s="",o=function(e,t){return'<div class="col-sm-'+12/t+'"><div biz-component biz-component-model="components[\''+e+"']\" ></div></div>"},u=function(){var e=[];t.forEach(n.components,function(t,n){e[t.id||n]=t}),n.components=e;var r="";return t.forEach(n.layout,function(e){r+='<div class="row">',t.isArray(e)?t.forEach(e,function(t){r+=o(t,e.length>2?3:e.length||1)}):r+=o(e,1),r+="</div>"}),r},a=function(){var e="";return t.forEach(n.components,function(n,r){e+='<div class="row">',t.isArray(n)?t.forEach(n,function(t,i){e+='<div class="col-sm-'+12/(n.length>2?3:n.length||1)+'"><div biz-component biz-component-model="components[\''+r+"']['"+i+"']\" ></div></div>"}):e+=o(r,1),e+="</div>"}),e},f=function(){n.layout=n.layoutConfig.layout,n.components=n.layoutConfig.components,s=n.layout?u():a(),r.html(""),r.append(s),e(r.contents())(n)};n.$watch("layoutConfig",function(e){e&&e.components&&e.components.length>0&&f()})}}}])}),define("common/modelSystem/directives/msChart",["../modelSystemModule","angular","../../helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r){e.directive("msChart",["$compile","$injector",function(e,i){var s=r.getI18n("modelSystem.msChart").i18n("dateFormat");return{restrict:"A",scope:{bizType:"@",bizModel:"=",chartData:"=",chartModel:"=",appendWatch:"=",reloadWatch:"="},controller:["$scope","$rootScope","$attrs","$injector",function(e,r,i,o){function u(r,i){var i=i||{params:{}},s=g.getActionParam(e);i.params=t.extend(i.params,s);var u=g.hideDefaultErroDialog!==undefined?g.hideDefaultErroDialog:g.responseHandler?!0:!1,a=g.responseHandler!=t.emptyFunction?g.responseHandler:n.responsePreHandler;m.bizService[g.handler](i).then(function(i){var s=n.responsePreHandler(i,o,!0);s&&t.isFunction(s.then)==0&&(s=e.responseDataHandler(s),r(s))})}function a(e){m&&u(f,e)}function f(n){var r=e.chart.series;for(var i=0;i<r.length;i++){var s=r[i].options.id,o=n.data[s],u=t.isFunction(y.seriesFormatter)&&y.seriesFormatter(s,o,p,v)||o;r[i].setData(u)}}function l(e){u(c,e)}function c(n){var r=e.chart.series,i=y.dynamicConfig.removePrevisPoint,s=[];for(var o=0;o<r.length;o++){var u=r[o].options.id,a=n.data[u],f=a[0];s=t.isFunction(y.seriesFormatter)&&y.seriesFormatter(u,n,p,v)||f;if(t.isFunction(y.beforeAppendData)&&y.beforeAppendData(u,n,p,v)===!1)return;s&&r[o].addPoint(s,!0,i===!1?!1:!0)}}e.responseDataHandler=function(n){return t.isFunction(y.getXAxis)&&e.chart.xAxis[0].setCategories(y.getXAxis(n)),t.isFunction(y.dataFormatter)&&y.dataFormatter(n,p,v)||n},e.showData=function(t){var n=t.type||"all",r=function(){};switch(n){case"all":r=f;break;case"append":r=c;break;default:r=f}var i=e.responseDataHandler(t);r(i)};var h=o.get("modelFactory"),p=i.bizType,d=i.modelType||p,v=i.bizAction,m=e.bizModel||h.getModel(p,"BizModel"),g="",y=e.chartModel||h.getModel(d,"ChartModel");m&&y&&(g=m.getActionModel(v),g&&g.injectController(y,e));if(y){var b=y.chartConfig||{};b.tooltip=t.extend({formatter:function(e){var t=Highcharts.dateFormat(s,this.x);return"<strong>"+(t==="Invalid date"?this.x:t)+"</strong><br />"+this.series.name+": "+this.y+(e.options&&e.options.valueSuffix||"")}},b.tooltip||{});var w=[];y.seriesConfig=t.isFunction(y.setSeriesConfig)&&y.setSeriesConfig(p,v)||y.seriesConfig;if(!y.seriesConfig)throw"chart series is undefined";if(y.seriesConfig.length==0)throw"chart series is empty";var E=y.seriesConfig,S=[];if(y.isDynamic){var x=y.dynamicConfig,T=x.interval||60,N=x.perild/x.interval||20,C=(new Date).getTime();for(var k=0-N;k<0;k++)S.push({x:C+k*T*1e3,y:null})}for(var L=0;L<E.length;L++)w.push({name:E[L].label,id:E[L].value,data:S});b.series=w,e.chartConfig=b}e.chartCreated=function(t){e.chart=t},e.$on(p+"Chart:update",function(e,t){a(t)}),e.$on(p+"Chart:appendData",function(e,t){l(t)}),a()}],template:'<div aliyun-console-chart chart-created="chartCreated(chart)" config="chartConfig"></div>',link:function(e,t,n){e.$watchCollection("[chartData,chart]",function(t){var n=t[0],r=t[1];n&&r&&e.showData(n)})}}}])}),define("common/modelSystem/directives/msChartD3",["../modelSystemModule","angular","../../helper/responsePreHandler","../../services/i18nService"],function(e,t,n,r){e.directive("msChartD3",["$compile","$injector",function(e,i){var s=r.getI18n("modelSystem.msChart").i18n("dateFormat");return{restrict:"A",scope:{bizType:"@",bizModel:"=",chartData:"=",chartModel:"=",appendWatch:"=",reloadWatch:"="},controller:["$scope","$rootScope","$attrs","$injector",function(e,r,i,s){function o(r,i){var i=i||{params:{}},o=m.getActionParam(e);i.params=t.extend(i.params,o);var u=m.hideDefaultErroDialog!==undefined?m.hideDefaultErroDialog:m.responseHandler?!0:!1,a=m.responseHandler!=t.emptyFunction?m.responseHandler:n.responsePreHandler;v.bizService[m.handler](i).then(function(i){var o=n.responsePreHandler(i,s,!0);o&&t.isFunction(o.then)==0&&(o=e.responseDataHandler(o),r(o))})}function u(e){v&&o(a,e)}function a(n){var r=e.chart.series;for(var i=0;i<r.length;i++){var s=r[i].options.id,o=n.data[s],u=t.isFunction(g.seriesFormatter)&&g.seriesFormatter(s,o,h,d)||o;r[i].setData(u)}}function f(e){o(l,e)}function l(n){var r=e.chart.series,i=g.dynamicConfig.removePrevisPoint,s=[];for(var o=0;o<r.length;o++){var u=r[o].options.id,a=n.data[u],f=a[0];s=t.isFunction(g.seriesFormatter)&&g.seriesFormatter(u,n,h,d)||f;if(t.isFunction(g.beforeAppendData)&&g.beforeAppendData(u,n,h,d)===!1)return;s&&r[o].addPoint(s,!0,i===!1?!1:!0)}}e.responseDataHandler=function(n){return t.isFunction(g.getXAxis)&&e.chart.xAxis[0].setCategories(g.getXAxis(n)),t.isFunction(g.dataFormatter)&&g.dataFormatter(n,h,d)||n},e.showData=function(t){var n=t.type||"all",r=function(){};switch(n){case"all":r=a;break;case"append":r=l;break;default:r=a}var i=e.responseDataHandler(t);r(i)};var c=s.get("modelFactory"),h=i.bizType,p=i.modelType||h,d=i.bizAction,v=e.bizModel||c.getModel(h,"BizModel"),m="",g=e.chartModel||c.getModel(p,"ChartModel");v&&g&&(m=v.getActionModel(d),m&&m.injectController(g,e));if(g){var y=g.chartConfig||{},b=[];g.seriesConfig=t.isFunction(g.setSeriesConfig)&&g.setSeriesConfig(h,d)||g.seriesConfig;if(!g.seriesConfig)throw"chart series is undefined";if(g.seriesConfig.length==0)throw"chart series is empty";var w=g.seriesConfig,E=[];if(g.isDynamic){var S=g.dynamicConfig,x=S.interval||60,T=S.perild/S.interval||20,N=(new Date).getTime();for(var C=0-T;C<0;C++)E.push({x:N+C*x*1e3,y:0})}for(var k=0;k<w.length;k++)b.push({name:w[k].label,id:w[k].value,data:E});y.series=b,e.chartConfig=y}e.chartCreated=function(t){e.chart=t},e.$on(h+"Chart:update",function(e,t){u(t)}),e.$on(h+"Chart:appendData",function(e,t){f(t)}),u()}],template:'<div aliyun-console-chart-d3 chart-created="chartCreated(chart)" config="chartConfig"></div>',link:function(e,t,n){e.$watchCollection("[chartData,chart]",function(t){var n=t[0],r=t[1];n&&r&&e.showData(n)})}}}])}),define("common/modelSystem/directives/dynamicDirective",["angular","../modelSystemModule"],function(e,t){function r(t,n){var r={template:"",templateUrl:"",setCompileData:function(e,t,n){}};e.extend(this,r,t),this.$templateCache=n}function i(e,t,n,i){function s(s,o,u){function p(t,n,r){h.setCompileData(t,n,r,i),o.empty(),o.append(h.getTemplate()),e(o.contents())(t)}var a=s.config&&s.config.directiveModel?s.config.directiveModel:n.getModel(s.modelType,"DynamicDirectiveModel")||s.directiveModel;if(!a){console.error("model is required");return}var f=a.template||t.get(a.templateUrl);if(!f){console.error("template or templateUrl is needed in DynamicDirective; please check your model config for template or templateUrl is right");return}var l=s.config&&s.config.rawData?s.config.rawData:s.rawData,c=r.factory(s.handlerType),h=new c(a,t);s.$watch("rawData",function(e){e!==null&&e!==undefined&&(h=new c(a,t),p(s,e,u))}),s.$watch("directiveModel",function(e){e&&(h=new c(e,t),p(s,s.rawData,u))}),s.$watch("config",function(e){e&&(h=new c(e.directiveModel,t),p(s,e.rawData,u))})}return{scope:{config:"=",rawData:"=",directiveModel:"=",modelType:"@",handlerType:"@"},link:s}}var n={factory:{}};r.factory=function(e){var t=n.factory;return t[e]||r},r.regist=function(t,r){var i=n.factory;if(!e.isFunction(r))throw new Error("only function can extend handler");var s=i.factory[t];if(s!==null||s!==undefined)throw new Error('handler "'+t+"\" has registed! you can't overwrite it");return i.factory[t]=r,this},r.prototype={constructor:r,setCompileData:function(e,t,n){},getTemplate:function(){var e=this.$templateCache,t=this.template?this.template:e?this.template=e.get(this.templateUrl):"";return t}},t.constant("dynamciInfoHandlerConfig",n).provider("DynamicInfoHandlerProvider",["dynamciInfoHandlerConfig",function(e){var t=e;return{extend:function(e,t){return r.regist(e,t)},$get:function(){return t}}}]).directive("aliyunConsoleDynamicDirective",i),i.$inject=["$compile","$templateCache","modelFactory","$injector"]}),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(r,i){var s=t.noop,o=t.forEach,u=i.$$selectors,a=1,f="$$ngAnimateState",l="ng-animate",c={running:!0};r.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function(e,n,r,i,h,p,d){function v(e){if(e){var t=[],i={};e=e.substr(1).split("."),(r.transitions||r.animations)&&e.push("");for(var s=0;s<e.length;s++){var o=e[s],a=u[o];a&&!i[o]&&(t.push(n.get(a)),i[o]=!0)}return t}}function g(e,t,n,r,i,u,a){function c(e){m();if(!0===e)g();else{if(e=n.data(f))e.done=g,n.data(f,e);p(T,"after",g)}}function p(r,i,u){var a=i+"End";o(r,function(o,f){var l=function(){e:{var e=i+"Complete",t=r[f];t[e]=!0,(t[a]||s)();for(t=0;t<r.length;t++)if(!r[t][e])break e;u()}};"before"!=i||"enter"!=e&&"move"!=e?o[i]?o[a]=x?o[i](n,t,l):o[i](n,l):l():l()})}function d(){a&&h(a,0,!1)}function m(){m.hasBeenRun||(m.hasBeenRun=!0,u())}function g(){if(!g.hasBeenRun){g.hasBeenRun=!0;var e=n.data(f);e&&(x?w(n):(e.closeAnimationTimeout=h(function(){w(n)},0,!1),n.data(f,e))),d()}}var y=n.attr("class")||"",S=(" "+(y+" "+t)).replace(/\s+/g,".");r||(r=i?i.parent():n.parent());var S=v(S),x="addClass"==e||"removeClass"==e;i=n.data(f)||{};if(E(n,r)||0===S.length)m(),g();else{var T=[];i.running&&x&&i.structural||o(S,function(r){if(!r.allowCancel||r.allowCancel(n,e,t)){var i=r[e];"leave"==e?(r=i,i=null):r=r["before"+e.charAt(0).toUpperCase()+e.substr(1)],T.push({before:r,after:i})}}),0===T.length?(m(),d()):(r=" "+y+" ",i.running&&(h.cancel(i.closeAnimationTimeout),w(n),b(i.animations),i.beforeComplete?(i.done||s)(!0):x&&!i.structural&&(r="removeClass"==i.event?r.replace(i.className,""):r+i.className+" ")),y=" "+t+" ","addClass"==e&&0<=r.indexOf(y)||"removeClass"==e&&-1==r.indexOf(y)?(m(),d()):(n.addClass(l),n.data(f,{running:!0,event:e,className:t,structural:!x,animations:T,done:c}),p(T,"before",c)))}}function y(e){e=e[0],e.nodeType==a&&o(e.querySelectorAll("."+l),function(e){e=t.element(e);var n=e.data(f);n&&(b(n.animations),w(e))})}function b(e){o(e,function(t){e.beforeComplete||(t.beforeEnd||s)(!0),e.afterComplete||(t.afterEnd||s)(!0)})}function w(e){e[0]==i[0]?c.disabled||(c.running=!1,c.structural=!1):(e.removeClass(l),e.removeData(f))}function E(e,t){if(c.disabled)return!0;if(e[0]==i[0])return c.disabled||c.running;do{if(0===t.length)break;var n=t[0]==i[0],r=n?c:t.data(f),r=r&&(!!r.disabled||!!r.running);if(n||r)return r;if(n)break}while(t=t.parent());return!0}return i.data(f,c),p.$$postDigest(function(){c.running=!1}),{enter:function(t,n,r,i){this.enabled(!1,t),e.enter(t,n,r),p.$$postDigest(function(){g("enter","ng-enter",t,n,r,s,i)})},leave:function(t,n){y(t),this.enabled(!1,t),p.$$postDigest(function(){g("leave","ng-leave",t,null,null,function(){e.leave(t)},n)})},move:function(t,n,r,i){y(t),this.enabled(!1,t),e.move(t,n,r),p.$$postDigest(function(){g("move","ng-move",t,n,r,s,i)})},addClass:function(t,n,r){g("addClass",n,t,null,null,function(){e.addClass(t,n)},r)},removeClass:function(t,n,r){g("removeClass",n,t,null,null,function(){e.removeClass(t,n)},r)},enabled:function(e,t){switch(arguments.length){case 2:if(e)w(t);else{var n=t.data(f)||{};n.disabled=!0,t.data(f,n)}break;case 1:c.disabled=!e;break;default:e=!c.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout",function(r,i,u){function f(e){U.push(e),u.cancel(z),z=u(function(){o(U,function(e){e()}),U=[],z=null,I={}},10,!1)}function l(e,t){var n=t?I[t]:null;if(!n){var i=0,s=0,u=0,f=0,l,h,p,d;o(e,function(e){if(e.nodeType==a){e=r.getComputedStyle(e)||{},p=e[x+A],i=Math.max(c(p),i),d=e[x+O],l=e[x+M],s=Math.max(c(l),s),h=e[C+M],f=Math.max(c(h),f);var t=c(e[C+A]);0<t&&(t*=parseInt(e[C+_],10)||1),u=Math.max(t,u)}}),n={total:0,transitionPropertyStyle:d,transitionDurationStyle:p,transitionDelayStyle:l,transitionDelay:s,transitionDuration:i,animationDelayStyle:h,animationDelay:f,animationDuration:u},t&&(I[t]=n)}return n}function c(e){var n=0;return e=t.isString(e)?e.split(/\s*,\s*/):[],o(e,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function h(e){var t=e.parent(),n=t.data(P);return n||(t.data(P,++R),n=R),n+"-"+e[0].className}function p(e,t){var n=h(e),r=n+" "+t,i={},s=I[r]?++I[r].total:0;if(0<s){var u=t+"-stagger",i=n+" "+u;(n=!I[i])&&e.addClass(u),i=l(e,i),n&&e.removeClass(u)}e.addClass(t),r=l(e,r),u=Math.max(r.transitionDuration,r.animationDuration);if(0===u)return e.removeClass(t),!1;var a="";return 0<r.transitionDuration?(e.addClass(j),a+=F+" ",e[0].style[x+O]="none"):e[0].style[C]="none 0s",o(t.split(" "),function(e,t){a+=(0<t?" ":"")+e+"-active"}),e.data(H,{className:t,activeClassName:a,maxDuration:u,classes:t+" "+a,timings:r,stagger:i,ii:s}),!0}function d(e){e=e[0];var t=x+O;e.style[t]&&0<e.style[t].length&&(e.style[t]="")}function v(e,t,n){function r(e){e.stopPropagation(),e=e.originalEvent||e;var t=e.$manualTimeStamp||e.timeStamp||Date.now();Math.max(t-h,0)>=c&&e.elapsedTime>=f&&n()}var s=e.data(H);if(e.hasClass(t)&&s){var o=e[0],u=s.timings,a=s.stagger,f=s.maxDuration,l=s.activeClassName,c=1e3*Math.max(u.transitionDelay,u.animationDelay),h=Date.now(),p=L+" "+N,d=s.ii,v,s="",g=[];if(0<u.transitionDuration){var y=u.transitionPropertyStyle;-1==y.indexOf("all")&&(v=!0,s+=S+"transition-property: "+y+", "+(i.msie?"-ms-zoom":"border-spacing")+"; ",s+=S+"transition-duration: "+u.transitionDurationStyle+", "+u.transitionDuration+"s; ",g.push(S+"transition-property"),g.push(S+"transition-duration"))}else e[0].style[C]="";return 0<d&&(0<a.transitionDelay&&0===a.transitionDuration&&(y=u.transitionDelayStyle,v&&(y+=", "+u.transitionDelay+"s"),s+=S+"transition-delay: "+m(y,a.transitionDelay,d)+"; ",g.push(S+"transition-delay")),0<a.animationDelay&&0===a.animationDuration&&(s+=S+"animation-delay: "+m(u.animationDelayStyle,a.animationDelay,d)+"; ",g.push(S+"animation-delay"))),0<g.length&&(u=o.getAttribute("style")||"",o.setAttribute("style",u+" "+s)),e.on(p,r),e.addClass(l),function(n){e.off(p,r),e.removeClass(l),w(e,t);for(var i in g)o.style.removeProperty(g[i])}}n()}function m(e,t,n){var r="";return o(e.split(","),function(e,i){r+=(0<i?",":"")+(n*t+parseInt(e,10))+"s"}),r}function g(e,t){if(p(e,t))return function(n){n&&w(e,t)}}function y(e,t,n){if(e.data(H))return v(e,t,n);w(e,t),n()}function b(e,t,n){var r=g(e,t);if(r){var i=r;return f(function(){d(e),i=y(e,t,n)}),function(e){(i||s)(e)}}n()}function w(e,t){e.removeClass(t),e.removeClass(j),e.removeData(H)}function E(e,n){var r="";return e=t.isArray(e)?e:e.split(/\s+/),o(e,function(e,t){e&&0<e.length&&(r+=(0<t?" ":"")+e+n)}),r}var S="",x,N,C,L;e.ontransitionend===n&&e.onwebkittransitionend!==n?(S="-webkit-",x="WebkitTransition",N="webkitTransitionEnd transitionend"):(x="transition",N="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(S="-webkit-",C="WebkitAnimation",L="webkitAnimationEnd animationend"):(C="animation",L="animationend");var A="Duration",O="Property",M="Delay",_="IterationCount",P="$$ngAnimateKey",H="$$ngAnimateCSS3Data",j="ng-animate-start",F="ng-animate-active",I={},R=0,U=[],z;return{allowCancel:function(e,n,r){var i=(e.data(H)||{}).classes;if(!i||0<=["enter","leave","move"].indexOf(n))return!0;var s=e.parent(),u=t.element(e[0].cloneNode());return u.attr("style","position:absolute; top:-9999px; left:-9999px"),u.removeAttr("id"),u.html(""),o(i.split(" "),function(e){u.removeClass(e)}),u.addClass(E(r,"addClass"==n?"-add":"-remove")),s.append(u),e=l(u),u.remove(),0<Math.max(e.transitionDuration,e.animationDuration)},enter:function(e,t){return b(e,"ng-enter",t)},leave:function(e,t){return b(e,"ng-leave",t)},move:function(e,t){return b(e,"ng-move",t)},beforeAddClass:function(e,t,n){if(t=g(e,E(t,"-add")))return f(function(){d(e),n()}),t;n()},addClass:function(e,t,n){return y(e,E(t,"-add"),n)},beforeRemoveClass:function(e,t,n){if(t=g(e,E(t,"-remove")))return f(function(){d(e),n()}),t;n()},removeClass:function(e,t,n){return y(e,E(t,"-remove"),n)}}}])}])}(window,window.angular),define("angular-animate",["angular"],function(){}),angular.module("angular-growl",[]),angular.module("angular-growl").directive("growl",["$rootScope",function(e){"use strict";return{restrict:"A",template:'<div class="growl">	<div class="growl-item alert" ng-repeat="message in messages" ng-class="computeClasses(message)">		<button type="button" class="close" ng-click="deleteMessage(message)">&times;</button>       <div ng-switch="message.enableHtml">           <div ng-switch-when="true" ng-bind-html="message.text"></div>           <div ng-switch-default ng-bind="message.text"></div>       </div>	</div></div>',replace:!1,scope:!0,controller:["$scope","$timeout","growl",function(t,n,r){function i(e){t.messages.push(e),e.ttl&&-1!==e.ttl&&n(function(){t.deleteMessage(e)},e.ttl)}var s=r.onlyUnique();t.messages=[],e.$on("growlMessage",function(e,n){var r;s?(angular.forEach(t.messages,function(e){n.text===e.text&&n.severity===e.severity&&(r=!0)}),r||i(n)):i(n)}),t.deleteMessage=function(e){var n=t.messages.indexOf(e);n>-1&&t.messages.splice(n,1)},t.computeClasses=function(e){return{"alert-success":"success"===e.severity,"alert-error":"error"===e.severity,"alert-danger":"error"===e.severity,"alert-info":"info"===e.severity,"alert-warning":"warn"===e.severity}}}]}}]),angular.module("angular-growl").provider("growl",function(){"use strict";var e=null,t=!1,n="messages",r="text",i="severity",s=!0;this.globalTimeToLive=function(t){e=t},this.globalEnableHtml=function(e){t=e},this.messagesKey=function(e){n=e},this.messageTextKey=function(e){r=e},this.messageSeverityKey=function(e){i=e},this.onlyUniqueMessages=function(e){s=e},this.serverMessagesInterceptor=["$q","growl",function(e,t){function r(e){e.data[n]&&e.data[n].length>0&&t.addServerMessages(e.data[n])}function i(e){return r(e),e}function s(t){return r(t),e.reject(t)}return function(e){return e.then(i,s)}}],this.$get=["$rootScope","$filter",function(n,o){function u(e){y&&(e.text=y(e.text)),n.$broadcast("growlMessage",e)}function l(n,r,i){var s,o=r||{};s={text:n,severity:i,ttl:o.ttl||e,enableHtml:o.enableHtml||t},u(s)}function c(e,t){l(e,t,"warn")}function h(e,t){l(e,t,"error")}function p(e,t){l(e,t,"info")}function v(e,t){l(e,t,"success")}function m(e){var t,n,s,o;for(o=e.length,t=0;o>t;t++)if(n=e[t],n[r]&&n[i]){switch(n[i]){case"warn":s="warn";break;case"success":s="success";break;case"info":s="info";break;case"error":s="error"}l(n[r],void 0,s)}}function g(){return s}var y;try{y=o("translate")}catch(w){}return{addWarnMessage:c,addErrorMessage:h,addInfoMessage:p,addSuccessMessage:v,addServerMessages:m,onlyUnique:g}}]}),define("angular-growl",["angular-animate"],function(){}),define("common/services/aliyunHttpHandler",["angular","./services","../cons/aliyunCons","../services/i18nService","angular-growl","../services/topicService"],function(e,t,n,r){var i=r.getI18n("services.aliyunHttpHandler"),s={timeoutTipPrefix:i.i18n("msg.timeoutTip.partOne"),timeoutTipSufix:i.i18n("msg.timeoutTip.partTwo"),error:i.i18n("msg.response.error")},o=n.RESPONSE_CODE,u=n.SHOW_RESPONSE_ERROR_MESSAGE,a=n.ALIYUN_CONSOLE_SESSION_TIMEOUT;t.constant("aliyunConsoleConf",{linkHandler:function(e){return e},httpOptionInterceptor:function(e){return e},httpOptionWrapper:function(e){return e},httpResponseInterceptor:function(e){return e},httpErrorResponseInterceptor:function(e){},responseSuccessCode:o.SUCCESS,enableSessionTimeout:!0,sessionTimeoutCode:o.SESSION_TIMEOUT,sessionTimeoutLink:"",sessionTimeoutNeedCallbackFunc:!0,labels:{SESSION_TIMEOUT1:s.timeoutTipPrefix,SESSION_TIMEOUT2:s.timeoutTipSufix,RESPONSE_ERROR:s.error}}).provider("aliyunConsoleSetting",["aliyunConsoleConf",function(t){var n=t;return{setProviderOptions:function(t){e.extend(n,t)},setGlobalLabels:function(e){n&&(n.labels=e)},$get:function(){return n}}}]).config(["$httpProvider",function(e){e.interceptors.push("aliyunConsoleHttpInterceptor")}]).config(["growlProvider","$compileProvider","$tooltipProvider",function(e,t,n){e.onlyUniqueMessages(!0),e.globalTimeToLive(2e3),e.globalEnableHtml(!0),t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|javascript):/),n.options({animation:!1})}]).factory("aliyun.console.request",["aliyun.console.requestWrapper","growl","$q","aliyunCommonTopicService","aliyunConsoleSetting",function(e,t,n,r,i){function s(s,a){a=a||{};var s=i.linkHandler(s);if(a&&a.method){var f=a.method.toUpperCase();f=="POST"&&(a.data==undefined&&(a.data={}),i.httpOptionInterceptor(a))}else a.method="GET";return a&&a.submitMessage&&t.addSuccessMessage(a.submitMessage),i.httpOptionWrapper(a),e.sendRequestWithUrl(s,a).then(function(e){var n=e.data,r=e.config;return r&&n&&n.code==o.SUCCESS&&r.successMessage!=undefined&&t.addSuccessMessage(r.successMessage),e},function(e){return a&&a.ignoreErrorHandler&&a.ignoreErrorHandler==1?n.reject(e):(console.log(e),e.status!==o.HTTP_SUCCESS&&r.publish(u,i.labels.RESPONSE_ERROR),n.reject(e))})}return{request:s}}]).factory("aliyunConsoleHttpInterceptor",["$q","$rootScope","aliyunConsoleSetting","$injector",function(e,t,n,r){return{response:function(i){var s=i.data;return n.enableSessionTimeout&&s.code==n.sessionTimeoutCode?(t.$emit(a,i),e.reject(i)):typeof n.httpResponseInterceptor=="function"&&n.httpResponseInterceptor(i,r)===!1?e.reject(i):i||e.when(i)},responseError:function(t){return typeof n.httpErrorResponseInterceptor=="function"&&n.httpErrorResponseInterceptor(t,r),e.reject(t)}}}]).run(["$rootScope","aliyunCommonTopicService","aliyunConsoleSetting",function(e,t,n){var r=n.labels;e.gConfig==undefined&&(e.gConfig={sessionTimeout:!1}),e.$on(a,function(i,s){var o;n.sessionTimeoutNeedCallbackFunc?o=n.sessionTimeoutLink+"?oauth_callback="+encodeURIComponent(location.href):o=n.sessionTimeoutLink+encodeURIComponent(location.href);var a=r.SESSION_TIMEOUT1+"<a href="+o+">"+r.SESSION_TIMEOUT2+"</a>。";e.gConfig.sessionTimeout==0&&(e.gConfig.sessionTimeout=!0,setTimeout(function(){var e=t.publish(u,a,!0);e.then(function(e){window.location=o})},0))})}])}),define("common/modelSystem/tasks/messageTask",["angular","../modelSystemModule","../../helper/responsePreHandler","../../services/aliyunHttpHandler"],function(e,t,n){t.factory("moduleMessageTask",["$injector","$q","modelSystem.scriptLoader","aliyun.console.request",function(t,r,i,s){var o=s.request,u=function(t){window.$global&&window.$global.translations&&window.$global.translations("zh",e.extend(window.ALIYUN_CONSOLE_MESSAGE,t))},a=function(e,t){return i.load([e],function(e){u(e),t.resolve(!0)}),t.promise},f=function(r,i){var s={method:"GET"};return o(r,s).then(function(r){var s=n.responsePreHandler(r,t);s&&e.isFunction(s.then)==0?(u(s),i.resolve(!0)):i.reject(s)},function(e){i.reject(e)}),i.promise},l={excute:function(e){if(!e){console.log("任务缺少相应的参数");return}var t=r.defer();if(!e.url){var n=e.global.LANG,i=e.module,s="";i.url&&(s=i.url.replace(/\.js$/,""));var o=n&&n!="zh"?s+"/nls/messageModule"+"_"+n:s+"/nls/messageModule";return/^(http:|https:)*\/\//.test(o)&&(o+=".js"),a(o,t)}return e.type=="ajax"?f(e.url,t):a(e.url,t)}};return l.excute}])}),define("common/modelSystem/tasks/loadTask",["angular","../modelSystemModule","../../helper/responsePreHandler","../../services/aliyunHttpHandler"],function(e,t,n){t.factory("moduleLoadTask",["$injector","$q","modelSystem.scriptLoader","aliyun.console.request",function(t,r,i,s){var o=s.request,u=function(e,t,n){var r=e.task,i=r.keyName,s=r.globalVarName,o;if(!s)return;o=window[s],o||(o=window[s]={});var u=n.toUpperCase();i?(!o[u]&&(o[u]={}),!o[u][i]&&(o[u][i]=t)):o[u]||(o[u]=t)},a=function(e,t,n){return i.load([e.url],function(r){u(e,r,n),t.resolve(!0)}),t.promise},f=function(r,i,s){var a=r.task,f={method:"GET"};return o(a.url,f).then(function(o){var a=n.responsePreHandler(o,t);a&&e.isFunction(a.then)==0?(u(r,a,s),i.resolve(!0)):i.reject(a)},function(e){i.reject(e)}),i.promise},l={excute:function(e,t){if(!e){console.log("任务缺少相应的参数");return}var n=e.task,i=r.defer();if(n.url){if(n.type=="ajax")return f(e,i,t);a(e,i,t)}}};return l.excute}])}),define("common/modelSystem/tasks/taskHandler",["angular","../modelSystemModule","./messageTask","./loadTask"],function(e,t){t.provider("modelSystem.taskProvider",[function(){var e={},t={setTask:function(t,n){e[t]=n},getTask:function(t){return e[t]},removeTask:function(t){delete e[t]}};return{$get:function(){return t}}}]).factory("moduleTaskHandler",["modelSystem.taskProvider","moduleMessageTask","moduleLoadTask",function(e,t,n){var r=function(){e.setTask("sys_message",t),e.setTask("sys_load",n)};r();var i=function(t,n,r){var i=[],s=t[r];if(s.depTasks&&s.depTasks instanceof Array)for(var o=0;o<s.depTasks.length;o++){var u=s.depTasks[o],a=e.getTask(u.name);if(a instanceof Function){var f=a({task:u,module:s,global:n},r);f&&i.push(f)}}return i};return i}])}),define("common/modelSystem/dynamicResourceLoadService",["angular","./modelSystemModule","../helper/responsePreHandler","../services/aliyunHttpHandler","./tasks/taskHandler"],function(e,t,n){t.provider("modelSystem.dynamicLoadServiceProvider",[function(){var t={env:"PRODUCT",urls:[]},n={setDynamicResourceUrl:function(e){t.urls=e},getDynamicResourceUrl:function(){return e.copy(t.urls)},setRuntimeEnvironment:function(e){t.env=e},getRuntimeEnvironment:function(){return t.env}};return{$get:function(){return n}}}]).factory("modelSystem.dynamicResourceLoadService",["$injector","$q","$controller","aliyun.console.request","modelSystem.dynamicLoadServiceProvider","modelSystem.scriptLoader","moduleTaskHandler",function(t,n,r,i,s,o,u){function a(){}function p(t){var n=[];if(e.isArray(t))for(var r=0,i="";i=t[r];r++)i+="?_preventCache="+(new Date).getTime(),n.push(i);return n}function d(e,t,n){clearTimeout(f);try{r(n,{}),e.resolve(t)}catch(i){l++<20?(i.message.match(c)||[]).length>0?f=setTimeout(function(){d(e,t,n)},50):e.resolve(t):e.resolve(t)}}function v(e){if(e){var t=e.controller;if(!t){var n=e.views;for(var r in n)if(n.hasOwnProperty(r)){t=n[r].controller;break}}return t}}var f=0,l=0,c=/\[ng:areq\]\s*Argument\s*\'.*\'\s*is\s*not\s*a\s*function, got\s*undefined/g,h=i.request;a.prototype={constructor:a,init:function(e,t){this.modules=e,this.globalConfig=t},isLoaded:function(e){var t=this.modules[e];return t?t.loaded:!0},loadResource:function(t,r){var i=this,a=v(r),f=this.modules[t];if(f.loading)return f.deferred.promise;if(f.loaded)return!0;f.deferred=n.defer(),f.loading=!0,f.loaded=!1;var l=e.isArray(f.url)?f.url:[f.url];s.getRuntimeEnvironment()==="TEST"&&(l=p(l));var c=u(i.modules,i.globalConfig,t);return n.all(c).then(function(t){o.load(l,function(t){f.loaded=!0,f.loading=!1,e.isString(a)?d(f.deferred,t,a):setTimeout(function(){f.deferred.resolve(t)},200)},function(e){f.deferred.reject(e)})}),f.deferred.promise}};var m=new a;return m}])}),define("common/modelSystem/contextService",["angular","./modelSystemModule","./modelSystemBaseController"],function(e,t,n){t.factory("modelSystemScopeContextService",["$injector","$rootScope",function(t,n){var r={};return{setContext:function(e,t,i){if(!i&&r[e])throw new Error(e+" has been registed, should not regist again.please check your code");if(!(t instanceof n.constructor))throw new Error("scopeContextService only can regist angular scope object, if you want to cache something else, please use $cacheProver or $rootScope or modelSystemCacheContextService");r[e]=t,t.$on("$destroy",function(){delete r[e]})},getContext:function(t){var n=r[t];return{get:function(t){if(e.isString(t)){var r=t.split("."),i="",s=n;do i=r.shift(),s=s[i];while(s&&r.length>0);return s!=null&&s!=undefined&&!e.isFunction(s)?e.copy(s):undefined}throw new Error('param "key" must be a string, other typeof value is not supported;')}}}}}]),t.factory("modelSystemCacheContextService",["$injector","$rootScope",function(t,n){var r={};return{setCacheContext:function(e,t,i){if(!i&&r[e])throw new Error(e+" has been registed, should not regist again.please check your code");if(typeof t!="object")throw new Error("cacheContextService only can regist object value");r[e]=t,t instanceof n.constructor&&t.$on("$destroy",function(){delete r[e]})},getCacheContext:function(t){var n=r[t];return{get:function(t){if(e.isString(t)){var r=t.split("."),i="",s=n;do i=r.shift(),s=s[i];while(s&&r.length>0);return s!=null&&s!=undefined&&!e.isFunction(s)?e.copy(s):undefined}throw new Error('param "key" must be a string, other typeof value is not supported;')}}}}}])}),define("common/modelSystem/directives/directives",["angular","../modelSystemBaseController"],function(e,t){var n=e.module("modelsystem.directives",[]);return n.controller=t.wrapController(n),n}),define("common/modelSystem/directives/compareValidator",["angular","./directives"],function(e,t){function n(e,t){if(e===undefined)return undefined;if(!t)return e;var n=e,r=[];t.indexOf(".")>0?r=t.split("."):r.push(t);for(var i=0,s="";s=r[i];i++){if(n[s]===undefined)return undefined;n=n[s]}return n}function r(t,n){function r(){}if(!e.isFunction(t))throw new Error("superClass should be a function!");if(!e.isFunction(n))throw new Error("subClass should be a function!");r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n}function i(e,t,n){this.operator=e,this.value=this.getValue(t),this.compareTo=this.getCompareTo(n)}function s(){var e={DATATYPES:{number:o,date:u}},t=e.DATATYPES,n="";for(var s in t)t.hasOwnProperty(s)&&(n=t[s],i.regist(s,n),r(i,n))}function o(){i.apply(this,Array.prototype.slice.call(arguments,0))}function u(){i.apply(this,Array.prototype.slice.call(arguments,0)),this.originVlaue=arguments[1],this.originCompareToValue=arguments[2]}i.regist=function(e,t){if(this[e])return!1;this[e]=t},i.get=function(e){return i[e]||i},i.prototype.getValue=function(e){return e},i.prototype.getCompareTo=function(e){return e},i.prototype.compare=function(e,t,n){var t=this.value,n=this.compareTo,r=!0;switch(e){case"eq":r=n==t;break;case"eqeqeq":r=n===t;break;case"lt":r=t<n;break;case"gt":r=t>n;break;case"le":r=t<=n;break;case"ge":r=t>=n}return r},i.prototype.valuesValidate=function(){return!0},s(),o.prototype.getValue=function(e){return e*1},o.prototype.getCompareTo=function(e){return e*1},o.prototype.valuesValidate=function(){return this.value===this.value&&this.compareTo===this.compareTo},u.prototype.getValue=function(t){return e.isString(t)?t=Date.parse(t):e.isDate(t)?t=t.getTime():t*=1,t},u.prototype.getCompareTo=function(t){return e.isString(t)?t=Date.parse(t):e.isDate(t)?t=t.getTime():t*=1,t},u.prototype.valuesValidate=function(){return this.value===this.value&&this.compareTo===this.compareTo},t.directive("compare",function(){return{require:"ngModel",link:function(e,t,n,r){function c(t,n){if(n)return r.$setValidity("compare",!0),t;r.$setValidity("compare",!0);if(t===undefined)return t;var i=e.$eval(u),s=new o(l,t,i);if(!s.valuesValidate())return t;var a=s.compare(l);return r.$setValidity("compare",a),t}var s=n.compareDataType||"number",o=i.get(s),u=n.compare,a=e,f=n.watchComparefield,l=n.compareOperation;f!==!1&&e.$watch(u,function(){var e=!0,t=r.$modelValue;c(t,e)}),r.$parsers.unshift(c)}}})}),define("common/modelSystem/modelSystemCore",["angular","./modelSystemModule","./scriptLoader","./modelDefineService","./modelFactory","./bizModelFactory","./dynamicStates","./commonBizController","./modelSystemBaseController","./directives/inlineCommand","./directives/itemCreator","./directives/itemGrid","./directives/loadItemGrid","./directives/simpleForm","./directives/toolbar","./directives/consoleUiView","./directives/bizComponent","./directives/componentLayout","./directives/msChart","./directives/msChartD3","./directives/dynamicDirective","./dynamicResourceLoadService","./contextService","./directives/directives","./directives/compareValidator"],function(e){}),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function l(){var e,o,u,a;for(e in s)f(i[e])&&r.cookies(e,n);for(e in i)o=i[e],t.isString(o)?o!==s[e]&&(r.cookies(e,o),a=!0):t.isDefined(s[e])?i[e]=s[e]:delete i[e];if(a){a=!1,u=r.cookies();for(e in i)i[e]!==u[e]&&(f(u[e])?delete i[e]:i[e]=u[e],a=!0)}}var i={},s={},o,u=!1,a=t.copy,f=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();o!=t&&(o=t,a(t,s),a(t,i),u&&e.$apply())})(),u=!0,e.$watch(l),i}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),define("angular-cookies",["angular"],function(){}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return O(new(O(function(){},{prototype:e})),t)}function i(e){return A(arguments,function(t){t!==e&&A(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var r in e.path)if(""!==e.path[r]){if(!t.path[r])break;n.push(e.path[r])}return n}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=s(n,r),a={},f=[];for(var l in u)if(u[l].params&&u[l].params.length){i=u[l].params;for(var c in i)o(f,i[c])>=0||(f.push(i[c]),a[i[c]]=e[i[c]])}return O({},a,t)}function a(e,t){var n={};return A(e,function(e){var r=t[e];n[e]=null!=r?String(r):null}),n}function f(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];if(e[s]!=t[s])return!1}return!0}function l(e,t){var n={};return A(e,function(e){n[e]=t[e]}),n}function c(e,t){var r=1,s=2,o={},u=[],a=o,f=O(e.when(o),{$$promises:o,$$values:o});this.study=function(o){function l(e,n){if(d[n]!==s){if(p.push(n),d[n]===r)throw p.splice(0,p.indexOf(n)),new Error("Cyclic dependency: "+p.join(" -> "));if(d[n]=r,C(e))h.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);A(i,function(e){e!==n&&o.hasOwnProperty(e)&&l(o[e],e)}),h.push(n,e,i)}p.pop(),d[n]=s}}function c(e){return k(e)&&e.then&&e.$$promises}if(!k(o))throw new Error("'invocables' must be an object");var h=[],p=[],d={};return A(o,l),o=p=d=null,function(r,s,o){function u(){--y||(b||i(g,s.$$values),v.$$values=g,v.$$promises=!0,d.resolve(g))}function l(e){v.$$failure=e,d.reject(e)}function p(n,i,s){function a(e){c.reject(e),l(e)}function f(){if(!T(v.$$failure))try{c.resolve(t.invoke(i,o,g)),c.promise.then(function(e){g[n]=e,u()},a)}catch(e){a(e)}}var c=e.defer(),h=0;A(s,function(e){m.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,m[e].then(function(t){g[e]=t,--h||f()},a))}),h||f(),m[n]=c.promise}if(c(r)&&o===n&&(o=s,s=r,r=null),r){if(!k(r))throw new Error("'locals' must be an object")}else r=a;if(s){if(!c(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=f;var d=e.defer(),v=d.promise,m=v.$$promises={},g=O({},r),y=1+h.length/3,b=!1;if(T(s.$$failure))return l(s.$$failure),v;s.$$values?(b=i(g,s.$$values),u()):(O(m,s.$$promises),s.then(u,l));for(var w=0,E=h.length;E>w;w+=3)r.hasOwnProperty(h[w])?u():p(h[w],h[w+1],h[w+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function h(e,t,n){this.fromConfig=function(e,t,n){return T(e.template)?this.fromString(e.template,t):T(e.templateUrl)?this.fromUrl(e.templateUrl,t):T(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return N(e)?e(t):e},this.fromUrl=function(n,r){return N(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function p(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(s[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");s[t]=!0,f.push(t)}function n(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var r,i=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,s={},o="^",u=0,a=this.segments=[],f=this.params=[];this.source=e;for(var l,c,h;(r=i.exec(e))&&(l=r[2]||r[3],c=r[4]||("*"==r[1]?".*":"[^/]*"),h=e.substring(u,r.index),!(h.indexOf("?")>=0));)o+=n(h)+"("+c+")",t(l),a.push(h),u=i.lastIndex;h=e.substring(u);var p=h.indexOf("?");if(p>=0){var d=this.sourceSearch=h.substring(p);h=h.substring(0,p),this.sourcePath=e.substring(0,u+p),A(d.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";o+=n(h)+"$",a.push(h),this.regexp=new RegExp(o),this.prefix=a[0]}function d(){this.compile=function(e){return new p(e)},this.isMatcher=function(e){return k(e)&&N(e.exec)&&N(e.format)&&N(e.concat)},this.$get=function(){return this}}function v(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function n(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return T(r)?r:!0}var i=[],s=null;this.rule=function(e){if(!N(e))throw new Error("'rule' must be a function");return i.push(e),this},this.otherwise=function(e){if(C(e)){var t=e;e=function(){return t}}else if(!N(e))throw new Error("'rule' must be a function");return s=e,this},this.when=function(i,s){var o,u=C(s);if(C(i)&&(i=e.compile(i)),!u&&!N(s)&&!L(s))throw new Error("invalid 'handler' in when()");var a={matcher:function(t,n){return u&&(o=e.compile(n),n=["$match",function(e){return o.format(e)}]),O(function(e,i){return r(e,n,t.exec(i.path(),i.search()))},{prefix:C(t.prefix)?t.prefix:""})},regex:function(e,i){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(o=i,i=["$match",function(e){return n(o,e)}]),O(function(t,n){return r(t,i,e.exec(n.path()))},{prefix:t(e)})}},f={matcher:e.isMatcher(i),regex:i instanceof RegExp};for(var l in f)if(f[l])return this.rule(a[l](i,s));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,n){function r(t){function r(t){var r=t(n,e);return r?(C(r)&&e.replace().url(r),!0):!1}if(!t||!t.defaultPrevented){var o,u=i.length;for(o=0;u>o;o++)if(r(i[o]))return;s&&r(s)}}return t.$on("$locationChangeSuccess",r),{sync:function(){r()}}}]}function m(e,i,s){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function c(e,t){var r=C(e),i=r?e:e.name,s=o(i);if(s){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var u=i.split("."),a=0,f=u.length,l=t;f>a;a++)if(""!==u[a]||0!==a){if("^"!==u[a])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;u=u.slice(a).join("."),i=l.name+(l.name&&u?".":"")+u}var c=w[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function h(e,t){E[e]||(E[e]=[]),E[e].push(t)}function p(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!C(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):C(t.parent)?t.parent:"";if(i&&!w[i])return h(i,t.self);for(var s in x)N(x[s])&&(t[s]=x[s](t,x.$delegates[s]));if(w[n]=t,!t[S]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){b.$current.navigable==t&&f(e,n)||b.transitionTo(t,e,{location:!1})}]),E[n])for(var o=0;o<E[n].length;o++)p(E[n][o]);return t}function d(e,t){return C(e)&&!T(t)?x[e]:N(t)&&C(e)?(x[e]&&!x.$delegates[e]&&(x.$delegates[e]=x[e]),x[e]=t,this):this}function v(e,t){return k(e)?t=e:t.name=e,p(t),this}function m(e,i,o,h,p,d,v){function m(){v.url()!==P&&(v.url(P),v.replace())}function E(e,n,r,s,u){var a=r?n:l(e.params,n),f={$stateParams:a};u.resolve=p.resolve(e.resolve,f,u.resolve,e);var c=[u.resolve.then(function(e){u.globals=e})];return s&&c.push(s),A(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:f,params:a,notify:!1})||""}],c.push(p.resolve(i,f,u.resolve,e).then(function(s){if(N(n.controllerProvider)||L(n.controllerProvider)){var o=t.extend({},i,f);s.$$controller=h.invoke(n.controllerProvider,null,o)}else s.$$controller=n.controller;s.$$state=e,u[r]=s}))}),i.all(c).then(function(){return u})}var x=i.reject(new Error("transition superseded")),C=i.reject(new Error("transition prevented")),k=i.reject(new Error("transition aborted")),_=i.reject(new Error("transition failed")),P=v.url();return y.locals={resolve:null,globals:{$stateParams:{}}},b={params:{},current:y.self,$current:y,transition:null},b.reload=function(){b.transitionTo(b.current,d,{reload:!0,inherit:!1,notify:!1})},b.go=function(e,t,n){return this.transitionTo(e,t,O({inherit:!0,relative:b.$current},n))},b.transitionTo=function(t,n,s){n=n||{},s=O({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,l=b.$current,p=b.params,w=l.path,N=c(t,s.relative);if(!T(N)){var L={to:t,toParams:n,options:s};if(o=e.$broadcast("$stateNotFound",L,l.self,p),o.defaultPrevented)return m(),k;if(o.retry){if(s.$retry)return m(),_;var A=b.transition=i.when(o.retry);return A.then(function(){return A!==b.transition?x:(L.options.$retry=!0,b.transitionTo(L.to,L.toParams,L.options))},function(){return k}),m(),A}if(t=L.to,n=L.toParams,s=L.options,N=c(t,s.relative),!T(N))throw s.relative?new Error("Could not resolve '"+t+"' from state '"+s.relative+"'"):new Error("No such state '"+t+"'")}if(N[S])throw new Error("Cannot transition to abstract state '"+t+"'");s.inherit&&(n=u(d,n||{},b.$current,N)),t=N;var D,I,R=t.path,U=y.locals,z=[];for(D=0,I=R[D];I&&I===w[D]&&f(n,p,I.ownParams)&&!s.reload;D++,I=R[D])U=z[D]=I.locals;if(g(t,l,U,s))return t.self.reloadOnSearch!==!1&&m(),b.transition=null,i.when(b.current);if(n=a(t.params,n||{}),s.notify&&(o=e.$broadcast("$stateChangeStart",t.self,n,l.self,p),o.defaultPrevented))return m(),C;for(var W=i.when(U),X=D;X<R.length;X++,I=R[X])U=z[X]=r(U),W=E(I,n,I===t,W,U);var V=b.transition=W.then(function(){var r,i,o;if(b.transition!==V)return x;for(r=w.length-1;r>=D;r--)o=w[r],o.self.onExit&&h.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=D;r<R.length;r++)i=R[r],i.locals=z[r],i.self.onEnter&&h.invoke(i.self.onEnter,i.self,i.locals.globals);if(b.transition!==V)return x;b.$current=t,b.current=t.self,b.params=n,M(b.params,d),b.transition=null;var u=t.navigable;return s.location&&u&&(v.url(u.url.format(u.locals.globals.$stateParams)),"replace"===s.location&&v.replace()),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,p),P=v.url(),b.current},function(r){return b.transition!==V?x:(b.transition=null,e.$broadcast("$stateChangeError",t.self,n,l.self,p,r),m(),i.reject(r))});return V},b.is=function(e,r){var i=c(e);return T(i)?b.$current!==i?!1:T(r)?t.equals(d,r):!0:n},b.includes=function(e,r){var i=c(e);if(!T(i))return n;if(!T(b.$current.includes[i.name]))return!1;var s=!0;return t.forEach(r,function(e,t){T(d[t])&&d[t]===e||(s=!1)}),s},b.href=function(e,t,n){n=O({lossy:!0,inherit:!1,absolute:!1,relative:b.$current},n||{});var r=c(e,n.relative);if(!T(r))return null;t=u(d,t||{},b.$current,r);var i=r&&n.lossy?r.navigable:r,o=i&&i.url?i.url.format(a(r.params,t||{})):null;return!s.html5Mode()&&o&&(o="#"+s.hashPrefix()+o),n.absolute&&o&&(o=v.protocol()+"://"+v.host()+(80==v.port()||443==v.port()?"":":"+v.port())+(!s.html5Mode()&&o?"/":"")+o),o},b.get=function(e,t){if(!T(e)){var n=[];return A(w,function(e){n.push(e.self)}),n}var r=c(e,t);return r&&r.self?r.self:null},b}function g(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var y,b,w={},E={},S="abstract",x={parent:function(e){if(T(e.parent)&&e.parent)return c(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?c(t[1]):y},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=O({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url;if(C(t))return"^"==t.charAt(0)?i.compile(t.substring(1)):(e.parent.navigable||y).url.concat(t);if(i.isMatcher(t)||null==t)return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!L(e.params))throw new Error("Invalid params in state '"+e+"'");if(e.url)throw new Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return A(T(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};A(e.params,function(e){t[e]=!0}),A(e.parent.params,function(n){if(!t[n])throw new Error("Missing required parameter '"+n+"' in state '"+e.name+"'");t[n]=!1});var n=[];return A(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?O({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};y=p({name:"",url:"^",views:null,"abstract":!0}),y.navigable=null,this.decorator=d,this.state=v,this.$get=m,m.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function g(){function e(e,t){return{load:function(n,r){var i,s={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=O(s,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function y(e,n,r,i,s){var o=i.has("$animator")?i.get("$animator"):!1,u=!1,a={restrict:"ECA",terminal:!0,priority:1e3,transclude:!0,compile:function(i,f,l){return function(i,f,c){function h(t){var o=e.$current&&e.$current.locals[v];if(o!==d){var u=b(g&&t);if(u.remove(f),p&&(p.$destroy(),p=null),!o)return d=null,E.state=null,u.restore(y,f);d=o,E.state=o.$$state;var a=n(u.populate(o.$template,f));if(p=i.$new(),o.$$controller){o.$scope=p;var l=r(o.$$controller,o);f.children().data("$ngControllerController",l)}a(p),p.$emit("$viewContentLoaded"),m&&p.$eval(m),s()}}var p,d,v=c[a.name]||c.name||"",m=c.onload||"",g=o&&o(i,c),y=l(i),b=function(e){return{"true":{remove:function(e){g.leave(e.contents(),e)},restore:function(e,t){g.enter(e,t)},populate:function(e,n){var r=t.element("<div></div>").html(e).contents();return g.enter(r,n),r}},"false":{remove:function(e){e.html("")},restore:function(e,t){t.append(e)},populate:function(e,t){return t.html(e),t.contents()}}}[e.toString()]};f.append(y);var w=f.parent().inheritedData("$uiView");v.indexOf("@")<0&&(v=v+"@"+(w?w.state.name:""));var E={name:v,state:null};f.data("$uiView",E);var S=function(){if(!u){u=!0;try{h(!0)}catch(e){throw u=!1,e}u=!1}};i.$on("$stateChangeSuccess",S),i.$on("$viewContentLoading",S),h(!1)}}};return a}function b(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function w(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function E(e,t){return{restrict:"A",require:"?^uiSrefActive",link:function(n,r,i,s){var o=b(i.uiSref),u=null,a=w(r)||e.$current,f="FORM"===r[0].nodeName,l=f?"action":"href",c=!0,h=function(t){if(t&&(u=t),c){var n=e.href(o.state,u,{relative:a});if(!n)return c=!1,!1;r[0][l]=n,s&&s.$$setStateInfo(o.state,u)}};o.paramExpr&&(n.$watch(o.paramExpr,function(e){e!==u&&h(e)},!0),u=n.$eval(o.paramExpr)),h(),f||r.bind("click",function(r){var i=r.which||r.button;0!==i&&1!=i||r.ctrlKey||r.metaKey||r.shiftKey||(t(function(){n.$apply(function(){e.go(o.state,u,{relative:a})})}),r.preventDefault())})}}}function S(e,t,n){return{restrict:"A",controller:function(r,i,s){function o(){e.$current.self===a&&u()?i.addClass(c):i.removeClass(c)}function u(){return!l||f(l,t)}var a,l,c;c=n(s.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){a=e.get(t,w(i)),l=n,o()},r.$on("$stateChangeSuccess",o)}}}function x(e,t){function i(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function s(){this.locals=null,this.params=null}function o(n,o){if(null!=o.redirectTo){var u,f=o.redirectTo;if(C(f))u=f;else{if(!N(f))throw new Error("Invalid 'redirectTo' in when()");u=function(e,t){return f(e,t.path(),t.search())}}t.when(n,u)}else e.state(r(o,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:i,onExit:s}));return a.push(o),this}function u(e,t,r){function i(e){return""!==e.name?e:n}var s={routes:a,params:r,current:n};return t.$on("$stateChangeStart",function(e,n,r,s){t.$broadcast("$routeChangeStart",i(n),i(s))}),t.$on("$stateChangeSuccess",function(e,n,r,o){s.current=i(n),t.$broadcast("$routeChangeSuccess",i(n),i(o)),M(r,s.params)}),t.$on("$stateChangeError",function(e,n,r,s,o,u){t.$broadcast("$routeChangeError",i(n),i(s),u)}),s}var a=[];i.$inject=["$$state"],this.when=o,this.$get=u,u.$inject=["$state","$rootScope","$routeParams"]}var T=t.isDefined,N=t.isFunction,C=t.isString,k=t.isObject,L=t.isArray,A=t.forEach,O=t.extend,M=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),c.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",c),h.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",h),p.prototype.concat=function(e){return new p(this.sourcePath+e+this.sourceSearch)},p.prototype.toString=function(){return this.source},p.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;var r,i=this.params,s=i.length,o=this.segments.length-1,u={};if(o!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;o>r;r++)u[i[r]]=n[r+1];for(;s>r;r++)u[i[r]]=t[i[r]];return u},p.prototype.parameters=function(){return this.params},p.prototype.format=function(e){var t=this.segments,n=this.params;if(!e)return t.join("");var r,i,s,o=t.length-1,u=n.length,a=t[0];for(r=0;o>r;r++)s=e[n[r]],null!=s&&(a+=encodeURIComponent(s)),a+=t[r+1];for(;u>r;r++)s=e[n[r]],null!=s&&(a+=(i?"&":"?")+n[r]+"="+encodeURIComponent(s),i=!0);return a},t.module("ui.router.util").provider("$urlMatcherFactory",d),v.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",v),m.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",m),g.$inject=[],t.module("ui.router.state").provider("$view",g),y.$inject=["$state","$compile","$controller","$injector","$anchorScroll"],t.module("ui.router.state").directive("uiView",y),E.$inject=["$state","$timeout"],S.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",E).directive("uiSrefActive",S),x.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",x).directive("ngView",y)}(window,window.angular),define("ui.router",["angular"],function(){}),angular.module("aliyun.console.bootstrap.tpl",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/accordion/accordion-group.html",'<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></h4></div><div class="panel-collapse" collapse="!isOpen"><div class="panel-body" ng-transclude></div></div></div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/alert/alert.html",'<div class="alert" ng-class="&quot;alert-&quot; + (type || &quot;warning&quot;)"><button ng-show="closeable" type="button" class="close" ng-click="close()">&times;</button><div ng-transclude></div></div>')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel"><ol class="carousel-indicators" ng-show="slides().length > 1"><li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li></ol><div class="carousel-inner" ng-transclude></div><a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a> <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a></div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/datepicker/datepicker.html",'<div class="console-datepicker"><table><thead><tr><th><button aria-live="polite" type="button" class="btn btn-link btn-sm pull-left" aria-label="prev {{title}}" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th><th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" aria-haspopup="true" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th><th><button aria-live="polite" type="button" class="btn btn-link btn-sm pull-right" aria-label="next {{title}}" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th></tr><tr ng-show="labels.length > 0" class="h6"><th ng-show="showWeekNumbers" class="text-center"><em>#</em></th><th ng-repeat="label in labels" class="text-center">{{label}}</th></tr></thead><tbody><tr ng-repeat="row in rows"><td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td><td ng-repeat="dt in row" class="text-center"><button type="button" style="width:100%" class="btn btn-default btn-sm" ng-class="{\'active\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button></td></tr></tbody></table></div>')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}"><li ng-transclude></li><li ng-show="showButtonBar" style="padding:4px 16px 8px"><!-- <span class="btn-group"> --><button type="button" class="btn btn-sm btn-default" ng-click="today()">{{currentText}}</button> <button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button> <button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button><!-- </span> --> <button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button></li></ul>')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)"><div class="modal-dialog"><div class="modal-content" ng-transclude></div></div></div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/pagination/pager.html",'<ul class="pager"><li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a href="javascript:void(0)" ng-click="selectPage(page.number)">{{page.text}}</a></li></ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/pagination/pagination.html",'<ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a href="javascript:void(0)" aria-label="{{page.title}}" ng-click="selectPage(page.number)">{{page.text}}</a></li></ul>')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div></div>')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/rating/rating.html",'<span ng-mouseleave="reset()"><i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i></span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}"><a ng-click="select()" tab-heading-transclude>{{heading}}</a></li>')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/tabs/tabset.html",'<div class="tabbable"><ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul><div class="tab-content"><div class="tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" tab-content-transclude="tab"></div></div></div>')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/timepicker/timepicker.html",'<div class="console-timepicker"><div class="console-number-spinner" ng-class="{\'has-error\': invalidHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-disabled="readonlyInput" maxlength="" size="4"><div class="console-number-spinner-action"><button ng-disabled="readonlyInput" aria-label="incrementHours" data-ng-click="incrementHours()" class="console-number-spinner-up"><span class="icon-up"></span></button> <button ng-disabled="readonlyInput" aria-label="decrementHours" data-ng-click="decrementHours()" class="console-number-spinner-down"><span class="icon-down"></span></button></div></div><strong>&nbsp;:&nbsp;</strong><div class="console-number-spinner" ng-class="{\'has-error\': invalidMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-disabled="readonlyInput" maxlength="2" size="4"><div class="console-number-spinner-action"><button ng-disabled="readonlyInput" aria-label="incrementMinutes" data-ng-click="incrementMinutes()" class="console-number-spinner-up"><span class="icon-up"></span></button> <button ng-disabled="readonlyInput" aria-label="decrementMinutes" data-ng-click="decrementMinutes()" class="console-number-spinner-down"><span class="icon-down"></span></button></div></div><span ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></span></div>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="tooltip-arrow"></div><div class="tooltip-inner" bind-html-unsafe="content"></div></div>')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="content"></div></div>')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){"use strict";e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}"><li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)"><div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div></li></ul>')}]),define("aliyun-console-bootstrap-tpl",["angular"],function(){}),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function u(e){for(var t in e)if(i.style[t]!==undefined)return e[t]}var r=function(i,s,o){o=o||{};var u=e.defer(),a=r[o.animation?"animationEndEventName":"transitionEndEventName"],f=function(e){n.$apply(function(){i.unbind(a,f),u.resolve(i)})};return a&&i.bind(a,f),t(function(){angular.isString(s)?i.addClass(s):angular.isFunction(s)?s(i):angular.isObject(s)&&i.css(s),a||u.resolve(i)}),u.promise.cancel=function(){a&&i.unbind(a,f),u.reject("Transition cancelled")},u.promise},i=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},o={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=u(s),r.animationEndEventName=u(o),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e,t){return{link:function(t,n,r){function o(t){function i(){s===r&&(s=undefined)}var r=e(n,t);return s&&s.cancel(),s=r,r.then(i,i),r}function u(){i?(i=!1,a()):(n.removeClass("collapse").addClass("collapsing"),o({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function f(){if(i)i=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});var e=n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),o({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var i=!0,s;t.$watch(r.collapse,function(e){e?f():u()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,r,i){var s,o;i.addGroup(t),t.isOpen=!1,r.isOpen&&(s=e(r.isOpen),o=s.assign,t.$parent.$watch(s,function(e){t.isOpen=!!e})),t.$watch("isOpen",function(e){e&&i.closeOthers(t),o&&o(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(t,r,i,s){s.setHeading(n(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(n){t.html(n||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){t.hasClass(i.activeClass)||e.$apply(function(){s.$setViewValue(e.$eval(n.btnRadio)),s.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function o(){return a(n.btnCheckboxTrue,!0)}function u(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,o()))},t.bind(i.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(i.activeClass)?u():o()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n,r){function l(){c();var n=+e.interval;!isNaN(n)&&n>=0&&(u=t(h,n))}function c(){u&&(t.cancel(u),u=null)}function h(){a?(e.next(),l()):e.pause()}var i=this,s=i.slides=[],o=-1,u,a;i.currentSlide=null;var f=!1;i.select=function(r,u){function c(){if(f)return;if(i.currentSlide&&angular.isString(u)&&!e.noTransition&&r.$element){r.$element.addClass(u);var t=r.$element[0].offsetWidth;angular.forEach(s,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(r,{direction:u,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:u,leaving:!0}),e.$currentTransition=n(r.$element,{}),function(t,n){e.$currentTransition.then(function(){h(t,n)},function(){h(t,n)})}(r,i.currentSlide)}else h(r,i.currentSlide);i.currentSlide=r,o=a,l()}function h(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var a=s.indexOf(r);u===undefined&&(u=a>o?"next":"prev"),r&&r!==i.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},e.$on("$destroy",function(){f=!0}),i.indexOfSlide=function(e){return s.indexOf(e)},e.next=function(){var t=(o+1)%s.length;if(!e.$currentTransition)return i.select(s[t],"next")},e.prev=function(){var t=o-1<0?s.length-1:o-1;if(!e.$currentTransition)return i.select(s[t],"prev")},e.select=function(e){i.select(e)},e.isActive=function(e){return i.currentSlide===e},e.slides=function(){return s},e.$watch("interval",l),e.$on("$destroy",c),e.play=function(){a||(a=!0,l())},e.pause=function(){e.noPause||(a=!1,c())},i.addSlide=function(t,n){t.$element=n,s.push(t),s.length===1||t.active?(i.select(s[s.length-1]),s.length==1&&e.play()):t.active=!1},i.removeSlide=function(e){var t=s.indexOf(e);s.splice(t,1),s.length>0&&e.active?t>=s.length?i.select(s[t-1]):i.select(s[t]):o>t&&o--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,r,i){if(r.active){var s=e(r.active),o=s.assign,u=t.active=s(t.$parent);t.$watch(function(){var n=s(t.$parent);return n!==t.active&&(n!==u?u=t.active=n:o(t.$parent,n=u=t.active)),n})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return(n(e,"position")||"static")==="static"}var i=function(t){var n=e[0],i=t.offsetParent||n;while(i&&i!==n&&r(i))i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},s=i(t[0]);s!=e[0]&&(r=this.offset(angular.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,r){function u(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function a(e,t){return(new Date(e,t,0)).getDate()}function f(e,t){var n=new Array(t),r=e,i=0;while(i<t)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function l(e,t,r,i){return{date:e,label:n(e,t),selected:!!r,secondary:!!i}}var i={day:u(t.dayFormat,r.dayFormat),month:u(t.monthFormat,r.monthFormat),year:u(t.yearFormat,r.yearFormat),dayHeader:u(t.dayHeaderFormat,r.dayHeaderFormat),dayTitle:u(t.dayTitleFormat,r.dayTitleFormat),monthTitle:u(t.monthTitleFormat,r.monthTitleFormat)},s=u(t.startingDay,r.startingDay),o=u(t.yearRange,r.yearRange);this.minDate=r.minDate?new Date(r.minDate):null,this.maxDate=r.maxDate?new Date(r.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var r=e.getFullYear(),o=e.getMonth(),u=new Date(r,o,1),c=s-u.getDay(),h=c>0?7-c:-c,p=new Date(u),d=0;h>0&&(p.setDate(-h+1),d+=h),d+=a(r,o+1),d+=(7-d%7)%7;var v=f(p,d),m=new Array(7);for(var g=0;g<d;g++){var y=new Date(v[g]);v[g]=l(y,i.day,t&&t.getDate()===y.getDate()&&t.getMonth()===y.getMonth()&&t.getFullYear()===y.getFullYear(),y.getMonth()!==o)}for(var b=0;b<7;b++)m[b]=n(v[b].date,i.dayHeader);return{objects:v,title:n(e,i.dayTitle),labels:m}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){var r=new Array(12),s=e.getFullYear();for(var o=0;o<12;o++){var u=new Date(s,o,1);r[o]=l(u,i.month,t&&t.getMonth()===o&&t.getFullYear()===s)}return{objects:r,title:n(e,i.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){var n=new Array(o),r=e.getFullYear(),s=parseInt((r-1)/o,10)*o+1;for(var u=0;u<o;u++){var a=new Date(s+u,0,1);n[u]=l(a,i.year,t&&t.getFullYear()===a.getFullYear())}return{objects:n,title:[n[0].label,n[o-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:o}}],this.isDisabled=function(t,n){var r=this.modes[n||0];return this.minDate&&r.compare(t,this.minDate)<0||this.maxDate&&r.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:r.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,r){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,i,s,o){function h(){e.showWeekNumbers=f===0&&c}function p(e,t){var n=[];while(e.length>0)n.push(e.splice(0,t));return n}function d(t){var n=null,i=!0;a.$modelValue&&(n=new Date(a.$modelValue),isNaN(n)?(i=!1,r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(l=n)),a.$setValidity("date",i);var s=u.modes[f],o=s.getVisibleDates(l,n);angular.forEach(o.objects,function(e){e.disabled=u.isDisabled(e.date,f)}),a.$setValidity("date-disabled",!n||!u.isDisabled(n)),e.rows=p(o.objects,s.split),e.labels=o.labels||[],e.title=o.title}function v(e){f=e,h(),d()}function m(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var u=o[0],a=o[1];if(!a)return;var f=0,l=new Date,c=n.showWeeks;s.showWeeks?e.$parent.$watch(t(s.showWeeks),function(e){c=!!e,h()}):h(),s.min&&e.$parent.$watch(t(s.min),function(e){u.minDate=e?new Date(e):null,d()}),s.max&&e.$parent.$watch(t(s.max),function(e){u.maxDate=e?new Date(e):null,d()}),a.$render=function(){d(!0)},e.select=function(e){if(f===0){var t=a.$modelValue?new Date(a.$modelValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.$setViewValue(t),d(!0)}else l=e,v(f-1)},e.move=function(e){var t=u.modes[f].step;l.setMonth(l.getMonth()+e*(t.months||0)),l.setFullYear(l.getFullYear()+e*(t.years||0)),d()},e.toggleMode=function(){v((f+1)%u.modes.length)},e.getWeekNumber=function(t){return f===0&&e.showWeekNumbers&&t.length===7?m(t[0].date):null}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(e,t,n,r,i,s,o){return{restrict:"EA",require:"ngModel",link:function(u,a,f,l){function g(e){m?m(u,!!e):c.isOpen=!!e}function x(e){if(!e)return l.$setValidity("date",!0),null;if(angular.isDate(e))return l.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?(l.$setValidity("date",!1),undefined):(l.$setValidity("date",!0),t)}return l.$setValidity("date",!1),undefined}function T(e,n,r){e&&(u.$watch(t(e),function(e){c[n]=e}),E.attr(r||n,n))}function N(){c.position=d?r.offset(a):r.position(a),r.offset(a).left+w.width()>angular.element(document).width()&&(c.position.left=c.position.left-(r.offset(a).left+w.width()-angular.element(document).width())-4),c.position.top=c.position.top+a.prop("offsetHeight")}var c=u.$new(),h,p=angular.isDefined(f.closeOnDateSelection)?u.$eval(f.closeOnDateSelection):s.closeOnDateSelection,d=angular.isDefined(f.datepickerAppendToBody)?u.$eval(f.datepickerAppendToBody):s.appendToBody;f.$observe("datepickerPopup",function(e){h=e||s.dateFormat,l.$render()}),c.showButtonBar=angular.isDefined(f.showButtonBar)?u.$eval(f.showButtonBar):s.showButtonBar,u.$on("$destroy",function(){L.remove(),c.$destroy()}),f.$observe("currentText",function(e){c.currentText=angular.isDefined(e)?e:s.currentText}),f.$observe("toggleWeeksText",function(e){c.toggleWeeksText=angular.isDefined(e)?e:s.toggleWeeksText}),f.$observe("clearText",function(e){c.clearText=angular.isDefined(e)?e:s.clearText}),f.$observe("closeText",function(e){c.closeText=angular.isDefined(e)?e:s.closeText});var v,m;f.isOpen&&(v=t(f.isOpen),m=v.assign,u.$watch(v,function(t){c.isOpen=!!t})),c.isOpen=v?v(u):!1;var y=function(e){c.isOpen&&e.target!==a[0]&&c.$apply(function(){g(!1)})},b=function(){c.$apply(function(){g(!0)})},w=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");w.attr({"ng-model":"date","ng-change":"dateSelection()"});var E=angular.element(w.children()[0]),S={};f.datepickerOptions&&(S=u.$eval(f.datepickerOptions),E.attr(angular.extend({},S))),l.$parsers.unshift(x),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e),l.$setViewValue(c.date),l.$render(),p&&g(!1)},a.bind("input change keyup",function(){c.$apply(function(){c.date=l.$modelValue})}),l.$render=function(){var e=l.$viewValue?i(l.$viewValue,h):"";a.val(e),c.date=l.$modelValue},T(f.min,"min"),T(f.max,"max"),f.showWeeks?T(f.showWeeks,"showWeeks","show-weeks"):(c.showWeeks="show-weeks"in S?S["show-weeks"]:o.showWeeks,E.attr("show-weeks","showWeeks")),f.dateDisabled&&E.attr("date-disabled",f.dateDisabled);var C=!1,k=!1;c.$watch("isOpen",function(e){e?(N(),n.bind("click",y),k&&a.unbind("focus",b),a[0].focus(),C=!0):(C&&n.unbind("click",y),a.bind("focus",b),k=!0),m&&m(u,e)}),c.today=function(){c.dateSelection(new Date)},c.clear=function(){c.dateSelection(null)};var L=e(w)(c);d?n.find("body").append(L):a.after(L)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e,t){var n=null,r=angular.noop;return{restrict:"CA",link:function(t,i,s){t.$watch("$location.path",function(){r()}),i.parent().bind("click",function(){r()}),i.bind("click",function(t){var s=i===n;t.preventDefault(),t.stopPropagation(),!n||r(),!s&&!i.hasClass("disabled")&&!i.prop("disabled")&&(i.parent().addClass("open"),n=i,r=function(t){t&&t.stopPropagation(),e.unbind("click",r),i.parent().removeClass("open"),r=angular.noop,n=null},e.bind("click",r))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(n,r,i){n.windowClass=i.windowClass||"",t(function(){n.animate=!0,r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&n.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,s){function c(){var e=-1,t=f.keys();for(var n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function h(e){var t=n.find("body").eq(0),r=f.get(e).value;f.remove(e),d(r.modalDomEl,r.modalScope,300,p),t.toggleClass(o,f.length()>0)}function p(){if(u&&c()==-1){var e=a;d(u,a,150,function(){e.$destroy(),e=null}),u=undefined,a=undefined}}function d(n,r,i,s){function a(){if(a.done)return;a.done=!0,n.remove(),s&&s()}r.animate=!1;var o=e.transitionEndEventName;if(o){var u=t(a,i);n.bind(o,function(){t.cancel(u),a(),r.$apply()})}else t(a,0)}var o="modal-open",u,a,f=s.createNew(),l={};return i.$watch(c,function(e){a&&(a.index=e)}),n.bind("keydown",function(e){var t;e.which===27&&(t=f.top(),t&&t.value.keyboard&&i.$apply(function(){l.dismiss(t.key)}))}),l.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var s=n.find("body").eq(0),l=c();l>=0&&!u&&(a=i.$new(!0),a.index=l,u=r("<div modal-backdrop></div>")(a),s.append(u));var h=angular.element("<div modal-window></div>");h.attr("window-class",t.windowClass),h.attr("index",f.length()-1),h.attr("animate","animate"),h.html(t.content);var p=r(h)(t.scope);f.top().value.modalDomEl=p,s.append(p),s.addClass(o)},l.close=function(e,t){var n=f.get(e).value;n&&(n.deferred.resolve(t),h(e))},l.dismiss=function(e,t){var n=f.get(e).value;n&&(n.deferred.reject(t),h(e))},l.dismissAll=function(e){var t=this.getTop();while(t)this.dismiss(t.key,e),t=this.getTop()},l.getTop=function(){return f.top()},l}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function f(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:s}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e,i){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var a={};return a.open=function(t){var i=r.defer(),s=r.defer(),a={result:i.promise,opened:s.promise,close:function(e){u.close(a,e)},dismiss:function(e){u.dismiss(a,e)}};t=angular.extend({},e.options,t),t.resolve=t.resolve||{};if(!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=r.all([f(t)].concat(l(t.resolve)));return c.then(function(r){var s=(t.scope||n).$new();s.$close=a.close,s.$dismiss=a.dismiss;var f,l={},c=1;t.controller&&(l.$scope=s,l.$modalInstance=a,angular.forEach(t.resolve,function(e,t){l[t]=r[c++]}),f=o(t.controller,l)),u.open(a,{scope:s,deferred:i,content:r[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(t){i.reject(t)}),c.then(function(){s.resolve(!0)},function(){s.reject(!1)}),a},a}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,r){var i=this,s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=r},this.noPrevious=function(){return this.page===1},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.getAttributeValue=function(t,n,i){return angular.isDefined(t)?i?r(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,this.page>0&&this.page<=e.totalPages&&(e.pages=this.getPages(this.page,e.totalPages))},e.selectPage=function(t){!i.isActive(t)&&t>0&&t<=e.totalPages&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("page",function(){i.render()}),e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),i.page>t?e.selectPage(t):i.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,s){function b(e,t,n,r){return{number:e,text:t,title:y[t]||t,active:n,disabled:r}}var o,u=s.getAttributeValue(i.boundaryLinks,t.boundaryLinks),a=s.getAttributeValue(i.directionLinks,t.directionLinks),f=s.getAttributeValue(i.firstText,t.firstText,!0),l=s.getAttributeValue(i.previousText,t.previousText,!0),c=s.getAttributeValue(i.nextText,t.nextText,!0),h=s.getAttributeValue(i.lastText,t.lastText,!0),p=s.getAttributeValue(i.firstTitle,t.firstText,!0),d=s.getAttributeValue(i.previousTitle,t.previousText,!0),v=s.getAttributeValue(i.nextTitle,t.nextText,!0),m=s.getAttributeValue(i.lastTitle,t.lastText,!0),g=s.getAttributeValue(i.rotate,t.rotate),y={"‹":d,"«":p,"›":v,"»":m};s.init(t.itemsPerPage),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){o=parseInt(e,10),s.render()}),s.getPages=function(e,t){var n=[],r=1,i=t,p=angular.isDefined(o)&&o<t;p&&(g?(r=Math.max(e-Math.floor(o/2),1),i=r+o-1,i>t&&(i=t,r=i-o+1)):(r=(Math.ceil(e/o)-1)*o+1,i=Math.min(r+o-1,t)));for(var d=r;d<=i;d++){var v=b(d,d,s.isActive(d),!1);n.push(v)}if(p&&!g){if(r>1){var m=b(r-1,"...",!1,!1);n.unshift(m)}if(i<t){var y=b(i+1,"...",!1,!1);n.push(y)}}if(a){var w=b(e-1,l,!1,s.noPrevious());n.unshift(w);var E=b(e+1,c,!1,s.noNext());n.push(E)}if(u){var S=b(1,f,!1,s.noPrevious());n.unshift(S);var x=b(t,h,!1,s.noNext());n.push(x)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){function a(e,t,n,r,i){return{number:e,text:t,disabled:n,previous:u&&r,next:u&&i}}var s=i.getAttributeValue(r.previousText,e.previousText,!0),o=i.getAttributeValue(r.nextText,e.nextText,!0),u=i.getAttributeValue(r.align,e.align);i.init(e.itemsPerPage),i.getPages=function(e){return[a(e-1,s,i.noPrevious(),!0,!1),a(e+1,o,i.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},t={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(n){angular.extend(t,n)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,s,o,u,a,f,l){return function(c,h,p){function v(e){var n=e||d.trigger||p,r=t[n]||n;return{show:n,hide:r}}var d=angular.extend({},e,n),m=r(c),g=l.startSymbol(),y=l.endSymbol(),b="<div "+m+"-popup "+'title="'+g+"tt_title"+y+'" '+'content="'+g+"tt_content"+y+'" '+'placement="'+g+"tt_placement"+y+'" '+'animation="tt_animation" '+'is-open="tt_isOpen"'+">"+"</div>";return{restrict:"EA",scope:!0,compile:function(e,t){var n=s(b);return function(t,r,i){function E(){t.tt_isOpen?x():S()}function S(){if(b&&!t.$eval(i[h+"Enable"]))return;t.tt_popupDelay?(p=o(T,t.tt_popupDelay,!1),p.then(function(e){e()})):T()()}function x(){t.$apply(function(){N()})}function T(){return t.tt_content?(C(),l&&o.cancel(l),s.css({top:0,left:0,display:"block"}),m?a.find("body").append(s):r.after(s),w(),t.tt_isOpen=!0,t.$digest(),w):angular.noop}function N(){t.tt_isOpen=!1,o.cancel(p),t.tt_animation?l=o(k,500):k()}function C(){s&&k(),s=n(t,function(){}),t.$digest()}function k(){s&&(s.remove(),s=null)}var s,l,p,m=angular.isDefined(d.appendToBody)?d.appendToBody:!1,g=v(undefined),y=!1,b=angular.isDefined(i[h+"Enable"]),w=function(){var e,n,i,o;e=m?f.offset(r):f.position(r),n=s.prop("offsetWidth"),i=s.prop("offsetHeight");switch(t.tt_placement){case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left-n};break;default:o={top:e.top-i,left:e.left+e.width/2-n/2}}o.top+="px",o.left+="px",s.css(o)};t.tt_isOpen=!1,i.$observe(c,function(e){t.tt_content=e,!e&&t.tt_isOpen&&N()}),i.$observe(h+"Title",function(e){t.tt_title=e}),i.$observe(h+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),i.$observe(h+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n});var L=function(){y&&(r.unbind(g.show,S),r.unbind(g.hide,x))};i.$observe(h+"Trigger",function(e){L(),g=v(e),g.show===g.hide?r.bind(g.show,E):(r.bind(g.show,S),r.bind(g.hide,x)),y=!0});var A=t.$eval(i[h+"Animation"]);t.tt_animation=angular.isDefined(A)?!!A:d.animation,i.$observe(h+"AppendToBody",function(e){m=angular.isDefined(e)?u(e)(t):m}),m&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&N()}),t.$on("$destroy",function(){o.cancel(l),o.cancel(p),L(),k()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(e,t,n,r){var i=this,s=[],o=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,u=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.addBar=function(e,t){var n=0,r=e.$parent.$index;angular.isDefined(r)&&s[r]&&(n=s[r].value),s.push(e),this.update(t,e.value,n),e.$watch("value",function(e,n){e!==n&&i.update(t,e,n)}),e.$on("$destroy",function(){i.removeBar(e)})},this.update=function(e,t,n){var i=this.getPercentage(t);u?(e.css("width",this.getPercentage(n)+"%"),r(e,{width:i+"%"})):e.css({transition:"none",width:i+"%"})},this.removeBar=function(e){s.splice(s.indexOf(e),1)},this.getPercentage=function(e){return Math.round(100*e/o)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,r){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):r.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):r.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):r.stateOff,this.createRateObjects=function(e){var t={stateOn:this.stateOn,stateOff:this.stateOff};for(var n=0,r=e.length;n<r;n++)e[n]=angular.extend({index:n},t,e[n]);return e},e.range=angular.isDefined(t.ratingStates)?this.createRateObjects(angular.copy(e.$parent.$eval(t.ratingStates))):this.createRateObjects(new Array(this.maxRange)),e.rate=function(t){e.value!==t&&!e.readonly&&(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var n=this,r=n.tabs=t.tabs=[];n.select=function(e){angular.forEach(r,function(e){e.active=!1}),e.active=!0},n.addTab=function(t){r.push(t),(r.length===1||t.active)&&n.select(t)},n.removeTab=function(t){var i=r.indexOf(t);if(t.active&&r.length>1){var s=i==r.length-1?i-1:i+1;n.select(r[s])}r.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1,e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(n,i,s,o){var u,a;s.active?(u=e(s.active),a=u.assign,n.$parent.$watch(u,function(t,r){t!==r&&(n.active=!!t)}),n.active=u(n.$parent)):a=u=angular.noop,n.$watch("active",function(e){a(n.$parent,e),e?(o.select(n),n.onSelect()):n.onDeselect()}),n.disabled=!1,s.disabled&&n.$parent.$watch(e(s.disabled),function(e){n.disabled=!!e}),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.tagName.toLowerCase()==="tab-heading"||e.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function(e,t,n,r){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,s,o,u){function h(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&e<13:e>=0&&e<24;return t?(i.showMeridian&&(e===12&&(e=0),i.meridian===f[1]&&(e+=12)),e):undefined}function p(){var e=parseInt(i.minutes,10);return e>=0&&e<60?e:undefined}function d(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function E(e){S(),u.$setViewValue(new Date(a)),x(e)}function S(){u.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function x(e){var t=a.getHours(),n=a.getMinutes();i.showMeridian&&(t=t===0||t===12?12:t%12),i.hours=e==="h"?t:d(t),i.minutes=e==="m"?n:d(n),i.meridian=a.getHours()<12?f[0]:f[1]}function T(e){var t=new Date(a.getTime()+e*6e4);a.setHours(t.getHours(),t.getMinutes()),E()}if(!u)return;i.$parent.$watch(e(o.ngDisabled),function(e){i.readonlyInput=e});var a=new Date,f=angular.isDefined(o.meridians)?i.$parent.$eval(o.meridians):n.meridians||r.DATETIME_FORMATS.AMPMS,l=n.hourStep;o.hourStep&&i.$parent.$watch(e(o.hourStep),function(e){l=parseInt(e,10)});var c=n.minuteStep;o.minuteStep&&i.$parent.$watch(e(o.minuteStep),function(e){c=parseInt(e,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(e(o.showMeridian),function(e){i.showMeridian=!!e;if(u.$error.time){var t=h(),n=p();angular.isDefined(t)&&angular.isDefined(n)&&(a.setHours(t),E())}else x()});var v=s.find("input"),m=v.eq(0),g=v.eq(1),y=angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel;if(y){var b=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};m.bind("mousewheel wheel",function(e){if(i.readonlyInput)return;i.$apply(b(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),g.bind("mousewheel wheel",function(e){if(i.readonlyInput)return;i.$apply(b(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput;if(!i.readonlyInput){var w=function(e,t){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=h();angular.isDefined(e)?(a.setHours(e),E("h")):w(!0)},m.bind("blur",function(e){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=d(i.hours)})}),i.updateMinutes=function(){var e=p();angular.isDefined(e)?(a.setMinutes(e),E("m")):w(undefined,!0)},g.bind("blur",function(e){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=d(i.minutes)})})}else i.updateHours=angular.noop,i.updateMinutes=angular.noop;u.$render=function(){var e=u.$modelValue?new Date(u.$modelValue):null;isNaN(e)?(u.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(a=e),S(),x())},i.incrementHours=function(){T(l*60)},i.decrementHours=function(){T(-l*60)},i.incrementMinutes=function(){T(c)},i.decrementMinutes=function(){T(-c)},i.toggleMeridian=function(){T(720*(a.getHours()<12?1:-1))}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t),i,s,o;if(!r)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,s,o){var u=[9,13,27,38,40];return{require:"ngModel",link:function(a,f,l,c){var h=a.$eval(l.typeaheadMinLength)||1,p=a.$eval(l.typeaheadWaitMs)||0,d=a.$eval(l.typeaheadEditable)!==!1,v=t(l.typeaheadLoading).assign||angular.noop,m=t(l.typeaheadOnSelect),g=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):undefined,y=l.typeaheadAppendToBody?t(l.typeaheadAppendToBody):!1,b=t(l.ngModel).assign,w=o.parse(l.typeahead),E,S=angular.element("<div typeahead-popup></div>");S.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&S.attr("template-url",l.typeaheadTemplateUrl);var x=a.$new();a.$on("$destroy",function(){x.$destroy()});var T=function(){x.matches=[],x.activeIdx=-1},N=function(e,t){var r={$viewValue:e};v(a,!0),n.when(w.source(a,r)).then(function(n){if((e===c.$viewValue||t)&&E){if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var i=0;i<n.length;i++)r[w.itemName]=n[i],x.matches.push({label:w.viewMapper(x,r),model:n[i]});x.query=e,x.position=y?s.offset(f):s.position(f),x.position.top=x.position.top+f.prop("offsetHeight")}else T();v(a,!1)}},function(){T(),v(a,!1)})};T(),x.query=undefined;var C;c.$parsers.unshift(function(e){return E=!0,e&&e.length>=h?p>0?(C&&r.cancel(C),C=r(function(){N(e)},p)):N(e):(v(a,!1),T()),d?e:e?(c.$setValidity("editable",!1),undefined):(c.$setValidity("editable",!0),e)}),c.$formatters.push(function(e){var t,n,r={};return g?(r.$model=e,g(a,r)):(r[w.itemName]=e,t=w.viewMapper(a,r),r[w.itemName]=undefined,n=w.viewMapper(a,r),t!==n?t:e)}),x.select=function(e){var t={},n,r;t[w.itemName]=r=x.matches[e].model,n=w.modelMapper(a,t),b(a,n),c.$setValidity("editable",!0),m(a,{$item:r,$model:n,$label:w.viewMapper(a,t)}),T(),f[0].focus()},f.bind("keydown",function(e){if(x.matches.length===0||u.indexOf(e.which)===-1)return;e.preventDefault(),e.which===40?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):e.which===38?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):e.which===13||e.which===9?x.$apply(function(){x.select(x.activeIdx)}):e.which===27&&(e.stopPropagation(),T(),x.$digest())}),f.bind("blur",function(e){E=!1}),f.bind("focus",function(e){E=!0,N("",!0)});var k=function(e){f[0]!==e.target&&(T(),x.$digest())};i.bind("click",k),a.$on("$destroy",function(){i.unbind("click",k)});var L=e(S)(x);y?i.find("body").append(L):f.after(L)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,s,o){var u=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(u,{cache:t}).success(function(e){s.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),define("ui.bootstrap",["aliyun-console-bootstrap-tpl"],function(){}),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(t){return angular.isString(t)?(e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})}),void 0):angular.isArray(t)?(angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})})}),void 0):(angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){o[n](r.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){o[n](r.$modelValue)})})}),void 0)}var s,o={},u=e.$eval(n.uiValidate);u&&(angular.isString(u)&&(u={validator:u}),angular.forEach(u,function(t,n){s=function(i){var s=e.$eval(t,{$value:i});return angular.isObject(s)&&angular.isFunction(s.then)?(s.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):s?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),void 0)},o[n]=s,r.$formatters.push(s),r.$parsers.push(s)}),n.uiValidateWatch&&i(e.$eval(n.uiValidateWatch)))}}}),define("angular-ui-validate",["angular"],function(){}),function(e,t,n){"use strict";function r(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function i(e,n){function r(e,r,o,u){r=t.lowercase(r);if(E[r])for(;g.last()&&S[g.last()];)i("",g.last());w[r]&&g.last()==r&&i("",r),(u=b[r]||!!u)||g.push(r);var a={};o.replace(c,function(e,t,n,r,i){a[t]=s(n||r||i||"")}),n.start&&n.start(r,a,u)}function i(e,r){var i=0,s;if(r=t.lowercase(r))for(i=g.length-1;0<=i&&g[i]!=r;i--);if(0<=i){for(s=g.length-1;s>=i;s--)n.end&&n.end(g[s]);g.length=i}}var o,u,g=[],y=e;for(g.last=function(){return g[g.length-1]};e;){u=!0;if(g.last()&&x[g.last()])e=e.replace(RegExp("(.*)<\\s*\\/\\s*"+g.last()+"[^>]*>","i"),function(e,t){return t=t.replace(d,"$1").replace(m,"$1"),n.chars&&n.chars(s(t)),""}),i("",g.last());else{if(0===e.indexOf("<!--"))o=e.indexOf("--",4),0<=o&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),u=!1);else if(v.test(e)){if(o=e.match(v))e=e.replace(o[0],""),u=!1}else if(p.test(e)){if(o=e.match(l))e=e.substring(o[0].length),o[0].replace(l,i),u=!1}else h.test(e)&&(o=e.match(f))&&(e=e.substring(o[0].length),o[0].replace(f,r),u=!1);u&&(o=e.indexOf("<"),u=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(u)))}if(e==y)throw a("badparse",e);y=e}i()}function s(e){return k.innerHTML=e.replace(/</g,"&lt;"),k.innerText||k.textContent||""}function o(e){return e.replace(/&/g,"&amp;").replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){var n=!1,r=t.bind(e,e.push);return{start:function(e,i,s){e=t.lowercase(e),!n&&x[e]&&(n=e),n||!0!==T[e]||(r("<"),r(e),t.forEach(i,function(e,n){var i=t.lowercase(n);!0!==C[i]||!0===N[i]&&!e.match(g)||(r(" "),r(n),r('="'),r(o(e)),r('"'))}),r(s?"/>":">"))},end:function(e){e=t.lowercase(e),n||!0!==T[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(o(e))}}}var a=t.$$minErr("$sanitize"),f=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,l=/^<\s*\/\s*([\w:-]+)[^>]*>/,c=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,p=/^<\s*\//,d=/\x3c!--(.*?)--\x3e/g,v=/<!DOCTYPE([^>]*?)>/i,m=/<!\[CDATA\[(.*?)]]\x3e/g,g=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,y=/([^\#-~| |!])/g,b=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var w=t.extend({},n,e),E=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=r("script,style"),T=t.extend({},b,E,S,w),N=r("background,cite,href,longdesc,src,usemap"),C=t.extend({},N,r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),k=document.createElement("pre");t.module("ngSanitize",[]).value("$sanitize",function(e){var t=[];return i(e,u(t)),t.join("")}),t.module("ngSanitize").filter("linky",function(){var e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,n=/^mailto:/;return function(r,i){if(!r)return r;var s,o=r,a=[],f=u(a),l,c,h={};t.isDefined(i)&&(h.target=i);for(;s=o.match(e);)l=s[0],s[2]==s[3]&&(l="mailto:"+l),c=s.index,f.chars(o.substr(0,c)),h.href=l,f.start("a",h),f.chars(s[0].replace(n,"")),f.end("a"),o=o.substring(c+s[0].length);return f.chars(o),a.join("")}})}(window,window.angular),define("angular-sanitize",["angular"],function(){}),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],MONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d ah:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"ah:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"(¤",negSuf:")",posPre:"¤",posSuf:""}]},id:"zh-cn",pluralCat:function(e){return t.OTHER}})}]),define("angular-locale-zh-cn",["angular"],function(){}),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage();n?n.get(t)?e.use(n.get(t)):angular.isString(e.preferredLanguage())?e.use(e.preferredLanguage()):n.set(t,e.use()):angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t={},n,r=[],i,s,o,u,a,f,l=e,c,h,p,d=[],v=!1,m,g="translate-cloak",y,b,w,E=!1,S=".",x=function(){var e=window.navigator;return(e.language||e.browserLanguage||e.systemLanguage||e.userLanguage||"").split("-").join("_")},T=function(e){var t=[],n=angular.lowercase(e),s=0,o=r.length;for(;s<o;s++)t.push(angular.lowercase(r[s]));if(t.indexOf(n)>-1)return e;if(i){var u;for(var a in i){var f=!1,l=i.hasOwnProperty(a)&&angular.lowercase(a)===angular.lowercase(e);a.slice(-1)==="*"&&(f=a.slice(0,-1)===e.slice(0,a.length-1));if(l||f){u=i[a];if(t.indexOf(angular.lowercase(u))>-1)return u}}}var c=e.split("_");return c.length>1&&t.indexOf(angular.lowercase(c[0]))>-1?c[0]:e},N=function(e,n){if(!e&&!n)return t;if(e&&!n){if(angular.isString(e))return t[e]}else angular.isObject(t[e])||(t[e]={}),angular.extend(t[e],C(n));return this};this.translations=N,this.cloakClassName=function(e){return e?(g=e,this):g};var C=function(e,t,n,r){var i,s,o,u;t||(t=[]),n||(n={});for(i in e){if(!e.hasOwnProperty(i))continue;u=e[i],angular.isObject(u)?C(u,t.concat(i),n,i):(s=t.length?""+t.join(S)+S+i:i,t.length&&i===r&&(o=""+t.join(S),n[o]="@:"+s),n[s]=u)}return n};this.addInterpolation=function(e){return d.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return v=e,this},this.preferredLanguage=function(e){return e?(n=e,this):n},this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(b=e,this):b},this.translationNotFoundIndicatorRight=function(e){return e?(w=e,this):w},this.fallbackLanguage=function(e){return k(e),this};var k=function(e){return e?(angular.isString(e)?(o=!0,s=[e]):angular.isArray(e)&&(o=!1,s=e),angular.isString(n)&&s.push(n),this):o?s[0]:s};this.use=function(e){if(e){if(!t[e]&&!m)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return u=e,this}return u};var L=function(e){if(!e)return c?c+l:l;l=e};this.storageKey=L,this.useUrlLoader=function(e){return this.useLoader("$translateUrlLoader",{url:e})},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return m=e,y=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return f=e,this},this.storagePrefix=function(e){return e?(c=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return h=e,this},this.usePostCompiling=function(e){return E=!!e,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():x();return r.length?n=T(t):n=t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(r=e,t&&(i=t),this):r},this.$get=["$log","$injector","$rootScope","$q",function(e,r,i,c){var S,x=r.get(p||"$translateDefaultInterpolation"),A=!1,O={},M={},_,D,P=function(e,t,r){if(angular.isArray(e)){var i=function(e){var n={},i=[],s=function(e){var i=c.defer(),s=function(t){n[e]=t,i.resolve([e,t])};return P(e,t,r).then(s,s),i.promise};for(var o=0,u=e.length;o<u;o++)i.push(s(e[o]));return c.all(i).then(function(){return n})};return i(e)}var o=c.defer();e&&(e=e.trim());var a=function(){var e=n?M[n]:M[u];_=0;if(f&&!e){var t=S.get(l);e=M[t];if(s&&s.length){var r=H(s,t);_=r>-1?r+=1:0,s.push(n)}}return e}();return a?a.then(function(){V(e,t,r).then(o.resolve,o.reject)},o.reject):V(e,t,r).then(o.resolve,o.reject),o.promise},H=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B=function(e){return b&&(e=[b,e].join(" ")),w&&(e=[e,w].join(" ")),e},j=function(e){u=e,i.$emit("$translateChangeSuccess"),f&&S.set(P.storageKey(),u),x.setLocale(u),angular.forEach(O,function(e,t){O[t].setLocale(u)}),i.$emit("$translateChangeEnd")},F=function(e){if(!e)throw"No language key specified for loading.";var t=c.defer();return i.$emit("$translateLoadingStart"),A=!0,r.get(m)(angular.extend(y,{key:e})).then(function(n){var r={};i.$emit("$translateLoadingSuccess"),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(r,C(e))}):angular.extend(r,C(n)),A=!1,t.resolve({key:e,table:r}),i.$emit("$translateLoadingEnd")},function(e){i.$emit("$translateLoadingError"),t.reject(e),i.$emit("$translateLoadingEnd")}),t.promise};if(f){S=r.get(f);if(!S.get||!S.set)throw new Error("Couldn't use storage '"+f+"', missing get() or set() method!")}angular.isFunction(x.useSanitizeValueStrategy)&&x.useSanitizeValueStrategy(v),d.length&&angular.forEach(d,function(e){var t=r.get(e);t.setLocale(n||u),angular.isFunction(t.useSanitizeValueStrategy)&&t.useSanitizeValueStrategy(v),O[t.getInterpolationIdentifier()]=t});var I=function(e){var n=c.defer();return t.hasOwnProperty(e)?(n.resolve(t[e]),n.promise):(M[e].then(function(e){N(e.key,e.table),n.resolve(e.table)},n.reject),n.promise)},q=function(e,t,n,r){var i=c.defer();return I(e).then(function(s){s.hasOwnProperty(t)?(r.setLocale(e),i.resolve(r.interpolate(s[t],n)),r.setLocale(u)):i.reject()},i.reject),i.promise},R=function(e,n,r,i){var s,o=t[e];return o.hasOwnProperty(n)&&(i.setLocale(e),s=i.interpolate(o[n],r),i.setLocale(u)),s},U=function(e,t,n,i){var o=c.defer();if(e<s.length){var a=s[e];q(a,t,n,i).then(function(e){o.resolve(e)},function(){var r=U(e+1,t,n,i);o.resolve(r)})}else if(h){var f=r.get(h)(t,u);f!==undefined?o.resolve(f):o.resolve(t)}else o.resolve(t);return o.promise},z=function(e,t,n,r){var i;if(e<s.length){var o=s[e];i=R(o,t,n,r),i||(i=z(e+1,t,n,r))}return i},W=function(e,t,n){return U(D>0?D:_,e,t,n)},X=function(e,t,n){return z(D>0?D:_,e,t,n)},V=function(e,n,i){var o=c.defer(),a=u?t[u]:t,f=i?O[i]:x;if(a&&a.hasOwnProperty(e)){var l=a[e];l.substr(0,2)==="@:"?P(l.substr(2),n,i).then(o.resolve,o.reject):o.resolve(f.interpolate(l,n))}else h&&!A&&r.get(h)(e,u),u&&s&&s.length?W(e,n,f).then(function(e){o.resolve(e)},function(e){o.reject(B(e))}):o.reject(B(e));return o.promise},$=function(e,n,i){var o,a=u?t[u]:t,f=i?O[i]:x;if(a&&a.hasOwnProperty(e)){var l=a[e];l.substr(0,2)==="@:"?o=$(l.substr(2),n,i):o=f.interpolate(l,n)}else h&&!A&&r.get(h)(e,u),u&&s&&s.length?(_=0,o=X(e,n,f)):o=B(e);return o};P.preferredLanguage=function(){return n},P.cloakClassName=function(){return g},P.fallbackLanguage=function(e){if(e!==undefined&&e!==null){k(e);if(m&&s&&s.length)for(var t=0,n=s.length;t<n;t++)M[s[t]]||(M[s[t]]=F(s[t]));P.use(P.use())}return o?s[0]:s},P.useFallbackLanguage=function(e){if(e!==undefined&&e!==null)if(!e)D=0;else{var t=H(s,e);t>-1&&(D=t)}},P.proposedLanguage=function(){return a},P.storage=function(){return S},P.use=function(e){if(!e)return u;var n=c.defer();i.$emit("$translateChangeStart");var r=T(e);return r&&(e=r),!t[e]&&m?(a=e,M[e]=F(e).then(function(t){N(t.key,t.table),n.resolve(t.key),a===e&&(j(t.key),a=undefined)},function(e){a=undefined,i.$emit("$translateChangeError"),n.reject(e),i.$emit("$translateChangeEnd")})):(n.resolve(e),j(e)),n.promise},P.storageKey=function(){return L()},P.isPostCompilingEnabled=function(){return E},P.refresh=function(e){function r(){n.resolve(),i.$emit("$translateRefreshEnd")}function o(){n.reject(),i.$emit("$translateRefreshEnd")}if(!m)throw new Error("Couldn't refresh translation table, no loader registered!");var n=c.defer();i.$emit("$translateRefreshStart");if(!e){var a=[];if(s&&s.length)for(var f=0,l=s.length;f<l;f++)a.push(F(s[f]));u&&a.push(F(u)),c.all(a).then(function(e){angular.forEach(e,function(e){t[e.key]&&delete t[e.key],N(e.key,e.table)}),u&&j(u),r()})}else t[e]?F(e).then(function(t){N(t.key,t.table),e===u&&j(u),r()},o):o();return n.promise},P.instant=function(e,i,o){if(e===null||angular.isUndefined(e))return e;if(angular.isArray(e)){var a={};for(var f=0,l=e.length;f<l;f++)a[e[f]]=P.instant(e[f],i,o);return a}if(angular.isString(e)&&e.length<1)return e;e&&(e=e.trim());var c,p=[];n&&p.push(n),u&&p.push(u),s&&s.length&&(p=p.concat(s));for(var d=0,v=p.length;d<v;d++){var m=p[d];t[m]&&typeof t[m][e]!="undefined"&&(c=$(e,i,o));if(typeof c!="undefined")break}return!c&&c!==""&&(c=e,h&&!A&&r.get(h)(e,u)),c};if(m){angular.equals(t,{})&&P.use(P.use());if(s&&s.length)for(var J=0,K=s.length;J<K;J++)M[s[J]]=F(s[J])}return P}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t={},n,r="default",i=null,s={escaped:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},o=function(e){var t;return angular.isFunction(s[i])?t=s[i](e):t=e,t};return t.setLocale=function(e){n=e},t.getInterpolationIdentifier=function(){return r},t.useSanitizeValueStrategy=function(e){return i=e,this},t.interpolate=function(t,n){return i&&(n=o(n)),e(t)(n||{})},t}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,r,i,s){return{restrict:"AE",scope:!0,compile:function(t,o){var u=o.translateValues?o.translateValues:undefined,a=o.translateInterpolation?o.translateInterpolation:undefined,f=t[0].outerHTML.match(/translate-value-+/i);return function(l,c,h){l.interpolateParams={},h.$observe("translate",function(e){angular.equals(e,"")||!angular.isDefined(e)?l.translationId=n(c.text().replace(/^\s+|\s+$/g,""))(l.$parent):l.translationId=e}),h.$observe("translateDefault",function(e){l.defaultText=e}),u&&h.$observe("translateValues",function(e){e&&l.$parent.$watch(function(){angular.extend(l.interpolateParams,i(e)(l.$parent))})});if(f){var p=function(e){h.$observe(e,function(t){l.interpolateParams[angular.lowercase(e.substr(14,1))+e.substr(15)]=t})};for(var d in h)h.hasOwnProperty(d)&&d.substr(0,14)==="translateValue"&&d!=="translateValues"&&p(d)}var v=function(t,n,i){!i&&typeof n.defaultText!="undefined"&&(t=n.defaultText),c.html(t);var s=e.isPostCompilingEnabled(),u=typeof o.translateCompile!="undefined",a=u&&o.translateCompile!=="false";(s&&!u||a)&&r(c.contents())(n)},m=function(){return!u&&!f?function(){var t=l.$watch("translationId",function(n){l.translationId&&n&&e(n,{},a).then(function(e){v(e,l,!0),t()},function(e){v(e,l,!1),t()})},!0)}:function(){var t=function(){l.translationId&&l.interpolateParams&&e(l.translationId,l.interpolateParams,a).then(function(e){v(e,l,!0)},function(e){v(e,l,!1)})};l.$watch("interpolateParams",t,!0),l.$watch("translationId",t)}}(),g=s.$on("$translateChangeSuccess",m);m(),l.$on("$destroy",g)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){e.$on("$translateLoadingSuccess",function(){n.removeClass(t.cloakClassName())}),n.addClass(t.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){return function(n,r,i){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i)}}]),define("angular-translate",["angular"],function(){}),define("aliyun-expenseCenter-tpl",["angular"],function(e){e.module("aliyun.console.expenseCenter.base.tpl",[]).run(["$templateCache",function(e){e.put("scripts/expenseCenter/base/views/loading.html",'<div ng-hide="!loadingState" aliyun-loading size="48" style="margin-top:100px"></div>'),e.put("scripts/expenseCenter/base/partials/dateSelectUnit.html",'<div ng-model="date"><span ng-show="showDate"><input type="text" min="min" max="max" class="form-control date-picker-unit inline-block margin-right-1" show-weeks="false" show-button-bar="false" toggle-weeks-text="周" current-text="今天" clear-text="清除" close-text="确定" datepicker-popup="yyyy-MM-dd" size="10" ng-model="date"></span><div ng-show="showTime" class="inline-block"><span class="rds-date-select-hour" ng-hide="hideHours"><select name="" class="form-control autosize inline-block" ng-model="hourSelected" ng-options="item.key for item in hours"></select></span> <span class="rds-date-select-hour" ng-hide="hideMinutes"><small>&nbsp;:&nbsp;</small><select name="" class="form-control autosize inline-block" ng-model="minuteSelected" ng-options="item.key for item in minutes"></select></span> <span class="rds-date-select-second" ng-hide="hideSeconds"><small>&nbsp;:&nbsp;</small><select name="" class="form-control autosize inline-block" ng-model="secondSelected" ng-options="item.key for item in seconds"></select></span></div></div>'),e.put("scripts/expenseCenter/base/partials/dateStepUnit.html",'<div class="date-step-unit clearfix"><div ng-hide="strictLimit === false"><div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="endDate" date="startDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div><span class="date-step-span" bo-bind="\'expense.base.common.to\'|translate">至</span><div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="startDate" max="max" date="endDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div></div><div ng-show="strictLimit===false"><div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="max" date="startDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div><span class="date-step-span" bo-bind="\'expense.base.common.to\'|translate">至</span><div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="max" date="endDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div></div></div>'),e.put("scripts/expenseCenter/base/partials/dateUnit.html",'<div ng-model="date"><input ng-keypress="operateInputReadonly($event)" ng-cut="operateInputReadonly($event)" ng-paste="operateInputReadonly($event)" ng-disabled="disableInput" type="text" min="min" max="max" class="form-control date-picker-unit" show-weeks="false" show-button-bar="false" toggle-weeks-text="周" current-text="今天" clear-text="清除" close-text="确定" datepicker-popup="yyyy-MM-dd" ng-model="date"><div ng-show="showTime" timepicker show-meridian="false" ng-model="date" ng-class="{ true:\'hour-only\',false:\'\'}[hourOnly]"></div></div>'),e.put("scripts/expenseCenter/base/partials/enhancedGrid.html",'<div><div class="searchSection"></div><div class="gridSection"></div><div ng-if="loadingState" aliyun-loading size="48" style="margin-top:100px"></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-address.html",'<div class="form-group"><label class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'select\'"></span></label><div address-selector form-model="result"></div><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-amount-input.html",'<div class="form-group custom-amount-input-field" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span ng-show="!!options.label" class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="text" class="form-control" id="{{id}}" aliyun-console-spm="{{options.spmId}}" formly-dynamic-name="options.key" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="inline-block margin-left margin-right"><div class="line-height-32"><span bo-html="\'expense.base.common.rmb\' | translate">元</span></div></div><div class="inline-block"><div class="line-height-32"><span class="help-block" ng-repeat="valid in options.validators" ng-show="valid.errorMessage && formScope[options.key].$dirty && formScope[options.key].$error[ valid.validator.indexOf(\'ng\') == 0 ? (valid.validator.substring(2,3).toLowerCase() + valid.validator.split(\'=\')[0].slice(3))  : valid.validator.split(\'=\')[0]   ] ">{{valid.errorMessage }}</span></div></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-custom-radio.html",'<div class="form-group" ng-class="{\'has-error\': options.formField.$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required && options.hasStar ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'radio\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="radio radio-inline" ng-repeat="(key, option) in options.options"><label><input id="{{id}}.{{item.value}}" type="radio" formly-dynamic-name="options.key" formly-custom-validation="options.validators" ng-value="option.value" ng-required="options.required" ng-model="result[options.key]"> <span>{{option.name}}</span></label></div><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-date.html",'<div class="form-group"><div class="input-group"><input datepicker-popup="yyyy-MM-dd" max="{{options.max || null}}" show-weeks="{{options.showWeeks || false}}" show-button-bar="{{options.showButtonBar || true}}" toggle-weeks-text="{{options.weeksText || \'周\'}}" current-text="{{options.currentText || \'今天\'}}" clear-text="{{options.clearText || \'清除\'}}" close-text="{{options.closeText || \'确定\'}}" size="{{options.size || 10}}" ng-model="result[options.key]" ng-keypress="$event.preventDefault()" ng-cut="$event.preventDefault()" ng-paste="$event.preventDefault()" class="{{options.className || \'form-control\'}}" type="text"> <span ng-if="options.showIcon || true" class="input-group-btn" style="width:auto"><button class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-hidden.html",'<input type="hidden" name="{{options.key}}" ng-value="result[options.key || index]">'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-img.html",'<div class="form-group"><label class="{{options.labelWidth || \'col-sm-2\'}} control-label"><!-- <span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> --><span ng-bind-html="options.label || \'select\'"></span></label><div class="col-sm-4"><a href="{{result[options.key]}}" target="_blank"><img class="{{options.imgClass}}" ng-src="{{result[options.key]}}"></a></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-inline-input.html",'<div class="form-group"><input ng-model="result[options.key]" type="{{options.inputType || \'text\'}}" class="form-control" size="{{options.size || 12}}" id=""></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-inline-input2.html",'<div class="form-group custom-amount-input-field" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span ng-show="!!options.label" class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="text" class="form-control" id="{{id}}" aliyun-console-spm="{{options.spmId}}" formly-dynamic-name="options.key" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="inline-block margin-left"><div class="line-height-32"><span class="help-block" ng-repeat="valid in options.validators" ng-show="valid.errorMessage && formScope[options.key].$dirty && formScope[options.key].$error[ valid.validator.indexOf(\'ng\') == 0 ? (valid.validator.substring(2,3).toLowerCase() + valid.validator.split(\'=\')[0].slice(3))  : valid.validator.split(\'=\')[0]   ] ">{{valid.errorMessage }}</span></div></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-label.html",'<div class="form-group"><label class="control-label" for="">{{options.label}}</label></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-radio-bank.html",'<div class="form-group" ng-class="{\'has-error\': options.formField.$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'radio\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="radio radio-inline" ng-repeat="(key, option) in options.options"><label aliyun-console-spm="{{option.spmId}}"><input id="{{id}}.{{item.value}}" type="radio" formly-dynamic-name="options.key" formly-custom-validation="options.validators" ng-value="option.value" ng-required="options.required" ng-model="result[options.key]"> <span class="{{option.name}}"></span> <span style="vertical-align: 10px" ng-bind-html="option.description"></span></label><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-static-without-value.html",'<div class="form-group"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="form-control-static" ng-bind-html="options.value"></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-static.html",'<div class="form-group"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><!-- ng-init="value = !options.filter ? result[options.key] : [result[options.key], options.filter].join(\' | \')" --><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="form-control-static" formly-dynamic-name="options.key" options="options"><span ng-if="options.filter" static-field-with-filter field-value="{{result[options.key]}}" filter-name="{{options.filter}}"></span> <span ng-if="!options.filter">{{result[options.key]}}</span></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-verify-code.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><div ng-show="options.hasBindedMobile"><div class="{{options.formItemWidth || \'col-sm-4\'}}" style="padding-left: 15px"><input type="text" class="form-control pull-left" style="width: 80px" id="{{id}}" formly-dynamic-name="options.key" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]"> <span sms-control class="pull-left margin-left"></span><div class="help-block col-sm-5" ng-repeat="valid in options.validators" ng-show="valid.errorMessage && formScope[options.key].$dirty && formScope[options.key].$error[ valid.validator.indexOf(\'ng\') == 0 ? (valid.validator.substring(2,3).toLowerCase() + valid.validator.split(\'=\')[0].slice(3))  : valid.validator.split(\'=\')[0]   ] ">{{valid.errorMessage }}</div></div><label class="{{options.labelWidth || \'col-sm-2\'}} control-label"></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div><div ng-hide="options.hasBindedMobile"><div class="col-sm-8"><div class="form-control-static"><span>{{ options.noMobile.tip || \'您还没有绑定手机号码\' }}</span> <a href="https://account.aliyun.com/profile/profile.htm" target="_blank">{{ options.noMobile.bindLink || \'去绑定\' }}</a></div></div></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/form-field-yearmonth.html",'<div class="form-group"><div class="input-group"><label class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><input datepicker-popup="yyyy-MM" datepicker-mode="year" startview="months" minviewmode="months" formly-dynamic-name="options.key" max="{{options.max || null}}" show-weeks="{{options.showWeeks || false}}" show-button-bar="{{options.showButtonBar || true}}" toggle-weeks-text="{{options.weeksText || \'周\'}}" dd current-text="{{options.currentText || \'今天\'}}" clear-text="{{options.clearText || \'清除\'}}" close-text="{{options.closeText || \'确定\'}}" size="{{options.size || 10}}" ng-model="result[options.key]" ng-keypress="$event.preventDefault()" ng-cut="$event.preventDefault()" ng-paste="$event.preventDefault()" class="{{options.className || \'form-control\'}}" type="text"> <span ng-if="options.showIcon || true" class="input-group-btn" style="width:auto"><button class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div>'),e.put("scripts/expenseCenter/base/partials/form-fields/input-with-captch-code.html",""),e.put("scripts/expenseCenter/base/partials/form-fields/simple-form-date.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}} clearfix"><div class="pull-left" ng-style="{ \'width\' : options.endKey ? \'45%\' : \'100%\'}"><!--ng-keydown="$event.preventDefault()"--><input type="text" ng-keypress="$event.preventDefault()" ng-cut="$event.preventDefault()" ng-paste="$event.preventDefault()" class="form-control" id="{{id}}_start" datepicker-popup="yyyy-MM-dd" min="options.startOptions.min" max="options.startOptions.max" show-button-bar="options.startOptions.showButtonBar" show-weeks="options.startOptions.showWeeks" formly-dynamic-name="options.startKey" placeholder="{{options.startOptions.placeholder}}" ng-required="options.startOptions.required" ng-disabled="options.startOptions.disabled" ng-model="result[options.startKey || index]" ng-if="options.startKey"></div><div style="width:10%;text-align:center;top:7px;position:relative;left:4px" class="pull-left" ng-if="options.endKey" bo-bind="\'expense.base.common.to\'|translate">至</div><div class="pull-left" style="width:45%" ng-if="options.endKey"><input type="text" ng-keypress="$event.preventDefault()" ng-cut="$event.preventDefault()" ng-paste="$event.preventDefault()" class="form-control" style="display:inline" id="{{id}}_end" min="result[options.startKey || index]" max="options.endOptions.max" datepicker-popup="yyyy-MM-dd" show-button-bar="options.endOptions.showButtonBar" show-weeks="options.endOptions.showWeeks" formly-dynamic-name="options.endKey" placeholder="{{options.endOptions.placeholder}}" ng-required="options.endOptions.required" ng-disabled="options.endOptions.disabled" ng-model="result[options.endKey || index]"></div><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div><!--<div class="form-group">\n  <div class="input-group">\n\n\n\n\n\n    <input\n      datepicker-popup="yyyy-MM-dd"\n      max="{{options.max || null}}"\n      show-weeks="{{options.showWeeks || false}}"\n      show-button-bar="{{options.showButtonBar || true}}"\n      toggle-weeks-text="{{options.weeksText || \'周\'}}"\n      current-text="{{options.currentText || \'今天\'}}"\n      clear-text="{{options.clearText || \'清除\'}}"\n      close-text="{{options.closeText || \'确定\'}}"\n      size="{{options.size || 7}}"\n      ng-model="result[options.key]"\n      class="{{options.className || \'form-control\'}}"\n      type="text"  />\n\n\n\n\n\n\n		<span ng-if="options.showIcon || true" class="input-group-btn" style="width:auto">\n			<button class="btn btn-default">\n        <i class="glyphicon glyphicon-calendar"></i>\n      </button>\n	  </span>\n  </div>\n</div>--><!--\n<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}">\n  <label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label">\n    <span class="text-danger">{{options.required ? \'*\' : \'\'}}</span>\n    <span ng-bind-html="options.label || \'Text\'"></span>\n  </label>\n  <div class="{{options.formItemWidth || \'col-sm-4\'}} clearfix">\n\n    <div date-step-unit\n         strict-limit="true"\n         disable-date-selector=""\n         readonly-date-selector="true"\n         start-date="options.startKey"\n         end-date="options.endKey"\n         start-date-init=""\n         init-time="true"\n         display-mode="\\\'h-m-s\\\'"\n         class="inline-block margin-right-1" >\n    </div>\n\n\n    <div class="date-step-unit clearfix">\n      <div ng-hide="strictLimit === false">\n        <div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="endDate" date="startDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div>\n        <span class="date-step-span">至</span>\n        <div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="startDate" max="max" date="endDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div>\n      </div>\n      <div ng-show="strictLimit===false">\n        <div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="max" date="startDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div>\n        <span class="date-step-span">至</span>\n        <div disable-input="disableDateSelector" readonly-input="readonlyDateSelector" date-unit min="min" max="max" date="endDate" show-time="showTime" class="date-unit clearfix" hour-only="hourOnly"></div>\n      </div>\n    </div>\n\n\n\n    <p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p>\n  </div>\n</div>\n-->'),e.put("scripts/expenseCenter/base/partials/messageDialog.html",'<div class="console-message-dialog"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" aria-hidden="true">&times;</button><h5 class="modal-title">{{ dialogTitle }}</h5></div><div class="modal-body clearfix"><div class="col-sm-1 text-center"><span class="text-size-32" ng-class="iconClass"></span></div><div class="col-sm-11 breakall"><p ng-bind-html="message"></p></div></div><div class="modal-footer"><button ng-repeat="btn in buttons" ng-click="eventHandler(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button></div></div>'),e.put("scripts/expenseCenter/base/partials/simpleFormDialog.html",'<div><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" aria-hidden="true">&times;</button><h5 class="modal-title">{{dialogTitle}}</h5></div><div class="modal-body"><div simple-form name="dialogForm" result="viewModel" options="formOptions" fields="formFields"></div></div><div class="modal-footer"><button class="btn btn-primary" ng-disabled="dialogForm.$invalid" data-ng-click="doAction()">确定</button> <button class="btn btn-default" data-ng-click="close(false)">取消</button></div></div>'),e.put("scripts/expenseCenter/base/partials/simpleTab.html",'<ul class="nav nav-tabs"><li ng-repeat="item in tabItems" ng-class="{\'active\': $index == tabCurrentIndex}" ng-click="selectItem(item)"><a ng-if="item.uiSref" aliyun-console-spm="{{item.spmId}}" ui-sref="{{item.uiSref}}" href="javascript:;" data-toggle="tab">{{ item.text }}</a> <a ng-if="!item.uiSref" href="javascript:;" data-toggle="tab">{{ item.text }}</a></li></ul>'),e.put("scripts/expenseCenter/base/partials/stateParamSelector.html",'<ul class="nav nav-pills"><li data-ng-class="{\'active\': paramItem.param == currentParam}" data-ng-repeat="paramItem in paramsModel"><a aliyun-console-spm="{{$index+1}}" href="javascript:;" data-ng-disabled="checkDisable(paramItem)" data-ng-click="changeState(paramItem.param)">{{paramItem.name}}</a><span data-ng-if="paramItem.specialInfo" data-ng-bind="paramItem.specialInfo.value"></span></li></ul>'),e.put("scripts/expenseCenter/base/partials/stepBar.html",'<div style="margin: 16px 0" class="console-step row"><div class="step col-md-{{12/steps.length}}" ng-repeat="step in steps" ng-class="{\'step-first\': $first, \'step-end\': $last, \'step-active\': step.isCurrent, \'step-pass\': step.isPass}"><span>{{step.title}}</span></div></div>'),e.put("scripts/expenseCenter/base/partials/stepView.html",'<div step-bar current-step="currentStep" steps="steps"></div><div ng-repeat="stepView in steps"><div ng-if="$index == currentStep" sub-view sub-view-controller="{{stepView.controller}}" sub-view-include="\'{{stepView.templateUrl}}\'"></div></div>'),e.put("scripts/expenseCenter/base/partials/timeSelectPicker.html",'<div class="time-select-picker clearfix"><div date-select-unit min="min" max="endDate" date="startDate" init-time="initTime" show-date="{{showDate}}" show-time="{{showTime}}" display-mode="{{displayMode}}" class="date-select-unit clearfix inline-block" hour-only="hourOnly"></div><span class="date-step-span">&nbsp;至&nbsp;</span><div date-select-unit min="startDate" max="max" date="endDate" init-time="initTime" show-date="{{showDate}}" show-time="{{showTime}}" display-mode="{{displayMode}}" class="date-select-unit clearfix inline-block" hour-only="hourOnly"></div></div>')}])}),function(){"use strict";var e=angular.module("pasvaz.bindonce",[]);e.directive("bindonce",function(){var e=function(e){if(e&&e.length!==0){var t=angular.lowercase(""+e);e=t!=="f"&&t!=="0"&&t!=="false"&&t!=="no"&&t!=="n"&&t!=="[]"}else e=!1;return e},t=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(t)&&(t=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var n={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(n,r,i,s){var o=function(t,n,r){var i=n==="show"?"":"none",s=n==="hide"?"":"none";t.css("display",e(r)?i:s)},u=function(e,t){if(angular.isObject(t)&&!angular.isArray(t)){var n=[];angular.forEach(t,function(e,t){e&&n.push(t)}),t=n}t&&e.addClass(angular.isArray(t)?t.join(" "):t)},a={watcherRemover:undefined,binders:[],group:i.boName,element:r,ran:!1,addBinder:function(e){this.binders.push(e),this.ran&&this.runBinders()},setupWatcher:function(e){var t=this;this.watcherRemover=n.$watch(e,function(e){if(e===undefined)return;t.removeWatcher(),t.runBinders()},!0)},removeWatcher:function(){this.watcherRemover!==undefined&&(this.watcherRemover(),this.watcherRemover=undefined)},runBinders:function(){while(this.binders.length>0){var n=this.binders.shift();if(this.group&&this.group!=n.group)continue;var r=n.scope.$eval(n.interpolate?s(n.value):n.value);switch(n.attr){case"boIf":e(r)&&n.transclude(n.scope.$new(),function(e){var t=n.element.parent(),r=n.element&&n.element[n.element.length-1],i=t&&t[0]||r&&r.parentNode,s=r&&r.nextSibling||null;angular.forEach(e,function(e){i.insertBefore(e,s)})});break;case"boSwitch":var i,a=n.controller[0];if(i=a.cases["!"+r]||a.cases["?"])n.scope.$eval(n.attrs.change),angular.forEach(i,function(e){e.transclude(n.scope.$new(),function(t){var n=e.element.parent(),r=e.element&&e.element[e.element.length-1],i=n&&n[0]||r&&r.parentNode,s=r&&r.nextSibling||null;angular.forEach(t,function(e){i.insertBefore(e,s)})})});break;case"boSwitchWhen":var f=n.controller[0];f.cases["!"+n.attrs.boSwitchWhen]=f.cases["!"+n.attrs.boSwitchWhen]||[],f.cases["!"+n.attrs.boSwitchWhen].push({transclude:n.transclude,element:n.element});break;case"boSwitchDefault":var f=n.controller[0];f.cases["?"]=f.cases["?"]||[],f.cases["?"].push({transclude:n.transclude,element:n.element});break;case"hide":case"show":o(n.element,n.attr,r);break;case"class":u(n.element,r);break;case"text":n.element.text(r);break;case"html":n.element.html(r);break;case"style":n.element.css(r);break;case"src":n.element.attr(n.attr,r),t&&n.element.prop("src",r);break;case"attr":angular.forEach(n.attrs,function(e,t){var r,i;t.match(/^boAttr./)&&n.attrs[t]&&(r=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.scope.$eval(n.attrs[t]),n.element.attr(r,i))});break;case"href":case"alt":case"title":case"id":case"value":n.element.attr(n.attr,r)}}this.ran=!0}};return a}],link:function(e,t,n,r){var i=n.bindonce?e.$eval(n.bindonce):!0;i!==undefined?i.then&&typeof i.then=="function"?i.then(function(){r.runBinders()}):r.runBinders():(r.setupWatcher(n.bindonce),t.bind("$destroy",r.removeWatcher))}};return n}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){var n=200;return e.directive(t.directiveName,function(){var e={priority:t.priority||n,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(e,n,r){return function(e,n,i,s){var o=s[0],u=i.boParent;if(u&&o.group!==u){var a=o.element.parent();o=undefined;var f;while(a[0].nodeType!==9&&a.length){if((f=a.data("$bindonceController"))&&f.group===u){o=f;break}a=a.parent()}if(!o)throw new Error("No bindonce controller: "+u)}o.addBinder({element:n,attr:t.attribute||t.directiveName,attrs:i,value:i[t.directiveName],interpolate:t.interpolate,group:u,transclude:r,controller:s.slice(1),scope:e})}}};return e})})}(),define("bindonce",["angular"],function(){}),angular.module("aliyun.console.common.tpl",["scripts/template/loadItemGrid.html","scripts/template/aliyunInstanceSelector.html","scripts/template/aliyunMiddlePage.html","scripts/template/aliyunRiskService.html","scripts/template/aliyunSetReleaseTime.html","scripts/template/commonInnerDetailPage.html","scripts/template/commonNormalPage.html","scripts/template/commonSideMenuPage.html","scripts/template/consoleAside.html","scripts/template/consolePagination.html","scripts/template/drcloudLink.html","scripts/template/feedback.html","scripts/template/formFields/formly-field-checkbox.html","scripts/template/formFields/formly-field-date.html","scripts/template/formFields/formly-field-email.html","scripts/template/formFields/formly-field-hidden.html","scripts/template/formFields/formly-field-number.html","scripts/template/formFields/formly-field-password.html","scripts/template/formFields/formly-field-radio.html","scripts/template/formFields/formly-field-select.html","scripts/template/formFields/formly-field-static.html","scripts/template/formFields/formly-field-submit.html","scripts/template/formFields/formly-field-text.html","scripts/template/formFields/formly-field-textarea.html","scripts/template/formFields/simpleForm.html","scripts/template/globalNotice.html","scripts/template/globalSearch.html","scripts/template/guideDialog.html","scripts/template/itemCreator.html","scripts/template/itemGrid.html","scripts/template/listSelector.html","scripts/template/message.html","scripts/template/messageWithDiagnose.html","scripts/template/navbar.html","scripts/template/numberSpinner.html","scripts/template/popover2.html","scripts/template/productNav.html","scripts/template/rankSelect.html","scripts/template/rds/backupSetting.html","scripts/template/rds/backupSettingDialog.html","scripts/template/regionSwitcher.html","scripts/template/regionbar.html","scripts/template/riskControlVerify.html","scripts/template/searchBar.html","scripts/template/sideBar.html","scripts/template/sidebarManage.html","scripts/template/sidebarTooltipPopup.html","scripts/template/simpleChart.html","scripts/template/simpleChartD3.html","scripts/template/simpleGrid.html","scripts/template/simpleLoading.html","scripts/template/steps.html","scripts/template/tableSearch.html","scripts/template/tagEdit.html","scripts/template/tagEditInput.html","scripts/template/tagEditSelect.html","scripts/template/tagEditWithDialog.html","scripts/template/tagSelect.html","scripts/template/tagSelectView.html","scripts/template/test.html","scripts/template/tooltip2.html","scripts/template/topbar.html","scripts/template/topbarAlpha.html","scripts/template/topbarBeta.html","scripts/template/topbarHelp.html","scripts/template/topbarRegion.html","scripts/template/topbarSearch.html","scripts/template/viewFramework.html"]),angular.module("scripts/template/loadItemGrid.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/loadItemGrid.html",'<div aliyun-simple-grid columns="gridModel.columns" store="itemList" refresh-grid-view="gridModel.config.refreshGridView" loading-state="loadingState" render-table="updateTableData(data)" pagination-info="pageInfo" config="gridModel.config" max-size="maxSize"></div>')}]),angular.module("scripts/template/aliyunInstanceSelector.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/aliyunInstanceSelector.html",'<input type="hidden" ui-select2="select2Options" name="{{options.uniqueId}}" ng-model="select2Model" class="bigdrop form-select" style="width: 220px">')}]),angular.module("scripts/template/aliyunMiddlePage.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/aliyunMiddlePage.html",'<div class="console-middle-page row"><div class="col-md-1 col-md-offset-1 console-middle-page-icon"><span ng-if="config.productId" class="product-icons-48 product-icons-{{config.productId}}{{config.isBright?\'\':\'-grey\'}}"></span></div><div class="col-md-8"><h2 class="console-middle-page-title" ng-bind-html="config.productTitle"></h2><div class="console-middle-page-text"><p ng-if="config.description" ng-bind-html="config.description"></p><p ng-if="config.button"><a href="{{config.button.href}}" class="btn btn-primary" target="{{config.button.target || \'_blank\'}}" ng-bind-html="config.button.text"></a></p></div><div class="console-middle-page-link" ng-if="config.links"><p ng-if="config.extraDescription" ng-bind-html="config.extraDescription"></p><a ng-repeat="link in config.links" href="{{link.href}}" target="{{link.target || \'_blank\'}}">{{link.text}}</a></div></div></div>')}]),angular.module("scripts/template/aliyunRiskService.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/aliyunRiskService.html",'<div><form role="form" name="form" novalidate autocomplete="off"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" z-index="-1" aria-hidden="true" ng-click="close()">×</button><h5 class="modal-title">{{verifyType?verifyInfo.title:messages["verifyType.title"]}}</h5></div><div class="modal-body clearfix"><div ng-if="!verifyType"><div class="col-sm-1 text-center"><span class="text-size-32 icon-warning-1 text-warning"></span></div><div class="col-sm-11 breakall"><h4 style="margin: 6px 0 14px 0">{{messages["verifyType.article"]}}</h4><p>{{messages["verifyType.message"]}}</p></div></div><div ng-if="verifyType"><div><div class="form-horizontal margin-top-1"><div class="form-group"><label for="" class="col-sm-4 control-label">{{verifyInfo.detailDescription}}</label><div class="col-sm-8" style="padding-left:0"><div class="form-control-static" ng-if="verifyDetailValid" style="padding-top: 6px"><span ng-if="verifyDetail" ng-bind="verifyDetail" class="margin-right-1" style="font-size: medium;font-family: monospace"></span> <span class="text-muted">(<a style="padding:0 2px" href="{{urls.modifyContactUrl}}" target="_blank" ng-bind="verifyInfo.changeDescription"></a>)</span></div><div class="form-control-static" ng-if="!verifyDetailValid">{{verifyInfo.bindDescription}}</div></div></div><div class="form-group" style="margin-bottom:0px"><label for="verifyCode" class="col-sm-4 control-label"><span class="text-danger" style="font-family: monospace">&nbsp;*</span> {{messages["verifyCode"]}}</label><div class="col-sm-8" style="padding-left:0"><input type="text" name="verifyCode" class="form-control inline-block" size="8" id="verifyCode" ng-model="formData.verifyCode" ng-disabled="!verifyDetailValid" ng-required="true" ng-minlength="4" ng-maxlength="12" ng-pattern="/^\\d+$/"> <button ng-if="verifyType != \'ga\'" type="button" class="btn btn-default margin-left-1" ng-disabled="!verifyDetailValid || disableVerifyButton" data-ng-click="getVerifyCode()">{{riskControlVerifyCodeTimeout > 0 ? riskControlVerifyCodeTimeout+messages["verifyCode.resend"] :messages["verifyCode.send"]}}</button><div class="margin-top" style="height:17px"><span class="text-danger" ng-bind="verifyErrMsg"></span> <span ng-show="form.verifyCode.$dirty && form.verifyCode.$invalid && form.verifyCode.$error.required" class="text-danger">{{messages["verifyCode.required"]}}</span> <span ng-show="form.verifyCode.$dirty && form.verifyCode.$invalid && (form.verifyCode.$error.minlength || form.verifyCode.$error.maxlength || form.verifyCode.$error.pattern)" class="text-danger">{{messages["verifyCode.invalid"]}}</span></div></div></div></div></div></div></div><div class="modal-footer"><button ng-if="verifyType && verifyDetailValid" type="button" ng-disabled="isSubmit || form.$invalid" class="btn btn-primary" ng-click="submit()">{{messages["common.lb.confirm"]}}</button> <a ng-if="!verifyType" href="{{urls.setUserVerifyType}}" target="_blank" ng-click="setProcess()" class="btn btn-primary">{{messages["verifyType.confirm"]}}</a> <a ng-if="!verifyDetailValid" href="{{urls.modifyContactUrl}}" target="_blank" ng-click="setProcess()" class="btn btn-primary">{{messages["verifyType.confirm"]}}</a> <button type="button" class="btn btn-default" ng-click="close()">{{messages["common.lb.cancel"]}}</button></div></form></div>')}]),angular.module("scripts/template/aliyunSetReleaseTime.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/aliyunSetReleaseTime.html",'<div class="form-group"><label class="col-md-3 control-label"><span class="text-danger">*</span>{{gLabels.LB_RELEASE_ACTION}}</label><div class="col-md-7"><div class="radio radio-inline col-sm-4"><label><input type="radio" name="releaseAction" ng-model="viewModel.actionType" value="now" checked="checked"> {{gLabels.VAL_RELEASE_NOW}}</label></div><div ng-hide="viewModel.hideSetTime" class="radio radio-inline"><label><input type="radio" name="actionType" ng-model="viewModel.actionType" value="later" checked="checked"> {{gLabels.VAL_RELEASE_SET_TIME}}</label></div></div></div><div ng-show="viewModel.actionType == \'later\'"><div class="form-group"><label class="col-md-3 control-label">{{gLabels.LB_RELEASE_SET_TIME}}</label><div class="col-md-7"><div class="form-control-static"><input type="checkbox" aliyun-on-off ng-model="viewModel.releaseDisable"></div></div></div><div class="form-group"><label for="releaseDate" class="col-md-3 control-label"><span class="text-danger">*</span>{{gLabels.LB_RELEASE_DATE}}</label><div class="col-md-7"><p class="input-group"><input type="text" class="form-control datepicker-readonly" datepicker-popup="yyyy-MM-dd" ng-model="viewModel.releaseDate" is-open="viewModel.opened" min="viewModel.minDate" max="viewModel.maxDate" datepicker-options="dateOptions" show-button-bar="false" ng-required="true" ng-disabled="!viewModel.releaseDisable" id="releaseDate" name="releaseDate" readonly="readonly"> <span class="input-group-btn"><button class="btn btn-default" ng-click="open($event)" ng-disabled="!viewModel.releaseDisable"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="form-group"><label class="col-md-3 control-label"><span class="text-danger">*</span>{{gLabels.LB_RELEASE_TIME}}</label><div class="col-md-7"><div ng-model="viewModel.releaseTime" ng-required=""><div timepicker show-meridian="false" ng-disabled="!viewModel.releaseDisable"></div></div><div class="error help-block" ng-show="form.releaseDate.$dirty && form.$invalid"><small class="error text-danger">{{gLabels.ERR_RELEASE_TIME_INVALID}}</small></div><div class="error help-block" ng-show="viewModel.dateErrInfo"><small class="error text-danger">{{gLabels.ERR_RELEASE_TIME}}</small></div></div></div><div class="row"><div class="col-md-11 col-md-offset-1"><div class="alert alert-info"><span>{{gLabels.TIP_TITLE}}</span><ul><li>{{gLabels.TIP_RELEASE_TIME}}</li><li ng-show="viewModel.showTip">{{gLabels.TIP_RELEASE_TIME2}}</li></ul></div></div></div></div>')}]),angular.module("scripts/template/commonInnerDetailPage.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/commonInnerDetailPage.html",'<div class="row" bindonce><div class="console-instance-head clearfix"><div class="pull-left"><h3 class="instance-id"><span class="<%=viewModel.iconClass%>" style="margin-left:15px"></span> <span aliyun-truncate-text text-length="14" tooltip-placement="bottom" source-text="{{viewModel.pageTitle}}"></span></h3><a ng-if="viewModel.parentState" ui-sref="{{viewModel.parentState}}()" class="btn btn-xs btn-toinstlist" href="javascript:;" aliyun-console-spm spm-id="1"><span class="icon-goback" aliyun-console-spm spm-id="1"></span>返回{{viewModel.parentName}}</a></div></div><div class="col-sm-12"><div ng-if="viewModel.subTitle" class="console-title clearfix"><div class="pull-left"><h5>{{viewModel.subTitle}}</h5></div></div><div><div component-layout layout-config="viewModel.layoutConfig"></div><!--  <div ng-repeat="component in viewModel.bizComponents">\n        <div biz-component biz-component-model="component" ></div>\n      </div> --></div></div></div><div ng-hide="!loadingState" aliyun-loading size="48" style="margin-top:100px"></div>')}]),angular.module("scripts/template/commonNormalPage.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/commonNormalPage.html",'<div ui-view><div class="row" bindonce><div class="col-sm-12"><div ng-if="viewModel.pageTitle" class="console-title clearfix"><div class="pull-left"><h5>{{viewModel.pageTitle}}</h5></div></div><div><div component-layout layout-config="viewModel.layoutConfig"></div><!-- <div ng-repeat="component in viewModel.bizComponents">\n          <div biz-component biz-component-model="component" ></div>\n        </div> --></div></div></div><div ng-hide="!loadingState" aliyun-loading size="48" style="margin-top:100px"></div></div>')}]),angular.module("scripts/template/commonSideMenuPage.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/commonSideMenuPage.html",'<div class="row" bindonce><div class="col-sm-12"><div class="row" data-spm="105"><div class="col-sm-2"><div class="console-sidebar"><ul class="nav"><li ng-repeat="menuItem in viewModel.menuItems" ng-class="{active:$state.includes(\'{{menuItem.state}}\')}"><a ui-sref="{{menuItem.state}}()" aliyun-console-spm href="javascript:;" spm-id="1">{{menuItem.text}}</a></li></ul></div></div><div class="col-sm-10"><div ng-if="!loadingState"><div console-ui-view="{{viewModel.subUiViewName}}"></div></div></div></div></div></div><div ng-hide="!loadingState" aliyun-loading size="48" style="margin-top:64px"></div>')}]),angular.module("scripts/template/consoleAside.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/consoleAside.html",'<div class="console-aside-wrap"><div class="console-aside"></div></div>')}]),angular.module("scripts/template/consolePagination.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/consolePagination.html",'<div><div class="pagination-info" ng-hide="paginationInfo.tipHide"><span>{{i18nMessage.total}}{{paginationInfo.total}}{{i18nMessage.item}}</span>， <span ng-hide="paginationInfo.pageSizeSetting">{{i18nMessage.perPage}}{{paginationInfo.pageSize}}{{i18nMessage.item}}</span> <span ng-show="paginationInfo.pageSizeSetting">{{i18nMessage.perPage}}<select ng-model="paginationInfo.pageSize" ng-options="option.value as option.name for option in paginationInfo.pageSizeSetting"></select>{{i18nMessage.item}}</span></div><div ng-show="paginationInfo.total" on-select-page="pageChangedHandler(page)" pagination boundary-links="true" max-size="maxSize" total-items="paginationInfo.total" page="paginationInfo.page" items-per-page="paginationInfo.pageSize" class="pagination" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" previous-title="dfdfdfd"></div><span data-ng-show="paginationInfo.showPageGoto" style="padding-left: 15px;padding-right: 15px"><input type="text" data-ng-model="pageGoto" class="form-control" aliyun-number-range value-min="1" value-max="{{paginationInfo.totalPage}}" style="width: 40px; display: inline-block; padding-right: 5px"> <button class="btn btn-default" style="padding: 8px 8px;margin-left: 6px" data-ng-disabled="gotoPageBtnDisabled" data-ng-click="gotoPage()">GO</button></span></div>')}]),angular.module("scripts/template/drcloudLink.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/drcloudLink.html",'<div class="drcloud-link-container" ng-mouseover="mouseover()" ng-mouseleave="mouseout()" data-spm="7580"><a class="drcloud-link" href="https://drcloud.aliyun.com/" target="_blank"><span class="mid-helper"></span> <span ng-if="!isOnHover">{{i18nMessage[\'godrcloud\']}}</span> <span ng-if="isOnHover">{{i18nMessage[\'title\']}}</span></a></div>')}]),angular.module("scripts/template/feedback.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/feedback.html",'<div class="feedback-container" data-spm="758"><div class="feedback-trigger" ng-click="open();" data-spm-click="gostr=/aliyun;locaid=d0"><span class="feedback-trigger-text">打开反馈</span> <span class="feedback-trigger-icon"><i class="icon-feedback"></i></span></div><div class="feedback" ng-if="formPanel"><div class="feedback-panel"><div class="feedback-title"><h1>控制台意见反馈</h1><span ng-click="close()" class="feedback-close"><i class="icon-no"></i></span></div><div class="feedback-content"><h2><span class="must">*</span> 反馈内容（必填）</h2><textarea ng-model="feedback.content" placeholder="欢迎提出您在使用管理控制台过程中遇到的问题或对管理控制台的宝贵意见(400字以内)，感谢您的支持。"></textarea><div class="feedback-content-count"><span ng-show="checkContent()">还可以输入<span ng-bind="400-feedback.content.length"></span>个字符</span> <span ng-show="!checkContent()" style="color:red">已经超过<span ng-bind="feedback.content.length - 400"></span></span></div></div><div class="feedback-contact"><h2>联系邮箱</h2><input placeholder="请留下您的联系邮箱，以便我们及时回复您" ng-model="feedback.email" ng-change="checkEmail()"> <span ng-show="emailError" class="inputError">邮箱格式有误，可能无法回复您</span></div><div class="feedback-footer"><a class="submit-btn disabled" ng-show="!(feedback.content && 400-feedback.content.length > 0)">提交</a> <a class="submit-btn" ng-show="feedback.content && 400-feedback.content.length > 0" ng-click="postFeedback()" href="javascript:;">提交</a></div></div></div><div class="feedback" ng-if="resultPanel"><div class="feedback-panel"><div class="feedback-content"><div class="feedback-title"><h1>控制台意见反馈</h1><span ng-click="close();" class="feedback-close"><i class="icon-no"></i></span></div><div style="margin: 30px 0 30px"><span class="feedback-check"><i class="icon-yes-1"></i></span> <a class="thanks">感谢您的反馈</a></div><div class="feedback-footer"><a class="submit-btn" ng-click="close();">确定</a></div></div></div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-checkbox.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-checkbox.html",'<div class="form-group"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Checkbox\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="checkbox checkbox-inline" ng-repeat="item in options.options"><label><input id="{{id}}.{{item.value}}" type="checkbox" ng-model="result[options.key][item.value]" formly-dynamic-name="options.key" ng-required="options.field_required" ng-disabled="options.field_disabled"> <span>{{item.name}}</span></label></div><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div>')}]),angular.module("scripts/template/formFields/formly-field-date.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-date.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}} clearfix"><div class="pull-left" ng-style="{ \'width\' : options.endKey ? \'45%\' : \'100%\'}"><input type="text" class="form-control" id="{{id}}_start" datepicker-popup="yyyy-MM-dd" min="options.startOptions.min" max="options.startOptions.max" show-button-bar="options.startOptions.showButtonBar" show-weeks="options.startOptions.showWeeks" formly-dynamic-name="options.startKey" placeholder="{{options.startOptions.placeholder}}" ng-required="options.startOptions.required" ng-disabled="options.startOptions.disabled" ng-model="result[options.startKey || index]" ng-if="options.startKey"></div><div style="width:10%;text-align:center;top:7px;position:relative" class="pull-left" ng-if="options.endKey">-</div><div class="pull-left" style="width:45%" ng-if="options.endKey"><input type="text" class="form-control" style="display:inline" id="{{id}}_end" min="result[options.startKey || index]" max="options.endOptions.max" datepicker-popup="yyyy-MM-dd" show-button-bar="options.endOptions.showButtonBar" show-weeks="options.endOptions.showWeeks" formly-dynamic-name="options.endKey" placeholder="{{options.endOptions.placeholder}}" ng-required="options.endOptions.required" ng-disabled="options.endOptions.disabled" ng-model="result[options.endKey || index]"></div><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div>')}]),angular.module("scripts/template/formFields/formly-field-email.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-email.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Email\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="email" class="form-control" id="{{id}}" formly-dynamic-name="options.key" formly-custom-validation="options.validators" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div>')}]),angular.module("scripts/template/formFields/formly-field-hidden.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-hidden.html",'<input type="hidden" ng-value="result[options.key || index]">')}]),angular.module("scripts/template/formFields/formly-field-number.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-number.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Number\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="number" class="form-control" id="{{id}}" formly-dynamic-name="options.key" formly-custom-validation="options.validators" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" min="{{options.min}}" max="{{options.max}}" ng-minlength="{{options.minlength}}" ng-maxlength="{{options.maxlength}}" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="help-block" ng-repeat="valid in options.validators" ng-show="formScope[options.key].$dirty &&formScope[options.key].$error[valid.name || valid.validator.split(\'=\')[0]]">{{valid.errorMessage }}</div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-password.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-password.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Password\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="password" class="form-control" id="{{id}}" formly-dynamic-name="options.key" formly-custom-validation="options.validators" ng-required="options.required" ng-disabled="options.disabled" ng-trim="{{options.trimWhitespace || false}}" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="help-block" ng-repeat="valid in options.validators" ng-show="formScope[options.key].$dirty &&formScope[options.key].$error[valid.name || valid.validator.split(\'=\')[0]]">{{valid.errorMessage }}</div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-radio.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-radio.html",'<div class="form-group" ng-class="{\'has-error\': options.formField.$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'radio\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="radio radio-inline" ng-repeat="(key, option) in options.options"><label><input id="{{id}}.{{item.value}}" type="radio" formly-dynamic-name="options.key" formly-custom-validation="options.validators" ng-value="option.value" ng-required="options.required" ng-model="result[options.key]"> {{option.name}}</label><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-select.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-select.html",'<div class="form-group"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'select\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><select class="form-control" id="{{id}}" formly-dynamic-name="options.key" formly-custom-validation="options.validators" ng-model="result[options.key || index]" ng-required="options.required" ng-disabled="options.disabled" ng-options="option.value as option.name group by option.group for option in options.options"></select><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p></div></div>')}]),angular.module("scripts/template/formFields/formly-field-static.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-static.html",'<div class="form-group"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label || \'Text\'"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><div class="form-control-static">{{options.value}}</div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-submit.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-submit.html",'<div class="form-group simple-form-submit"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span ng-bind-html="options.label"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><button aliyun-console-spm="{{options.spmid || 1}}" type="submit" ng-disabled="formScope.$invalid" ng-click="onSubmit(result)" class="btn {{options.submitBtnClass || \'btn-primary\'}}">{{options.key || \'submit\'}}</button></div></div>')}]),angular.module("scripts/template/formFields/formly-field-text.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-text.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span ng-show="!!options.label" class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><input type="text" class="form-control" id="{{id}}" formly-dynamic-name="options.key" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]"><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="help-block" ng-repeat="valid in options.validators" ng-show="valid.errorMessage && formScope[options.key].$dirty && formScope[options.key].$error[ valid.name || (valid.validator.indexOf(\'ng\') == 0 ? (valid.validator.substring(2,3).toLowerCase() + valid.validator.split(\'=\')[0].slice(3))  : valid.validator.split(\'=\')[0]) ] ">{{valid.errorMessage }}</div></div></div>')}]),angular.module("scripts/template/formFields/formly-field-textarea.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/formly-field-textarea.html",'<div class="form-group" ng-class="{\'has-error\': formScope[options.key].$dirty && formScope[options.key].$invalid}"><label for="{{id}}" class="{{options.labelWidth || \'col-sm-2\'}} control-label"><span ng-show="!!options.label" class="text-danger">{{options.required ? \'*\' : \'\'}}</span> <span ng-bind-html="options.label"></span></label><div class="{{options.formItemWidth || \'col-sm-4\'}}"><textarea type="text" class="form-control" id="{{id}}" formly-dynamic-name="options.key" formly-custom-validation="options.validators" rows="{{options.lines}}" placeholder="{{options.placeholder}}" ng-required="options.required" ng-disabled="options.disabled" ng-model="result[options.key || index]">\n    </textarea><p id="{{id}}_description" class="help-block" ng-if="options.description">{{options.description}}</p><div class="help-block" ng-repeat="valid in options.validators" ng-show="valid.errorMessage && formScope[options.key].$dirty && formScope[options.key].$error[ valid.name || (valid.validator.indexOf(\'ng\') == 0 ? (valid.validator.substring(2,3).toLowerCase() + valid.validator.split(\'=\')[0].slice(3))  : valid.validator.split(\'=\')[0])   ] ">{{valid.errorMessage }}</div></div></div>')}]),angular.module("scripts/template/formFields/simpleForm.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/formFields/simpleForm.html",'<form simple-form-custom-attrs="{{options.attrs}}" class="{{options.formStyle || \'form-horizontal\'}}" id="{{options.uniqueFormId}}" role="form" novalidate><div class="simple-form-field" ng-class="{\'hide\': field.type == \'hidden\'}" formly-field ng-repeat="field in fields" on-submit-handle="onSubmit" options="field" form-scope="formOnParentScope" form-result="result" form-id="options.uniqueFormId" ng-if="!field.hide" ng-hide="field.display === false" index="$index"></div><div ng-transclude></div></form>')}]),angular.module("scripts/template/globalNotice.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/globalNotice.html",'<div class="console-global-notice"><div class="console-global-notice-nav clearfix" ng-if="notices.length > 1"><span ng-repeat="item in notices" ng-click="changeCurrentNotice(item)" ng-class="{\'active\':item.active}"></span></div><div class="console-global-notice-list" ng-show="notices && notices.length > 0"><div class="alert {{item.className}} console-global-notice-item" ng-repeat="item in notices" ng-show="item.active"><div class="clearfix console-global-notice-item-inner" ng-style="innerPaddingLeft"><div ng-bind-html="item.content" class="console-global-notice-content"></div><div class="console-global-notice-nomore"><a href="javascript:;" class="btn btn-default btn-xs" ng-click="readNotice(item)">{{i18nMessage.ignore}}</a></div></div></div></div></div>')}]),angular.module("scripts/template/globalSearch.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/globalSearch.html",'<div class="console-search"><div class="console-search-ask" ng-class="{\'console-search-ask-active\':isActive}"><form name="form" role="form"><input class="console-search-ask-input" type="text" name="input" ng-model="askInput" ng-focus="activeInput()" placeholder="{{placeholderText}}" ng-blur="inactiveInput()" autocomplete="off"> <a target="_blank" ng-href="{{searchUrl+askInput}}" class="console-search-mark console-search-questionmark" aliyun-console-spm spm-id="9"><span class="icon-search"></span></a></form></div></div>')}]),angular.module("scripts/template/guideDialog.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/guideDialog.html",'<div data-spm="{{options.dataSpm}}"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" z-index="-1" data-ng-click="close(false)" aria-hidden="true">&times;</button><h5 class="modal-title">{{i18nMessage.dialog_title}}</h5></div><div class="modal-body clearfix"><div carousel><div slide ng-repeat="slide in slides"><img ng-src="{{slide.image}}" style="margin:auto"><div class="carousel-caption"><p>{{slide.text}}</p></div><div class="console-guide-dialog-link" ng-if="slide.link"><a target="{{slide.target || \'_blank\'}}" href="{{slide.link}}" aliyun-console-spm="1{{$index}}">{{i18nMessage.dialog_detail}}</a></div></div></div></div><div class="modal-footer"><button ng-click="ignoreCallback(this)" class="btn btn-default" aliyun-console-spm="1">{{i18nMessage.dialog_ignore}}</button> <button ng-click="noDisplayCallback(this)" class="btn btn-default" aliyun-console-spm="2">{{options.noDisplayButtonText}}</button></div></div>')}]),angular.module("scripts/template/itemCreator.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/itemCreator.html",'<div ng-if="viewModel.dialog"><div><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" z-index="-1" aria-hidden="true">&times;</button><h5 class="modal-title">{{viewData.title}}</h5></div><div class="modal-body clearfix"><div class="col-sm-12"><div html-form form-model="viewModel.formModel" form-invalid="viewModel.formInvalid" raw-data="rawData"></div></div></div><div class="modal-footer" bindonce><button ng-click="eventHandler(true)" ng-disabled="viewModel.formInvalid || formIsSubmiting" class="btn btn-primary" bo-text="i18n.ok"><!-- 确定 --></button> <button ng-click="close()" class="btn btn-default" bo-text="i18n.cancel"><!-- 取消 --></button></div></div></div><div ng-if="!viewModel.dialog"><div html-form form-model="viewModel.formModel" form-invalid="viewModel.formInvalid" raw-data="rawData"></div><div class="modal-footer" bindonce><button ng-click="viewModel.submitForm()" ng-disabled="viewModel.formInvalid || formIsSubmiting" class="btn btn-primary" bo-text="i18n.ok"><!-- 确定 --></button></div></div>')}]),angular.module("scripts/template/itemGrid.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/itemGrid.html",'<div aliyun-simple-grid selection-change="onSelectionChange(data)" columns="gridModel.columns" store="itemList" refresh-grid-view="gridModel.config.refreshGridView" loading-state="loadingState" render-table="updateTableData(data)" search-pre-handler="onBeforeSearch(data)" pagination-info="pageInfo" config="gridModel.config"></div>')}]),angular.module("scripts/template/listSelector.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/listSelector.html",'<div class="list-selector"><div class="selector-box"><div>{{labels.left}}</div><div class="selector inner-wrap"><div class="inner-head"><input type="text" ng-model="searchKey" placeholder="{{labels.searchPlaceholder}}"> <span class="glyphicon glyphicon-search search" ng-click="search()"></span></div><div class="inner-body" aliyun-selector list="list1" value="list1Selected" multi="true" listwatch="true" status="status" load-more="loadMore()"></div></div></div><div class="selector-mid"><button class="mid-box mid-margin btn btn-default" ng-click="add()" ng-disabled="list1Selected.length<1">&gt</button> <button class="mid-box btn btn-default" ng-click="remove()" ng-disabled="list2Selected.length<1">&lt</button></div><div class="selector-box"><div>{{labels.right}}</div><div class="selector inner-wrap"><div class="inner-body2" aliyun-selector list="list2" value="list2Selected" multi="true" listwatch="true"></div></div></div></div>')}]),angular.module("scripts/template/message.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/message.html",'<div class="console-message-dialog"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" z-index="-1" aria-hidden="true">&times;</button><h5 class="modal-title">{{ title }}</h5></div><div class="modal-body clearfix"><div class="col-sm-1 text-center"><span class="text-size-32" ng-class="iconClass"></span></div><div class="col-sm-11 breakall"><p ng-bind-html="message"></p></div></div><div class="modal-footer"><button ng-repeat="btn in buttons" ng-click="eventHandler(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button></div></div>')}]),angular.module("scripts/template/messageWithDiagnose.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/messageWithDiagnose.html",'<div class="console-message-dialog"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" z-index="-1" aria-hidden="true">&times;</button><h5 class="modal-title">{{ title }}</h5></div><div class="modal-body clearfix"><div class="col-sm-1 text-center"><span class="text-size-32" ng-class="iconClass"></span></div><div class="col-sm-11 breakall"><p ng-bind-html="message"></p></div></div><div class="modal-footer"><button ng-repeat="btn in buttons" ng-click="eventHandler(btn.result)" class="btn" data-ng-disabled="{{btn.disableScopeKey}}" ng-class="btn.cssClass">{{ btn.label }}</button></div></div>')}]),angular.module("scripts/template/navbar.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/navbar.html",'<div class="navbar console-navbar" role="navigation"><div class="navbar-header"><a href="{{config.title.href}}" ng-if="config.title.href" target="{{config.title.target || \'_self\'}}" class="navbar-brand console-navbar-title {{config.title.className}}" aliyun-console-spm spm-id="11">{{config.title.text}}<span class="console-navbar-subtitle {{config.subtitle.className}}">{{config.subtitle.text}}</span></a> <a ui-sref="{{config.title.uiSref}}" ng-if="!config.title.href && config.title.uiSref" class="navbar-brand console-navbar-title {{config.title.className}}" aliyun-console-spm spm-id="11">{{config.title.text}}<span class="console-navbar-subtitle {{config.subtitle.className}}">{{config.subtitle.text}}</span></a> <a ng-if="!config.title.uiSref && !config.title.href" class="navbar-brand console-navbar-title {{config.title.className}} console-navbar-a-default" aliyun-console-spm spm-id="11">{{config.title.text}}<span class="console-navbar-subtitle {{config.subtitle.className}}">{{config.subtitle.text}}</span></a></div><div class="collapse navbar-collapse bs-navbar-collapse"><ul class="nav navbar-nav"><li ng-repeat="item in config.items" ng-class="{ active: checkIfActive(item) }"><a ng-if="item.href" href="{{item.href}}" target="{{item.target || \'_self\'}}" ng-bind-html="item.text" aliyun-console-spm spm-id="{{item.spm || \'10\'+$index}}"></a> <a ng-if="!item.href" ui-sref="{{item.router}}" ng-bind-html="item.text" aliyun-console-spm spm-id="{{item.spm || \'10\'+$index}}"></a></li></ul><div class="pull-right console-navbar-links"></div></div></div>')}]),angular.module("scripts/template/numberSpinner.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/numberSpinner.html",'<div class="console-number-spinner"><input type="text" ng-model="modelValue" ng-disabled="readonlyInput" class="form-control text-center" size="{{inputSize}}"><div class="console-number-spinner-action"><button data-ng-click="increase()" aria-label="{{i18nText.add}}" ng-disabled="readonlyInput" class="console-number-spinner-up"><span class="icon-up"></span></button> <button data-ng-click="decrease()" aria-label="{{i18nText.sub}}" ng-disabled="readonlyInput" class="console-number-spinner-down"><span class="icon-down"></span></button></div></div>')}]),angular.module("scripts/template/popover2.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/popover2.html",'<div class="popover {{placement}} in"><div class="arrow"></div><div class="popover-inner"><div ng-if="contentHtml == \'true\'" ng-bind-html="content"></div><div ng-if="contentHtml == \'false\'" ng-bind="content"></div><div class="popover-content"></div></div></div>')}]),angular.module("scripts/template/productNav.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/productNav.html",'<div bindonce class="product-nav-stage" ng-show="navScene" ng-class="{\'product-nav-stage-main\':navScene==\'main\',\'product-nav-stage-sub\':navScene==\'sub\'}"><div class="product-nav-scene product-nav-main-scene"><div ng-if="config.titleClickHandler == undefined" class="product-nav-title" id="nav-title" aliyun-truncate-text source-text="{{config.title}}" is-unicode-length="true" text-length="20"></div><div ng-if="config.titleClickHandler != undefined" class="product-nav-title" style="cursor: pointer" id="nav-title" ng-bind="config.title" ng-click="config.titleClickHandler()"></div><!-- 自定义内容插入点，比如商标、logo --><div customized-content></div><div class="product-nav-list"><ul role="tree" aria-labelledby="nav-title"><li ng-repeat="item in config.mainNav" class="{{item.cls}}" ng-class="{\'active\':checkActive(item,\'main\')&&!item.showChild,\'nav-showchild\':item.showChild}" aliyun-console-spm="10{{$index}}"><div product-nav-link item="item"></div><ul ng-if="item.childs" ng-show="item.showChild" role="group"><li ng-repeat="childItem in item.childs" class="{{childItem.cls}}" ng-class="{active:checkActive(childItem,\'main\')}"><div product-nav-link item="childItem" aliyun-console-spm="10{{$parent.$index}}0{{$index}}"></div></li></ul></li></ul></div></div><div class="product-nav-scene product-nav-sub-scene"><div class="product-nav-title"><a href="javascript:;" class="nav-icon" title="{{i18nMessage[\'common.lb.back\']}}" ng-click="backNav()" ng-if="config.backNav" aliyun-console-spm="3"><span class="icon-left"></span></a></div><div class="product-nav-list"><ul role="tree"><li ng-repeat="item in config.subNav" class="{{item.cls}}" ng-class="{\'active\':checkActive(item,\'sub\')&&!item.showChild,\'nav-showchild\':item.showChild}" aliyun-console-spm="20{{$index}}"><div product-nav-link item="item"></div><ul ng-if="item.childs" ng-show="item.showChild" role="group"><li ng-repeat="childItem in item.childs" class="{{childItem.cls}}" ng-class="{active:checkActive(childItem,\'sub\')}"><div product-nav-link item="childItem" aliyun-console-spm="20{{$parent.$index}}0{{$index}}"></div></li></ul></li></ul></div></div></div>')}]),angular.module("scripts/template/rankSelect.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/rankSelect.html",'<div><!-- 	<div>\n		{{hoverRank}}\n	</div>\n	<hr> --><div class="console-rank-select" ng-mouseout="clean()"><span ng-repeat="i in range(max) track by $index" ng-click="active($index)" ng-mouseover="hover($index)" ng-class="{\'rank-active\':$index < ngModel,\'rank-hover\':$index < hoverRank}" class="rank-item glyphicon glyphicon-star"></span><!-- \n	class="rank-item glyphicon glyphicon-star"\n	 --></div></div>')}]),angular.module("scripts/template/rds/backupSetting.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/rds/backupSetting.html",'<div class="modal-body"><div ng-if="!backupSetting.BackupStatus && backupSettingConfig.field.backupStatus" class="pull-left col-padding col-sm-10"><div class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.autoBackup\']}}</label><div class="col-sm-8"><div aliyun-on-off ng-model="backupSetting.BackupStatus" change="changeBackupSwitch()" loading="loading"></div></div></div></div><div ng-if="backupSetting.BackupStatus || !backupSettingConfig.field.backupStatus" class="pull-left col-padding col-sm-10"><div ng-if="backupSettingConfig.field.backupStatus" class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.autoBackup\']}}</label><div class="col-sm-8"><div ng-if="!backupSetting.BackupStatus" aliyun-on-off ng-model="backupSetting.BackupStatus" change="changeBackupSwitch()" loading="loading"></div><span class="form-control-static">已开启</span></div></div><div class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.retentionPeriod\']}}</label><div class="col-sm-8"><div class="form-control-static">{{backupSetting.BackupRetentionPeriod}}</div></div></div><div class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.backupPeriod\']}}</label><div class="col-sm-8"><div class="form-control-static">{{backupSetting.PreferredBackupPeriod|backupSettingWeekDay}}</div></div></div><div class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.backupTime\']}}</label><div class="col-sm-8"><div class="form-control-static">{{backupSetting.PreferredBackupTime|backupSettingUtcHour}}</div></div></div><div class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.nextTime\']}}</label><div class="col-sm-8"><div class="form-control-static">{{backupSetting.PreferredNextBackupTime|date:\'yyyy-MM-dd HH:mm:ss\'}}</div></div></div><div ng-if="backupSettingConfig.field.backupLog" class="form-group clearfix"><label class="col-sm-2 control-label text-right">{{i18nMessage[\'backup.field.backupLog\']}}</label><div class="col-sm-8"><div class="form-control-static"><span ng-repeat="options in backupSettingConfig.BACKUP_LOG_OPTIONS" ng-if="backupSetting.BackupLog == options.value" class="text-{{options.class}}">{{options.text}}</span></div></div></div></div><div class="pull-left col-padding col-sm-10"><div class="form-group"><label class="col-sm-2 control-label text-right"></label><div class="col-sm-8"><button ng-if="backupSettingConfig" aliyun-console-spm="8" type="button" class="btn btn-primary" backup-restore-dialog backup-setting="backupSetting" backup-config="backupSettingConfig">{{i18nMessage[\'backup.button.edit\']}}</button></div></div></div></div>')}]),angular.module("scripts/template/rds/backupSettingDialog.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/rds/backupSettingDialog.html",'<div><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" aria-hidden="true">&times;</button><h5 class="modal-title">{{i18nMessage[\'backup.dialog.setting.title\']}}</h5></div><div class="modal-body"><form class="form-horizontal" name="backupSettingForm" role="form" novalidate><div ng-if="dialogForm.field.backupStatus" class="form-group"><label class="col-sm-3 control-label">{{i18nMessage[\'backup.field.autoBackup\']}}</label><div class="col-sm-7"><div aliyun-on-off ng-model="dialogForm.backupStatus" change="closeBackup()"></div></div></div><div class="form-group"><label class="col-sm-3 control-label">{{i18nMessage[\'backup.field.retentionPeriod\']}}</label><div class="col-sm-7"><label><input type="text" ng-model="dialogForm.retentionPeriod" class="form-control backup-switch-input" ng-disabled="dialogForm.field.disableRetentionPeriod">{{i18nMessage[\'backup.field.text.day\']}}</label><div class="help-block text-danger" ng-show="dialogForm.fieldInvalid.retentionPeriod">{{text.invalidRetentionPeriod}}</div></div></div><div class="form-group"><label class="col-sm-3 control-label">{{i18nMessage[\'backup.field.backupPeriod\']}}</label><div class="col-sm-7"><div class="checkbox checkbox-inline" data-ng-repeat="day in dialogForm.week"><label><input type="checkbox" ng-model="day.value" ng-disabled="dialogForm.field.disableWeek">{{i18nMessage[\'backup.weekday.\' + day.key]}}</label></div><div class="help-block text-danger" ng-show="dialogForm.fieldInvalid.week">{{text.invalidWeek}}</div></div></div><div class="form-group"><label class="col-sm-3 control-label">{{i18nMessage[\'backup.field.backupTime\']}}</label><div class="col-sm-7"><select class="form-control" data-ng-model="dialogForm.selectedTime" ng-options="hour.label for hour in dialogForm.time"></select></div></div><div ng-hide="dialogForm.field.disableCloseBackup || !dialogForm.field.backupLog" class="form-group"><label class="col-sm-3 control-label">{{i18nMessage[\'backup.field.backupLog\']}}</label><div class="col-sm-7"><span data-ng-repeat="switch in dialogForm.backupLogOptions" class="checkbox checkbox-inline"><label><input type="radio" ng-model="dialogForm.backupLog" ng-value="switch.value" class="margin-right"> {{switch.text}}</label></span></div></div><div ng-if="text.tipText" class="alert alert-warning"><span ng-bind-html="text.tipText"></span></div></form></div><div class="modal-footer"><button class="btn btn-primary" ng-disabled="dialogForm.invalid" data-ng-click="close(dialogForm)">{{i18nMessage[\'backup.button.confirm\']}}</button> <button class="btn btn-default" data-ng-click="close(false)">{{i18nMessage[\'backup.button.cancel\']}}</button></div></div>')}]),angular.module("scripts/template/regionSwitcher.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/regionSwitcher.html",'<div ng-class="{\'open\': isRegionOpen}" ng-if="showRegionSwitcher" class="topbar-region-switcher"><div class="topbar-btn" ng-click="toggleRegionDropdown($event)"><span><span class="icon-region {{activeRegionId}}"></span>{{activeRegionName}}</span> <span class="icon-arrow-down"></span></div><div class="topbar-region-dropdown" ng-class="{\'topbar-show\': isRegionOpen}"><div class="col col{{$index}}" ng-repeat="group in allRegions"><dl ng-repeat="region in group" class="{{region.className}}"><dt>{{region.label}}</dt><dd ng-repeat="item in region.children" ng-class="{\'disabled\': item.isDisabled, \'active\': item.isActive}" ng-click="setActiveRegionId(item.regionId, item)"><span class="icon-region {{item.regionId}} {{item.className}}"></span>{{item.label}}</dd></dl></div></div></div>')}]),angular.module("scripts/template/regionbar.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/regionbar.html",'<div class="aliyun-regionbar inline-block"><div ng-if="recentEnabledSwitch || vertical == \'true\'"><div class="regionbar-advanced"><div class="region-dropdown"><a href="javascript:;" class="region-dropdown-toggle region-length-limit" data-toggle="dropdown" aliyun-console-spm="3"><span class="region-icon-active"></span><span>{{viewContent}}</span><span class="icon-arrow-down"></span></a><div class="region-dropdown-menu"><div class="region-item" ng-class="{\'region-item-active\': activeRegionId == region.regionId}" data-ng-repeat="region in regionList"><a class="region-length-limit" ng-click="changeRegionId(region.regionId)" aliyun-console-spm="{{region.regionId}}"><span class="region-icon"></span><span>{{region.name}}</span></a></div></div></div><span class="region-recent-message" ng-if="recentEnabledSwitch && recentRegionList && recentRegionList.length > 0" ng-bind="recentMessage"></span><ul class="region-recent-list nav nav-pills inline-block" ng-if="recentEnabledSwitch && recentRegionList && recentRegionList.length > 0"><li ng-class="{\'active\': activeRegionId == regionId}" data-ng-repeat="regionId in recentRegionList"><a ng-click="changeRegionId(regionId, true)" aliyun-console-spm="recent{{regionId}}">{{regionListMap[regionId].name}}</a></li></ul></div></div><div ng-if="!(recentEnabledSwitch || vertical == \'true\')"><ul class="nav nav-pills"><li ng-class="{\'active\': activeRegionId == region.regionId, \'region-disabled\': region.disabled}" data-ng-repeat="region in regionList" tooltip="{{region.disabledMessage}}"><a ng-click="!region.disabled && changeRegionId(region.regionId)" aliyun-console-spm="{{region.regionId}}">{{region.name}}</a></li></ul></div></div>')}]),angular.module("scripts/template/riskControlVerify.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/riskControlVerify.html",'<div><form role="form" name="form" novalidate autocomplete="off"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" z-index="-1" aria-hidden="true" ng-click="close()">×</button><h5 class="modal-title">短信验证</h5></div><div class="modal-body clearfix"><div ng-if="!mobile"><div class="col-sm-1 text-center"><span class="text-size-32 icon-warning-2 text-warning"></span></div><div class="col-sm-11 breakall"><p><strong>系统没有检测到您的手机号码！</strong></p><p>为了保障您的账户安全，请先绑定手机验证。</p></div></div><div ng-if="mobile">为了保护您的账户安全，请通过手机验证：<div class="form-horizontal margin-top-2"><div class="form-group"><label for="" class="col-sm-3 control-label">手机号码：</label><div class="col-sm-8"><div class="form-control-static" ng-if="mobile"><strong ng-bind="mobile"></strong> <button type="button" class="btn btn-default btn-sm margin-left-1" ng-disabled="disableVerifyButton" data-ng-click="getVerifyCode()">{{riskControlVerifyCodeTimeout > 0 ? riskControlVerifyCodeTimeout+\'秒后重发\' :\'发送校验码\'}}</button> <span class="text-muted margin-left-1">(<a href="{{urls.modifyMobile}}" target="_blank">更换手机号码</a>)</span></div><div class="form-control-static" ng-if="!mobile">系统没有检测到您的手机号码！为了保障您的账户安全，请先绑定手机验证。</div></div></div><div class="form-group"><label for="" class="col-sm-3 control-label">校验码：</label><div class="col-sm-8"><input type="text" name="verifyCode" class="form-control inline-block" size="8" ng-model="formData.verifyCode" ng-disabled="!mobile" ng-required="true" ng-minlength="4" ng-maxlength="12" ng-pattern="/^\\d+$/"> <span class="margin-left-1 text-danger" ng-bind="verifyErrMsg"></span> <span ng-show="form.verifyCode.$dirty && form.verifyCode.$invalid && form.verifyCode.$error.required" class="text-danger margin-left-1">校验码不能为空</span> <span ng-show="form.verifyCode.$dirty && form.verifyCode.$invalid && (form.verifyCode.$error.minlength || form.verifyCode.$error.maxlength || form.verifyCode.$error.pattern)" class="text-danger margin-left-1">校验码格式错误</span></div></div></div></div></div><div class="modal-footer"><button ng-if="mobile" type="button" ng-disabled="isSubmit || form.$invalid" class="btn btn-primary" ng-click="submit()">确认</button> <a ng-if="!mobile" href="{{urls.bindMobile}}" target="_blank" ng-click="bindMobile()" class="btn btn-primary">前往绑定手机</a> <button type="button" class="btn btn-default" ng-click="close()">取消</button></div></form></div>')}]),angular.module("scripts/template/searchBar.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/searchBar.html",'<div class="ecs-serverlist-search clearfix"><div class="pull-left"><form class="form-inline" role="form"><div class="form-group"><select class="form-control" ng-model="selectItem" ng-options="d.text for d in dimensions"></select></div><div ng-if="inputType == \'text\' || inputType == undefined" class="form-group"><input type="text" class="form-control console-searchbar-textinput" ng-model="searchForm.searchText" size="36" placeholder="{{selectItem.placeholder}}"></div><div ng-if="inputType == \'date\'" class="form-group"><div class="input-group"><input type="text" max="{{maxDate}}" class="form-control" show-weeks="false" show-button-bar="true" toggle-weeks-text="{{i18nMessage.week}}" current-text="{{i18nMessage.today}}" clear-text="{{i18nMessage.clear}}" close-text="{{i18nMessage.close}}" datepicker-popup="yyyy-MM-dd" ng-model="searchForm.searchText" size="20" is-open="formScope.opened"> <span class="input-group-btn" style="width:auto"><button class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div ng-if="inputType == \'select\'" class="form-group"></div><div ng-if="inputType == \'subSelect\'" class="form-group"><select class="form-control" ng-model="searchForm.subSelectSearchText" ng-options="d.text for d in selectItem.subSelectDimensions"></select></div><button type="submit" class="btn btn-primary" data-ng-click="search()" aliyun-console-spm spm-id="1001">{{i18nMessage.search}}</button></form></div></div>')}]),angular.module("scripts/template/sideBar.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/sideBar.html",'<div><div class="sidebar-inner" ng-if="!loadingState"><div ng-if="versionGreaterThan1_3_21" class="sidebar-fold" ng-class="{\'icon-unfold\': !isSidebarFold,\'icon-fold\':isSidebarFold}" ng-click="toggleSidebarStatus()" aliyun-console-spm="100"></div><div class="sidebar-nav main-nav" ng-class="{\'sidebar-nav-fold\':navConfig.product.folded}" ng-show="navConfig.product.show"><div class="sidebar-title" ng-click="toggleFoldStatus($event,navConfig.product)"><div class="sidebar-title-inner" sidebar-tooltip="{{type ==\'mini\'?navConfig.product.title:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><span class="sidebar-title-icon icon-arrow-down"></span><span class="sidebar-title-text" ng-bind="navConfig.product.title" aliyun-console-spm="101"></span> <span class="sidebar-manage" ng-show="navConfig.product.showManageButton" sidebar-tooltip="{{navConfig.product.popover}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true" aliyun-console-spm="102"><a class="icon-setup" aliyun-console-sidebar-manage picked-items="productPreference" items="products" type="product" requesturl="navConfig.requestUrl.setUserPreference" title="{{navConfig.product.dialogTitle}}" locale="{{locale}}" spm-id="{{spmId}}"></a></span></div></div><ul class="sidebar-trans" ng-style="{height:productHeight}"><li ng-repeat="item in productList track by $index" class="nav-item" ng-class="{\'active\':productId == item.productId}"><a href="{{item.link}}" class="sidebar-trans" aliyun-console-spm="10{{item.productId}}" sidebar-tooltip="{{type ==\'mini\'?item.name+\'&nbsp;\'+item.shortName:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><div class="nav-icon sidebar-trans"><span class="{{item.icon}}"></span></div><span class="nav-title">{{item.name}}&nbsp;{{item.shortName}}</span></a></li><li class="current-nav active nav-item" ng-if="productsMap[productId] && currentEntry"><a href="{{currentEntry.link}}" class="sidebar-trans" aliyun-console-spm="103" sidebar-tooltip="{{type ==\'mini\'?currentEntry.name+\'&nbsp\'+currentEntry.shortName:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><div class="nav-icon sidebar-trans"><span class="{{currentEntry.icon}}"></span></div><span class="nav-title">{{currentEntry.name}}&nbsp;{{currentEntry.shortName}}</span></a></li></ul></div><div class="sidebar-nav" ng-class="{\'sidebar-nav-fold\':navConfig.service.folded}" ng-show="navConfig.service.show"><div class="sidebar-title" ng-click="toggleFoldStatus($event,navConfig.service)"><div class="sidebar-title-inner" sidebar-tooltip="{{type ==\'mini\'?navConfig.service.title:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><span class="sidebar-title-icon"><span class="icon-arrow-down"></span></span><span class="sidebar-title-text" ng-bind="navConfig.service.title" aliyun-console-spm="201"></span> <span class="sidebar-manage" ng-show="navConfig.service.showManageButton" sidebar-tooltip="{{navConfig.service.popover}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true" aliyun-console-spm="202"><a class="icon-setup" aliyun-console-sidebar-manage picked-items="servicePreference" items="services" type="service" requesturl="navConfig.requestUrl.setUserPreference" title="{{navConfig.service.dialogTitle}}" locale="{{locale}}" spm-id="{{spmId}}"></a></span></div></div><ul class="entrance-nav sidebar-trans" ng-style="{height:serviceHeight}"><li ng-repeat="item in serviceList" class="nav-item" ng-class="{\'active\':productId == item.productId}"><a href="{{item.link}}" aliyun-console-spm="20{{item.productId}}" sidebar-tooltip="{{type ==\'mini\'?item.name + (item.isOldVersion?\'&nbsp;(\'+ messages[\'common.directive.sidebar.backToOld\']+\')\':\'\') : \'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><div class="nav-icon"><span class="{{item.icon}}"></span></div><span class="nav-title">{{item.name}}</span> <span class="nav-comment nav-comment-ho" ng-if="item.isOldVersion"><span class="icon-arrow-left"></span>{{messages[\'common.directive.sidebar.backToOld\']}}</span></a></li><li class="current-nav active nav-item" ng-if="servicesMap[productId] && currentEntry"><a href="{{currentEntry.link}}" class="sidebar-trans" aliyun-console-spm="203" sidebar-tooltip="{{type ==\'mini\'?currentEntry.name:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true"><div class="nav-icon sidebar-trans"><span class="{{currentEntry.icon}}"></span></div><span class="nav-title">{{currentEntry.name}}</span></a></li></ul></div></div><div class="sidebar-loading" ng-if="loadingState"></div></div>')}]),angular.module("scripts/template/sidebarManage.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/sidebarManage.html",'<div class="viewFramework-sidebar-manage" data-spm="{{spmId}}"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" z-index="-1" data-ng-click="close(false)" aria-hidden="true" aliyun-console-spm="301">&times;</button><h5 class="modal-title" ng-bind="title"></h5></div><div class="modal-body"><div class="sidebar-config-title" ng-bind="messages[\'common.directive.sidebarManage.pickedArea\']"></div><div class="sidebar-item-list sidebar-item-list-picked clearfix"><div class="sidebar-item-wrap" ng-repeat="item in pickedItems track by $index" ui-draggable="true" drag="item" on-drop-success="dropSuccessHandler($event,$data,$index,item)" ui-on-drop="onDrop($event, $data, $index, item)" ui-on-drag-over="dragover($index,item)"><div class="sidebar-item" aliyun-console-spm="301{{item}}"><span class="sidebar-item-icon {{allItemsMap[item].icon}}"></span> <span class="sidebar-item-text">{{allItemsMap[item].name}}&nbsp;{{allItemsMap[item].shortName}}</span> <span class="sidebar-item-opt-icon icon-no" ng-click="clickHandler(item)"></span></div></div></div><div class="sidebar-config-gap"></div><div class="sidebar-config-title" ng-bind="messages[\'common.directive.sidebarManage.allItems\']"></div><div class="sidebar-item-list clearfix"><div class="sidebar-item-wrap" ng-repeat="item in allItems track by $index" ng-hide="item.selected"><div class="sidebar-item" ng-class="{\'sidebar-product-selected\':item.selected}" ng-click="clickHandler(item.productId)" aliyun-console-spm="302{{item.productId}}"><span class="sidebar-item-icon {{item.icon}}"></span> <span class="sidebar-item-text">{{item.name}}&nbsp;{{item.shortName}}</span> <span class="sidebar-item-opt-icon icon-add"></span></div></div></div></div><div class="modal-footer"><button class="btn btn-primary" ng-if="pickedItems.length > 0" data-ng-click="setUserConfig()" aliyun-console-spm="402" ng-disabled="isLoadingState" ng-bind="messages[\'common.lb.confirm\']"></button><div class="inline-block margin-right" ng-if="pickedItems.length == 0" tooltip="{{messages[\'common.directive.sidebarManage.errorTooltip\']}}" tooltip-append-to-body="false"><button class="btn btn-primary" disabled="disabled" aliyun-console-spm="302" ng-bind="messages[\'common.lb.confirm\']"></button></div><button class="btn btn-default" data-ng-click="close(false)" aliyun-console-spm="303" ng-bind="messages[\'common.lb.cancel\']"></button></div></div>')}]),angular.module("scripts/template/sidebarTooltipPopup.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/sidebarTooltipPopup.html",'<div class="aliyun-console-sidebar-tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="content"></div></div>')}]),angular.module("scripts/template/simpleChart.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/simpleChart.html",'<div class="simple-chart" ng-class="{\'simple-chart-nowrap\':hasNoWrap}"><div class="simple-chart-head"><div class="simple-chart-head-title"></div><div class="simple-chart-operations"></div></div><div class="simple-chart-body" ng-hide="settings.showNoData"><div class="simple-chart-body-inner"><div aliyun-simple-loading ng-if="!chart" style="margin-top:16px"></div></div></div><div class="simple-chart-show-no-data" ng-show="settings.showNoData"></div><div class="simple-chart-annulus-center" ng-show="annulusMouseoverData && showAnnulusArea"><div class="simple-chart-annulus-number" style="color:{{annulusMouseoverData.color}}" ng-bind="annulusMouseoverData.viewValue"></div><div ng-bind="annulusMouseoverData.name"></div></div></div>')}]),angular.module("scripts/template/simpleChartD3.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/simpleChartD3.html",'<div class="simple-chart" ng-class="{\'simple-chart-nowrap\':hasNoWrap}"><div class="simple-chart-head"><div class="simple-chart-head-title"></div><div class="simple-chart-operations"></div></div><div class="simple-chart-body" ng-hide="settings.showNoData"><div class="simple-chart-body-inner"><div aliyun-console-chart-d3 config="options" disable-deep-watch-config="true"></div><!-- <div aliyun-simple-loading ng-if="!chart" style="margin-top:16px;"></div> --></div></div><div class="simple-chart-show-no-data" ng-show="settings.showNoData"></div><div class="simple-chart-annulus-center" ng-show="annulusMouseoverData && showAnnulusArea"><div class="simple-chart-annulus-number" style="color:{{annulusMouseoverData.color}}" ng-bind="annulusMouseoverData.viewValue"></div><div ng-bind="annulusMouseoverData.name"></div></div></div>')}]),angular.module("scripts/template/simpleGrid.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/simpleGrid.html",'<div><div class="clearfix"><div class="searchSection pull-left"></div><div class="tagSearchSection pull-left"></div></div><div class="gridSection"></div><div ng-show="loadingState" class="simple-grid-loading" aliyun-loading size="48" style="margin-top:100px"></div><div class="simple-grid-none-data-wrap"></div></div>')}]),angular.module("scripts/template/simpleLoading.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/simpleLoading.html",'<div class="simple-loading"><div class="simple-loading-inner simple-loading-{{type}}">Loading...</div></div>')}]),angular.module("scripts/template/steps.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/steps.html",'<div class="row" bindonce><div class="col-sm-12 console-steps"><div class="console-step row"><div ng-repeat="item in vm.steps track by $index" ng-class="{\'step-first\':$index===0,\'step-end\':$index===vm.steps.length-1,\'step-pass\':item.isPassed(),\'step-active\':item.isActive()}" class="step {{vm.widthCls}}"><span ng-bind="item.title"></span></div></div><div ng-repeat="item in vm.steps" ng-if="item.isActive()"><div class="console-step-content"><div aliyun-console-dynamic-directive config="item.dynamicDirectiveConfig"></div></div><div class="console-step-buttons"><a href="javascript:;" class="btn btn-default margin-left" ng-repeat="button in item.buttons" ng-class="button.cls" ng-click="button.handler()" ng-if="button._show" ng-disabled="button.disabled"><span bo-text="button.text"></span></a></div></div></div></div>')}]),angular.module("scripts/template/tableSearch.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tableSearch.html",'<div ng-if="showDropdown" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="menuitem" aria-haspopup="true"><span ng-transclude></span><span>{{selectItem.selectedText? selectItem.selectedText :\'(\'+selectItem.text+\')\'}}</span> <span class="caret"></span></a><ul class="dropdown-menu aliyun-console-table-search-list"><li ng-repeat="item in items"><a href="javascript:" ng-click="search(item)" aliyun-console-spm spm-id="{{spmPrefix}}{{$index+1}}"><span class="icon-yes" ng-if="selectItem == item"></span> <span>{{item.text}}</span></a></li></ul></div><span ng-if="!showDropdown" ng-transclude></span>')}]),angular.module("scripts/template/tagEdit.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagEdit.html",'<div class="console-tag-edit"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" aria-hidden="true" aliyun-console-spm="tagedit0">&times;</button><h5 class="modal-title" ng-bind="i18nMessage[\'tagEdit.title\']"></h5></div><div class="modal-body"><div class="tag-panel"><div class="inline-block" aliyun-console-tag-select-view selected-tags="tagSelect.selectedTags" change-selected-tags-callback="tagSelect.removeTagsCallback(data)"></div></div><div class="tag-edit-tip" ng-if="tagEditTip">{{tagEditTip}}</div><div style="color:red"><p ng-repeat="tip in tagEditAlertTips">{{tip.tips}}</p></div><div class="margin-top-2"><span class="margin-right" ng-bind="i18nMessage[\'tagEdit.add\']"></span><div class="inline-block"><button class="btn btn-default" aliyun-console-tag-select selected-tags="tagSelect.selectedTags" key-list="tagSelect.keyList" key-page-info="tagSelect.keyPageInfo" value-list="tagSelect.valueList" value-page-info="tagSelect.valuePageInfo" update-key-list="tagSelect.updateKeyList(data)" update-value-list="tagSelect.updateValueList(data)" change-selected-tags-callback="tagSelect.selectNewTag(data)" ng-bind="i18nMessage[\'tagEdit.tagAvailable\']" ng-disabled="tagSelect.selectedTags.length >= maxResourceBindTagLimit" aliyun-console-spm="tagedit1"></button></div><button class="btn btn-default margin-left" ng-hide="showCreatePanel" ng-click="createPanelToggle()" ng-bind="i18nMessage[\'tagEdit.addNew\']" ng-disabled="tagSelect.selectedTags.length >= maxResourceBindTagLimit" aliyun-console-spm="tagedit2"></button><form class="console-tag-edit-form form-inline margin-left" role="form" ng-if="showCreatePanel" name="form"><div class="form-group"><label class="control-label" ng-bind="i18nMessage[\'tagEdit.tagKey\']"></label><input type="text" ng-required="true" class="form-control" name="newTagKey" ng-model="newTag.newTagKey"></div><div class="form-group"><label class="control-label" ng-bind="i18nMessage[\'tagEdit.tagValue\']"></label><input type="text" class="form-control" name="newTagValue" ng-model="newTag.newTagValue"></div><button class="btn btn-sm btn-primary" ng-click="addNewTag(form)" data-ng-disabled="form.$invalid" ng-bind="i18nMessage[\'common.lb.confirm\']" aliyun-console-spm="tagedit3"></button> <button class="btn btn-sm btn-default" ng-click="createPanelToggle()" ng-bind="i18nMessage[\'common.lb.cancel\']" aliyun-console-spm="tagedit4"></button></form></div><div ng-show="loadingState"><div class="console-tag-loading-overlay"></div><div class="console-tag-loading-block" aliyun-loading size="24"></div></div></div><div class="modal-footer"><button ng-click="submit()" ng-disabled="loadingState || !validationsStatus" class="btn btn-primary" aliyun-console-spm="1" ng-bind="i18nMessage[\'common.lb.confirm\']" aliyun-console-spm="tagedit5"></button> <button ng-click="close()" class="btn btn-default" aliyun-console-spm="1" ng-bind="i18nMessage[\'common.lb.cancel\']" aliyun-console-spm="tagedit6"></button></div></div>')}]),angular.module("scripts/template/tagEditInput.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagEditInput.html",'<div class="console-tag-edit"><div class="tag-panel"><div class="inline-block" aliyun-console-tag-select-view selected-tags="selectedTags" change-selected-tags-callback="removeTagsCallback(data)"></div></div><div class="tag-edit-tip" ng-if="tagEditTip">{{tagEditTip}}</div><div style="color:red"><p ng-repeat="tip in tagEditAlertTips">{{tip.tips}}</p></div><div class="margin-top-2"><span class="margin-right" ng-bind="i18nMessage[\'tagEdit.add\']"></span><div class="inline-block"><button class="btn btn-default" aliyun-console-tag-select selected-tags="selectedTags" key-list="keyList" key-page-info="keyPageInfo" value-list="valueList" value-page-info="valuePageInfo" update-key-list="updateKeyList(data)" update-value-list="updateValueList(data)" change-selected-tags-callback="selectNewTag(data)" ng-bind="i18nMessage[\'tagEdit.tagAvailable\']" ng-disabled="selectedTags.length >= maxResourceBindTagLimit" aliyun-console-spm="tagedit1"></button></div><button class="btn btn-default margin-left" ng-hide="showCreatePanel" ng-click="createPanelToggle()" ng-bind="i18nMessage[\'tagEdit.addNew\']" ng-disabled="selectedTags.length >= maxResourceBindTagLimit" aliyun-console-spm="tagedit2"></button><div class="console-tag-edit-form form-inline margin-left" ng-if="showCreatePanel"><div class="form-group"><label class="control-label" ng-bind="i18nMessage[\'tagEdit.tagKey\']"></label><input type="text" ng-required="true" class="form-control" name="newTagKey" ng-model="newTag.newTagKey"></div><div class="form-group"><label class="control-label" ng-bind="i18nMessage[\'tagEdit.tagValue\']"></label><input type="text" class="form-control" name="newTagValue" ng-model="newTag.newTagValue"></div><button class="btn btn-sm btn-primary" ng-click="addNewTag(form)" data-ng-disabled="form.$invalid" ng-bind="i18nMessage[\'common.lb.confirm\']" aliyun-console-spm="tagedit3"></button> <button class="btn btn-sm btn-default" ng-click="createPanelToggle()" ng-bind="i18nMessage[\'common.lb.cancel\']" aliyun-console-spm="tagedit4"></button></div></div><div ng-show="loadingState"><div class="console-tag-loading-overlay"></div><div class="console-tag-loading-block" aliyun-loading size="24"></div></div></div>')}]),angular.module("scripts/template/tagEditSelect.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagEditSelect.html","")}]),angular.module("scripts/template/tagEditWithDialog.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagEditWithDialog.html",'<div class=""><div class="modal-header"><button type="button" class="close" data-dismiss="modal" data-ng-click="close(false)" aria-hidden="true" aliyun-console-spm="tagedit0">&times;</button><h5 class="modal-title" ng-bind="i18nMessage[\'tagEdit.title\']"></h5></div><div class="modal-body"><div aliyun-console-tag-edit-input selected-tags="tagSelect.selectedTags" key-list="tagSelect.keyList" value-list="tagSelect.valueList" validations="validations" validate-status="validateStatus" change-selected-tags-callback="selectNewTag"></div></div><div class="modal-footer"><button ng-click="submit()" ng-disabled="loadingState || !validateStatus" class="btn btn-primary" aliyun-console-spm="1" ng-bind="i18nMessage[\'common.lb.confirm\']" aliyun-console-spm="tagedit5"></button> <button ng-click="close()" class="btn btn-default" aliyun-console-spm="1" ng-bind="i18nMessage[\'common.lb.cancel\']" aliyun-console-spm="tagedit6"></button></div></div>')}]),angular.module("scripts/template/tagSelect.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagSelect.html",'<div class="console-tag-select"><div class="console-tag-dropdown" ng-show="showSwitch.panel" ng-style="{\'left\':leftOffset}"><ul class="dropdown-menu" ng-show="showSwitch.keyDropdown"><li class="console-tag-key-item-title"><span class="console-tag-key-item-block" ng-bind="i18nMessage[\'tagSelect.tagKey\']"></span></li><li ng-repeat="tagKey in keyList track by $index" class="console-tag-key-item" ng-class="{\'tag-active\':selectedTagMap[tagKey] !== undefined,\'tag-key-active\': tagKey == currentTagKey}" data-tag-key="{{tagKey}}" ng-click="selectKey(tagKey)"><a><span aliyun-truncate-text source-text="{{tagKey}}" text-length="18"></span><span ng-if="selectedTagMap[tagKey] !== undefined" class="console-tag-selected-icon icon-yes"></span></a></li><li ng-if="keyList && keyList.length == 0"><span class="console-tag-key-item-block console-tag-key-item-empty" ng-bind="i18nMessage[\'tagSelect.tagKeyEmpty\']"></span></li><li class="console-tag-pagepick" ng-if="keyPageInfo.canPrev || keyPageInfo.canNext"><a ng-if="keyPageInfo.canPrev" ng-click="updatePageInfo(true,true)" ng-bind="i18nMessage[\'tagSelect.pre\']"></a> <a ng-if="keyPageInfo.canNext" ng-click="updatePageInfo(true,false)" class="pull-right" ng-bind="i18nMessage[\'tagSelect.next\']"></a></li></ul><ul class="dropdown-menu console-tag-value-dropdown" ng-show="showSwitch.valueDropdown && valueList && valueList.length > 0"><li class="console-tag-key-item-title"><span class="console-tag-key-item-block" ng-bind="i18nMessage[\'tagSelect.tagValue\']"></span></li><li ng-repeat="tagValue in valueList track by $index" ng-class="{\'tag-active\':selectedTagMap[currentTagKey] == tagValue}" class="console-tag-value-item" ng-click="selectValue(tagValue)"><a><span aliyun-truncate-text source-text="{{tagValue}}" text-length="18"></span><span class="console-tag-selected-icon icon-yes"></span></a></li><li class="console-tag-pagepick" ng-if="valuePageInfo.canPrev || valuePageInfo.canNext"><a ng-if="valuePageInfo.canPrev" ng-click="updatePageInfo(false,true)" ng-bind="i18nMessage[\'tagSelect.pre\']"></a> <a ng-if="valuePageInfo.canNext" ng-click="updatePageInfo(false,false)" class="pull-right" ng-bind="i18nMessage[\'tagSelect.next\']"></a></li></ul></div></div>')}]),angular.module("scripts/template/tagSelectView.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tagSelectView.html",'<div class="console-tag-select-view"><div class="console-tag-label inline-block" ng-repeat="tag in selectedTags"><span aliyun-truncate-text source-text="{{tag.key}}" text-length="18"></span><span class="console-tag-label-colon" ng-if="tag.value">:</span><span ng-if="tag.value" aliyun-truncate-text source-text="{{tag.value}}" text-length="18"></span><span class="console-tag-label-remove icon-no-2" ng-click="removeTag(tag.key,tag.value)"></span></div></div>')}]),angular.module("scripts/template/test.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/test.html",'<!doctype html><html lang=""><head><meta charset="UTF-8"><meta name="description" content=""><meta name="viewport" content="width=device-width,initial-scale=1"><title>vnc</title><link rel="shortcut icon" href="//www.aliyun.com/favicon.ico" type="image/x-icon"><!-- Place favicon.ico in the root directory --><link rel="stylesheet" href="styles/main.css"></head><body><!--[if lt IE 10]>\n<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade\n  your browser</a> to improve your experience.</p>\n<![endif]--><div class="container"><div class="header"><form class="form-inline" role="form"><div class="form-group"><label class="col-sm-2 control-label">vnc</label></div><div class="form-group"><label id="noVNC_status" class="col-sm-12 control-label">杞藉叆涓€︹€�</label></div><div class="form-group"><label class="col-sm-12 control-label">鎻愮ず锛氬鏋滃嚭鐜版寔缁粦灞忥紝璇存槑绯荤粺澶勪簬浼戠湢鐘舵€侊紝鎸変换鎰忛敭鍙互婵€娲汇€�</label></div></form></div><div class="vnc-body"><div id="noVNC_screen"><canvas id="noVNC_canvas" width="640px" height="400px">娴忚鍣ㄧ増鏈お浣庛€傝鏇存柊娴忚鍣ㄣ€�</canvas></div></div></div><script src="scripts/vendor.js"></script><script src="scripts/plugins.js"></script><script src="scripts/main.js"></script></body></html>')}]),angular.module("scripts/template/tooltip2.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/tooltip2.html",'<div class="tooltip {{placement}} in"><div class="tooltip-arrow"></div><div class="tooltip-inner"><div ng-if="contentHtml == \'true\'" ng-bind-html="content"></div><div ng-if="contentHtml == \'false\'" ng-bind="content"></div><div class="tooltip-content"></div></div></div>')}]),angular.module("scripts/template/topbar.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbar.html",'<div class="aliyun-console-topbar" role="menubar"><div class="topbar-wrap topbar-clearfix"><div class="topbar-head topbar-left"><a id="srp-for-the-angel" style="visibility:hidden" class="accessibility-ast topbar-btn topbar-left" href="javascript:void(0)" ng-click="skipToContent()">Skip to content</a> <a href="{{navLinks.logo.href}}" title="www.aliyun.com" target="{{navLinks.logo.target || \'_blank\'}}" class="topbar-logo topbar-left" aliyun-console-spm="1"><span class="{{navLinks.logo.icon}}"></span></a> <a href="{{navLinks.home.href}}" role="menuitem" aria-haspopup="false" target="{{navLinks.home.target || \'_blank\'}}" class="topbar-home-link topbar-btn topbar-left" aliyun-console-spm="2"><span ng-bind="navLinks.home.text"></span></a></div><div class="topbar-nav topbar-left dropdown" dropdown><a href="#" role="menuitem" aria-haspopup="true" aria-label="press enter to expand" class="dropdown-toggle topbar-btn topbar-nav-btn" data-toggle="dropdown" aliyun-console-spm="3"><span>{{navLinks.product.text}}</span><span class="icon-arrow-down"></span></a><div class="dropdown-menu topbar-nav-list topbar-clearfix"><div data-ng-repeat="col in categories" class="topbar-nav-col"><div ng-repeat="category in col" class="topbar-nav-item"><p class="topbar-nav-item-title">{{category.name}}</p><ul><li ng-repeat="product in category.products" ng-class="{\'topbar-unservice\':!product.openStatus}"><a ng-href="{{product.link}}" role="menuitem" target="_self" aliyun-console-spm spm-id="30{{product.productId}}"><span class="topbar-nav-item-icon {{product.icon}}"></span> <span>{{product.name}}</span> <span class="topbar-nav-item-short">{{product.shortName}}</span></a></li></ul><div class="topbar-nav-gap" ng-if="$index < col.length -1"></div></div></div></div></div><!--<div ng-if="viewFrameworkSetting.config.supportRegionlize" class="topbar-regionbar topbar-left" aliyun-console-topbar-region not-request="true" region-list="regionInfo.regionList" region-setting="regionInfo.regionSetting" custom-region-id="regionInfo.customRegionId"></div>--><div class="topbar-info topbar-right topbar-clearfix"><!--region切换--><div class="topbar-region-switcher" aliyun-console-topbar-region-switcher></div><!-- 搜索 --><div aliyun-console-topbar-search search-url="{{navLinks.search.href}}" search-link="navLinks.search" class="topbar-btn topbar-btn-search topbar-left" ng-show="navLinks.search.show"></div><!-- 手机app --><div ng-if="versionGreaterThan1_3_21 && navLinks.qrcode.show" class="topbar-qrcode topbar-left"><a class="topbar-btn" role="menuitem" href="{{navLinks.qrcode.href}}" target="_blank" aliyun-console-spm="7"><span ng-if="navLinks.qrcode.icon" class="{{navLinks.qrcode.icon}}"></span> <span ng-if="navLinks.qrcode.text" ng-bind-html="navLinks.qrcode.text"></span> <span ng-if="navLinks.qrcode.showNew" class="topbar-new-icon icon-new"></span></a><div class="topbar-qrcode-panel"><div class="topbar-qrcode-image"><img ng-src="{{navLinks.qrcode.image}}"></div><div class="topbar-qrcode-title" ng-bind-html="navLinks.qrcode.title"></div></div></div><!-- 站内信 --><div class="dropdown topbar-notice topbar-btn topbar-left" data-ng-if="messages && messages.total >=0 && navLinks.message.show" dropdown><a href="#" role="menuitem" aria-label="message" aria-haspopup="true" aria-label="press enter to expand" class="dropdown-toggle topbar-btn-notice" data-toggle="dropdown" aliyun-console-spm="4"><span class="topbar-btn-notice-icon icon-bell"></span> <span class="topbar-btn-notice-num" ng-class="{\'topbar-btn-notice-num-zero\':messages.total == 0}" ng-bind="messages.total"></span></a><div class="topbar-notice-panel"><div class="topbar-notice-arrow"></div><div class="topbar-notice-head"><span>{{navLinks.message.title}}</span></div><div class="topbar-notice-body"><ul ng-if="messages && messages.messageList.length >0"><li ng-repeat="item in messages.messageList" ng-class="{\'topbar-notice-readed\':item.readed}"><a ng-href="{{navLinks.message.messageUrl + item.msgId}}" target="_blank" class="clearfix" ng-click="readMessage(item)" aliyun-console-spm="40{{$index}}"><span class="inline-block"><span class="topbar-notice-link" ng-bind="item.title"></span> <span class="topbar-notice-time" ng-bind="item.formatCreatedTime"></span></span> <span class="inline-block topbar-notice-class" ng-if="item.className"><span class="topbar-notice-class-name">{{item.className}}</span></span></a></li></ul><p ng-if="!messages ||  messages.messageList.length == 0" class="topbar-notice-empty">{{navLinks.message.blankText}}</p></div><div class="topbar-notice-foot"><a class="topbar-notice-more" target="_blank" ng-href="{{navLinks.message.href}}" aliyun-console-spm="401">{{navLinks.message.text}}</a></div></div></div><!-- AccessKeys --><div class="topbar-left topbar-accesskeys topbar-info-item" ng-if="navLinks.accesskeys.show"><a href="{{navLinks.accesskeys.href}}" role="menuitem" target="{{navLinks.accesskeys.target || \'_blank\'}}" class="topbar-btn" aliyun-console-spm="50">{{navLinks.accesskeys.text}}<span ng-if="navLinks.accesskeys.showNew" class="topbar-new-icon icon-new"></span></a></div><!-- 工单 --><div class="topbar-left topbar-workorder topbar-info-item" ng-if="navLinks.workorder.show"><div class="dropdown" dropdown><a href="#" role="menuitem" aria-haspopup="true" aria-label="press enter to expand" class="dropdown-toggle topbar-btn" data-toggle="dropdown" aliyun-console-spm="51"><span ng-bind="navLinks.workorder.text"></span><span ng-if="navLinks.workorder.showNew" class="topbar-new-icon icon-new"></span><span class="icon-arrow-down"></span></a><ul class="dropdown-menu"><li ng-repeat="link in navLinks.workorder.links" class="topbar-info-btn"><a href="{{link.href}}" role="menuitem" target="{{link.target}}" aliyun-console-spm="51{{$index}}"><span>{{link.text}}</span><span ng-if="link.showNew" class="topbar-new-icon icon-new"></span></a></li></ul></div></div><!-- 备案 --><div class="topbar-left topbar-accesskeys topbar-info-item" ng-if="navLinks.icp.show"><a href="{{navLinks.icp.href}}" role="menuitem" target="{{navLinks.icp.target || \'_blank\'}}" class="topbar-btn" aliyun-console-spm="52">{{navLinks.icp.text}}<span ng-if="navLinks.icp.showNew" class="topbar-new-icon icon-new"></span></a></div><!-- 帮助 --><div class="topbar-left topbar-help topbar-info-item" ng-if="navLinks.help.show"><div class="dropdown" dropdown><a href="#" role="menuitem" aria-haspopup="true" aria-label="press enter to expand" class="dropdown-toggle topbar-btn" data-toggle="dropdown" aliyun-console-spm="53"><span ng-bind="navLinks.help.text"></span><span ng-if="navLinks.help.showNew" class="topbar-new-icon icon-new"></span><span class="icon-arrow-down"></span></a><ul class="dropdown-menu"><li ng-repeat="link in navLinks.help.links" class="topbar-info-btn"><a href="{{link.href}}" target="{{link.target}}" aliyun-console-spm="51{{$index}}"><span>{{link.text}}</span><span ng-if="link.showNew" class="topbar-new-icon icon-new"></span></a></li></ul></div></div><!-- 新版当页帮助 --><div class="topbar-left topbar-assist topbar-info-item" ng-if="navLinks.customHelp.show"><a href="javascript:;" class="topbar-btn" ng-class="{\'topbar-btn-dark\':topbarConfig.showHelpPanel}" aliyun-console-spm="53" ng-click="toggleHelpPanelStatus()">{{navLinks.customHelp.text}}<span ng-if="navLinks.customHelp.showNew" class="topbar-new-icon icon-new"></span></a></div><!-- 其他entrance区域 --><div ng-repeat="entry in navLinks.entrances" class="topbar-left" ng-if="navLinks.entrances"><div class="topbar-info-item" ng-if="!entry.links"><a href="{{entry.href}}" target="{{entry.target || \'_blank\'}}" class="topbar-btn" aliyun-console-spm="50{{$index}}">{{entry.text}}<span ng-if="entry.showNew" class="topbar-new-icon icon-new"></span></a></div><div class="dropdown topbar-info-item" ng-if="entry.links" dropdown><a href="#" class="dropdown-toggle topbar-btn" data-toggle="dropdown" aliyun-console-spm="50{{$index}}"><span ng-bind="entry.text"></span><span class="icon-arrow-down"></span><span ng-if="entry.showNew" class="topbar-new-icon icon-new"></span></a><ul class="dropdown-menu"><li ng-repeat="link in entry.links" class="topbar-info-btn"><a href="{{link.href}}" target="{{link.target}}" aliyun-console-spm="50{{$parent.$index}}{{$index}}"><span>{{link.text}}</span><span ng-if="link.showNew" class="topbar-new-icon icon-new"></span></a></li></ul></div></div><!-- user --><div class="topbar-left topbar-user" ng-class="{\'topbar-user-large\':account.currentStructure}" ng-if="navLinks.user.show"><div class="dropdown topbar-info-item" dropdown><a href="#" role="menuitem" aria-haspopup="true" aria-label="press enter to expand" class="dropdown-toggle topbar-btn" data-toggle="dropdown" aliyun-console-spm="6"><span ng-bind="account.aliyunId" title="account.aliyunIdOrigin"></span><span class="icon-arrow-down"></span></a><ul class="dropdown-menu"><li class="topbar-info-btn user-identity" ng-if="account.currentStructure"><div class="user-identity-item">{{navLinks.user.labels.currentName}}<span class="user-identity-colon">:</span>{{account.currentName}}</div><div class="user-identity-item">{{navLinks.user.labels.currentAlias}}<span class="user-identity-colon">:</span>{{account.currentAlias}}</div><div class="user-identity-sign-wrap"><div class="user-identity-sign">{{navLinks.user.labels[account.currentStructure]}}</div></div></li><li class="topbar-info-btn user-identity" ng-if="account.loginStructure"><div class="user-identity-item">{{navLinks.user.labels.loginName}}<span class="user-identity-colon">:</span>{{account.loginName}}</div><div class="user-identity-item">{{navLinks.user.labels.loginAlias}}<span class="user-identity-colon">:</span>{{account.loginAlias}}</div><div class="user-identity-sign-wrap"><div class="user-identity-sign">{{navLinks.user.labels[account.loginStructure]}}</div></div></li><li ng-repeat="link in navLinks.user.links" class="topbar-info-btn"><a href="{{link.href}}" role="menuitem" target="{{link.target || \'_blank\'}}" aliyun-console-spm="60{{$index}}"><span>{{link.text}}</span></a></li><li class="topbar-info-btn" ng-if="account.currentStructure"><a class="user-btn-link" href="{{navLinks.user.linkMap.switchRole.href}}" target="{{navLinks.user.linkMap.switchRole.target || \'_self\'}}" aliyun-console-spm=""><span>{{navLinks.user.linkMap.switchRole.text}}</span></a> <a ng-if="account.loginStructure" class="user-btn-link" href="{{navLinks.user.linkMap.exitSwitchedRole.href}}" target="{{navLinks.user.linkMap.exitSwitchedRole.target || \'_self\'}}" aliyun-console-spm=""><span>{{navLinks.user.linkMap.exitSwitchedRole.text}}</span></a> <a class="user-btn-link user-btn-link-signout" href="{{navLinks.user.linkMap.signout.href}}" target="{{navLinks.user.linkMap.signout.target || \'_self\'}}" aliyun-console-spm=""><span>{{navLinks.user.linkMap.signout.text}}</span></a></li></ul></div></div><!-- 国际化 --><div class="topbar-left" ng-if="navLinks.i18n.show && navLinks.i18n.currentLanguage"><div class="dropdown topbar-info-item" dropdown><a href="{{navLinks.i18n.currentLanguage.link}}" class="dropdown-toggle topbar-btn" data-toggle="dropdown" aliyun-console-spm="9">{{navLinks.i18n.currentLanguage.label}}<span class="icon-arrow-down"></span></a><ul class="dropdown-menu"><li ng-repeat="language in navLinks.i18n.languages" class="topbar-info-btn"><a ng-click="changeCurrentLanguage(language.link, language.link2)" aliyun-console-spm="90{{$index}}"><span>{{language.label}}</span></a></li></ul></div></div></div><div aliyun-console-topbar-help config="helpConfig" show="topbarConfig.showHelpPanel" ng-if="navLinks.customHelp.show && helpConfig"></div></div></div>')}]),angular.module("scripts/template/topbarAlpha.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbarAlpha.html",'<div class="console-topbar-new"><div class="console-topbar-logo pull-left"><a href="{{logoLink.href}}" class="console-topbar-btn console-topbar-logo-icon" target="{{logoLink.target}}" aliyun-console-spm spm-id="1"><img ng-src="{{logoLink.imgLink}}"></a><a href="{{isJBP? homeLink.href.jbp:homeLink.href.aliyun}}" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-home" target="{{homeLink.target}}" aliyun-console-spm spm-id="2"><span class="console-topbar-btn-icon icon-home"></span> <span class="console-topbar-btn-text nowrap"><span>{{homeLink.text}}</span></span></a></div><div class="console-topbar-nav pull-left dropdown"><a href="#" class="dropdown-toggle console-topbar-btn console-topbar-btn-inverse-white console-topbar-btn-nav" data-toggle="dropdown" aliyun-console-spm spm-id="3"><span class="console-topbar-btn-icon icon-menu"></span> <span class="console-topbar-btn-text"><span>产品与服务</span> <span class="caret"></span></span></a><div class="dropdown-menu console-topbar-nav-list clearfix" ng-style="productsListWidth"><div data-ng-repeat="col in productsInfo" class="console-topbar-nav-col"><div ng-repeat="category in col" class="console-topbar-nav-item"><p class="console-topbar-nav-item-title">{{category.text}}</p><ul><li ng-repeat="product in category.products" ng-class="{\'console-topbar-unservice\':productStatus == undefined || productStatus[product.id] == 0}"><a ng-href="{{product.href}}" target="{{product.target}}" aliyun-console-spm spm-id="10{{$parent.$parent.$index}}{{$parent.$index}}{{$index}}"><span class="console-topbar-nav-item-icon {{product.className}}"></span> <span>{{product.text}}</span> <span class="console-topbar-nav-item-short">{{product.short}}</span></a></li></ul><div class="console-topbar-nav-gap" ng-if="$index == 0"></div></div></div></div></div><div class="pull-left"><a class="console-topbar-btn console-topbar-nav-link console-topbar-btn-inverse" href="{{currentProduct.href}}" ng-if="currentProduct" aliyun-console-spm spm-id="4"><span class="console-topbar-nav-link-icon {{currentProduct.className}}"></span> <span class="console-topbar-nav-link-text">{{currentProduct.text}}</span> <span>{{currentProduct.short}}</span></a></div><div class="console-topbar-info pull-right"><div ng-if="showGlobalSearch" aliyun-console-global-search search-url="{{searchLink.href}}" spm-id="9"></div><div class="pull-right" style="overflow: hidden"><a ng-href="{{helpLink.href}}" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-workorder" target="{{helpLink.target}}" aliyun-console-spm spm-id="5"><span class="console-topbar-btn-icon icon-pen-2"></span> <span class="console-topbar-btn-text">{{helpLink.text}}</span></a></div><div class="pull-right"><a ng-href="{{accessKeysLink.href}}" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-ak" target="{{accessKeysLink.target}}" aliyun-console-spm spm-id="6"><span class="console-topbar-btn-icon icon-key"></span> <span class="console-topbar-btn-text">{{accessKeysLink.text}}</span></a></div><div class="dropdown pull-right console-topbar-user"><a href="#" class="dropdown-toggle console-topbar-btn console-topbar-btn-inverse console-topbar-btn-user" data-toggle="dropdown" aliyun-console-spm spm-id="7"><span class="console-topbar-btn-text">{{account.aliyunId}}<span class="caret"></span></span></a><ul class="dropdown-menu"><li ng-repeat="userLink in userLinks"><a href="{{userLink.href}}" target="{{userLink.target}}" aliyun-console-spm spm-id="20{{$index}}"><span>{{userLink.text}}</span></a></li></ul></div><div class="dropdown pull-right console-topbar-notice" data-ng-if="notification"><a href="#" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-notice dropdown-toggle" data-toggle="dropdown" aliyun-console-spm spm-id="8"><span class="console-topbar-btn-notice-icon icon-bell"></span> <span class="console-topbar-btn-notice-num" ng-class="{\'console-topbar-btn-notice-num-zero\':notification.unread == 0}">{{notification.unread}}</span></a><div class="console-topbar-notice-panel"><div class="console-topbar-notice-arrow"></div><div class="console-topbar-notice-head"><span>{{notification.text || \'公告\'}}</span></div><div class="console-topbar-notice-body"><ul ng-if="notification && notification.data.length >0"><li ng-repeat="item in notification.data" ng-class="{\'console-topbar-notice-readed\':item.read}"><a ng-href="{{item.href}}" target="_blank" class="clearfix" ng-click="readNoticeAction(item)" aliyun-console-spm spm-id="30{{$index}}"><span class="console-topbar-notice-link">{{item.title}}</span> <span class="console-topbar-notice-time">{{item.start_time | date:\'yyyy-MM-dd\'}}</span></a></li></ul><p ng-if="!notification ||  notification.data.length == 0" class="console-topbar-notice-empty">您暂时没有公告消息</p></div><div class="console-topbar-notice-foot"><div class="pull-right"><a class="console-topbar-notice-more" target="_blank" ng-href="{{notificationLink.href}}" aliyun-console-spm spm-id="9">{{notificationLink.text}}</a></div></div></div></div></div></div>')}]),angular.module("scripts/template/topbarBeta.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbarBeta.html",'<div class="console-topbar-new console-topbar-new-{{localeId}}"><div class="console-topbar-logo pull-left"><a href="{{logoLink.href}}" class="console-topbar-btn console-topbar-logo-icon" target="{{logoLink.target}}" aliyun-console-spm spm-id="1"><img ng-show="logoLink.imgLink" ng-src="{{logoLink.imgLink}}"></a><a href="{{homeLink.href}}" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-home" target="{{homeLink.target}}" aliyun-console-spm spm-id="2"><span class="console-topbar-btn-icon icon-home"></span> <span class="console-topbar-btn-text nowrap"><span>{{homeLink.text}}</span></span></a></div><div class="console-topbar-nav pull-left dropdown"><a href="#" class="dropdown-toggle console-topbar-btn console-topbar-btn-inverse-white console-topbar-btn-nav" data-toggle="dropdown" aliyun-console-spm spm-id="3"><span class="console-topbar-btn-icon icon-menu"></span> <span class="console-topbar-btn-text"><span>{{productLink.text}}</span> <span class="caret"></span></span></a><div class="dropdown-menu console-topbar-nav-list clearfix" ng-style="productsListWidth"><div data-ng-repeat="col in productsInfo" class="console-topbar-nav-col"><div ng-repeat="category in col" class="console-topbar-nav-item"><p class="console-topbar-nav-item-title">{{category.text}}</p><ul><li ng-repeat="product in category.products" ng-class="{\'console-topbar-unservice\':productStatus == undefined || productStatus[product.id] == 0}"><a ng-href="{{product.href}}" target="{{product.target}}" aliyun-console-spm spm-id="10{{product.id}}"><span class="console-topbar-nav-item-icon {{product.className}}"></span> <span>{{product.text}}</span> <span class="console-topbar-nav-item-short">{{product.short}}</span></a></li></ul><div class="console-topbar-nav-gap" ng-if="$index == 0"></div></div></div></div></div><div class="pull-left"><a class="console-topbar-btn console-topbar-nav-link console-topbar-btn-inverse" href="{{currentProduct.href}}" ng-if="currentProduct" aliyun-console-spm spm-id="4"><span class="console-topbar-nav-link-icon {{currentProduct.className}}"></span> <span class="console-topbar-nav-link-text">{{currentProduct.text}}</span> <span>{{currentProduct.short}}</span></a></div><div class="console-topbar-info pull-right"><div class="dropdown console-topbar-locale"><a href="#" class="dropdown-toggle console-topbar-btn console-topbar-btn-locale" data-toggle="dropdown" aliyun-console-spm spm-id="10" ng-show="locale.show"><span class="console-topbar-btn-text">{{locale.current.text}}<span class="caret"></span></span></a><ul class="dropdown-menu"><li ng-repeat="item in locale.options"><a href="" ng-click="changeLocale(item)" aliyun-console-spm spm-id="40{{$index}}"><span>{{item.text}}</span></a></li></ul></div><div ng-if="showGlobalSearch" ng-if="searchLink" aliyun-console-global-search search-url="{{searchLink.href}}" placeholder-text="{{searchLink.text}}" spm-id="9"></div><div class="pull-right dropdown console-topbar-dropdown console-topbar-workorder" ng-if="helpLinks"><a href="javascript:;" class="dropdown-toggle console-topbar-btn console-topbar-btn-inverse console-topbar-btn-workorder" aliyun-console-spm spm-id="5" data-toggle="dropdown"><span class="console-topbar-btn-icon icon-pen-2"></span> <span class="console-topbar-btn-text">{{helpLinks.text}}<span class="caret"></span></span></a><ul class="dropdown-menu"><li ng-repeat="item in helpLinks.links"><a href="{{item.href}}" aliyun-console-spm="50{{$index}}" target="{{item.target}}"><span>{{item.text}}</span></a></li></ul></div><div class="pull-right"><a ng-href="{{accessKeysLink.href}}" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-ak" target="{{accessKeysLink.target}}" aliyun-console-spm spm-id="6"><span class="console-topbar-btn-icon icon-key"></span> <span class="console-topbar-btn-text">{{accessKeysLink.text}}</span></a></div><div class="dropdown pull-right console-topbar-user"><a href="#" class="dropdown-toggle console-topbar-btn console-topbar-btn-inverse console-topbar-btn-user" data-toggle="dropdown" aliyun-console-spm spm-id="7"><span class="console-topbar-btn-text">{{account.aliyunId}}<span class="caret"></span></span></a><ul class="dropdown-menu"><li ng-repeat="userLink in userLinks"><a href="{{userLink.href}}" target="{{userLink.target}}" aliyun-console-spm spm-id="20{{$index}}"><span>{{userLink.text}}</span></a></li></ul></div><div class="dropdown pull-right console-topbar-notice" data-ng-if="notification"><a href="#" class="console-topbar-btn console-topbar-btn-inverse console-topbar-btn-notice dropdown-toggle" data-toggle="dropdown" aliyun-console-spm spm-id="8"><span class="console-topbar-btn-notice-icon icon-bell"></span> <span class="console-topbar-btn-notice-num" ng-class="{\'console-topbar-btn-notice-num-zero\':notification.unread == 0}">{{notification.unread}}</span></a><div class="console-topbar-notice-panel"><div class="console-topbar-notice-arrow"></div><div class="console-topbar-notice-head"><span>{{notificationLink.title}}</span></div><div class="console-topbar-notice-body"><ul ng-if="notification && notification.data.length >0"><li ng-repeat="item in notification.data" ng-class="{\'console-topbar-notice-readed\':item.read}"><a ng-href="{{item.href}}" target="_blank" class="clearfix" ng-click="readNoticeAction(item)" aliyun-console-spm spm-id="30{{$index}}"><span class="console-topbar-notice-link">{{item.title}}</span> <span class="console-topbar-notice-time">{{item.start_time | date:\'yyyy-MM-dd\'}}</span></a></li></ul><p ng-if="!notification ||  notification.data.length == 0" class="console-topbar-notice-empty">{{notificationLink.blankText}}</p></div><div class="console-topbar-notice-foot"><div class="pull-right"><a class="console-topbar-notice-more" target="_blank" ng-href="{{notificationLink.href}}" aliyun-console-spm spm-id="9">{{notificationLink.text}}</a></div></div></div></div></div></div>')}]),angular.module("scripts/template/topbarHelp.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbarHelp.html",'<div class="aliyun-console-topbar-help"><div class="topbar-help-inner" ng-class="{\'topbar-help-show\':show}"><div class="topbar-help-head"><span ng-bind="config.title"></span> <span class="icon-no topbar-help-close" ng-click="hidePanel()"></span></div><div class="topbar-help-body" ng-if="config.link"><iframe class="topbar-help-iframe" name="topbarHelpIframe" width="486" frameborder="0" data-spm-src="{{config.link}}"></iframe></div></div></div>')}]),angular.module("scripts/template/topbarRegion.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbarRegion.html",'<div class="console-regionbar"><div class="dropdown" dropdown><a href="#" class="dropdown-toggle" data-toggle="dropdown" aliyun-console-spm="3"><span class="region-icon-active"></span><span>{{regionListMap[activeRegionId].name}}</span><span class="icon-arrow-down"></span></a><div class="dropdown-menu"><div class="region-item" ng-class="{\'region-item-active\': activeRegionId == region.regionId}" data-ng-repeat="region in regionList"><a ng-click="changeRegionId(region.regionId)" aliyun-console-spm="{{region.regionId}}"><span class="region-icon"></span><span>{{region.name}}</span></a></div></div></div></div>')}]),angular.module("scripts/template/topbarSearch.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/topbarSearch.html",'<div class="aliyun-console-topbar-search" ng-class="{\'topbar-search-active\':isActive}" ng-if="!versionGreaterThan1_3_21"><form name="form" role="form"><input class="topbar-search-ask" ng-class="{\'topbar-search-ask-shade\':model.askInput != \'\'}" type="text" name="input" ng-model="model.askInput" ng-focus="activeInput()" ng-blur="inactiveInput()" autocomplete="off"> <a target="_blank" ng-href="{{searchUrl+model.askInput}}" class="topbar-search-mark" aliyun-console-spm="31" ng-click="searchClick($event)"><span ng-if="!isActive" class="icon-search"></span> <span ng-if="isActive" class="icon-enter"></span></a></form></div><div class="aliyun-console-topbar-search-v1_3_21" ng-if="versionGreaterThan1_3_21" ng-class="{\'topbar-search-dropdown-open\':dropdownOpen}"><a href="#" class="topbar-btn" aliyun-console-spm="31" ng-click="toggleDropdownStatus($event)"><span class="icon-search"></span><span>{{searchLink.text}}</span></a><div ng-show="dropdownOpen" class="topbar-search-dropdown"><input class="topbar-search-ask" type="text" name="input" ng-model="model.askInput" autocomplete="off" placeholder="{{searchLink.placeholder}}"> <a target="_blank" ng-href="{{searchUrl+model.askInput}}" class="topbar-search-mark icon-enter" aliyun-console-spm="32" ng-click="searchClick($event)"></a></div></div>')}]),angular.module("scripts/template/viewFramework.html",[]).run(["$templateCache",function(e){"use strict";e.put("scripts/template/viewFramework.html",'<div><div class="viewFramework-topbar" role="heading" ng-if="(!config.disableNavigation && !config.hideTopbar)"><!-- topbar --><div ng-if="config.version == \'v3\'" data-spm="1001" console-topbar-v3></div><div ng-if="config.version != \'v3\'" data-spm="{{config.topbarSpm}}" aliyun-console-topbar workorder-id="config.workorderId" product-id="config.productId" topbar-nav-links="config.topbarNavLinks"></div><!-- /topbar --></div><div class="viewFramework-body" ng-class="{\'viewFramework-sidebar-mini\':(!config.disableNavigation && !config.hideSidebar) && config.sidebar == \'mini\',\'viewFramework-sidebar-full\': (!config.disableNavigation && !config.hideSidebar) && config.sidebar == \'full\',\'viewFramework-topbar-hide\':config.disableNavigation || config.hideTopbar}"><div class="viewFramework-sidebar" role="navigation" data-spm="{{config.sidebarSpm}}" ng-if="(!config.disableNavigation && !config.hideSidebar)"><!-- sidebar --><div ng-if="config.version == \'v3\'" data-spm="1002" console-sidebar-v3 spm-id="{{config.sidebarSpm}}" class="sidebar-content"></div><div ng-if="config.version != \'v3\'" data-spm="{{config.sidebarSpm}}" aliyun-console-sidebar product-id="{{config.productId}}" type="{{config.sidebar}}" spm-id="{{config.sidebarSpm}}" class="sidebar-content"></div><!-- /sidebar --></div><div class="viewFramework-product" role="main" ng-class="{\'viewFramework-product-col-1\':!config.disableNavigation && config.productNavBar==\'col-1\',\'viewFramework-product-col-2\': !config.disableNavigation && config.productNavBar==\'col-2\'}"><!-- <div class="viewFramework-product-navbar-bg"></div> --><div class="viewFramework-product-navbar" data-spm="{{config.productNavSpm}}" ng-if="config.productNavBar != \'disabled\' && !config.disableNavigation"><!-- product nav --><div product-nav></div><!-- /product nav --></div><!-- product nav collapse--><div class="viewFramework-product-navbar-collapse" ng-click="collapseProductNavbar()" data-spm="{{config.productNavSpm}}" ng-if="config.productNavBar != \'disabled\' && !config.disableNavigation"><div class="product-navbar-collapse-inner"><div class="product-navbar-collapse-bg"></div><div class="product-navbar-collapse" aliyun-console-spm="4"><span class="icon-collapse-left"></span> <span class="icon-collapse-right"></span></div></div></div><!-- /product nav collapse--><div class="viewFramework-product-body"><a tabindex="0" href="javascript:void(0)" id="viewFramework-product-anchor" role="landmark" style="position: absolute;top: -10000px;left: -10000px">let\'s go</a><div aliyun-console-test></div><!-- product body --><div ng-transclude></div><!-- /product body --></div></div></div></div>')}]),define("common-tpl",["angular"],function(){}),define("common/helper/objectHelper",[],function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i=="object"||typeof i=="function"&&i!==null){var s=[],o,u;for(o in i)e.call(i,o)&&s.push(o);if(t)for(u=0;u<r;u++)e.call(i,n[u])&&s.push(n[u]);return s}throw new TypeError("Object.keys called on non-object")}}())}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(this==null)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if(typeof e!="function")throw new TypeError(e+" is not a function");arguments.length>1&&(n=t),r=0;while(r<s){var o;r in i&&(o=i[r],e.call(n,o,r,i)),r++}}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=[],i=arguments.length>=2?arguments[1]:void 0;for(var s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}),Array.prototype.every||(Array.prototype.every=function(e,t){"use strict";var n,r;if(this==null)throw new TypeError("this is null or not defined");var i=Object(this),s=i.length>>>0;if(typeof e!="function")throw new TypeError;arguments.length>1&&(n=t),r=0;while(r<s){var o;if(r in i){o=i[r];var u=e.call(n,o,r,i);if(!u)return!1}r++}return!0}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(this==null)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if(typeof e!="function")throw new TypeError(e+" is not a function");arguments.length>1&&(n=t),r=new Array(o),i=0;while(i<o){var u,a;i in s&&(u=s[i],a=e.call(n,u,i,s),r[i]=a),i++}return r}),Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof e!="function")throw new TypeError;var t=Object(this),n=t.length>>>0,r=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<n;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),define("common/helper/arrayHelper",function(){}),define("common/directives/tag",["angular","../services/i18nService","../cons/aliyunCons"],function(e,t,n){"use strict";function s(){return{setOptions:function(t){e.extend(i,t)},$get:function(){return i}}}function o(t,n,i,s,o){function u(t,n,u){function h(){var e=o.get("scripts/template/tagSelect.html");l=s(e)(t),n.after(l),f=!0,$(n).siblings(".console-tag-select").on("mouseenter",".console-tag-key-item",function(){t.showSwitch.valueDropdown||(t.showSwitch.valueDropdown=!0);var e=$(this).attr("data-tag-key");e&&(t.currentTagKey=e),t.tagCache[e]?t.valueList=t.tagCache[e]:t.$emit("aliyunConsoleTagSelect.updateValueList",{tagKey:e,pageInfo:t.valuePageInfo,tagCache:t.tagCache}),t.$apply()})}function p(){t.showSwitch.panel=!t.showSwitch.panel,t.showSwitch.panel?$(document).on("click",d):$(document).off("click",d),t.$apply()}function d(){t.showSwitch.panel=!1,t.$apply()}function v(e){e&&(y(t.currentTagKey)||g(t.currentTagKey,""))}function m(e){t.currentTagKey&&e&&g(t.currentTagKey,e)}function g(n,r){var s=!1;e.forEach(t.selectedTags,function(e,t){e.key==n&&(e.value=r,s=!0)});if(!s){if(t.selectedTags&&t.selectedTags.length>=i.maxResourceBindTagLimit)return;t.selectedTags.push({key:n,value:r})}t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:t.selectedTags}}),t.selectedTagMap[n]=r}function y(n){var r=t.selectedTagMap[n];return e.isDefined(r)}function b(e,n){var r=e?t.keyPageInfo:t.valuePageInfo,i=e?"aliyunConsoleTagSelect.updateKeyList":"aliyunConsoleTagSelect.updateValueList";r.page=n?r.page-1:r.page+1,t.$emit(i,{tagKey:t.currentTagKey,pageInfo:r})}function w(e){e&&e.total&&(e.canPrev=e.page>1,e.canNext=e.page*e.pageSize<e.total)}var a,f=!1,l;t.showSwitch={panel:!1,keyDropdown:!0,valueDropdown:!1},t.selectedTags=t.selectedTags||[],t.selectedTagMap={},t.currentTagKey="",t.keyPageInfo=e.copy(i.defaultPageInfo),t.valuePageInfo=e.copy(i.defaultPageInfo),t.i18nMessage=r.localMessage,t.togglePanel=p,t.selectValue=m,t.selectKey=v,t.updatePageInfo=b,t.tagCache={},n.on("click",function(e){e.preventDefault(),t.leftOffset=n.position().left,t.togglePanel(),t.showSwitch.panel&&t.$emit("aliyunConsoleTagSelect.updateKeyList",{pageInfo:t.keyPageInfo}),t.tagCache={}}),t.$watch("keyList",function(n){e.isDefined(n)&&(f||h(),t.valueList=[],w(t.keyPageInfo))}),t.$watch("valueList",function(n){e.isDefined(n)&&w(t.valuePageInfo)}),t.$watch("selectedTags",function(n){e.isDefined(n)&&(t.selectedTagMap=c(n,"key"))}),$(n).parent().css("position","relative"),$(n).parent().on("click",function(e){e.stopPropagation()})}return{restrict:"A",scope:{selectedTags:"=selectedTags",keyList:"=keyList",valueList:"=valueList",changeSelectedTagsCallback:"&"},link:u}}function u(t){function n(n,r,i){function s(t,r){var i=[],s=!1;t&&(e.forEach(n.selectedTags,function(e,n){e.key==t?r?e.value!=r?i.push(e):s=!0:s=!0:i.push(e)}),n.selectedTags=i,!s||n.changeSelectedTagsCallback&&n.changeSelectedTagsCallback({data:{selectedTags:n.selectedTags}}))}n.removeTag=s,n.maxResourceBindTagLimit=t.maxResourceBindTagLimit}return{restrict:"A",scope:{selectedTags:"=?selectedTags",changeSelectedTagsCallback:"&"},templateUrl:"scripts/template/tagSelectView.html",link:n}}function a(t,n,i,s){function o(t,n,o,u){function a(n){function s(t){e.isDefined(t)?n.showCreatePanel=t:n.showCreatePanel=!n.showCreatePanel,n.showCreatePanel||f()}function o(e){t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:e.selectedTags,originTags:t.selectedTags}})}function u(e){t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:e.selectedTags,originTags:t.selectedTags}})}function a(r){var s=!1,o=n.newTag.newTagKey,u=n.newTag.newTagValue;e.forEach(n.tagSelect.selectedTags,function(e,t){e.key==o&&(e.value=u,s=!0)});if(!s){if(n.tagSelect.selectedTags&&n.tagSelect.selectedTags.length>=i.maxResourceBindTagLimit)return;n.tagSelect.selectedTags.push({key:o,value:u})}t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:n.tagSelect.selectedTags,originTags:t.selectedTags}}),r&&r.$setPristine&&r.$setPristine(),f()}function f(e){n.newTag.newTagKey="",n.newTag.newTagValue=""}function l(){n.loadingState=!0;var r=t.submitCallback({data:{selectedTags:n.tagSelect.selectedTags,originTags:t.selectedTags}});r&&e.isFunction(r.then)?r.then(function(e){n.close()})["finally"](function(){n.loadingState=!1}):n.loadingState=!1}function c(){var r=t.validations;r&&!!e.isArray(r)&&e.forEach(r,function(i,s){(function(i){t.$watch("validations["+i+"].validStatus",function(t){if(typeof t=="boolean"){if(!t){r[i].tipsKey=i+1;var s={tips:r[i].validTips||"",tipsKey:i+1};!r[i].disableSubmit||(s.disableSubmit=!0),n.tagEditAlertTips.push(s)}else{var o=[];e.forEach(n.tagEditAlertTips,function(e,t){o.push(e),e&&e.tipsKey&&e.tipsKey==i+1&&(o[t].disabledFlag=!0)}),n.tagEditAlertTips=[],e.forEach(o,function(e,t){e.disabledFlag||n.tagEditAlertTips.push(e)})}n.validationsStatus=!0,e.forEach(n.tagEditAlertTips,function(e,t){e.disableSubmit&&(n.validationsStatus=!1)})}})})(s)})}n.tagSelect={selectedTags:e.copy(t.selectedTags),removeTagsCallback:o,selectNewTag:u,keyList:t.keyList,valueList:t.valueList},n.i18nMessage=e.extend({},r.localMessage,r.commonMessage),n.showCreatePanel=!1,n.createPanelToggle=s,n.addNewTag=a,n.submit=l,n.newTag={},n.maxResourceBindTagLimit=i.maxResourceBindTagLimit,n.tagEditTip=i.tagEditTip||r.i18n("tagEdit.tip",n.maxResourceBindTagLimit,i.maxAddRemoveTagRequestLimit),n.tagEditAlertTips=[],n.validationsStatus=!0,e.forEach(["keyList","valueList"],function(e){t.$watch(e,function(t){t&&(n.tagSelect[e]=t)})}),t.$watch("selectedTags",function(t){t&&(n.tagSelect.selectedTags=e.copy(t))}),t.$watch("validations",function(e){e&&c()}),e.forEach(["aliyunConsoleTagSelect.updateKeyList","aliyunConsoleTagSelect.updateValueList"],function(e){n.$on(e,function(n,r){t.$emit(e,r)})})}n.on("click",function(e){e.preventDefault(),s.showDialogByUrl("scripts/template/tagEdit.html",a)})}return{restrict:"A",replace:!0,scope:{selectedTags:"=selectedTags",keyList:"=keyList",valueList:"=valueList",validations:"=validations",submitCallback:"&",changeSelectedTagsCallback:"&"},link:o}}function f(t,n,i,s){function o(t,n,i,o){function u(n){function i(){n.loadingState=!0;var r=t.submitCallback({data:{selectedTags:n.tagSelect.selectedTags,originTags:t.selectedTags}});r&&e.isFunction(r.then)?r.then(function(e){n.close()})["finally"](function(){n.loadingState=!1}):n.loadingState=!1}function s(e){t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:e.selectedTags,originTags:t.selectedTags}})}n.tagSelect={selectedTags:e.copy(t.selectedTags),keyList:t.keyList,valueList:t.valueList},n.i18nMessage=e.extend({},r.localMessage,r.commonMessage),n.submit=i,n.selectNewTag=s,e.forEach(["keyList","valueList"],function(e){t.$watch(e,function(t){t&&(n.tagSelect[e]=t)})}),t.$watch("selectedTags",function(t){t&&(n.tagSelect.selectedTags=e.copy(t))}),e.forEach(["aliyunConsoleTagSelect.updateKeyList","aliyunConsoleTagSelect.updateValueList"],function(e){n.$on(e,function(n,r){t.$emit(e,r)})})}n.on("click",function(e){e.preventDefault(),s.showDialogByUrl("scripts/template/tagEditWithDialog.html",u)})}return{restrict:"A",replace:!0,scope:{selectedTags:"=selectedTags",keyList:"=keyList",valueList:"=valueList",validations:"=validations",submitCallback:"&",changeSelectedTagsCallback:"&"},link:o}}function l(t,n,i){function s(t,n,s,o){function u(n){e.isDefined(n)?t.showCreatePanel=n:t.showCreatePanel=!t.showCreatePanel,t.showCreatePanel||l()}function a(e){t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:e.selectedTags}})}function f(n){var r=!1,s=t.newTag.newTagKey,o=t.newTag.newTagValue;e.forEach(t.selectedTags,function(e,t){e.key==s&&(e.value=o,r=!0)});if(!r){if(t.selectedTags&&t.selectedTags.length>=i.maxResourceBindTagLimit)return;t.selectedTags.push({key:s,value:o})}t.changeSelectedTagsCallback&&t.changeSelectedTagsCallback({data:{selectedTags:t.selectedTags}}),n&&n.$setPristine&&n.$setPristine(),l()}function l(e){t.newTag.newTagKey="",t.newTag.newTagValue=""}function c(){var n=t.validations;n&&!!e.isArray(n)&&e.forEach(n,function(r,i){(function(r){t.$watch("validations["+r+"].validStatus",function(i){if(typeof i=="boolean"){if(!i){n[r].tipsKey=r+1;var s={tips:n[r].validTips||"",tipsKey:r+1};!n[r].disableSubmit||(s.disableSubmit=!0),t.tagEditAlertTips.push(s)}else{var o=[];e.forEach(t.tagEditAlertTips,function(e,t){o.push(e),e&&e.tipsKey&&e.tipsKey==r+1&&(o[t].disabledFlag=!0)}),t.tagEditAlertTips=[],e.forEach(o,function(e,n){e.disabledFlag||t.tagEditAlertTips.push(e)})}t.validateStatus=!0,e.forEach(innerScope.tagEditAlertTips,function(e,n){e.disableSubmit&&(t.validateStatus=!1)})}})})(i)})}t.i18nMessage=e.extend({},r.localMessage,r.commonMessage),t.showCreatePanel=!1,t.removeTagsCallback=a,t.createPanelToggle=u,t.addNewTag=f,t.newTag={},t.maxResourceBindTagLimit=i.maxResourceBindTagLimit,t.tagEditTip=i.tagEditTip||r.i18n("tagEdit.tip",t.maxResourceBindTagLimit,i.maxAddRemoveTagRequestLimit),t.tagEditAlertTips=[],t.validateStatus=!0,t.$watch("validations",function(e){e&&c()})}return{restrict:"A",scope:{selectedTags:"=",keyList:"=",valueList:"=",validations:"=?",validateStatus:"=?",changeSelectedTagsCallback:"&?"},templateUrl:"scripts/template/tagEditInput.html",link:s}}function c(t){var n={};return e.forEach(t,function(e,t){e.key&&(n[e.key]=e.value)}),n}e.module("aliyun.console.tag",[]).directive("aliyunConsoleTagSelect",o).directive("aliyunConsoleTagSelectView",u).directive("aliyunConsoleTagEdit",a).directive("aliyunConsoleTagEditWithDialog",f).directive("aliyunConsoleTagEditInput",l).provider("aliyunConsoleTagSetting",s),o.$inject=["$timeout","$rootScope","aliyunConsoleTagSetting","$compile","$templateCache"],u.$inject=["aliyunConsoleTagSetting"],a.$inject=["$timeout","$rootScope","aliyunConsoleTagSetting","aliyunDialog"],f.$inject=["$timeout","$rootScope","aliyunConsoleTagSetting","aliyunDialog"],l.$inject=["$timeout","$rootScope","aliyunConsoleTagSetting"],s.$inject=[];var r=t.getI18n("directives.tag"),i={maxResourceBindTagLimit:10,maxAddRemoveTagRequestLimit:5,defaultPageInfo:{page:1,pageSize:10}}}),define("common/directives/aliyunCommonDirectives",["angular","./tag"],function(e){"use strict";return e.module("aliyunCommonDirectives",["aliyun.console.tag"])}),define("common/cons/aliyunConsViewFramework",["../services/i18nService"],function(e){var t=function(){var e=window.location.hostname;if(!e.match(/^.+\.aliyun\.|^aliyun\./))return".com";var t=e.replace(/^.*\.aliyun|^aliyun/i,"");return t||(t=".com"),t}(),n=e.getI18n("cons.products"),r={categories:[{name:"弹性计算",products:[{helpCategoryId:"8314827",icon:"icon-ecs",link:"http://ecs.console.aliyun.com",name:"云服务器ECS",openStatus:!0,productId:"ecs"},{helpCategoryId:"",icon:"icon-ace",link:"http://ace.console.aliyun.com",name:"云引擎ACE",openStatus:!0,productId:"ace"},{icon:"icon-ess",link:"http://ess.console.aliyun.com",name:"弹性伸缩",openStatus:!0,productId:"ess"}]},{name:"数据库",products:[{icon:"icon-rds",link:"http://rdsnew.console.aliyun.com",name:"云数据库RDS",openStatus:!0,productId:"rds"},{helpCategoryId:"8315109",icon:"icon-redisa",link:"http://kvstore.console.aliyun.com",name:"键值存储KVStore",openStatus:!0,productId:"kvstore"},{helpCategoryId:"8315004",icon:"icon-ots",link:"http://ots.console.aliyun.com",name:"开放结构化数据服务OTS",openStatus:!0,productId:"ots"},{helpCategoryId:"8314987",icon:"icon-ocs",link:"http://ocs.console.aliyun.com",name:"开放缓存服务OCS",openStatus:!0,productId:"ocs"},{helpCategoryId:"8315081",icon:"icon-ads",link:"http://ads.console.aliyun.com",name:"分析型数据库",openStatus:!0,productId:"ads"},{icon:"icon-dts",link:"http://dts.console.aliyun.com",name:"数据传输",openStatus:!0,productId:"dts"}]},{name:"存储与CDN",products:[{helpCategoryId:"8314910",icon:"icon-oss",link:"http://oss.console.aliyun.com/index",name:"对象存储OSS",openStatus:!0,productId:"oss"},{helpCategoryId:"8314980",icon:"icon-oas",link:"http://oas.console.aliyun.com/console/index",name:"归档存储",openStatus:!0,productId:"oas"},{helpCategoryId:"8315016",icon:"icon-mqs",link:"http://mns.console.aliyun.com",name:"消息服务",openStatus:!0,productId:"mns"},{helpCategoryId:"8314936",icon:"icon-cdn",link:"http://cdn.console.aliyun.com",name:"CDN",openStatus:!0,productId:"cdn"}]},{name:"网络",products:[{helpCategoryId:"8314871",icon:"icon-slb",link:"http://slbnew.console.aliyun.com",name:"负载均衡",openStatus:!0,productId:"slb"},{helpCategoryId:"",icon:"icon-vpc",link:"http://vpc.console.aliyun.com",name:"专有网络VPC",openStatus:!0,productId:"vpc"},{icon:"icon-logo2",link:"http://ip.console.aliyun.com",name:"弹性公网IP",openStatus:!0,productId:"ip"}]},{name:"大规模计算",products:[{helpCategoryId:"8314999",icon:"icon-odps",link:"http://odps.console.aliyun.com",name:"开放数据处理服务ODPS",openStatus:!0,productId:"odps"},{helpCategoryId:"9001010",icon:"icon-batchcompute",link:"http://batchcompute.console.aliyun.com",name:"批量计算",openStatus:!0,productId:"batchcompute"},{helpCategoryId:"",icon:"icon-dpc",link:"http://dpc.console.aliyun.com",name:"采云间",openStatus:!0,productId:"dpc",shortName:"DPC"}]},{name:"安全与管理",products:[{helpCategoryId:"8314941",icon:"icon-yundun",link:"http://yundun.console.aliyun.com",name:"云盾",openStatus:!0,productId:"yundun"},{helpCategoryId:"8314972",icon:"icon-yunjiankong",link:"http://cms.console.aliyun.com",name:"云监控",openStatus:!0,productId:"cms"},{helpCategoryId:"",icon:"icon-ram",link:"http://ram.console.aliyun.com",name:"访问控制",openStatus:!0,productId:"ram"}]},{name:"应用服务",products:[{helpCategoryId:"8314976",icon:"icon-sls",link:"http://sls.console.aliyun.com",name:"日志服务",openStatus:!0,productId:"sls"},{helpCategoryId:"",icon:"icon-opensearch",link:"http://opensearch.console.aliyun.com",name:"开放搜索",openStatus:!0,productId:"opensearch"},{helpCategoryId:"",icon:"icon-mts",link:"http://mts.console.aliyun.com",name:"媒体转码",openStatus:!0,productId:"mts"},{helpCategoryId:"",icon:"icon-pts",link:"http://pts.aliyun.com/aliyun/",name:"性能测试",openStatus:!0,productId:"pts"},{helpCategoryId:"9005959",icon:"icon-mas",link:"http://man.console.aliyun.com/aliyun/masAppList.htm?login=true",name:"移动数据分析",openStatus:!0,productId:"man"}]},{name:"互联网中间件",products:[{helpCategoryId:"",icon:"icon-edas",link:"http://edas.console.aliyun.com",name:"企业级分布式应用服务EDAS",openStatus:!0,productId:"edas"},{helpCategoryId:"",icon:"icon-ons",link:"http://ons.console.aliyun.com",name:"消息队列",openStatus:!0,productId:"ons"},{helpCategoryId:"8315099",icon:"icon-drds",link:"http://drds.console.aliyun.com",name:"分布式关系型数据库DRDS",openStatus:!0,productId:"drds"}]},{name:"域名与网站（万网）",products:[{helpCategoryId:"9002814",icon:"icon-yuming",link:"http://netcn.console.aliyun.com/core/domain/list",name:"域名",openStatus:!0,productId:"domain"},{helpCategoryId:"9002814",icon:"icon-yunjiexi",link:"http://netcn.console.aliyun.com/core/domain/tclist",name:"云解析",openStatus:!0,productId:"dns"},{helpCategoryId:"9002853",icon:"icon-yunxunizhuji",link:"http://netcn.console.aliyun.com/core/host/list2",name:"云虚拟主机",openStatus:!0,productId:"host"},{helpCategoryId:"",icon:"icon-qiyeyouxiang",link:"http://netcn.console.aliyun.com/core/mail/list",name:"企业邮箱",openStatus:!0,productId:"mail"},{helpCategoryId:"",icon:"icon-wo-sitebuild",link:"http://netcn.console.aliyun.com/core/website/list",name:"标准建站",openStatus:!0,productId:"website"}]},{name:"其他",products:[{icon:"icon-toolsimage",link:"http://market.console.aliyun.com",name:"云市场",openStatus:!0,productId:"market"}]}],categoryGroup:[2,3,2,3],navLinks:{accesskeys:{href:"https://ak-console.aliyun.com/",target:"_blank",text:"AccessKeys",id:"accesskeys",show:!0},customHelp:{icon:"",href:"https://home.console.aliyun.com/common/navRedirect.html?typeId=customHelp",navRedirect:!0,text:n.i18n("customHelpLink.text"),title:n.i18n("customHelpLink.title"),show:!1,showNew:!0,id:"customHelp"},help:{links:[{href:"http://www.aliyun.com/act/aliyun/console/faq.html",target:"_blank",text:"FAQ",id:"faq"},{href:"http://help.aliyun.com",target:"_blank",text:n.i18n("help"),id:"help"},{href:"http://docs.aliyun.com",target:"_blank",text:n.i18n("docs"),id:"docs"},{href:"http://bbs.aliyun.com",target:"_blank",text:n.i18n("forum"),id:"bbs"}],text:n.i18n("group.help"),show:!0,id:"help"},home:{icon:"icon-home",href:"http://home.console.aliyun.com",text:n.i18n("homeLink.text"),target:"_self",show:!0},i18n:{icon:"",id:"i18n",requestUrl:"",show:!1,showNew:!0},icp:{href:"http://beian.aliyun.com/",target:"_blank",text:"备案",id:"beian",show:!0},logo:{icon:"icon-logo1 icon-logo-new",href:"http://www.aliyun.com",target:"_blank",show:!0},message:{blankText:n.i18n("notificationLink.text.nomsg"),messageUrl:"https://msc.console.aliyun.com/#/innerMsg/allDetail/",href:"https://msc.console.aliyun.com/#/innerMsg/unread/0",text:n.i18n("notificationLink.text.more"),title:n.i18n("notificationLink.title"),show:!0},product:{text:n.i18n("productLink.text"),show:!0},qrcode:{icon:"icon-qrcode",href:"http://www.aliyun.com/app",text:n.i18n("qrcodeLink.text"),image:"https://g.alicdn.com/aliyun/console/1.3.21/styles/images/qrcode.png",title:n.i18n("qrcodeLink.title"),show:!1},search:{href:"http://www.aliyun.com/s?k=",text:n.i18n("searchLink.text"),placeholder:n.i18n("searchLink.placeholder"),show:!0},user:{links:[{href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",target:"_self",text:n.i18n("signOut"),id:"signOut"}],linkMap:{switchRole:{href:"https://signin.aliyun.com/switchRole.htm",target:"_self",text:n.i18n("switchRole"),id:"switchRole"},exitSwitchedRole:{href:"https://signin.aliyun.com/exitSwitchedRole.htm",target:"_self",text:n.i18n("exitSwitchedRole"),id:"exitSwitchedRole"},signout:{href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",target:"_self",text:n.i18n("signOut"),id:"signOut"}},labels:{currentName:n.i18n("currentName"),currentAlias:n.i18n("currentAlias"),loginName:n.i18n("loginName"),loginAlias:n.i18n("loginAlias"),role:n.i18n("role"),subaccount:n.i18n("subaccount")},tagLink:"http://ram.console.aliyun.com",show:!0,id:"user"},workorder:{links:[{href:"https://workorder.console.aliyun.com/#/ticket/list/",target:"_blank",text:n.i18n("ticket"),id:"workorderOwn"},{href:"https://home.console.aliyun.com/common/navRedirect.html?typeId=workorderAdd",navRedirect:!0,target:"_blank",text:n.i18n("ticket.open"),id:"workorderAdd"}],text:n.i18n("group.technicalSupport"),id:"workorder",show:!0},requestUrl:{updateMessageInfo:"//home.console.aliyun.com/center/updateMessageInfo.js"},regionInfo:{show:!0,supportRegions:["ecs","home"],regionList:[{label:"亚太",className:"asia-pacific",children:[{regionId:"cn-beijing",label:"华北（北京）",className:""},{regionId:"cn-zhangjiakou",label:"华北（张家口）",className:""},{regionId:"cn-qingdao",label:"华北（青岛）",className:""},{regionId:"cn-shanghai",label:"华东（上海）",className:""},{regionId:"cn-hangzhou",label:"华东（杭州）",className:""},{regionId:"cn-shenzhen",label:"华南（深圳）",className:""},{regionId:"ap-northeast-1",label:"日本（东京）",className:""},{regionId:"cn-hongkong",label:"香港",className:""},{regionId:"ap-southeast-1",label:"新加坡",className:""},{regionId:"ap-southeast-2",label:"澳大利亚（悉尼）",className:""}]},{label:"中东",className:"middle-east",children:[{regionId:"me-east-1",label:"阿联酋（迪拜)",className:""}]},{label:"欧洲",className:"europe",children:[{regionId:"eu-central-1",label:"德国（法兰克福）",className:""}]},{label:"美洲",className:"americas",children:[{regionId:"us-east-1",label:"美东（弗吉尼亚）",className:""},{regionId:"us-west-1",label:"美西（硅谷）",className:""}]}]}}},i={navConfig:{product:{title:n.i18n("product.title"),popover:n.i18n("product.popover"),dialogTitle:n.i18n("product.dialogTitle"),folded:!1,show:!0,showManageButton:!0},service:{title:n.i18n("service.title"),popover:n.i18n("service.popover"),dialogTitle:n.i18n("service.dialogTitle"),folded:!1,show:!0,showManageButton:!0},requestUrl:{setUserPreference:"//home.console.aliyun.com/center/setUserPreference.js"}},products:[{icon:"icon-ecs-3",productId:"ecs",name:n.i18n("ecs"),link:"http://console.aliyun"+t+"/index.htm"},{icon:"icon-rds-3",productId:"rds",name:n.i18n("rds"),link:"http://rds.console.aliyun"+t},{icon:"icon-slb-3",productId:"slb",name:n.i18n("slb"),link:"http://slb.console.aliyun"+t},{icon:"icon-oss-3",productId:"oss",name:n.i18n("oss"),link:"http://oss.console.aliyun"+t+"/index"},{icon:"icon-cdn-3",productId:"cdn",name:n.i18n("cdn"),link:"http://cdn.console.aliyun"+t},{icon:"icon-ots-3",productId:"ots",name:n.i18n("ots"),link:"http://ots.console.aliyun"+t},{icon:"icon-ocs-3",productId:"ocs",name:n.i18n("ocs"),link:"http://ocs.console.aliyun"+t},{icon:"icon-odps-3",productId:"odps",name:n.i18n("odps"),link:"http://odps.console.aliyun"+t},{icon:"icon-ace-3",productId:"ace",name:n.i18n("ace"),link:"http://ace.console.aliyun"+t},{icon:"icon-yundun-3",productId:"yundun",name:n.i18n("yundun"),link:"http://yundun.console.aliyun"+t},{icon:"icon-sls-3",productId:"sls",name:n.i18n("sls"),link:"http://sls.console.aliyun"+t},{icon:"icon-mqs-3",productId:"mqs",name:n.i18n("mqs"),link:"http://mqs.console.aliyun"+t},{icon:"icon-opensearch-3",productId:"opensearch",name:n.i18n("opensearch"),link:"http://opensearch.console.aliyun"+t},{icon:"icon-pts-3",productId:"pts",name:n.i18n("pts"),link:"http://pts.console.aliyun"+t}],productPreference:["ecs","rds","slb","oss","ocs"],services:[{icon:"icon-account-2",productId:"account",name:n.i18n("service.account"),link:"https://account.console.aliyun"+t},{icon:"icon-expense",productId:"expenseCenter",name:n.i18n("service.expenseCenter"),link:"http://expense.console.aliyun"+t},{icon:"icon-renew",productId:"renew",name:n.i18n("service.renew"),link:"http://renew.console.aliyun"+t},{icon:"icon-invite",productId:"msc",name:n.i18n("service.msc"),link:"https://msc.console.aliyun"+t},{icon:"icon-pen",productId:"workorder",name:n.i18n("service.workorder"),link:"http://workorder.console.aliyun"+t},{icon:"icon-bsn",productId:"bsn",name:n.i18n("service.bsn"),link:"http://bsn.console.aliyun"+t}],servicePreference:["account","expenseCenter","renew","msc","workorder","bsn"]},s="sidebar-type",o=".aliyun.com",u="https://home.console.aliyun"+t;return{SUFFIX:t,TOPBAR_DEFAULT_CONS:r,SIDEBAR_DEFAULT_CONS:i,SIDEBAR_FOLD_COOKIENAME:s,SIDEBAR_FOLD_COOKIEDOMAIN:o,HOME_DEFAUL_ENDPOINT:u}}),define("common/helper/viewFrameworkHelper",["angular","../cons/aliyunConsViewFramework"],function(e,t){function r(e){var t;e&&(n=e.sidebar,t=u(),t&&(e.sidebar=t,n=t))}function i(e){return!0}function s(e,t,n){if(!e)return;var r="";n&&(r=";domain="+n),document.cookie=e+"="+escape(t)+r+"; path=/"}function o(e){if(!e)return;var t=document.cookie.split(";"),n;for(var r=0;r<t.length;r++){var i=t[r].split("=");i[0].trim()==e&&(n=unescape(i[1]))}return n}function u(){return o(t.SIDEBAR_FOLD_COOKIENAME)}function a(){var e=u()||n;return e!="mini"&&e!="full"&&(e="full"),e}function f(){return a()=="mini"}var n;return{init:r,versionGreaterThan:i,getCookie:o,setCookie:s,getSidebarType:a,isSidebarFold:f}}),define("common/services/regionService",["angular","../cons/aliyunConsViewFramework","../helper/viewFrameworkHelper","../services/i18nService"],function(e,t,n,r){function p(t){var n={};return t&&e.forEach(t,function(t,r){var i={};t&&t.isRegionalization&&t.regions&&e.forEach(t.regions,function(e,t){e&&e.isOpen&&e.domain&&(i[t]=d(e.domain))}),i&&(n[r]=i)}),n}function d(e,t){return t||(t="https://"),/^http[s]?:\/\//.test(e)?e:t+e}function v(e){return e.replace(/^http[s]?:\/\//,"")}function m(t,n){var r={};return n=n?n:"id",e.forEach(t,function(e,t){e[n]&&(r[e[n]]=e)}),r}var i=r.getI18n("common"),s="activeRegionIdChange",o={REGIONBAR_COOKIENAME:"activeRegionId",REGIONBAR_DOMAIN:".aliyun"+t.SUFFIX,REGIONBAR_RECENT_COOKIENAME:"recentRegionList",REGIONBAR_RECENT_DOMAIN:".console.aliyun"+t.SUFFIX,REGIONBAR_RECENT_MAX_COUNT:5,LANG_COOKIENAME:"aliyun_lang"},u=null,a=null,f=null,l=n.getCookie(o.LANG_COOKIENAME)||"zh",c={productId:null,hashEnabled:!1,pathEnabled:!1,searchEnabled:!1,regionIdKey:"regionId",recentEnabled:!1,activeRegionId:null,regionList:null,regionListMap:{},regionSetting:null,regionSettingProduct:null,regionSettingSimple:null,regionSettingSimpleProduct:null,recentRegionList:null,$get:function(){return this},setOptions:function(t){var n=this;e.forEach(["productId","regionIdKey","hashEnabled","recentEnabled","pathEnabled","searchEnabled"],function(e,r){t[e]&&(n[e]=t[e])}),this.setRegionList(t.regionList),this.setRegionSetting(t.regionSetting)},init:function(e,t,n){u=e,a=t,f=n;var r=this.getActiveRegionIdCookies(),i=this.getRegionIdFromDomain();i&&i!=r&&this.setActiveRegionId(i);var o=this.getActiveRegionId();(!u.activeRegionId||!this.activeRegionId)&&o&&(this.activeRegionId=u.activeRegionId=o),this.regionList&&this.regionList.length==0&&this.setActiveRegionIdCookies(""),this.recentRegionList=this.getRecentRegionListCookies(),this.activeRegionIdWatcher(function(e){u.$broadcast(s,e)})},setRegionList:function(e){e&&e.length>0&&(this.regionList=this.formatRegionList(e),this.regionListMap=m(this.regionList,"regionId"))},setRegionSetting:function(e){e&&(this.regionSetting=e,this.regionSettingProduct=this.regionSetting[this.productId],this.regionSettingSimple=p(this.regionSetting),this.regionSettingSimpleProduct=this.regionSettingSimple[this.productId])},setActiveRegionId:function(e,t,n){var r=this.regionList,i=this.regionListMap;if(r){if(!e||!i[e])if(u.activeRegionId){if(e===undefined)return}else{var s=this.getDefaultRegionId();if(!s)return;e=s}e&&e!=u.activeRegionId&&(this.activeRegionId=u.activeRegionId=e,this.setActiveRegionIdCookies(e)),t||this.redirectHandler(this.activeRegionId,!1,n)}else console.error("[ERROR] viewFrameworkHelper: Region list not set.")},setActiveRegionIdWithOptions:function(e){e&&this.setActiveRegionId(e.regionId,e.notRedirect,{toState:e.toState,toParams:e.toParams})},getActiveRegionId:function(){var e=this.getTrueActiveRegionId();if(!e||this.regionListMap&&!this.regionListMap[e])e=this.getDefaultRegionId();return e},getTrueActiveRegionId:function(){return this.activeRegionId||u&&u.activeRegionId||this.getActiveRegionIdCookies()},getDefaultRegionId:function(){return u&&u.viewFrameworkConfig&&u.viewFrameworkConfig.customRegionId||this.regionList&&this.regionList[0]&&this.regionList[0].regionId},getActiveRegionIdCookies:function(){return n.getCookie(o.REGIONBAR_COOKIENAME)},setActiveRegionIdCookies:function(e){n.setCookie(o.REGIONBAR_COOKIENAME,e,o.REGIONBAR_DOMAIN)},getRecentRegionListCookies:function(){var e=n.getCookie(o.REGIONBAR_RECENT_COOKIENAME);return e?e.split(","):[]},setRecentRegionList:function(e){var t=this.recentRegionList;if(t&&e&&this.isRegionIdValid(e)){var r=t.indexOf(e);r!=-1&&t.splice(r,1),t.unshift(e),t.length>o.REGIONBAR_RECENT_MAX_COUNT&&t.pop()}this.recentRegionList=t,t&&t.length>0&&n.setCookie(o.REGIONBAR_RECENT_COOKIENAME,t.join(","),o.REGIONBAR_RECENT_DOMAIN)},isRegionIdValid:function(e){return this.regionListMap[e]},formatRegionList:function(t){var n=[];return t&&e.isArray(t)?(e.forEach(t,function(e,t){n.push({name:e.name||e.LocalName||e.localName,regionId:e.regionId||e.RegionId||e.regionNo,disabled:!!e.disabled,disabledMessage:e.disabledMessage})}),n):t},completeUrlWithProtocol:d,removeUrlProtocol:v,redirectHandler:function(e,t,n){e||(e=this.getActiveRegionId());if(e&&this.regionSettingSimpleProduct){var r=window.location.hostname,i=d(this.regionSettingProduct&&this.regionSettingProduct.domain);r=="localhost"&&(r=i);var s=this.regionSettingSimpleProduct[e],o=s&&v(s);if(o&&o!=r||!o&&this.isRegionlizeDomain(r)){if(t)return!0;var u=this.getCurrentHash(e,n),a=this.getPathname(),f=this.getSearch();window.location=(s?s:i)+a+f+(u?u:""),this.loading(e,null,r)}}return!1},getCurrentHash:function(t,n){var r="",i=c.regionIdKey,s="",o;if(a&&this.hashEnabled){if(n&&n.toState){if(n.toState.name.indexOf(".")==-1)s=n.toState.url;else{var u=n.toState.name.split("."),f="";e.forEach(u,function(e,t){f=f?f+"."+e:e;var n=a.get(f);if(n&&n.url){var r=n.url.indexOf("?");r!=-1&&r!=0&&(s+=n.url.substring(0,r)),s+=n.url}})}o=e.copy(n.toParams),o=e.extend(o,a.params)}else s=a.$current&&a.$current.url&&a.$current.url.sourcePath,o=a.params;s&&o&&e.forEach(o,function(e,n){i!=n?s=s.replace(":"+n,e):s=s.replace(":"+n,t)}),s&&(r="#"+s)}return r},getPathname:function(){return this.pathEnabled?window.location.pathname:""},getSearch:function(){return this.searchEnabled?window.location.search:""},isRegionlizeDomain:function(t){t||(t=window.location.hostname),t=v(t);var n=!1;return e.forEach(this.regionSettingSimpleProduct,function(e,r){e&&t==v(e)&&!n&&(n=!0)}),n},activeRegionIdWatcher:function(e){u&&u.$watch("activeRegionId",function(t,n){t&&e(t,n)})},getRegionIdFromDomain:function(t){t?t=v(t):t=window.location.hostname;var n=null;return this.regionSettingProduct&&this.regionSettingProduct.isRegionalization&&this.regionSettingProduct.regions&&e.forEach(this.regionSettingProduct.regions,function(e,r){e.domain&&t==e.domain&&(n=r)}),n},getDomainFromRegionId:function(e,t){e||(e=this.getActiveRegionId());var n;return t?n=this.regionSetting[t]:n=this.regionSettingProduct,n?n.regions&&n.regions[e]&&n.regions[e].domain||n.domain:null},formatUrlConfigByRegionSetting:function(t){if(!t)return;var n=this,r=this.getActiveRegionId();return e.forEach(t,function(e,i){t[i]=n.formatUrlByRegionSetting(e,r)}),t},formatUrlByRegionSetting:function(t,n){var r=this;return n||(n=this.getActiveRegionId()),e.forEach(this.regionSettingSimple,function(e,i){var s=r.regionSetting[i]&&r.regionSetting[i].domain,o=e[n];s&&o&&(t=t.replace(v(s),v(o)))}),t},loading:function(t,n,r){var s=t||this.getActiveRegionId(),o="",u="",a=this.setActiveRegionIdCookies;e.forEach(this.regionList,function(e){e.regionId==s&&(o=e.name)}),e.isFunction(n)?u=n(s,o):u=i.i18n("common.region.goto.loading",o);var f=l=="zh"?'<div class="region-loading-logo" style="display: none;"><img style="z-index: 2;" src="//img.alicdn.com/tps/TB15vyaLpXXXXXXXFXXXXXXXXXX-198-46.png"><img style="z-index: 1;" src="//img.alicdn.com/tps/TB1SW9jLpXXXXbEXXXXXXXXXXXX-198-46.gif"></div>':'<div class="region-loading-logo" style="display: none;"><span class="icon-logo3-1" style="font-size: 48px;"></span></div>',c=['<div class="region-loading-overlay" ','style="z-index:10000; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(240,240,240,1); color: #333; text-align: center;">','<div class="region-loading-overlay-text" ','style="position:relative; top:30%; margin-top:-7px; font-size: 14px;">',f,u,r?'<a class="region-loading-back" href="'+d(r)+'" style="display: block;color: #333; margin-top: 32px;">'+i.i18n("common.region.goto.goback")+"</a>":"","</div>","</div>"].join("");jQuery("body").append(c),jQuery(".region-loading-back").click(function(e){a("")})}},h=e.module("aliyun.console.regionService",[]);return h.provider("regionServiceConfig",function(){return c}),h.factory("regionServiceSetting",function(){return c}),h.factory("regionService",["$rootScope","$state","$timeout",function(e,t,n){return c.init(e,t,n),c}]),h.directive("aliyunConsoleRegionbar",["regionService","$state",function(t,n){function r(n){if(!t.regionList){console.error("[ERROR] aliyunRegionbar: Region list not set.");return}if(!t.productId){console.error("[ERROR] aliyunRegionbar: ProductId is needed.");return}var r=t.regionListMap,s=t.getActiveRegionId();n.regionList=t.regionList,n.regionListMap=r,n.regionSettingSimpleProduct=t.regionSettingSimpleProduct,n.activeRegionId=s,n.viewContent=n.verticalViewContent||r[s].name,n.recentRegionList=t.recentRegionList,n.recentEnabledSwitch=n.recentEnabled=="true"||t.recentEnabled,n.recentMessage=i.i18n("common.region.recent.title"),n.$watch("filterRegionList",function(e){e&&(n.regionList=t.regionList.filter(function(e){var t=e.regionId,r=n.filterRegionList||[],i=m(r,"regionId");return i[t]}))}),n.changeRegionId=function(r,i){if(r==t.getActiveRegionId())return;t.setActiveRegionId(r),i||t.setRecentRegionList(r),e.isFunction(n.changeRegion)&&n.changeRegion(r)},t.activeRegionIdWatcher(function(e){n.activeRegionId=e})}return{restrict:"AE",scope:{changeRegion:"&",regionIdKey:"@",filterRegionList:"=",recentEnabled:"@",vertical:"@",verticalViewContent:"@"},templateUrl:"scripts/template/regionbar.html",replace:!0,link:r}}]),c}),define("common/directives/productNavBar",["angular","../services/i18nService"],function(e,t){function r(e){return e&&e.clickHandler?' ng-click="item.clickHandler($event,item,state)" ':""}var n=e.module("aliyun.console.productNavBar",[]);n.factory("productNavBarSetting",["$rootScope","$state",function(t,n){function r(t){var n={};return e.forEach(t,function(t){t.childs?e.forEach(t.childs,function(e){!e.outlet&&e.state&&(n[e.state]=e)}):t.state&&!t.outlet&&(n[t.state]=t)}),n}function i(e){t.productNavBarConfig.title=e}function s(e){t.productNavBarConfig.titleClickHandler=e}function o(e){t.productNavBarConfig.mainNav=e}function u(e,n){t.productNavBarConfig.backNav=n,t.productNavBarConfig.subNav=e}function a(){return t.productNavBarConfig.subNav}function f(e){t.productNavBarConfig.extend=e}function l(){return t.productNavBarConfig.transcludedHtml}function c(e){t.productNavBarConfig.transcludedHtml=e}return t.productNavBarConfig||(t.productNavBarConfig={title:"",mainNav:[],subNav:[],backNav:"",mainNavMapping:[],subNavMapping:[],extend:{},transcludedHtml:""}),{setTitle:i,setMainNav:o,setSubNav:u,setTranscludedHtml:c,setTitleClickHandler:s,updateExtend:f,getSubNav:a,getTranscludedHtml:l}}]),n.directive("customizedContent",["productNavBarSetting",function(e){return{restrict:"A",scope:{},template:e.getTranscludedHtml()}}]),n.directive("productNav",function(){return{restrict:"A",replace:!0,scope:!0,templateUrl:"scripts/template/productNav.html",controller:["$rootScope","$scope","$state","productNavBarSetting","$timeout",function(n,r,i,s,o){var u=t.getI18n("common");r.i18nMessage=u.localMessage,n.$watch("productNavBarConfig",function(e){o(function(){r.config=e})}),r.navScene=!1;var a=function(t){if(t.state&&t.highlightConsiderParams&&t.params&&i.params&&i.includes(t.state)){var n=!0;return e.forEach(t.params,function(e,t){t&&n&&(n=i.params[t]==e)}),n}if(!t.includes&&t.state)return i.includes(t.state);if(t.includes){var r=t.includes;if(e.isArray(r)){for(var s=0;s<r.length;s++)if(i.includes(r[s]))return!0;return!1}return i.includes(r)}};r.checkActive=function(e,t){var n=a(e);return n&&r.navScene!=t&&o(function(){r.navScene=t},20),n},r.backNav=function(){var t=n.productNavBarConfig.backNav;e.isString(t)?i.go(t):e.isObject(t)&&t.state&&i.go(t.state,t.params)}}],link:function(e,t,n){}}}),n.directive("productNavLink",["$compile","$state",function(e,t){return{restrict:"A",scope:{item:"="},replace:!0,controller:["$rootScope","$scope","$state","productNavBarSetting",function(e,t,n,r){t.go=function(e,t){n.go(e,t||{})},t.extend||(t.extend={}),t.state=n}],link:function(t,n,i){var s="";t.item.childs?s+='<a href="" role="treeitem" aria-haspopup="true" aria-label="press enter to expand" ng-click="item.showChild=!item.showChild">':t.item.outlet&&t.item.outlet.state?s+='<a href="" role="treeitem" ui-sref="{{item.outlet.state}}({{item.outlet.params||\'\'}})" '+r(t.item)+">":t.item.outlet&&t.item.outlet.url?s+='<a href="{{item.outlet.url}}" role="treeitem" target="{{item.outlet.target || \'_blank\'}}"'+r(t.item)+">":t.item.state&&(s+='<a href="" role="treeitem" ui-sref="{{item.state}}({{item.params||\'\'}})" '+r(t.item)+">"),s+='<div class="nav-icon">',t.item.childs&&(s+="<span ng-class=\"{'icon-arrow-down':item.showChild,'icon-arrow-right':!item.showChild}\"></span>"),s+='</div><div class="nav-title" aliyun-truncate-text source-text="{{item.title}}" text-length="20" is-unicode-length="true"></div>',t.item.extend&&(s+='<div class="nav-extend">'+t.item.extend+"</div>"),s+="</a>",n.html(s),e(n.contents())(t)}}}])}),define("common/directives/sideBar",["../cons/aliyunConsViewFramework","../helper/responsePreHandler","../cons/aliyunCons","angular","../services/i18nService","../helper/viewFrameworkHelper"],function(e,t,n,r,i,s){"use strict";function l(e,t,n,i){function o(e,t,n){function i(t){if(!t||!e.productsMap)return;e.productList=p(t,e.productsMap),e.productHeight=b(t,e.productsMap)}function o(t){if(!t||!e.productsMap)return;e.serviceList=p(t,e.servicesMap),e.serviceHeight=b(t,e.servicesMap,e.serviceList.length)}function a(t){t&&(e.navConfig=t)}function l(t){t&&(e.productId=t,e.currentEntry=v(e))}function c(t){t&&(e.type=t,e.isSidebarFold=t=="mini")}function h(t){t&&(e.spmId=t)}function d(t){r.isDefined(t)&&(e.version=t)}function m(t,n){if(!n||!n.type||!n.preference)return;n.type==="product"?e.productPreference=n.preference:n.type==="service"&&(e.servicePreference=n.preference)}function g(){e.isSidebarFold=!e.isSidebarFold;var t=e.isSidebarFold?"mini":"full";e.$emit("updateViewFrameworkConfigSidebar",t)}function y(e,t){t.folded=!t.folded}function b(t,n){var i=t.length,s=e.currentEntry;return t&&s&&r.isDefined(n[s.productId])&&t.indexOf(s.productId)==-1&&(i+=1),i*f}u(e),e.currentEntry=null,e.loadingState=!0,e.isSidebarFold=s.isSidebarFold(),e.toggleFoldStatus=y,e.toggleSidebarStatus=g,e.versionGreaterThan1_3_21=s.versionGreaterThan("1.3.21"),e.$on("updatePreference",m),e.$watch("productPreference",i),e.$watch("servicePreference",o),e.$watch("navConfig",a),n.$observe("type",c),n.$observe("productId",l),n.$observe("spmId",h),n.$observe("version",d)}function u(t){e({method:"jsonp",url:i.getHomeEndpoint()+"/nav/sidebar.js",params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(e){var n=e.data;n&&n.code=="200"?l(n.data,t):l(a,t)},function(){l(a,t)})}function l(e,r){if(!e)return;t(function(){r.loadingState=!1,r.navConfig=e.navConfig,r.products=e.products,r.services=e.services,r.productsMap=c(r.products),r.servicesMap=c(r.services),r.currentEntry=v(r),r.productPreference=h(e.productPreference,r.productsMap),r.servicePreference=h(e.servicePreference,r.servicesMap),r.locale=e.locale,r.messages=d(r.locale||n.locale)},0)}function c(e){var t={};return r.forEach(e,function(e,n){e.productId&&(t[e.productId]=e)}),t}function h(e,t){var n=[];return r.forEach(e,function(e,r){var i=t[e];i&&n.push(e)}),n}function p(e,t){var n=[];return r.forEach(e,function(e,r){var i=t[e];i&&n.push(i)}),n}function v(e){var t=null,n=e.productId;return!e.currentEntry&&n&&r.forEach([e.productsMap,e.servicesMap],function(e,r){if(e){var i=e[n];i&&(t=i)}}),t}return{restrict:"A",replace:!0,scope:!0,templateUrl:"scripts/template/sideBar.html",link:o}}function c(e,n,i,s,o){function a(a,f,l){function h(e,t,n){var i={};return r.isArray(e)&&e.length>0?(r.forEach(e,function(e,r){n&&e[n]&&(e.arrayIndex=r,e.selected=t.indexOf(e[n])!==-1,i[e[n]]=e)}),i):{}}function p(e){var f=e.pickedItems=r.copy(a.pickedItems),l=e.allItems=r.copy(a.items),c=e.allItemsMap=h(l,f,"productId");e.title=a.title,e.spmId=a.spmId,e.messages=d(a.locale||s.locale),e.clickHandler=function(e){var t=f.indexOf(e);t!==-1?f.splice(t,1):f.push(e);var n;c[e]&&(n=c[e].arrayIndex),l[n].selected=!l[n].selected},e.setUserConfig=function(){e.isLoadingState=!0,n({method:"jsonp",url:a.requestUrl?a.requestUrl:o.getHomeEndpoint()+"/center/setUserPreference.js",params:{callback:"JSON_CALLBACK",preference:r.toJson(f),type:a.type,timestamp:(new Date).getTime()}}).then(function(n){var s=t.responsePreHandler(n,i,!0);s&&r.isFunction(s.then)==0&&a.$emit("updatePreference",{preference:f,type:a.type}),e.isLoadingState=!1,e.close()},function(t){e.isLoadingState=!1,i.invoke(["aliyunCommonTopicService",function(e){e.publish(u,t,!0)}])})}}var c=5;l.$observe("spmId",function(e){e&&(a.spmId=e)}),f.click(function(t){t.preventDefault(),t.stopPropagation(),e.showDialogByUrl("scripts/template/sidebarManage.html",p,{windowClass:"viewFramework-sidebar-dialog"})})}return{restrict:"A",scope:{pickedItems:"=",items:"=",requestUrl:"=",type:"@",title:"@",locale:"@"},link:a}}function h(e){return e("sidebarTooltip","tooltip","mouseenter")}function p(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"scripts/template/sidebarTooltipPopup.html"}}function d(e){var t=i.getI18n("sidebar");return r.extend({},t.localMessage,t.commonMessage)}r.module("aliyun.console.sidebar",[]).directive("aliyunConsoleSidebar",l).directive("aliyunConsoleSidebarManage",c).directive("sidebarTooltip",h).directive("sidebarTooltipPopup",p);var o=n.SUFFIX,u=n.SHOW_RESPONSE_ERROR_MESSAGE,a=e.SIDEBAR_DEFAULT_CONS,f=40;l.$inject=["$http","$timeout","$rootScope","viewFrameworkSetting"],c.$inject=["aliyunDialog","$http","$injector","$rootScope","viewFrameworkSetting"],h.$inject=["$tooltip"]}),define("common/cons/aliyunConsTopbar",[],function(){var e={categoryInfo:[{text:"弹性计算",products:[{id:"ecs","short":"ECS",text:"云服务器",href:{aliyun:"http://console.aliyun.com/ecs/index.htm",jbp:"http://jbp.console.aliyun.com/ecs/index.htm"},target:"_self",className:"icon-ecs",workorderId:12},{id:"slb","short":"SLB",text:"负载均衡",href:{aliyun:"http://slb.console.aliyun.com",jbp:"http://slb.jbp.console.aliyun.com"},target:"_self",className:"icon-slb",workorderId:86}]},{text:"数据库",products:[{id:"rds",text:"关系型数据库","short":"RDS",href:{aliyun:"http://rds.console.aliyun.com",jbp:"http://rds.jbp.console.aliyun.com"},target:"_self",className:"icon-rds",workorderId:10},{id:"ots","short":"OTS",text:"开放结构化数据服务",href:"http://ots.console.aliyun.com",target:"_self",className:"icon-ots",workorderId:29},{id:"ocs","short":"OCS",text:"开放缓存服务",href:"http://ocs.console.aliyun.com/",target:"_self",className:"icon-ocs",workorderId:91}]},{text:"存储与CDN",products:[{id:"oss","short":"OSS",text:"开放存储服务",href:{aliyun:"http://oss.console.aliyun.com/console/index",jbp:"http://oss.jbp.console.aliyun.com/console/index"},target:"_self",className:"icon-oss",workorderId:22},{id:"cdn","short":"CDN",text:"内容分发网络",href:"http://cdn.console.aliyun.com/",target:"_self",className:"icon-cdn",workorderId:92},{className:"icon-oas",href:"http://oas.console.aliyun.com/console/index",id:"oas","short":"OAS",target:"_self",text:"开放归档服务",workorderId:1211}]},{text:"大规模计算",products:[{id:"odps","short":"ODPS",text:"开放数据处理服务",href:"http://odps.console.aliyun.com/console/index",target:"_self",className:"icon-odps",workorderId:47}]},{text:"应用服务",products:[{id:"ace",text:"云引擎","short":"ACE",href:"http://ace.console.aliyun.com",target:"_self",className:"icon-ace",workorderId:18},{id:"sls","short":"SLS",text:"简单日志服务",href:"http://sls.console.aliyun.com",target:"_self",className:"icon-sls",workorderId:1210},{className:"icon-mqs",href:"http://mqs.console.aliyun.com",id:"mqs","short":"MQS",target:"_self",text:"消息队列服务",workorderId:1212},{className:"icon-opensearch",href:"http://opensearch.console.aliyun.com/",id:"opensearch","short":"",target:"_self",text:"开放搜索服务",workorderId:1213},{className:"icon-pts",href:"http://pts.aliyun.com/aliyun",id:"pts","short":"PTS",target:"_self",text:"性能测试服务",workorderId:1216}]},{text:"安全与管理",products:[{id:"yundun","short":"",text:"云盾",href:"http://console.aliyun.com/yundun/",target:"_self",className:"icon-yundun",workorderId:80},{id:"jiankong","short":"",text:"云监控",href:"http://console.aliyun.com/jiankong/",target:"_self",className:"icon-yunjiankong",workorderId:90}]}],link:{userLinks:[{text:"用户中心",href:"http://i.aliyun.com/",target:"_blank"},{text:"我的订单",href:"http://i.aliyun.com/order",target:"_blank"},{text:"账户管理",href:"http://i.aliyun.com/amount",target:"_blank"},{text:"退出",href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",target:"_self"}],helpLink:{text:"提交工单",href:"http://workorder.aliyun.com/add.htm?productId=",hrefIndex:"http://workorder.aliyun.com/addIndex.htm",target:"_blank"},logoLink:{href:"http://www.aliyun.com",target:"_blank",imgLink:"http://www.aliyun.com/favicon.ico"},homeLink:{href:{aliyun:"http://console.aliyun.com/index.html?noredirect",jbp:"http://jbp.console.aliyun.com/index.html?noredirect"},text:"控制台首页",target:"_self"},accessKeysLink:{text:"AccessKeys",href:"http://i.aliyun.com/access_key/",target:"_blank"},searchLink:{text:"全局搜索",href:"http://www.aliyun.com/s?k="}}},t={categoryInfo:[{products:[{className:"icon-ecs",href:"http://console.aliyun.com/ecs/index.htm",id:"ecs","short":"ECS",spm:1,status:!0,target:"_self",text:"云服务器",workorderId:"12"},{className:"icon-slb",href:"http://slb.console.aliyun.com",id:"slb","short":"SLB",spm:2,status:!0,target:"_self",text:"负载均衡",workorderId:"86"}],text:"弹性计算"},{products:[{className:"icon-rds",href:"http://rds.console.aliyun.com",id:"rds","short":"RDS",spm:3,status:!0,target:"_self",text:"关系型数据库",workorderId:"10"},{className:"icon-ots",href:"http://ots.console.aliyun.com",id:"ots","short":"OTS",spm:6,status:!0,target:"_self",text:"开放结构化数据服务",workorderId:"29"},{className:"icon-ocs",href:"http://ocs.console.aliyun.com/",id:"ocs","short":"OCS",spm:7,status:!0,target:"_self",text:"开放缓存服务",workorderId:"91"}],text:"数据库"},{products:[{className:"icon-oss",href:"http://oss.console.aliyun.com/console/index",id:"oss","short":"OSS",spm:4,status:!0,target:"_self",text:"开放存储服务",workorderId:"22"},{className:"icon-cdn",href:"http://cdn.console.aliyun.com/",id:"cdn","short":"CDN",spm:5,status:!0,target:"_self",text:"内容分发网络",workorderId:"92"},{className:"icon-oas",href:"http://oas.console.aliyun.com/console/index",id:"oas","short":"OAS",spm:14,status:!0,target:"_self",text:"开放归档服务",workorderId:"1211"}],text:"存储与CDN"},{products:[{className:"icon-odps",href:"http://odps.console.aliyun.com/console/index",id:"odps","short":"ODPS",spm:8,status:!0,target:"_self",text:"开放数据处理服务",workorderId:"47"}],text:"大规模计算"},{products:[{className:"icon-ace",href:"http://ace.console.aliyun.com",id:"ace","short":"ACE",spm:9,status:!0,target:"_self",text:"云引擎",workorderId:"18"},{className:"icon-sls",href:"http://sls.console.aliyun.com",id:"sls","short":"SLS",spm:12,status:!0,target:"_self",text:"简单日志服务",workorderId:"1210"},{className:"icon-mqs",href:"http://mqs.console.aliyun.com",id:"mqs","short":"MQS",spm:13,status:!1,target:"_self",text:"消息队列服务",workorderId:"1212"},{className:"icon-opensearch",href:"http://opensearch.console.aliyun.com",id:"opensearch","short":"",spm:15,status:!1,target:"_self",text:"开放搜索服务",workorderId:"1213"},{className:"icon-pts",href:"http://pts.aliyun.com/aliyun",id:"pts","short":"PTS",spm:16,status:!0,target:"_self",text:"性能测试服务",workorderId:"1216"}],text:"应用服务"},{products:[{className:"icon-yundun",href:"http://yundun.console.aliyun.com/",id:"yundun","short":"",spm:10,status:!0,target:"_self",text:"云盾",workorderId:"80"},{className:"icon-yunjiankong",href:"http://console.aliyun.com/jiankong/",id:"jiankong","short":"",spm:11,status:!0,target:"_self",text:"云监控",workorderId:"90"}],text:"安全与管理"}],link:{accessKeysLink:{href:"http://i.aliyun.com/access_key/",target:"_blank",text:"AccessKeys"},helpLink:{href:"http://workorder.aliyun.com/add.htm?productId=",hrefIndex:"http://workorder.aliyun.com/addIndex.htm",target:"_blank",text:"提交工单"},helpLinks:{text:"管理工单",links:[{href:"http://workorder.aliyun.com/",target:"_blank",text:"我的工单"},{href:"http://workorder.aliyun.com/add.htm?productId=",hrefIndex:"http://workorder.aliyun.com/addIndex.htm",target:"_blank",text:"提交工单"}]},homeLink:{href:"http://console.aliyun.com/index.html?noredirect",target:"_self",text:"控制台首页"},logoLink:{href:"http://www.aliyun.com",imgLink:"http://www.aliyun.com/favicon.ico",target:"_blank"},notificationLink:{blankText:"您暂时没有公告消息",href:"http://bbs.aliyun.com/thread/103.html?type=907&type=907#tabA",text:"查看更多",title:"公告"},productLink:{text:"产品与服务"},searchLink:{href:"http://www.aliyun.com/s?k=",text:"全局搜索"},userLinks:[{href:"http://i.aliyun.com/",target:"_blank",text:"用户中心"},{href:"http://i.aliyun.com/order",target:"_blank",text:"我的订单"},{href:"http://i.aliyun.com/amount",target:"_blank",text:"账户管理"},{href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",target:"_self",text:"退出"}]}},n=[[{label:"亚太",className:"asia-pacific",children:[{regionId:"cn-beijing",label:"华北（北京）",className:""},{regionId:"cn-zhangjiakou",label:"华北（张家口）",className:""},{regionId:"cn-qingdao",label:"华北（青岛）",className:""},{regionId:"cn-shanghai",label:"华东（上海）",className:""},{regionId:"cn-hangzhou",label:"华东（杭州）",className:""},{regionId:"cn-shenzhen",label:"华南（深圳）",className:""},{regionId:"ap-northeast-1",label:"日本（东京）",className:""},{regionId:"cn-hongkong",label:"香港",className:""},{regionId:"ap-southeast-1",label:"新加坡",className:""},{regionId:"ap-southeast-2",label:"澳大利亚（悉尼）",className:""}]}],[{label:"中东",className:"middle-east",children:[{regionId:"me-east-1",label:"阿联酋（迪拜)",className:""}]},{label:"欧洲",className:"europe",children:[{regionId:"eu-central-1",label:"德国（法兰克福）",className:""}]},{label:"美洲",className:"americas",children:[{regionId:"us-east-1",label:"美东（弗吉尼亚）",className:""},{regionId:"us-west-1",label:"美西（硅谷）",className:""}]}]],r=[[{label:"Asia Pacific",className:"asia-pacific",children:[{regionId:"cn-beijing",label:"China North (Beijing)",className:""},{regionId:"cn-zhangjiakou",label:"China North (Zhangjiakou)",className:""},{regionId:"cn-qingdao",label:"China North (Qingdao)",className:""},{regionId:"cn-shanghai",label:"China East (Shanghai)",className:""},{regionId:"cn-hangzhou",label:"China East (Hangzhou)",className:""},{regionId:"cn-shenzhen",label:"China South (Shenzhen)",className:""},{regionId:"ap-northeast-1",label:"Japan (Tokyo)",className:""},{regionId:"cn-hongkong",label:"Hong Kong",className:""},{regionId:"ap-southeast-1",label:"Singapore",className:""},{regionId:"ap-southeast-2",label:"Australia (Sydney)",className:""}]}],[{label:"Middle East",className:"middle-east",children:[{regionId:"me-east-1",label:"UAE (Dubai)",className:""}]},{label:"Europe",className:"europe",children:[{regionId:"eu-central-1",label:"Germany (Frankfurt)",className:""}]},{label:"Americas",className:"americas",children:[{regionId:"us-east-1",label:"US East (Virginia)",className:""},{regionId:"us-west-1",label:"US West (Sillicon Valley)",className:""}]}]],i=[[{label:"アジア太平洋",className:"asia-pacific",children:[{regionId:"cn-beijing",label:"中国北部（北京）",className:""},{regionId:"cn-zhangjiakou",label:"中国北部（張家口）",className:""},{regionId:"cn-qingdao",label:"中国北部（青島）",className:""},{regionId:"cn-shanghai",label:"中国東部（上海）",className:""},{regionId:"cn-hangzhou",label:"中国東部（杭州）",className:""},{regionId:"cn-shenzhen",label:"中国南部（深セン）",className:""},{regionId:"ap-northeast-1",label:"日本（東京）",className:""},{regionId:"cn-hongkong",label:"香港",className:""},{regionId:"ap-southeast-1",label:"シンガポール",className:""},{regionId:"ap-southeast-2",label:"オーストラリア（シドニー）",className:""}]}],[{label:"中東",className:"middle-east",children:[{regionId:"me-east-1",label:"UAE（ドバイ）",className:""}]},{label:"ヨーロッパ",className:"europe",children:[{regionId:"eu-central-1",label:"ドイツ（フランクフルト）",className:""}]},{label:"アメリカ",className:"americas",children:[{regionId:"us-east-1",label:"米国東部（バージニア）",className:""},{regionId:"us-west-1",label:"米国西部（シリコンバレー）",className:""}]}]];return{ALPHA_CONS:e,BETA_CONS:t,ALLREGIONS_ZH:n,ALLREGIONS_EN:r,ALLREGIONS_JA:i}}),define("common/directives/topbar",["../cons/aliyunConsViewFramework","../cons/aliyunCons","../cons/aliyunConsTopbar","../helper/viewFrameworkHelper","angular"],function(e,t,n,r){function o(e,t,r,i,s){function o(i,o,u){function c(e,t){var n="";return angular.forEach(t,function(t){angular.forEach(t,function(t){angular.forEach(t.children,function(t){if(t.regionId===e)return n=t.label,!1})})}),n}function h(e,t){var n=!0;return angular.forEach(e,function(e){if(e[f]===t)return n=!1,!1}),n}function p(e,t){var n=e;return angular.forEach(n,function(e){angular.forEach(e,function(e){angular.forEach(e.children,function(e){e.regionId===t?e.isActive=!0:e.isActive=!1,e.isDisabled=h(a||[],e.regionId)})})}),n}function d(){return $("html").attr("lang").toUpperCase()||"zh".toUpperCase()}function v(e){var e=e||{},i=[];t({method:"jsonp",url:r.getHomeEndpoint()+"/nav/topbar.js",params:{productId:r.config.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(t){var s=t.data;s&&s.code=="200"&&s.data.regionInfo?(i=s.data.regionInfo.regionList||[],e.showRegionSwitcher=s.data.regionInfo.show,e.supportRegions=s.data.regionInfo.supportRegions,e.supportRegions.length>0&&e.supportRegions.indexOf(r.config.productId)<0&&(e.showRegionSwitcher=!1)):(i=n["ALLREGIONS_"+d()],e.showRegionSwitcher=!1)}).catch(function(){i=n["ALLREGIONS_"+d()],e.showRegionSwitcher=!1}).finally(function(){e.activeRegionId||(e.activeRegionId=i[0][0].children[0].regionId),e.allRegions=p(i,e.activeRegionId),e.activeRegionName=c(e.activeRegionId,e.allRegions)})}var a=s.regionList,f=s.regionIdKey,l=s.getActiveRegionId()||angular.isArray(a)&&a[0][f]||"";i.setActiveRegionId=function(e,t){if(t.isDisabled)return;i.isRegionOpen=!1,i.activeRegionId=e,i.activeRegionName=c(e,i.allRegions),i.allRegions=p(i.allRegions,e),s.setActiveRegionId(e)},i.activeRegionId=l,i.showRegionSwitcher=!1,i.isRegionOpen=!1,i.toggleRegionDropdown=function(e){i.isRegionOpen=!i.isRegionOpen},i.allRegions=[],$(document).on("click",function(t){e(function(){$(t.target).parents(".topbar-region-switcher").length==0&&(i.isRegionOpen=!1)},0)}),v(i)}return{restrict:"A",replace:!1,scope:{},templateUrl:"scripts/template/regionSwitcher.html",link:o}}function u(e,t,n,s,o,u){function l(e){t({method:"jsonp",url:u.getHomeEndpoint()+"/nav/topbar.js",params:{productId:e.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(t){var n=t.data;n&&n.code=="200"?c(n.data,e):c(i,e)},function(t){c(i,e)})}function c(t,n){e(function(){g(t.categories,t.categoryGroup,n),u.config.productOriginDomain=x(t.categories),n.navLinks=p(t.navLinks,n,t.account),n.regionInfo=t.regionInfo,n.regionProductInfo=S(t.regionInfo&&t.regionInfo.regionSetting),n.messages=t.messages||null,n.account=t.account||{},n.requestUrl=n.navLinks&&n.navLinks.requestUrl||i.requestUrl,n.viewFrameworkSetting=u},0)}function h(e,t){return e&&e.length>t?e.substring(0,t-1)+"...":e}function p(e,t,n){t.topbarNavLinks&&jQuery.extend(!0,e,t.topbarNavLinks);if(!e)return{};angular.forEach(e,function(e,n){e&&(e.navRedirect&&(e.href=d(e.href,t)),e.links&&angular.isArray(e.links)&&angular.forEach(e.links,function(e,n){e&&e.navRedirect&&(e.href=d(e.href,t))}))});var r=e.user;r&&(r.links&&(angular.forEach(r.links,function(e,t){var n=e.href;angular.isString(n)&&/oauth_callback=$/.test(n)&&(e.href=v(n),a=t,f=n)}),r.linkMap&&f&&n&&n.currentStructure&&r.links.splice(a,1),u&&u.config&&u.config.ramTag&&r.links.unshift({href:r.tagLink?r.tagLink:"",target:"_self",text:"TAG: "+h(u.config.ramTag,20)})),r.linkMap&&r.linkMap.signout&&(r.linkMap.signout.href=v(r.linkMap.signout.href)));var i=e.qrcode;i&&(i.text=o.trustAsHtml(i.text),i.title=o.trustAsHtml(i.title)),w(e.i18n);var s=e.customHelp;if(!t.currentProduct||!t.currentProduct.helpCategoryId)s.show=!1;else if(s){t.helpConfig={title:s.title,link:o.trustAsResourceUrl(s.href)};if(s.show){var l=e.help;l&&(l.show=!1)}}return e}function d(e,t){return e+"&productId="+t.productId}function v(e){return e+encodeURIComponent(window.location.href)}function m(e,t,n){n||(n="id");var r;return angular.isArray(e)&&e.length>0&&t&&angular.forEach(e,function(e,i){!r&&e[n]==t&&(r=e)}),r}function g(e,t,n){var r=[],i=[],s,o=0,u=2,a=angular.isNumber(t[o])?t[o]:u;if(!t||!angular.isArray(t))t=[];angular.isArray(e)&&(s=e.length,angular.forEach(e,function(e,f){y(e,n),i.push(e);if(a==i.length||f==s-1)r.push(i),i=[],o++,a=angular.isNumber(t[o])?t[o]:u})),n.categories=r}function y(e,t){var n=t.productId;n&&angular.forEach(e.products,function(e,r){t.currentProduct==undefined&&e.productId==n&&(t.currentProduct=e)})}function b(n){t({method:"jsonp",url:n.requestUrl.updateMessageInfo,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(t){var r=t.data;r&&r.code=="200"&&r.data&&e(function(){n.messageInfo=r.data},0)})}function w(e){if(!e)return;e.show&&e.requestUrl&&t({method:"jsonp",url:e.requestUrl,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(t){var n=t.data;if(n&&n.code=="200"&&n.data){var r=n.data.currentLanguage,i=n.data.supportedLanguages,s,o=[];angular.forEach(i,function(e,t){e&&(e.value==r?s=e:o.push(e))}),s||(s=i[0]),e.currentLanguage=s,e.languages=o}else e.show=!1},function(){e.show=!1})}function E(e,r){var i=[e,r].map(function(e){return t({method:"jsonp",url:e,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}})});e&&n.all(i).then(function(){window.location.reload()},function(){console.log("切换语言失败")})}function S(e){var t={};return e&&angular.forEach(e,function(e,n){e&&e.isRegionalized&&e.regions&&(t[n]={},angular.forEach(e.regions,function(e,r){e&&(t[n][r]=e)}))}),t}function x(e){var t={};return e&&angular.forEach(e,function(e){e&&angular.forEach(e.products,function(e,n){e&&e.productId&&e.link&&(t[e.productId]=e.link)})}),t}function T(t,n,i){function o(){t.topbarConfig.showHelpPanel=!t.topbarConfig.showHelpPanel}t.versionGreaterThan1_3_21=r.versionGreaterThan("1.3.21"),t.topbarConfig={showHelpPanel:!1},t.toggleHelpPanelStatus=o,t.changeCurrentLanguage=E,l(t),s.$on("topbarUpdateMessageInfo",function(){b(t)}),s.$watch("viewFrameworkConfig.activeRegionId",function(e){e&&(t.activeRegionId=e)}),s.$on("$stateChangeSuccess",function(n,r,i,s,o){e(function(){if(!t.navLinks)return;var e=t.navLinks.userLink;if(e&&e.links&&a!=undefined&&f!=undefined){var n=e.links[a];n&&(n.href=v(f))}e&&e.linkMap&&e.linkMap.signout&&(e.linkMap.signout.href=v(f))},0)}),t.readMessage=function(){e(function(){b(t)},2e3)},t.skipToContent=function(){var e=$("#viewFramework-product-anchor");e.length&&e.focus()}}var a,f;return{restrict:"A",replace:!0,scope:{workorderId:"=",productId:"=",topbarNavLinks:"="},templateUrl:"scripts/template/topbar.html",link:T}}function a(e){return{restrict:"AM",scope:{searchLink:"="},templateUrl:"scripts/template/topbarSearch.html",transclude:!1,link:function(t,n,i,s){function o(n){$(n.target).closest(".aliyun-console-topbar-search-v1_3_21").length==0&&e(function(){t.dropdownOpen=!1})}t.versionGreaterThan1_3_21=r.versionGreaterThan("1.3.21"),t.model={askInput:""},i.$observe("searchUrl",function(e){e&&(t.searchUrl=e)}),$(n).on("keypress",".topbar-search-ask",function(e){e.keyCode==13&&window.open(t.searchUrl+t.model.askInput,"_blank")}),t.isActive=!1,t.activeInput=function(){t.isActive=!0},t.inactiveInput=function(){e(function(){t.isActive=!1},150)},t.searchClick=function(e){t.isActive||(t.isActive=!0,n.find(".topbar-search-ask").focus(),e.preventDefault())},t.dropdownOpen=!1,t.toggleDropdownStatus=function(e){e.preventDefault(),t.dropdownOpen=!t.dropdownOpen,t.dropdownOpen||$(document).off("click",o)},t.versionGreaterThan1_3_21&&$(document).on("click",o),t.$on("$destroy",function(){$(document).off("click",o)})}}}function f(){function e(e,t,n){function r(){e.show=!0}function i(){e.show=!1}e.hidePanel=i}return{restrict:"A",replace:!0,scope:{show:"=",config:"="},templateUrl:"scripts/template/topbarHelp.html",link:e}}function l(e,t,n,r){function i(e,t,n){!r.regionList&&e.regionList&&r.setRegionList(e.regionList),(!r.regionSetting||c(r.regionSetting))&&e.regionSetting&&r.setRegionSetting(e.regionSetting),e.regionList=r.regionList,e.regionSettingSimpleProduct=r.regionSettingSimpleProduct,e.activeRegionId=r.getActiveRegionId(),e.regionListMap=r.regionListMap,e.changeRegionId=function(e){if(e==r.getActiveRegionId())return;r.setActiveRegionId(e)},r.activeRegionIdWatcher(function(t){e.activeRegionId=t})}return{restrict:"A",scope:{regionList:"=",regionSetting:"=",customRegionId:"="},templateUrl:"scripts/template/topbarRegion.html",link:i}}function c(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}angular.module("aliyun.console.topbar",[]).directive("aliyunConsoleTopbar",u).directive("aliyunConsoleTopbarSearch",a).directive("aliyunConsoleTopbarHelp",f).directive("aliyunConsoleTopbarRegion",l).directive("aliyunConsoleTopbarRegionSwitcher",o);var i=e.TOPBAR_DEFAULT_CONS,s=t.SUFFIX;u.$inject=["$timeout","$http","$q","$rootScope","$sce","viewFrameworkSetting"],a.$inject=["$timeout"],l.$inject=["$http","viewFrameworkSetting","$rootScope","regionService"],o.$inject=["$timeout","$http","viewFrameworkSetting","$rootScope","regionService"]}),define("common/components/common/scripts/commonUtils",[],function(){function t(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){if(r.readyState=="loaded"||r.readyState=="complete")r.onreadystatechange=null,t()}:(r.onload=function(){t()},r.onerror=function(e){n&&n()}),r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}function n(e,n){var r=cons.COMPONENTS[e];if(!r||!r.path||n)return;var i=cons.CDN_DOMAIN+(r.path&&r.path.replace("{version}",n));t(i)}function r(){return s("consoleNavVersion")}function i(t){o("consoleNavVersion",t,e)}function s(e){if(!e)return;var t=document.cookie.split(";"),n;for(var r=0;r<t.length;r++){var i=t[r].split("=");i[0].trim()==e&&(n=unescape(i[1]))}return n}function o(e,t,n){if(!e)return;var r="";n&&(r=";domain="+n),document.cookie=e+"="+escape(t)+r+"; path=/"}function u(e,t){return t||(t=r()),e.replace("{staticVersion}",t)}var e=".console.aliyun.com";return{loadScript:t,componentsLoader:n,getCookiesNavigationVersion:r,setCookiesNavigationVersion:i,getUrlWithVersion:u}}),function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e)}return e.getCookie=function(t){if(!t)return;var n=document.cookie.split(";"),r;for(var i=0;i<n.length;i++){var s=n[i].split("=");s[0].trim()==t&&(r=unescape(s[1]))}return r},e.setCookie=function(t,n,r){if(!t)return;var i="";r&&(i=";domain="+r),document.cookie=t+"="+escape(n)+i+"; path=/"},e.deleteCookies=function(t,n){var r=new Date;r.setTime(r.getTime()-1e4),document.cookie=t+"=12; expires="+r.toGMTString()+";domain="+n+"; path=/"},e.transArrayToMapByKey=function(t,n){var r={};return n=n?n:"id",t&&t.forEach(function(e,t){e[n]&&(r[e[n]]=e)}),r},e.sliceArray=function(t,n){var r=[],i=t.length;if(i>0&&n)for(var s=0;s*n<i;s++)r.push(t.slice(n*s,n*(s+1)));return r},e.sliceArrayByColumn=function(t,n,r){var i=[],s={char_4_23:[7,9,5,2],char_4_24:[7,10,5,2],char_4_25:[7,10,6,2],char_4_26:[7,10,7,2],char_6_23:[6,7,4,4,1,1],char_6_24:[6,7,5,4,1,1],char_6_25:[6,7,5,5,1,1],char_6_26:[6,7,5,6,1,1],category_4_15:[4,4,4,3],category_6_15:[2,3,3,3,1,3]},o=r+"_"+n+"_"+t.length,u=s[o];return i},e.existKeyInMap=function(t,n){var r=[];return t.forEach(function(e,t){n[e]&&r.push(e)}),r},e.setCookiesNavigationVersion=function(t){this.setCookie("consoleNavVersion",t,".console.aliyun.com")},e.getCookiesNavigationVersion=function(){return this.getCookie("consoleNavVersion")},e.loadScript=function(t){if(!$)return;$.isArray(t)||(t=[t]),t.forEach(function(e){$.ajax(e)})},e.getColumnCountByScreen=function(){var t=window.innerWidth;return t<=1e3?4:6},e.getGroupPosInfo=function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:28,i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:4,s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:!1,a=window.innerWidth-(i-1)*s-24-15,f=function(t){return t.filter(function(e){return e.level&&e.level==="L1"}).length>0};u&&(a-=180);var l=a/i,c=t%i,h=parseInt(t/i,10),p=c*s+l*c,d=0,v=0;for(var m=0;m<h;m++)v=m*i+c,d+=n[v].length*r,f(n[v])&&(d+=8);return d+=h*o,{left:p,top:d,width:l}},e.loadExtraScripts=function(t){var n="",r="body";$.ajaxSetup({cache:!0}),t=this.combineExtraScripts(t),$.each(t,function(e,t){var n=t.appendTo||"body";t.type==="css"?$(n).append('<link type="text/css" rel="stylesheet" href="'+t.url+'" />'):$(n).append('<script src="'+t.url+'"></script>')}),$.ajaxSetup({cache:!1})},e.combineExtraScripts=function(t){var n=[],r=[],i=[],s=[],o=[];return t.forEach(function(e){e.combine===!0?e.appendTo==="head"?e.type==="css"?n.push(e):i.push(e):e.type==="css"?r.push(e):s.push(e):o.push(e)}),n=this.combineExtraFile(n),r=this.combineExtraFile(r),i=this.combineExtraFile(i),s=this.combineExtraFile(s),[].concat(o,n,r,i,s)},e.combineExtraFile=function(t){var n=[],r="g.alicdn.com",i=/((http(s)?:)?\/\/)g.alicdn.com/gi;return t.forEach(function(e){n.push(e.url.replace(i,""))}),n.length>0?(t[0].url="//"+r+"??"+n.join(","),t[0]):t},e}();e.exports=i},function(e,t,n){function u(e){if(e===null||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5")return!1;var t={};for(var n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),Object.keys(r({},s)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(o){return!1}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(e,t){var n,r=u(e),a;for(var f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var l in n)s.call(n,l)&&(r[l]=n[l]);if(i){a=i(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(r[a[c]]=n[a[c]])}}return r}},,function(e,t,n){e.exports={RESPONSE_CODE_SUCCESS:"200",TOPBAR_REQUEST_URL:"https://home.console.aliyun.com/nav/topbar.js",REFRESH_MESSAGE:"https://home.console.aliyun.com/topbar/message/refreshMessage.js",COOKIES_DOMAIN_OLD:".console.aliyun.com",COOKIES_DOMAIN:".aliyun.com",DEFAUL_DATA:{categories:[{fixed:!0,id:"all",name:"全部"},{categories:[{name:"弹性计算",products:["ecs","vpc","slb","ess","cs","ros","hpc","batchcompute"]},{name:"数据库",products:["rds","dds","kvstore","ocs","petadata","gpdb","oce","ads","dts","dms"]},{name:"存储与CDN",products:["oss","nas","ots","oas","cdn"]},{name:"网络",products:["slb","vpc","ip","ri","cdn"]},{name:"分析",products:["emr","gpdb","hpc","odps","ads","cdp","opensearch"]},{name:"云通信",products:["sms","cps","mns","dm"]},{name:"监控与管理",products:["cms","ram","ros","actiontrail","kms"]},{name:"应用服务",products:["sls","opensearch","pts","dm","apigateway","market","iot","mns","sms"]},{name:"互联网中间件",products:["edas","ons","drds","csb","arms"]},{name:"移动服务",products:["man","cps","httpdns","mobsec"]},{name:"视频服务",products:["mts","vod","live"]}],id:"basic",name:"云计算基础服务"},{id:"dtplus",name:"大数据（数加）",overview:{icon:"icon-circle",link:"https://data.aliyun.com/console",name:"数加控制台概览"},products:["dtplus","dide","quickbi","pai","receng","prophet","datav","ads","odps","nls","stream","portrait"]},{id:"yundun",name:"安全（云盾）",overview:{icon:"icon-circle",link:"https://yundun.console.aliyun.com/?p=all#/all",name:"云盾控制台概览"},products:["sas","aqs","ddos","waf","xz","mss","hsm","cts","afs","cas","mobsec","sppc"]},{id:"netcn",name:"域名与网站（万网）",products:["domain","dns","host","mail","website","ews"]}],products:{ecs:{description:"可弹性伸缩、安全稳定、简单易用的计算服务",firstChar:"y",helpCategoryId:"8314827",icon:"icon-ecs",link:"https://ecs.console.aliyun.com",name:"云服务器 ECS",openStatus:!0,productId:"ecs"},rds:{description:"完全兼容 MySQL，SQLServer，PostgreSQL 协议的关系型数据库服务",firstChar:"y",helpCategoryId:"8314883",icon:"icon-rds",link:"https://rdsnew.console.aliyun.com",name:"云数据库 RDS 版",openStatus:!0,productId:"rds"},slb:{description:"对多台云服务器进行流量分发的负载均衡服务",firstChar:"f",helpCategoryId:"8314871",icon:"icon-slb",link:"https://slbnew.console.aliyun.com",name:"负载均衡",openStatus:!0,productId:"slb"},oss:{description:"海量、安全和高可靠的云存储服务",firstChar:"d",helpCategoryId:"8314910",icon:"icon-oss",link:"https://oss.console.aliyun.com/index",name:"对象存储 OSS",openStatus:!0,productId:"oss"},cdn:{description:"跨运营商、跨地域全网覆盖的网络加速服务",firstChar:"c",helpCategoryId:"8314936",icon:"icon-cdn",link:"https://cdn.console.aliyun.com",name:"CDN",openStatus:!0,productId:"cdn"},ots:{description:"NoSQL 数据存储服务，提供海量结构化数据的存储和实时访问",firstChar:"b",helpCategoryId:"8315004",icon:"icon-ots",link:"https://ots.console.aliyun.com",name:"表格存储",openStatus:!0,productId:"ots"},ocs:{description:"在线缓存服务，为热点数据的访问提供高速响应",firstChar:"y",helpCategoryId:"8314987",icon:"icon-ocs",link:"https://ocsnew.console.aliyun.com",name:"云数据库 Memcache 版",openStatus:!0,productId:"ocs"},odps:{description:"针对TB/PB级数据的分布式处理服务",firstChar:"d",helpCategoryId:"8314999",icon:"icon-odps",link:"https://odps.console.aliyun.com",name:"大数据计算服务",openStatus:!0,productId:"odps"},yundun:{helpCategoryId:"8314941",icon:"icon-yundun",link:"https://yundun.console.aliyun.com",name:"云盾",openStatus:!0,productId:"yundun"},sas:{description:"通过机器学习和数据建模分析，发现潜在入侵和高隐蔽性攻击威胁",firstChar:"s",icon:"icon-sas icon-logo1",link:"https://yundun.console.aliyun.com/?p=sas",name:"态势感知",openStatus:!0,productId:"sas"},aqs:{description:"集服务器安全检测、加固、防御于一体，保障服务器安全",firstChar:"f",icon:"icon-aegis icon-logo1",link:"https://yundun.console.aliyun.com/?p=aqs",name:"服务器安全（安骑士）",openStatus:!0,productId:"aqs"},ddos:{description:"防御大流量DDoS、CC攻击，按天付费，单线路超过300G防御能力",firstChar:"d",icon:"icon-ddos icon-logo1",link:"https://yundun.console.aliyun.com/?p=ddos",name:"DDoS防护",openStatus:!0,productId:"ddos"},waf:{description:"网站安全必备防护产品，防SQL注入、防篡改、防CC、防刷、防爬",firstChar:"w",icon:"icon-waf icon-logo1",link:"https://yundun.console.aliyun.com/?p=waf",name:"Web应用防火墙",openStatus:!0,productId:"waf"},xz:{description:"全球顶尖安全专家参与测试，按效果付费的私密安全众测",firstChar:"x",icon:"icon-xianzhi icon-logo1",link:"https://yundun.console.aliyun.com/?p=xz",name:"先知（安全情报）",openStatus:!0,productId:"xz"},mss:{description:"为云上用户建立并持续优化云安全防御体系，保障用户信息安全",firstChar:"a",icon:"icon-mss icon-logo1",link:"https://yundun.console.aliyun.com/?p=mss",name:"安全管家",openStatus:!0,productId:"mss"},hsm:{description:"帮助您在云上敏感数据存储按“国密”要求加密",firstChar:"j",icon:"icon-hsm icon-logo1",link:"https://yundun.console.aliyun.com/?p=hsm",name:"加密服务",openStatus:!0,productId:"hsm"},cts:{description:"智能内容识别服务，快速识别违规风险，如色情、暴恐、垃圾广告等",firstChar:"l",icon:"icon-lvwang icon-logo1",link:"https://yundun.console.aliyun.com/?p=cts",name:"绿网",openStatus:!0,productId:"cts"},afs:{description:"专业对抗垃圾注册、恶意登陆、活动作弊、论坛灌水等数据风控",firstChar:"s",icon:"icon-antifraud icon-logo1",link:"https://yundun.console.aliyun.com/?p=afs",name:"数据风控",openStatus:!0,productId:"afs"},cas:{description:"云上签发Symantec、WoSign、CFCA SSL数字证书，实现HTTPS化",firstChar:"z",icon:"icon-yundunzhengshu icon-logo1",link:"https://yundun.console.aliyun.com/?p=cas",name:"证书服务",openStatus:!0,productId:"cas"},mobsec:{description:"为移动APP提供漏洞扫描、恶意代码检测、应用加固等服务",firstChar:"y",icon:"icon-mobsec icon-logo1",link:"https://yundun.console.aliyun.com/?p=jaq",name:"移动安全",openStatus:!0,productId:"mobsec"},sppc:{description:"阿里云安全合作伙伴SAAS产品统一管理平台",firstChar:"h",icon:"icon-sppc icon-logo1",link:"https://yundun.console.aliyun.com/?p=sppc",name:"合作伙伴产品中心",openStatus:!0,productId:"sppc"},cms:{description:"指标监控与报警服务",firstChar:"y",helpCategoryId:"8314972",icon:"icon-yunjiankong",link:"https://cms.console.aliyun.com",name:"云监控",openStatus:!0,productId:"cms"},sls:{description:"针对日志收集、存储、查询和分析的服务",firstChar:"r",helpCategoryId:"8314976",icon:"icon-sls",link:"https://sls.console.aliyun.com",name:"日志服务",openStatus:!0,productId:"sls"},oas:{description:"海量数据的长期归档、备份服务",firstChar:"g",helpCategoryId:"8314980",icon:"icon-oas",link:"https://oas.console.aliyun.com/console/index",name:"归档存储",openStatus:!0,productId:"oas"},ess:{description:"自动调整弹性计算资源的管理服务",firstChar:"t",helpCategoryId:"8315077",icon:"icon-ess",link:"https://essnew.console.aliyun.com",name:"弹性伸缩",openStatus:!0,productId:"ess"},mns:{description:"可靠、海量、高并发的分布式消息通知服务",firstChar:"x",helpCategoryId:"8315016",icon:"icon-mqs",link:"https://mns.console.aliyun.com",name:"消息服务",openStatus:!0,productId:"mns"},dpc:{firstChar:"c",helpCategoryId:"",icon:"icon-dpc",link:"https://dpc.console.aliyun.com",name:"采云间",openStatus:!0,productId:"dpc",shortName:"DPC"},vpc:{description:"帮您轻松构建逻辑隔离的专有网络",firstChar:"z",helpCategoryId:"",icon:"icon-vpc",link:"https://vpc.console.aliyun.com",name:"专有网络 VPC",openStatus:!0,productId:"vpc"},opensearch:{description:"结构化数据搜索托管服务",firstChar:"k",helpCategoryId:"",icon:"icon-opensearch",link:"https://opensearch.console.aliyun.com",name:"开放搜索",openStatus:!0,productId:"opensearch"},ons:{description:"阿里中间件自主研发的企业级消息中间件",firstChar:"x",helpCategoryId:"",icon:"icon-ons",link:"https://ons.console.aliyun.com",name:"消息队列",openStatus:!0,productId:"ons"},pts:{description:"性能云测试平台，帮您轻松完成系统性能评估",firstChar:"x",helpCategoryId:"",icon:"icon-pts",link:"https://pts.aliyun.com/aliyun",name:"性能测试服务",openStatus:!0,productId:"pts",shortName:"PTS"},ram:{description:"管理多因素认证、子账号与授权、角色与 STS 令牌",firstChar:"f",helpCategoryId:"",icon:"icon-ram",link:"https://ram.console.aliyun.com",name:"访问控制",openStatus:!0,productId:"ram"},ads:{description:"海量数据实时高并发在线分析服务",firstChar:"f",helpCategoryId:"8315081",icon:"icon-ads",link:"https://ads.console.aliyun.com",name:"分析型数据库",openStatus:!0,productId:"ads"},mts:{description:"为多媒体数据提供的转码计算服务",firstChar:"m",helpCategoryId:"",icon:"icon-mts",link:"https://mts.console.aliyun.com",name:"媒体转码",openStatus:!0,productId:"mts"},drds:{description:"水平拆分/读写分离的在线分布式数据库服务",firstChar:"f",helpCategoryId:"8315099",icon:"icon-drds",link:"https://drds.console.aliyun.com",name:"分布式关系型数据库 DRDS",openStatus:!0,productId:"drds"},kvstore:{description:"兼容开源 Redis 协议的 Key-Value 类型在线存储服务",firstChar:"y",helpCategoryId:"8315109",icon:"icon-redisa",link:"https://kvstore.console.aliyun.com",name:"云数据库 Redis 版",openStatus:!0,productId:"kvstore"},edas:{description:"以应用为中心的中间件 PaaS 平台",firstChar:"q",helpCategoryId:"",icon:"icon-edas",link:"https://edas.console.aliyun.com",name:"企业级分布式应用服务 EDAS",openStatus:!0,productId:"edas"},batchcompute:{description:"适用于大规模并行批处理作业的分布式云服务",firstChar:"p",icon:"icon-batchcompute",link:"https://batchcompute.console.aliyun.com",name:"批量计算",openStatus:!0,productId:"batchcompute"},ip:{description:"为单台ECS提供公网IP和带宽，支持在ECS间绑定和解绑",firstChar:"t",helpCategoryId:"8315016",icon:"icon-logo1 icon-eip",link:"https://ip.console.aliyun.com",name:"弹性公网 IP",openStatus:!0,productId:"ip"},dts:{description:"比GoldenGate更易用，阿里异地多活数据流基础设施",firstChar:"s",icon:"icon-dts",link:"https://dts.console.aliyun.com",name:"数据传输",openStatus:!0,productId:"dts"},domain:{firstChar:"y",helpCategoryId:"9002814",icon:"icon-yuming",link:"https://netcn.console.aliyun.com/core/domain/list",name:"域名",openStatus:!0,productId:"domain"},dns:{firstChar:"y",helpCategoryId:"9002814",icon:"icon-yunjiexi",link:"https://netcn.console.aliyun.com/core/domain/tclist",name:"云解析 DNS",openStatus:!0,productId:"dns"},host:{firstChar:"y",helpCategoryId:"9002853",icon:"icon-yunxunizhuji",link:"https://netcn.console.aliyun.com/core/host/list2",name:"云虚拟主机",openStatus:!0,productId:"host"},mail:{firstChar:"q",helpCategoryId:"",icon:"icon-qiyeyouxiang",link:"https://netcn.console.aliyun.com/core/mail/list",name:"企业邮箱",openStatus:!0,productId:"mail"},website:{firstChar:"b",helpCategoryId:"",icon:"icon-wo-sitebuild",link:"https://netcn.console.aliyun.com/core/website/list",name:"标准建站",openStatus:!0,productId:"website"},market:{firstChar:"y",icon:"icon-toolsimage",link:"https://market.console.aliyun.com",name:"云市场",openStatus:!0,productId:"market"},man:{description:"移动应用数据采集、分析、展示和数据输出服务",firstChar:"y",icon:"icon-mas",link:"https://man.console.aliyun.com/aliyun/masAppList.htm?login=true",name:"移动数据分析",openStatus:!0,productId:"man"},emr:{description:"基于 Hadoop/Spark 的大数据处理分析服务",firstChar:"e",icon:"icon-logo2 icon-emr",link:"https://emr.console.aliyun.com",name:"E-MapReduce",openStatus:!0,productId:"emr"},dm:{description:"事务批量邮件推送，验证码通知短信服务",firstChar:"y",icon:"icon-directmail icon-logo1",link:"https://dm.console.aliyun.com",name:"邮件推送",openStatus:!0,productId:"dm"},ews:{firstChar:"t",icon:"icon-logo1 icon-logo-new",link:"https://ews.console.aliyun.com",name:"弹性 Web 托管",openStatus:!0,productId:"ews"},dms:{description:"比 phpMyAdmin 更强大，比 Navicat 更易用",firstChar:"s",icon:"icon-logo2  icon-dms",link:"https://dms.console.aliyun.com",name:"数据管理",openStatus:!0,productId:"dms"},cps:{description:"移动应用通知与消息推送服务",firstChar:"y",icon:"icon-cps",link:"https://push.console.aliyun.com",name:"移动推送",openStatus:!0,productId:"cps"},dds:{description:"三节点副本集保证高可用",firstChar:"y",icon:"icon-logo2 icon-mongodb",link:"https://mongodb.console.aliyun.com",name:"云数据库 MongoDB 版",openStatus:!0,productId:"dds"},ros:{description:"批量创建、管理、配置云计算资源",firstChar:"z",icon:"icon-ros icon-logo1",link:"https://ros.console.aliyun.com",name:"资源编排",openStatus:!0,productId:"ros"},cs:{description:"应用全生命周期管理的 Docker 服务",firstChar:"r",icon:"icon-cs icon-logo1",link:"https://cs.console.aliyun.com",name:"容器服务",openStatus:!0,productId:"cs"},hpc:{description:"加速深度学习、渲染和科学计算的 GPU 物理机",firstChar:"g",icon:"icon-hpc icon-logo1",link:"https://hpc.console.aliyun.com",name:"高性能计算",openStatus:!0,productId:"hpc"},cdp:{description:"稳定高效、弹性伸缩的数据同步平台",firstChar:"s",icon:"icon-cdp",link:"https://cdp.console.aliyun.com",name:"数据集成",openStatus:!0,productId:"cdp"},actiontrail:{description:"详细记录控制台和 API 操作",firstChar:"c",icon:"icon-actiontrail icon-logo1",link:"https://actiontrail.console.aliyun.com",name:"操作审计",openStatus:!0,productId:"actiontrail"},ri:{description:"高速稳定的 VPC 互联和专线接入服务",firstChar:"g",icon:"icon-expressconnect icon-logo1",link:"https://vpc.console.aliyun.com/expressConnect",name:"高速通道",openStatus:!0,productId:"ri"},apigateway:{description:"高性能、高可用的 API 托管服务，低成本开放 API",firstChar:"a",icon:"icon-apigateway icon-logo1",link:"https://apigateway.console.aliyun.com",name:"API网关",openStatus:!0,productId:"apigateway"},nas:{description:"无限扩展、多共享、标准文件协议的文件存储服务",firstChar:"w",icon:"icon-logo1 icon-nas",link:"https://nas.console.aliyun.com",name:"文件存储",openStatus:!0,productId:"nas"},kms:{description:"安全、易用、低成本的密钥管理服务",firstChar:"m",icon:"icon-logo1 icon-kms",link:"https://kms.console.aliyun.com",name:"密钥管理服务",openStatus:!0,productId:"kms"},vod:{description:"安全、弹性、高可定制的点播服务",firstChar:"s",icon:"icon-logo1 icon-vod",link:"https://vod.console.aliyun.com",name:"视频点播",openStatus:!0,productId:"vod"},live:{description:"低延迟、高并发的音视频直播服务",firstChar:"s",icon:"icon-logo1 icon-livevideo",link:"https://live.console.aliyun.com",name:"视频直播",openStatus:!0,productId:"live"},gpdb:{description:"兼容开源Greenplum协议的MPP分布式OLAP",firstChar:"y",icon:"icon-gpdb icon-logo1",link:"https://gpdb.console.aliyun.com",name:"云数据库 HybridDB 版",openStatus:!0,productId:"gpdb"},csb:{description:"企业级互联网能力开放平台",firstChar:"y",icon:"icon-csb icon-logo1",link:"https://csb.console.aliyun.com",name:"云服务总线",openStatus:!0,productId:"csb"},arms:{description:"端到端一体化实时监控解决方案产品",firstChar:"y",icon:"icon-logo1 icon-logo-new",link:"https://arms.console.aliyun.com",name:"业务实时监控服务",openStatus:!0,productId:"arms"},petadata:{description:"支持 PB 级海量数据存储的分布式关系型数据库",firstChar:"p",icon:"icon-petadata",link:"https://petadata.console.aliyun.com",name:"PB 级云数据库 PetaData",openStatus:!0,productId:"petadata"},iot:{description:"助您快速搭建稳定可靠的物联网应用",firstChar:"w",icon:"icon-iot2",link:"https://iot.console.aliyun.com",name:"物联网套件",openStatus:!0,productId:"iot"},oce:{description:"金融级高可靠、高性能、分布式自研数据库",firstChar:"y",icon:"icon-logo1 icon-logo-new",link:"https://oceanbase.console.aliyun.com",name:"云数据库 OceanBase",openStatus:!0,productId:"oce"},sms:{description:"验证码和短信通知服务，三网合一快速到达",firstChar:"d",icon:"icon-logo1 icon-logo-new",link:"https://sms.console.aliyun.com",name:"短信服务",openStatus:!0,productId:"sms"},httpdns:{description:"移动应用域名防劫持和精确调度服务",firstChar:"h",icon:"icon-logo1 icon-logo-new",link:"https://netcn.console.aliyun.com/core/domain/httpdns",name:"HTTPDNS",openStatus:!0,productId:"httpdns"},dide:{description:"可视化开发界面、离线任务调度运维",firstChar:"d",icon:"icon-dide icon-logo-new",link:"https://workbench.shuju.aliyun.com/console",name:"大数据开发套件",openStatus:!0,productId:"dide"},quickbi:{description:"极致简单、零SQL报表多维分析",firstChar:"q",icon:"icon-quickbi icon-logo-new",link:"https://das.base.shuju.aliyun.com",name:"Quick BI",openStatus:!0,productId:"quickbi"},pai:{description:"集合了阿里集团大量优质算法",firstChar:"j",icon:"icon-pai icon-logo-new",link:"https://data.aliyun.com/console/learn",name:"机器学习",openStatus:!0,productId:"pai"},receng:{description:"实时在线推荐，首月仅需1元！",firstChar:"t",icon:"icon-yun-dplus-re",link:"https://dtboost.aliyun.com/re",name:"推荐引擎",openStatus:!0,productId:"receng"},prophet:{description:"公众情感分析、舆情感知",firstChar:"g",icon:"icon-prophet icon-logo-new",link:"https://prophet.data.aliyun.com",name:"公众趋势分析",openStatus:!0,productId:"prophet"},datav:{description:"创造属于您的双11指挥大屏！￥0.99 元使用3个月",firstChar:"d",icon:"icon-yun-dplus-datav",link:"https://datav.aliyun.com",name:"DataV数据可视化",openStatus:!0,productId:"datav"},nls:{description:"给你“能听、会说、懂你”的智能人机交互体验",firstChar:"z",icon:"icon-nls icon-logo-new",link:"https://data.aliyun.com/console",name:"智能语音交互",openStatus:!0,productId:"nls"},stream:{icon:"icon-logo-new",link:"https://stream.console.aliyun.com",name:"流计算",openStatus:!0,productId:"stream"},portrait:{icon:"icon-logo-new",link:"https://dtboost.shuju.aliyun.com",name:"画像分析",openStatus:!0,productId:"portrait"}},languageInfo:{currentLanguage:"zh",supportedLanguages:[{label:"English",link:"https://intl.aliyun.com/api/changeLanguage?lang=en",value:"en"},{label:"简体中文",link:"https://intl.aliyun.com/api/changeLanguage?lang=zh",value:"zh"},{label:"日本語",link:"https://intl.aliyun.com/api/changeLanguage?lang=ja",value:"ja"}]},navLinks:{customHelp:{href:"https://home.console.aliyun.com/common/navRedirect.html?typeId=customHelp",icon:"",id:"customHelp",navRedirect:!0,show:!1,showNew:!0,text:"支持",title:"支持"},enterprise:{href:"https://ecsm.console.aliyun.com",id:"enterprise",links:[{href:"https://ecsm.console.aliyun.com",id:"ecsm",target:"_blank",text:"企业云管理"}],show:!0,target:"_blank",text:"企业"},expense:{href:"https://expense.console.aliyun.com/",id:"expense",links:[{href:"https://expense.console.aliyun.com/#/account/recharge/alipay",id:"recharge",target:"_blank",text:"充值"},{href:"https://expense.console.aliyun.com/#/order/list/",id:"order",target:"_blank",text:"订单"},{href:"https://expense.console.aliyun.com/#/invoice/create",id:"invoice",target:"_blank",text:"发票"},{href:"https://expense.console.aliyun.com/#/consumption/outline",id:"consumption",target:"_blank",text:"消费记录"},{href:"https://expense.console.aliyun.com",id:"expense_more",section:!0,target:"_blank",text:"进入费用中心"}],show:!0,target:"_blank",text:"费用"},home:{href:"http://home.console.aliyun.com",icon:"icon-home",show:!0,target:"_self",text:"管理控制台"},i18n:{icon:"",id:"i18n",requestUrl:"",show:!1,showNew:!0},icp:{href:"https://bsn.console.aliyun.com/#/bsnApply/ecs",id:"icp",links:[{href:"https://bsn.console.aliyun.com/#/bsnApply/ecs",id:"icp_apply",target:"_blank",text:"备案服务号申请"},{href:"https://bsn.console.aliyun.com/#/bsnManagement",id:"icp_manage",target:"_blank",text:"备案服务号管理"},{href:"https://beian.aliyun.com",id:"icp_beian",target:"_blank",text:"备案专区"},{href:"http://aliyun.gein.cn/",id:"icp_gein",target:"_blank",text:"ICP备案系统"}],show:!0,target:"_blank",text:"备案"},logo:{href:"http://www.aliyun.com",icon:"icon-logo-new",show:!0,target:"_blank"},message:{blankText:"您暂时没有公告消息",href:"https://msc.console.aliyun.com/#/innerMsg/unread/0",messageUrl:"https://notifications.console.aliyun.com/#/subscribeMsg",show:!0,subscribeLink:"https://notifications.console.aliyun.com/#/subscribeMsg",subscribeTitle:"消息接收管理",text:"查看更多",title:"站内消息通知"},product:{recent:"最近访问",show:!0,showAll:!0,text:"产品与服务"},requestUrl:{updateMessageInfo:"//home.console.aliyun.com/center/updateMessageInfo.js"},search:{href:"http://www.aliyun.com/s?k=",placeholder:"搜索",show:!0,text:"搜索"},support:{href:"http://help.aliyun.com/",id:"support",links:[{href:"http://help.aliyun.com",id:"help",target:"_blank",text:"帮助与文档"},{href:"http://bbs.aliyun.com",id:"forum",target:"_blank",text:"论坛"},{href:"https://yq.aliyun.com",id:"blog",target:"_blank",text:"博客"}],show:!0,target:"_blank",text:"支持"},user:{href:"https://account.console.aliyun.com",id:"user",labels:{3:"子账号",4:"角色",currentAlias:"企业别名",currentName:"当前身份",loginAlias:"企业别名",loginName:"登录身份"},linkMap:{exitSwitchedRole:{href:"https://signin.aliyun.com/exitSwitchedRole.htm",id:"exitSwitchedRole",target:"_self",text:"返回登录身份"},signout:{href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",id:"signOut",target:"_self",text:"退出管理控制台"},switchRole:{href:"https://signin.aliyun.com/switchRole.htm",id:"switchRole",target:"_self",text:"切换身份"}},links:[{className:"icon-topbar-user-info",href:"https://account.console.aliyun.com/#/basicInfo",id:"user_info",target:"_target",text:"基本资料"},{className:"icon-topbar-certify",href:"https://account.console.aliyun.com/#/auth/home",id:"certify",target:"_target",text:"实名认证"},{className:"icon-topbar-secure-setting",href:"https://account.console.aliyun.com/#/secure",id:"secure_setting",target:"_target",text:"安全设置"},{className:"icon-topbar-secure-control",href:"https://yundun.console.aliyun.com/?p=sc",id:"secure_control",target:"_target",text:"安全管控"},{className:"icon-topbar-ram",href:"https://ram.console.aliyun.com",id:"ram",target:"_target",text:"访问控制"},{className:"icon-topbar-accesskeys",href:"https://ak-console.aliyun.com",id:"accesskeys",target:"_target",text:"accesskeys"},{className:"icon-account",href:"https://v.aliyun.com",id:"vip",target:"_target",text:"会员中心"}],show:!0,signout:{href:"https://account.aliyun.com/logout/logout.htm?oauth_callback=",id:"signout",target:"_self",text:"退出管理控制台"}},workorder:{href:"https://workorder.console.aliyun.com",id:"workorder",links:[{href:"https://workorder.console.aliyun.com/#/ticket/list/",id:"workorder_own",target:"_blank",text:"我的工单"},{href:"https://selfservice.console.aliyun.com/ticket/createIndex",id:"workorder_add",navRedirect:!1,target:"_blank",text:"提交工单"}],show:!0,text:"工单"}}}}},,,,function(e,t,n){e.exports=function(){var e=[];return e.toString=function t(){var e=[];for(var t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){typeof t=="string"&&(t=[[null,t,""]]);var r={};for(var i=0;i<this.length;i++){var s=this[i][0];typeof s=="number"&&(r[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];if(typeof o[0]!="number"||!r[o[0]])n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o)}},e}},function(e,t){function f(e,t){for(var r=0;r<e.length;r++){var i=e[r],s=n[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(v(i.parts[o],t))}else{var u=[];for(var o=0;o<i.parts.length;o++)u.push(v(i.parts[o],t));n[i.id]={id:i.id,refs:1,parts:u}}}}function l(e){var t=[],n={};for(var r=0;r<e.length;r++){var i=e[r],s=i[0],o=i[1],u=i[2],a=i[3],f={css:o,media:u,sourceMap:a};n[s]?n[s].parts.push(f):t.push(n[s]={id:s,parts:[f]})}return t}function c(e,t){var n=s(),r=a[a.length-1];if(e.insertAt==="top")r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if(e.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){e.parentNode.removeChild(e);var t=a.indexOf(e);t>=0&&a.splice(t,1)}function p(e){var t=document.createElement("style");return t.type="text/css",c(e,t),t}function d(e){var t=document.createElement("link");return t.rel="stylesheet",c(e,t),t}function v(e,t){var n,r,i;if(t.singleton){var s=u++;n=o||(o=p(t)),r=g.bind(null,n,s,!1),i=g.bind(null,n,s,!0)}else e.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(n=d(t),r=b.bind(null,n),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=y.bind(null,n),i=function(){h(n)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}function g(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function y(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function b(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var n={},r=function(e){var t;return function(){return typeof t=="undefined"&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),s=r(function(){return document.head||document.getElementsByTagName("head")[0]}),o=null,u=0,a=[];e.exports=function(e,t){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},typeof t.singleton=="undefined"&&(t.singleton=i()),typeof t.insertAt=="undefined"&&(t.insertAt="bottom");var r=l(e);return f(r,t),function(i){var s=[];for(var o=0;o<r.length;o++){var u=r[o],a=n[u.id];a.refs--,s.push(a)}if(i){var c=l(i);f(c,t)}for(var o=0;o<s.length;o++){var a=s[o];if(a.refs===0){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete n[a.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){(function(e){function t(t){var n=e(this),r=null,i=[],s=null,o=null,u=e.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},t),a=3,f=300,l=function(t){i.push({x:t.pageX,y:t.pageY}),i.length>a&&i.shift()},c=function(){o&&clearTimeout(o),u.exitMenu(this)&&(r&&u.deactivate(r),r=null)},h=function(){o&&clearTimeout(o),u.enter(this),m(this)},p=function(){u.exit(this)},d=function(){v(this)},v=function(t){if(t==r)return;r&&u.deactivate(r),u.activate(t),r=t},m=function y(e){var t=g();t?o=setTimeout(function(){y(e)},t):v(e)},g=function(){function v(e,t){return(t.y-e.y)/(t.x-e.x)}if(!r||!e(r).is(u.submenuSelector))return 0;var o=n.offset(),a={x:o.left,y:o.top-u.tolerance},l={x:o.left+n.outerWidth(),y:a.y},c={x:o.left,y:o.top+n.outerHeight()+u.tolerance},h={x:o.left+n.outerWidth(),y:c.y},p=i[i.length-1],d=i[0];if(!p)return 0;d||(d=p);if(d.x<o.left||d.x>h.x||d.y<o.top||d.y>h.y)return 0;if(s&&p.x==s.x&&p.y==s.y)return 0;var m=l,g=h;u.submenuDirection=="left"?(m=c,g=a):u.submenuDirection=="below"?(m=h,g=c):u.submenuDirection=="above"&&(m=a,g=l);var y=v(p,m),b=v(p,g),w=v(d,m),E=v(d,g);return y<w&&b>E?(s=p,f):(s=null,0)};n.mouseleave(c).find(u.rowSelector).mouseenter(h).mouseleave(p).click(d),e(document).mousemove(l)}e.fn.menuAim=function(e){return this.each(function(){t.call(this,e)}),this}})(window.jQuery)},function(e,t){e.exports='<div class="console-component-topbar" role="menubar">\n  <div class="topbar-wrap topbar-clearfix" ng-show="!loadingState">\n    <div class="topbar-head topbar-left">\n      <!-- 阿里云官网链接 -->\n      <a href="{{data.navLinks.logo.href}}" title="{{data.navLinks.logo.href}}" target="{{data.navLinks.logo.target || \'_blank\'}}"\n         class="topbar-btn topbar-logo topbar-left" aliyun-console-spm="1">\n        <span class="{{data.navLinks.logo.icon}}"></span>\n      </a>\n      <!-- 阿里云控制台首页链接 -->\n      <a href="{{data.navLinks.home.href}}"\n         target="{{data.navLinks.home.target || \'_blank\'}}" class="topbar-home-link topbar-btn topbar-left"\n         aliyun-console-spm="2">\n        <span ng-bind="data.navLinks.home.text"></span>\n      </a>\n    </div>\n    <!-- 阿里云产品与服务 -->\n    <div class="topbar-product topbar-left" ng-class="{\'open\':isProductOpen}">\n      <div class="topbar-btn topbar-product-btn"\n           aliyun-console-spm="3" ng-click="toggleProductDropdown($event)">\n        <span ng-bind="data.navLinks.product.text"></span><span class="icon-arrow-down"></span>\n      </div>\n      <div class="topbar-product-dropdown" ng-class="{\'topbar-show\':isProductOpen}">\n        <div class="topbar-product-container topbar-clearfix" ng-class="{\'topbar-product-container-simple\':!(data.recentProductList && data.recentProductList.length > 0)}">\n          <div class="topbar-product-history topbar-left" ng-if="data.recentProductList && data.recentProductList.length > 0">\n            <div class="topbar-product-title" ng-bind="data.navLinks.product.recent"></div>\n            <ul class="topbar-product-history-list">\n              <li ng-repeat="productId in data.recentProductList" ng-if="data.products[productId] && data.products[productId].name">\n                <a ng-href="{{data.products[productId].link}}" target="_self">\n                  <i class="{{data.products[productId].icon}}"></i>\n                  {{data.products[productId].name}}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div class="topbar-product-category-box" ng-class="{\'has-product-history\': data.recentProductList && data.recentProductList.length > 0}">\n            <div class="topbar-product-hd">\n              <div class="topbar-product-search">\n                <input class="topbar-transition" type="text" ng-model="filterTxt" ng-keyup="toFilterProduct($event)" placeholder="{{data.navLinks.product.keywords}}">\n                <a class="icon-search topbar-product-search-icon" href="javascript:;" ng-click="filterProductList($event)">\n                  <!-- 方便通过脚本触发a点击 -->\n                  <span></span>\n                </a>\n              </div>\n            </div>\n            <div class="topbar-product-bd">\n              <span class="topbar-filter-tiptxt" ng-if="filterTxt && data.productByCategory.length > 0" ng-bind-html="hasResultTipText"></span>\n              <span class="topbar-filter-tiptxt" ng-if="filterTxt && data.productByCategory.length == 0"><span ng-bind-html="noResultTipText"></span><a href="javascript:;" ng-click="queryAllProduct($event)">{{data.navLinks.product.allProduct}}</a></span>\n              <div class="topbar-product-by-category" ng-if="categoryType == \'category\' || !categoryType">\n                <div class="waterfall-container column-{{columnCount}}">\n                  \n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="topbar-product-close" ng-click="toggleProductDropdown($event)">\n            <span class="icon-double-arrow">\n              <i></i>\n              <i></i>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- region切换 -->\n    <!--<div class="topbar-regionbar" ng-if="data.meta.regionSupport" aliyun-console-regionbar vertical="true"></div>-->\n\n    <div class="topbar-info topbar-right topbar-clearfix">\n      <div class="topbar-region-switcher" aliyun-console-topbar-region-switcher></div>\n      <!-- 搜索 -->\n      <div class="topbar-search topbar-left topbar-info-dropdown" ng-if="data.navLinks.search.show">\n        <a href="#" class="topbar-btn topbar-hover-dark" aliyun-console-spm="31">\n          <span class="icon-search"></span><span>{{data.navLinks.search.text}}</span>\n        </a>\n        <div class="topbar-search-dropdown topbar-info-dropdown-memu">\n          <input class="topbar-search-ask" type="text" name="input" ng-model="askInput" ng-keyup="toSearch($event)" autocomplete="off" placeholder="{{data.navLinks.search.placeholder}}">\n          <a target="_blank" ng-href="{{data.navLinks.search.href + askInput}}" class="topbar-search-mark icon-enter" aliyun-console-spm="32" ng-click="searchClickHandler($event)">\n            <!-- 方便通过脚本触发a点击 -->\n            <span></span>\n          </a>\n        </div>\n      </div>\n      <!-- 站内信 -->\n      <div class="dropdown topbar-notice topbar-left topbar-info-dropdown topbar-info-item"\n           data-ng-if="data.messages && data.navLinks.message.show">\n        <a href="{{data.navLinks.message.href}}" class="topbar-btn topbar-btn-notice topbar-hover-dark" aliyun-console-spm="4">\n          <span class="topbar-btn-notice-icon1 icon-bell1">{{data.navLinks.message.titleText}}</span>\n          <span class="topbar-btn-notice-num" ng-if="data.messages.total > 0" ng-class="{\'topbar-btn-notice-num-zero\':data.messages.total == 0}" ng-bind="data.messages.total"></span>\n        </a>\n        <div class="topbar-notice-panel topbar-info-dropdown-memu">\n          <div class="topbar-notice-arrow"></div>\n          <div class="topbar-notice-head">\n            <span>{{data.navLinks.message.title}}</span>\n            <a aliyun-console-spm="41" href="{{data.navLinks.message.subscribeLink}}" class="ng-binding pull-right" style="font-size: 13px;color:#00C1DE;">{{data.navLinks.message.subscribeTitle}}</a>\n          </div>\n          <div ng-if="data.messages && data.messages.messageList.length > 0">\n            <div class="topbar-notice-body">\n              <ul ng-if="data.messages && data.messages.messageList.length > 0">\n                <li ng-repeat="item in data.messages.messageList" ng-class="{\'topbar-notice-readed\':item.readed}">\n                  <a ng-href="{{data.navLinks.message.messageUrl + item.msgId}}" target="_blank" class="clearfix"\n                    ng-click="readMessage(item)" aliyun-console-spm="40{{$index}}">\n                    <span class="inline-block">\n                      <span class="topbar-notice-link" ng-bind="item.title"></span>\n                      <span class="topbar-notice-time" ng-bind="item.formatCreatedTime"></span>\n                    </span>\n                    <span class="topbar-notice-class" ng-if="item.className">\n                      <span class="topbar-notice-class-name">{{item.className}}</span>\n                    </span>\n                  </a>\n                </li>\n              </ul>\n              <p ng-if="!data.messages || data.messages.messageList.length == 0" class="topbar-notice-empty">{{data.navLinks.message.blankText}}</p>\n            </div>\n            <div class="topbar-notice-foot">\n              <a class="topbar-notice-more" target="_blank" ng-href="{{data.navLinks.message.href}}" aliyun-console-spm="401">{{data.navLinks.message.text}}</a>\n            </div>\n          </div>\n          <!-- 没有未读消息 -->\n          <div ng-if="data.messages && data.messages.messageList.length == 0" class="messages-empty">\n            <span class="topbar-notice-empty">{{data.navLinks.message.blankText}}</span>\n            <a class="topbar-notice-more" target="_blank" ng-href="{{data.navLinks.message.href}}" aliyun-console-spm="401">{{data.navLinks.message.text}}</a>\n          </div>\n        </div>\n      </div>\n      <!-- 费用 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.expense.show">\n        <a href="{{data.navLinks.expense.href}}" target="{{data.navLinks.expense.target || \'_blank\'}}" class="topbar-btn topbar-info-dropdown-toggle" aliyun-console-spm="expense">\n          <span>{{data.navLinks.expense.text}}</span>\n        </a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list">\n          <li ng-repeat="link in data.navLinks.expense.links" class="topbar-info-btn">\n            <span ng-if="link.section" class="topbar-info-btn-gap"></span>\n            <a href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="expense{{$index}}">\n              <span>{{link.text}}</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 工单 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.workorder.show">\n        <a href="{{data.navLinks.workorder.href}}" target="{{data.navLinks.workorder.target || \'_blank\'}}" class="topbar-btn topbar-info-dropdown-toggle" aliyun-console-spm="workorder">\n          <span>{{data.navLinks.workorder.text}}</span>\n        </a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list">\n          <li ng-repeat="link in data.navLinks.workorder.links" class="topbar-info-btn">\n            <a href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="workorder{{$index}}">\n              <span>{{link.text}}</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 备案 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.icp.show">\n        <a href="{{data.navLinks.icp.href}}" target="{{data.navLinks.icp.target || \'_blank\'}}" class="topbar-btn topbar-info-dropdown-toggle" aliyun-console-spm="icp">\n          <span>{{data.navLinks.icp.text}}</span>\n        </a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list">\n          <li ng-repeat="link in data.navLinks.icp.links" class="topbar-info-btn">\n            <a href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="icp{{$index}}">\n              <span>{{link.text}}</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 企业 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.enterprise.show">\n        <a href="{{data.navLinks.enterprise.href}}" target="{{data.navLinks.enterprise.target || \'_blank\'}}" class="topbar-btn topbar-info-dropdown-toggle" aliyun-console-spm="enterprise">\n          <span>{{data.navLinks.enterprise.text}}</span>\n        </a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list">\n          <li ng-repeat="link in data.navLinks.enterprise.links" class="topbar-info-btn">\n            <a href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="enterprise{{$index}}">\n              <span>{{link.text}}</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 支持 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.support.show" ng-class="{\'topbar-support-customhelp\':data.navLinks.customHelp.show}">\n        <a href="{{data.navLinks.support.href}}" target="{{data.navLinks.support.target || \'_blank\'}}" class="topbar-btn topbar-info-dropdown-toggle" aliyun-console-spm="support">\n          <span>{{data.navLinks.support.text}}</span>\n        </a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list" ng-if="!data.navLinks.customHelp.show">\n          <li ng-repeat="link in data.navLinks.support.links" class="topbar-info-btn">\n            <a href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="support{{$index}}">\n              <span>{{link.text}}</span>\n            </a>\n          </li>\n        </ul>\n        <div class="topbar-customhelp" ng-if="data.navLinks.customHelp.show">\n          <div class="topbar-help-inner" ng-show="true">\n            <div class="topbar-help-head">\n              <span ng-bind="data.navLinks.customHelp.text"></span>\n            </div>\n            <div class="topbar-help-body" ng-if="data.navLinks.customHelp.href">\n              <iframe class="topbar-help-iframe" name="topbarHelpIframe" width=486 frameborder=0 data-spm-src="{{data.navLinks.customHelp.href}}"></iframe>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- user -->\n      <div class="topbar-left topbar-user"\n           ng-class="{\'topbar-user-large\':data.account.currentStructure}"\n           ng-if="data.navLinks.user.show">\n        <div class="topbar-info-dropdown topbar-info-item">\n          <a href="{{data.navLinks.user.href}}"\n             target="{{data.navLinks.user.target || \'_blank\'}}"\n             class="topbar-info-dropdown-toggle topbar-btn"\n             aliyun-console-spm="6">\n            <span ng-bind="data.account.aliyunId" title="{{data.account.aliyunId}}"></span>\n          </a>\n          <div class="topbar-info-dropdown-memu topbar-align-right">\n            <div class="topbar-user-entrance-list">\n              <a ng-repeat="link in data.navLinks.user.links" class="topbar-user-entrance" href="{{link.href}}" target="{{link.target || \'_blank\'}}" aliyun-console-spm="60{{$index}}">\n                <span class="topbar-user-entrance-logo {{link.className}}"></span>\n                <span>{{link.text}}</span>\n              </a>\n            </div>\n            <div>\n              <div ng-if="data.account.currentStructure" class="topbar-info-btn-identity">\n                <!-- 当前身份 -->\n                <div class="user-identity" ng-if="data.account.currentStructure">\n                  <div class="user-identity-item">\n                    {{data.navLinks.user.labels.currentName}}<span class="user-identity-colon">:</span>{{data.account.currentName}}\n                    <div class="user-identity-sign-wrap">\n                      <div class="user-identity-sign">{{data.navLinks.user.labels[data.account.currentStructure]}}</div>\n                    </div>\n                  </div>\n                  <div class="user-identity-item">\n                    {{data.navLinks.user.labels.currentAlias}}<span class="user-identity-colon">:</span>{{data.account.currentAlias}}\n                  </div>\n                </div>\n                <!-- 登陆身份 -->\n                <div class="user-identity" ng-if="data.account.loginStructure">\n                  <div class="user-identity-item">\n                    {{data.navLinks.user.labels.loginName}}<span class="user-identity-colon">:</span>{{data.account.loginName}}\n                    <div class="user-identity-sign-wrap">\n                      <div class="user-identity-sign">{{data.navLinks.user.labels[data.account.loginStructure]}}</div>\n                    </div>\n                  </div>\n                  <div class="user-identity-item">\n                    {{data.navLinks.user.labels.loginAlias}}<span class="user-identity-colon">:</span>{{data.account.loginAlias}}\n                  </div>\n\n                </div>\n                <div class="user-identity-links">\n                  <a class="user-btn-link" href="{{data.navLinks.user.linkMap.switchRole.href}}"\n                     target="{{data.navLinks.user.linkMap.switchRole.target || \'_self\'}}"\n                     aliyun-console-spm="">\n                    <span>{{data.navLinks.user.linkMap.switchRole.text}}</span>\n                  </a>\n                  <a ng-if="data.account.loginStructure" class="user-btn-link"\n                     href="{{data.navLinks.user.linkMap.exitSwitchedRole.href}}"\n                     target="{{data.navLinks.user.linkMap.exitSwitchedRole.target || \'_self\'}}" aliyun-console-spm="">\n                    <span>{{data.navLinks.user.linkMap.exitSwitchedRole.text}}</span>\n                  </a>\n                </div>\n              </div>\n              <div class="user-btn-list">\n                <a class="user-btn-link" href="{{data.navLinks.user.signout.href}}"\n                   target="{{data.navLinks.user.signout.target || \'_self\'}}" aliyun-console-spm=""><span>{{data.navLinks.user.signout.text}}</span></a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 国际化 -->\n      <div class="topbar-left topbar-info-item topbar-info-dropdown" ng-if="data.navLinks.i18n.show && data.languageInfo.currentLanguage">\n        <a href="{{data.languageInfo.currentLanguage.link}}" class="topbar-btn topbar-info-dropdown-toggle "\n           aliyun-console-spm="9">{{ data.languageInfo.currentLanguageData.label}}</a>\n        <ul class="topbar-info-dropdown-memu topbar-info-dropdown-memu-list">\n          <li ng-repeat="language in data.languageInfo.languages" class="topbar-info-btn">\n            <a ng-click="changeCurrentLanguage(language.link, language.link2)" aliyun-console-spm="90{{$index}}"><span>{{language.label}}</span></a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'},,,,,function(e,t,n){var r=n(21);typeof r=="string"&&(r=[[e.i,r,""]]);var i=n(8)(r,{});r.locals&&(e.exports=r.locals)},,function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return e+encodeURIComponent(window.location.origin+window.location.pathname)}function p(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n={},r=[];for(var i in e){var s=e[i],o=s.firstChar&&s.firstChar.toUpperCase();n[o]||(n[o]=[]),n[o].push(s)}return t.forEach(function(e){var t=n[e];t&&t.length>0&&(r.push({name:e,type:"charId"}),t.sort(function(e,t){return e.name.localeCompare(t.name,"zh-Hans-CN")}),r=r.concat(t))}),r}function d(e){var t=[],n=Object.keys;if(typeof n!="undefined")n(e).forEach(function(n){t.push(e[n])});else for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function v(e){var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=d(e);return n.forEach(function(e){var n=[],i=r.filter(function(t){var n=t.firstChar;if(n)return n.toUpperCase()===e});i.length>0&&(n.push({name:e,type:"charId"}),t.push(n.concat(i)))}),t}function m(e,t){var n=[];return t.forEach(function(t){if(t.id!=="all")if(t.categories)t.categories.forEach(function(t,r){var i=[];t.products.forEach(function(t){t=t.toString().split(","),t.forEach(function(t){e[t]&&i.push(e[t])})}),i.length>0&&i.unshift({name:t.name,level:"L2"}),i.length>0&&n.push(i)});else{var r=[],i=t.products.toString().split(",");i.forEach(function(t){e[t]&&r.push(e[t])}),r.length>0&&r.unshift({name:t.name,id:t.id,level:"L2"}),r.length>0&&n.push(r)}}),n}function g(e,t){var n=6,r=[];return e.forEach(function(e){var i=e.categories,s=e.products;if(i&&i.length>0){var u=[];i.forEach(function(e){if(e.products){var r=o.default.existKeyInMap(e.products,t);r.length>0&&(e.products=o.default.sliceArray(r,n),u.push(e))}}),e.categories=u,r.push(e)}if(s){var a=o.default.existKeyInMap(s,t);a.length>0&&(e.products=o.default.sliceArray(a,n),r.push(e))}e.fixed&&r.push(e)}),r}function y(e){if(!e)return;var t=document.cookie.split(";"),n;for(var r=0;r<t.length;r++){var i=t[r].split("=");i[0].trim()==e&&(n=unescape(i[1]))}return n}function b(e){e=e||{};if(!e.aliyunId){var t=y("login_aliyunid");t&&(e.aliyunId=t.replace(/"/g,""))}return e}function w(e,t){for(var n in e){var r=e[n];r.navRedirect&&(r.href=E(r.href,t)),r.links&&Array.isArray(r.links)&&r.links.forEach(function(e){e&&e.navRedirect&&(e.href=E(e.href,t))})}return e}function E(e,t){return t?e+"&productId="+t:e}function S(e){var t=[],n={};if(e){var r=e.currentLanguage,i=e.supportedLanguages;return i&&i.length>0&&i.forEach(function(e,i){e.value==r?n=e:t.push(e)}),(0,a.default)(e,{currentLanguageData:n,languages:t})}return e}function x(e,t,n){t({method:"jsonp",url:i.default.REFRESH_MESSAGE,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(t){var r=t.data;r&&r.code=="200"&&r.data&&n(function(){e.messages=r.data},0)})}n(15);var r=n(3),i=f(r),s=n(0),o=f(s),u=n(1),a=f(u),c=function(){function e(t){var n=this;l(this,e),this.$injector=t,this.data={},this.loading=!0,this.staticVersion="1.4.48",this.element=null,t.invoke(["$http","$q","$sce","$timeout","$compile","viewFrameworkSetting","regionService","$rootScope",function(e,t,r,i,s,o,u,a){n.$http=e,n.$q=t,n.$sce=r,n.$timeout=i,n.$compile=s,n.regionService=u,n.viewFrameworkSetting=o,n.productId=o.config.productId,n.$rootScope=a}])}return e.prototype.render=function(t,r,i,s){var u=o.default.getCookie("aliyun_site");u=="JP"&&this.viewFrameworkSetting.setVersion("v2"),u=="INTL"&&this.viewFrameworkSetting.setVersion("v3"),s?this.dataHandler(s):this.dataRequest(),this.element=r,this.directiveLink(t,r,i);var a=this.$compile(n(10))(t);r.append(a),r.find(".topbar-wrap").show();var f=this;$(window).on("resize",function(){f.renderProductList(t),f.calcProductContainerHeight()})},e.prototype.renderProductList=function(t){var n=t.data.productByCategory||[],r=o.default.getColumnCountByScreen(),i=$(".waterfall-container"),s=Array.apply(null,Array(r)).map(function(){return""});i.html(""),this.$timeout(function(){t.columnCount=r},100),i.append(s.map(function(){return'<div class="waterfall-group">\n        <div class="waterfall-group-wrapper"></div>\n      </div>'}).join(""));var u=i.find(".waterfall-group-wrapper"),a=function(t){return t?t.level?"<dt>"+t.name+"</dt>":'<dd id="'+t.productId+'"><a target="_blank" href="'+t.link+'" title="'+t.name+'">'+t.name+"</a></dd>":""};n.forEach(function(e,t){var n="<dl>"+e.map(function(e){return a(e)}).join("")+"</dl>",i=t%r;u.eq(i).append(n)})},e.prototype.calcProductContainerHeight=function(){var t=$(".topbar-product-category-box"),n=$(".console-component-topbar"),r=$(".topbar-product-close");t.css({"max-height":window.innerHeight-n.outerHeight(!0)-r.outerHeight(!0),"overflow-y":"scroll"})},e.prototype.directiveLink=function(t,r,i){function c(e){s.$timeout(function(){$(e.target).parents(".topbar-product").length==0&&(t.isProductOpen=!1,$(window).off("click",c))})}function h(){n(9);var e=f.find(".topbar-product-nav");e.each(function(e,t){var n=$(t),r=$(n.find(".topbar-product-nav-list li")),i=$(n.siblings(".topbar-product-category-wrap").find(">.topbar-product-category"));p(r,i,0),n.find(".topbar-product-nav-list").menuAim({activate:function(t){p(r,i,$(t).index())}})})}function p(e,t,n){t.hide(),e.removeClass("active"),t.eq(n).show(),e.eq(n).addClass("active")}t.data=this.data,t.isProductOpen=!1;var s=this,o=this.$timeout,u=this.$rootScope,a=this.$http,f=$(r),l=!1;u.$on("topbarUpdateMessageInfo",function(){x(t.data,a,o)}),t.toSearch=function(e){var t=$(".topbar-search-mark"),n=e.keyCode;n===13&&s.$timeout(function(){t.find("span").click()},0)},t.toggleProductDropdown=function(e){l||h(),l=!0,t.isProductOpen||$(window).resize(),t.isProductOpen=!t.isProductOpen,t.isProductOpen&&$(window).on("click",c)},t.toFilterProduct=function(e){var n=t.filterTxt,r=t.data.navLinks.product.hasResult,i=t.data.navLinks.product.noResult,s=r&&r.replace("{filterTxt}",n)||"",o=i&&i.replace("{filterTxt}",n)||"";t.hasResultTipText=s,t.noResultTipText=o,t.filterProductList()},t.queryAllProduct=function(e){e.stopPropagation(),t.filterTxt="",t.filterProductList()},t.filterProductList=function(e){var n=t.data,r=$.trim((t.filterTxt||"").toLowerCase()),i=n.categories,o=$.extend({},n.products),u={};if(r){for(var a in o)if(o.hasOwnProperty(a)){var f=o[a];if(f.productId&&f.productId.toLowerCase()===r||f.name&&f.name.toLowerCase().indexOf(r)>=0)u[a]=f}o=u}n.productByCategory=m(o,i),s.renderProductList(t)},t.changeCurrentLanguage=function(e,t){var n=[e,t].map(function(e){return s.$http({method:"jsonp",url:e,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}})});e&&s.$q.all(n).then(function(){window.location.reload()},function(){console.log("切换语言失败")})}},e.prototype.dataHandler=function(t){var n=t.navLinks,r=t.account,i=t.products,s=t.categories,u=t.languageInfo,f=t.meta,l=t.extraScripts,c=n,d=c.customHelp,v=c.expense,y=c.user,E=c.product;n=w(n,this.productId),y.signout&&y.signout.href&&(y.signout.href=h(y.signout.href));var x=o.default.sliceArray(p(i),18);s=g(s,i),r=b(r),u=S(u);var T=this.getRecentProductList();this.setRecentProductList(this.productId,i);var N=m(i,s),C=o.default.getCookie("aliyun_lang"),k=o.default.getCookie("consoleNavVersion");C&&C!="zh"&&(E.showAll=!1);var L={main:E&&E.showAll?0:1,basic:0};f&&(f.regionSupport=this.regionService.recentRegionList&&this.regionService.regionSetting&&f.regionSupport,f.staticVersion&&f.staticVersion!=k&&o.default.setCookiesNavigationVersion(f.staticVersion)),(0,a.default)(t,{navLinks:n,productList:x,categories:s,account:r,languageInfo:u,recentProductList:T,categoryIndex:L,meta:f,productByCategory:N}),(0,a.default)(this.data,t),l&&o.default.loadExtraScripts(l)},e.prototype.dataRequest=function(){var t=this,n={method:"jsonp",url:i.default.TOPBAR_REQUEST_URL,params:{productId:this.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime(),version:"v3"}};this.$http(n).then(function(e){var n=e.data;n&&n.code==i.default.RESPONSE_CODE_SUCCESS&&t.dataHandler(n.data)},function(){t.dataHandler(i.default.DEFAUL_DATA)})},e.prototype.debounce=function(t,n,r){var i,s=this.$timeout;return function(){var e=this,o=arguments,u=function(){i=null,r||t.apply(e,o)},a=r&&!timeout;s.cancel(i),i=s(u,n),a&&t.apply(e,o)}},e.prototype.getRecentProductList=function(){var t=o.default.getCookie("consoleRecentVisit");return t?t.split(","):[]},e.prototype.setRecentProductList=function(t,n){if(!t||!n[t])return;var r=this.getRecentProductList(),s=[];r.forEach(function(e,t){n[e]&&s.push(e)});if(t){var u=s.indexOf(t);u!=-1?(s.splice(u,1),s.unshift(t)):(s.length>=5&&s.pop(),s.unshift(t)),o.default.deleteCookies("consoleRecentVisit",i.default.COOKIES_DOMAIN_OLD),o.default.setCookie("consoleRecentVisit",s.join(","),i.default.COOKIES_DOMAIN)}},e}();window.ConsoleTopbar=c,e.exports=c},,,,function(e,t,n){t=e.exports=n(7)(),t.push([e.i,'.console-component-topbar {\n  position: relative;\n  z-index: 100;\n  clear: both;\n  height: 50px;\n  background: #373d41;\n  font-size: 12px;\n  min-width: 990px; }\n  .console-component-topbar span, .console-component-topbar a, .console-component-topbar p, .console-component-topbar li {\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n    letter-spacing: 0.02em; }\n  .console-component-topbar a {\n    text-decoration: none; }\n    .console-component-topbar a:focus {\n      outline: none; }\n  .console-component-topbar .accessibility-ast {\n    position: absolute;\n    top: -10000px;\n    left: -10000px;\n    width: 100px; }\n  .console-component-topbar .accessibility-ast:focus {\n    position: absolute;\n    top: 0;\n    left: 310px; }\n  .console-component-topbar .icon-arrow-down {\n    display: inline-block;\n    width: 18px;\n    text-align: center;\n    vertical-align: middle;\n    transition: transform 0.2s, vertical-align 0.2s;\n    -o-transition: transform 0.2s, vertical-align 0.2s;\n    -ms-transition: transform 0.2s, vertical-align 0.2s;\n    -moz-transition: transform 0.2s, vertical-align 0.2s;\n    -webkit-transition: transform 0.2s, vertical-align 0.2s; }\n  .console-component-topbar .dropdown .dropdown-menu {\n    z-index: 1;\n    font-size: 12px;\n    border-radius: 0;\n    -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }\n    .console-component-topbar .dropdown .dropdown-menu a {\n      padding: 0; }\n  .console-component-topbar .dropdown.open .icon-arrow-down {\n    vertical-align: text-top;\n    transform: rotate(180deg);\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -ms-transform: rotate(180deg);\n    -o-transform: rotate(180deg); }\n  .console-component-topbar .topbar-show {\n    display: block !important; }\n  .console-component-topbar .topbar-info-dropdown {\n    position: relative; }\n    .console-component-topbar .topbar-info-dropdown .topbar-btn {\n      position: relative; }\n    .console-component-topbar .topbar-info-dropdown .topbar-info-dropdown-toggle {\n      color: #fff; }\n    .console-component-topbar .topbar-info-dropdown:hover .topbar-info-dropdown-memu {\n      visibility: visible;\n      opacity: 1; }\n    .console-component-topbar .topbar-info-dropdown:hover .topbar-info-dropdown-toggle {\n      background: #2a2f32; }\n      .console-component-topbar .topbar-info-dropdown:hover .topbar-info-dropdown-toggle:hover {\n        background: #2a2f32; }\n    .console-component-topbar .topbar-info-dropdown:hover .icon-arrow-down {\n      transform: rotate(180deg);\n      -webkit-transform: rotate(180deg);\n      -moz-transform: rotate(180deg);\n      -ms-transform: rotate(180deg);\n      -o-transform: rotate(180deg); }\n  .console-component-topbar .topbar-info-dropdown-memu {\n    padding: 0;\n    position: absolute;\n    top: 100%;\n    right: 0;\n    visibility: hidden;\n    float: left;\n    list-style: none;\n    background-color: #ffffff;\n    background-clip: padding-box;\n    z-index: 1;\n    font-size: 12px;\n    min-width: 100%;\n    margin: 0;\n    border: none;\n    -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n    -webkit-transition: opacity 0.15s, visibility 0s 0.15s;\n    transition: opacity 0.15s, visibility 0s 0.15s;\n    opacity: 0; }\n    .console-component-topbar .topbar-info-dropdown-memu li a {\n      display: block;\n      padding: 0 20px;\n      clear: both;\n      font-weight: normal;\n      line-height: 1.428571429;\n      color: #333333;\n      white-space: nowrap;\n      min-width: 140px;\n      -webkit-transition: all 0.15s;\n      transition: all 0.15s; }\n      .console-component-topbar .topbar-info-dropdown-memu li a:hover, .console-component-topbar .topbar-info-dropdown-memu li a:focus {\n        background-color: #f5f5f5; }\n  .console-component-topbar .topbar-info-dropdown-memu-list {\n    padding: 10px 0;\n    margin: -2px; }\n  .console-component-topbar .topbar-info-dropdown-toggle {\n    -webkit-transition: background 0.2s, color 0.2s;\n    transition: background 0.2s, color 0.2s; }\n  .console-component-topbar .topbar-wrap, .console-component-topbar .topbar-logo, .console-component-topbar .topbar-home, .console-component-topbar .topbar-home-link, .console-component-topbar .topbar-product, .console-component-topbar .topbar-info {\n    height: 100%; }\n  .console-component-topbar .topbar-wrap {\n    display: none; }\n  .console-component-topbar .topbar-left {\n    float: left; }\n  .console-component-topbar .topbar-right {\n    float: right; }\n  .console-component-topbar .topbar-clearfix:before,\n  .console-component-topbar .topbar-clearfix:after {\n    display: table;\n    content: " "; }\n  .console-component-topbar .topbar-clearfix:after {\n    clear: both; }\n  .console-component-topbar .topbar-align-right {\n    right: 0;\n    left: auto; }\n  .console-component-topbar .topbar-head {\n    background: #2a2f32;\n    height: 50px;\n    position: relative;\n    z-index: 3; }\n  .console-component-topbar .topbar-product {\n    position: relative;\n    z-index: 2;\n    background: #373d41; }\n  .console-component-topbar .topbar-logo {\n    display: block;\n    width: 50px;\n    font-size: 24px !important;\n    color: #FFF;\n    text-align: center;\n    line-height: 50px;\n    margin-right: 1px; }\n    .console-component-topbar .topbar-logo span {\n      line-height: 50px; }\n  .console-component-topbar .topbar-logo {\n    background: #373d41; }\n  .console-component-topbar .topbar-home-link {\n    margin-right: 1px;\n    background: #373d41;\n    width: 128px;\n    text-align: center; }\n  .console-component-topbar .topbar-home, .console-component-topbar .topbar-transition {\n    -o-transition: all 0.2s, 0.05s;\n    -moz-transition: all 0.2s, 0.05s;\n    -webkit-transition: all 0.2s, 0.05s;\n    transition: all 0.2s, 0.05s; }\n  .console-component-topbar .topbar-btn {\n    color: #fff;\n    font-size: 14px;\n    line-height: 50px; }\n    .console-component-topbar .topbar-btn:hover, .console-component-topbar .topbar-btn.topbar-btn-dark {\n      background: #2a2f32; }\n  .console-component-topbar .topbar-product.open .topbar-product-btn {\n    background: #fff;\n    color: #333; }\n  .console-component-topbar .topbar-product.open .icon-arrow-down {\n    vertical-align: text-top;\n    transform: rotate(180deg);\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -ms-transform: rotate(180deg);\n    -o-transform: rotate(180deg); }\n  .console-component-topbar .topbar-product-btn {\n    padding: 0 20px;\n    display: inline-block;\n    height: 50px;\n    cursor: pointer; }\n  .console-component-topbar .topbar-product-dropdown {\n    position: fixed;\n    right: 0;\n    left: 0;\n    border: none;\n    margin: 0;\n    z-index: -1 !important;\n    display: none; }\n    .console-component-topbar .topbar-product-dropdown ul {\n      margin: 0;\n      padding: 0;\n      list-style: none; }\n      .console-component-topbar .topbar-product-dropdown ul li > a {\n        color: #333;\n        display: inline-block;\n        width: 100%;\n        height: 100%; }\n  .console-component-topbar .topbar-product-container {\n    position: absolute;\n    min-height: 300px;\n    left: 0;\n    right: 0;\n    background-color: #fff;\n    -o-transition: all 0.15s, 0.15s;\n    -moz-transition: all 0.15s, 0.15s;\n    -webkit-transition: all 0.15s, 0.15s;\n    transition: all 0.15s, 0.15s;\n    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }\n  .console-component-topbar .topbar-product-container-simple .topbar-product-content {\n    margin-left: 181px; }\n  .console-component-topbar .topbar-product-container-simple .topbar-product-all-item ul.topbar-product-all-list li a {\n    width: 140px; }\n  .console-component-topbar .has-product-history {\n    margin-left: 180px; }\n  .console-component-topbar .topbar-product-nav {\n    height: 100%;\n    border-right: 1px solid #f1f1f1;\n    padding: 16px 0 16px 16px;\n    width: 180px;\n    background-color: #fff;\n    min-height: 300px; }\n    .console-component-topbar .topbar-product-nav ul.topbar-product-nav-list li {\n      height: 32px;\n      line-height: 32px;\n      padding-left: 16px;\n      width: 164px;\n      -o-transition: all 0.1s, 0s;\n      -moz-transition: all 0.1s 0s;\n      -webkit-transition: all 0.1s 0s;\n      transition: all 0.1s 0s; }\n      .console-component-topbar .topbar-product-nav ul.topbar-product-nav-list li.active {\n        color: #fff;\n        background: #00c1de; }\n      .console-component-topbar .topbar-product-nav ul.topbar-product-nav-list li > span {\n        cursor: default;\n        overflow: hidden;\n        white-space: nowrap;\n        display: inline-block;\n        width: 100%;\n        text-overflow: ellipsis; }\n  .console-component-topbar .topbar-product-content {\n    margin-left: 361px;\n    background: #fff;\n    position: relative;\n    z-index: 2;\n    min-height: 300px; }\n    .console-component-topbar .topbar-product-content > .topbar-product-category {\n      display: none; }\n    .console-component-topbar .topbar-product-content .topbar-product-nav {\n      margin-left: 0; }\n  .console-component-topbar .topbar-product-close {\n    position: absolute;\n    left: 50%;\n    bottom: -24px;\n    width: 140px;\n    height: 24px;\n    margin-left: -25px;\n    text-align: center;\n    line-height: 24px;\n    background: #fff;\n    cursor: pointer;\n    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    color: #666;\n    -o-transition: all 0.15s, 0.15s;\n    -moz-transition: all 0.15s, 0.15s;\n    -webkit-transition: all 0.15s, 0.15s;\n    transition: all 0.15s, 0.15s; }\n    .console-component-topbar .topbar-product-close:hover {\n      color: #333; }\n    .console-component-topbar .topbar-product-close .icon-double-arrow {\n      display: inline-block;\n      margin-top: 8px; }\n      .console-component-topbar .topbar-product-close .icon-double-arrow i {\n        display: block;\n        border: 1px solid #333;\n        width: 8px;\n        height: 8px;\n        border-bottom: none;\n        border-left: 0;\n        background-color: transparent;\n        transform: rotate(-45deg); }\n        .console-component-topbar .topbar-product-close .icon-double-arrow i:first-child {\n          margin-bottom: -3px; }\n  .console-component-topbar .topbar-product-all {\n    overflow: hidden; }\n  .console-component-topbar .topbar-product-title {\n    font-size: 14px;\n    margin: 8px 8px 16px 10px; }\n  .console-component-topbar .topbar-product-all-item {\n    margin-left: -4px; }\n    .console-component-topbar .topbar-product-all-item ul.topbar-product-all-list li {\n      height: 28px;\n      line-height: 28px; }\n      .console-component-topbar .topbar-product-all-item ul.topbar-product-all-list li a {\n        width: 136px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        background: #f7f8fa;\n        padding: 0 8px;\n        margin-right: 10px; }\n        .console-component-topbar .topbar-product-all-item ul.topbar-product-all-list li a:hover {\n          background: #00C1DE;\n          color: #fff; }\n    .console-component-topbar .topbar-product-all-item .topbar-product-all-char {\n      font-weight: 500;\n      margin-left: 10px; }\n  .console-component-topbar .topbar-product-history {\n    width: 180px;\n    height: 100%;\n    padding: 16px;\n    border-right: 1px solid #f1f1f1;\n    background-color: #F5F5F6;\n    position: absolute; }\n    .console-component-topbar .topbar-product-history .topbar-title {\n      font-size: 18px; }\n    .console-component-topbar .topbar-product-history ul.topbar-product-history-list {\n      margin: 0;\n      padding: 0;\n      list-style: none; }\n      .console-component-topbar .topbar-product-history ul.topbar-product-history-list li {\n        height: 32px;\n        line-height: 32px;\n        padding-left: 10px;\n        margin-bottom: 8px;\n        background: #fff;\n        -o-transition: all 0.15s, 0s;\n        -moz-transition: all 0.15s, 0s;\n        -webkit-transition: all 0.15s, 0s;\n        transition: all 0.15s, 0s; }\n        .console-component-topbar .topbar-product-history ul.topbar-product-history-list li:hover {\n          background: #00c1de; }\n          .console-component-topbar .topbar-product-history ul.topbar-product-history-list li:hover a {\n            color: #fff;\n            background: #00c1de; }\n        .console-component-topbar .topbar-product-history ul.topbar-product-history-list li a {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          color: #373D41;\n          background-color: #fff; }\n        .console-component-topbar .topbar-product-history ul.topbar-product-history-list li i {\n          font-size: 14px;\n          vertical-align: middle; }\n  .console-component-topbar .topbar-product-category {\n    padding: 16px;\n    overflow: hidden; }\n    .console-component-topbar .topbar-product-category .topbar-product-category-col {\n      width: 33%; }\n      .console-component-topbar .topbar-product-category .topbar-product-category-col li {\n        background-color: #F5F5F6;\n        margin-bottom: 4px;\n        margin-right: 8px; }\n    .console-component-topbar .topbar-product-category ul {\n      list-style: none;\n      margin: 0;\n      padding: 0; }\n    .console-component-topbar .topbar-product-category .product-item {\n      padding: 12px 16px;\n      -o-transition: all 0.1s, 0s;\n      -moz-transition: all 0.1s, 0s;\n      -webkit-transition: all 0.1s, 0s;\n      transition: all 0.1s, 0s; }\n      .console-component-topbar .topbar-product-category .product-item:hover {\n        background: #00c1de;\n        color: #fff; }\n        .console-component-topbar .topbar-product-category .product-item:hover .product-description {\n          color: #fff; }\n    .console-component-topbar .topbar-product-category .product-name {\n      padding-bottom: 2px;\n      font-size: 13px; }\n    .console-component-topbar .topbar-product-category .product-description {\n      color: #999;\n      line-height: 16px; }\n  .console-component-topbar .topbar-product-search {\n    padding: 0 !important;\n    position: relative; }\n    .console-component-topbar .topbar-product-search input {\n      display: block;\n      height: 32px;\n      padding: 4px 38px 4px 18px;\n      width: 180px;\n      border-width: 0;\n      outline: 0;\n      line-height: 32px;\n      color: #666;\n      font-size: 12px;\n      background: #f0f0f0; }\n    .console-component-topbar .topbar-product-search .search-mark {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 32px;\n      width: 32px;\n      display: block;\n      line-height: 34px;\n      text-align: center;\n      font-size: 14px;\n      color: #666; }\n  .console-component-topbar .topbar-regionbar {\n    display: inline-block;\n    margin-top: 10px;\n    margin-left: 2px; }\n    .console-component-topbar .topbar-regionbar .region-icon {\n      margin-right: 8px;\n      vertical-align: text-top;\n      font-size: 14px; }\n    .console-component-topbar .topbar-regionbar .region-dropdown-toggle {\n      background: #303639;\n      border-radius: 0;\n      color: #fff;\n      display: inline-block;\n      -webkit-user-select: none; }\n    .console-component-topbar .topbar-regionbar .region-dropdown .region-dropdown-menu {\n      width: 100%;\n      min-width: 120px;\n      border: none; }\n  .console-component-topbar .topbar-info {\n    background: #2a2f32;\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    right: 0; }\n    .console-component-topbar .topbar-info .topbar-btn {\n      padding: 0 18px;\n      height: 50px;\n      display: block;\n      z-index: 2;\n      background: #373d41;\n      border-right: 1px solid #2a2f32; }\n      .console-component-topbar .topbar-info .topbar-btn:hover, .console-component-topbar .topbar-info .topbar-btn.topbar-btn-dark {\n        background: #373d41; }\n      .console-component-topbar .topbar-info .topbar-btn.open {\n        position: relative; }\n    .console-component-topbar .topbar-info .topbar-btn-search {\n      padding: 0;\n      margin-left: 1px; }\n    .console-component-topbar .topbar-info .topbar-info-gap {\n      color: #fff; }\n    .console-component-topbar .topbar-info .dropdown .dropdown-menu {\n      width: 100%;\n      min-width: 0;\n      margin: 0;\n      border: none; }\n    .console-component-topbar .topbar-info .dropdown.open .topbar-btn {\n      color: #333;\n      background: #fff;\n      border-bottom: 1px solid #eaedf1;\n      position: relative; }\n    .console-component-topbar .topbar-info .topbar-info-btn a {\n      height: 40px;\n      line-height: 39px;\n      padding: 0 18px; }\n    .console-component-topbar .topbar-info .topbar-info-btn-gap {\n      margin: 10px 0;\n      height: 1px;\n      display: block;\n      width: 100%;\n      background: #eaeaea; }\n    .console-component-topbar .topbar-info .topbar-info-btn-identity {\n      height: auto;\n      margin: 0 20px; }\n      .console-component-topbar .topbar-info .topbar-info-btn-identity .user-identity {\n        padding-top: 6px;\n        border: none;\n        position: relative; }\n        .console-component-topbar .topbar-info .topbar-info-btn-identity .user-identity .user-identity-item {\n          height: 28px;\n          line-height: 28px;\n          display: block; }\n        .console-component-topbar .topbar-info .topbar-info-btn-identity .user-identity .user-identity-colon {\n          padding: 0 5px; }\n      .console-component-topbar .topbar-info .topbar-info-btn-identity .user-identity-sign {\n        padding: 2px 6px;\n        background: #29c3de;\n        color: #fff;\n        border-radius: 2px; }\n      .console-component-topbar .topbar-info .topbar-info-btn-identity .user-identity-sign-wrap {\n        display: inline-block;\n        line-height: 16px;\n        margin-left: 10px; }\n      .console-component-topbar .topbar-info .topbar-info-btn-identity .user-btn-link {\n        display: inline-block;\n        color: #06C;\n        line-height: 32px;\n        margin-right: 8px; }\n        .console-component-topbar .topbar-info .topbar-info-btn-identity .user-btn-link:hover {\n          background: none;\n          text-decoration: underline; }\n  .console-component-topbar .topbar-info-item {\n    display: inline-block; }\n  .console-component-topbar .topbar-notice {\n    position: relative;\n    font-size: 12px; }\n    .console-component-topbar .topbar-notice .topbar-btn {\n      padding: 0 16px; }\n    .console-component-topbar .topbar-notice .topbar-notice-panel {\n      position: absolute;\n      top: 50px;\n      left: -150px;\n      margin-left: 50%;\n      width: 300px;\n      word-break: break-all;\n      border-radius: 2px;\n      z-index: 15;\n      -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.175);\n      -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.175);\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.175); }\n      .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-arrow {\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-bottom: 6px solid #eaedf1;\n        position: absolute;\n        top: -6px;\n        left: 150px; }\n      .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-head {\n        height: 50px;\n        background-color: #eaedf1;\n        padding: 0 15px;\n        line-height: 50px;\n        color: #333;\n        font-size: 14px; }\n      .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body {\n        max-height: 300px;\n        background: #fff;\n        font-size: 12px; }\n        .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul {\n          list-style: none;\n          margin: 0;\n          padding: 0; }\n          .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li {\n            height: 60px;\n            line-height: 20px;\n            border-bottom: 1px solid #eaedf1; }\n            .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li a {\n              display: block;\n              height: 100%;\n              padding: 10px 10px;\n              background: #fff;\n              color: #333; }\n              .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li a .topbar-notice-link {\n                display: block;\n                max-width: 300px;\n                overflow: hidden;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                color: #00C1DE;\n                padding-right: 10px; }\n              .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li a .topbar-notice-time {\n                color: #4a4a4a; }\n              .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li a:hover {\n                background: #f9f9f9; }\n            .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li.topbar-notice-readed a {\n              color: #666; }\n              .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body ul li.topbar-notice-readed a .topbar-notice-time {\n                color: #999; }\n        .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-body .topbar-notice-empty {\n          text-align: center;\n          color: #666;\n          margin-top: 80px; }\n      .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-foot {\n        height: 50px;\n        line-height: 50px;\n        background: #fff;\n        text-align: center; }\n        .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-foot .topbar-notice-more {\n          color: #00C1DE; }\n      .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-class {\n        padding: 8px 0;\n        float: right;\n        display: none; }\n        .console-component-topbar .topbar-notice .topbar-notice-panel .topbar-notice-class .topbar-notice-class-name {\n          display: block;\n          height: 24px;\n          line-height: 24px;\n          width: 66px;\n          background: #eaedf1;\n          text-align: center;\n          border-radius: 3px; }\n  .console-component-topbar .topbar-btn-notice {\n    width: auto;\n    display: block;\n    height: 50px; }\n    .console-component-topbar .topbar-btn-notice .topbar-btn-notice-icon {\n      font-size: 24px;\n      line-height: 50px;\n      vertical-align: text-bottom; }\n    .console-component-topbar .topbar-btn-notice .topbar-btn-notice-num {\n      font-size: 12px;\n      color: #fff;\n      background: #ff9900;\n      border-radius: 5px;\n      padding: 2px 5px;\n      display: inline-block;\n      margin-top: 15px;\n      line-height: 16px;\n      vertical-align: top;\n      text-align: center; }\n    .console-component-topbar .topbar-btn-notice .topbar-product-item-short {\n      padding-left: 2px; }\n  .console-component-topbar .topbar-qrcode {\n    position: relative;\n    margin-left: 1px; }\n    .console-component-topbar .topbar-qrcode:hover .topbar-qrcode-panel {\n      display: block; }\n    .console-component-topbar .topbar-qrcode .topbar-qrcode-panel {\n      top: 50px;\n      left: 0;\n      position: absolute;\n      width: 130px;\n      padding: 12px 8px;\n      background: #fff;\n      border: 1px solid #eaedf1;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      display: none; }\n    .console-component-topbar .topbar-qrcode .topbar-qrcode-image {\n      width: 100px;\n      margin: 0 auto; }\n    .console-component-topbar .topbar-qrcode .topbar-qrcode-title {\n      text-align: center;\n      padding-top: 10px; }\n  .console-component-topbar .topbar-new-icon {\n    position: relative;\n    top: -4px;\n    padding-left: 2px; }\n  .console-component-topbar .topbar-nav-buoy-wrap {\n    position: relative; }\n    .console-component-topbar .topbar-nav-buoy-wrap ul {\n      position: relative;\n      z-index: 2; }\n    .console-component-topbar .topbar-nav-buoy-wrap .topbar-nav-buoy {\n      width: 100%;\n      height: 32px;\n      position: absolute;\n      z-index: 1;\n      background: #00c1de;\n      left: 0;\n      top: 0;\n      -o-transition: all 0.1s, 0.1s;\n      -moz-transition: all 0.1s, 0.1s;\n      -webkit-transition: all 0.1s, 0.1s;\n      transition: all 0.1s, 0.1s; }\n  .console-component-topbar .topbar-user .topbar-info-dropdown-memu .topbar-user-entrance-list {\n    overflow: hidden;\n    width: 270px;\n    margin: 8px 0;\n    padding: 8px 15px; }\n  .console-component-topbar .topbar-user .topbar-info-dropdown-memu .topbar-user-entrance {\n    width: 80px;\n    height: 80px;\n    float: left;\n    text-align: center;\n    color: #333;\n    -webkit-transition: background 0.15s;\n    transition: background 0.15s;\n    border-radius: 2px; }\n    .console-component-topbar .topbar-user .topbar-info-dropdown-memu .topbar-user-entrance:hover {\n      background: #f5f5f5; }\n  .console-component-topbar .topbar-user .topbar-info-dropdown-memu .topbar-user-entrance-logo {\n    font-size: 20px;\n    margin: 8px auto 4px;\n    width: 40px;\n    height: 40px;\n    display: block;\n    vertical-align: middle;\n    line-height: 40px;\n    color: #788D9B; }\n  .console-component-topbar .topbar-user .topbar-info-dropdown-memu .user-btn-list .user-btn-link {\n    height: 50px;\n    line-height: 50px;\n    display: block;\n    -webkit-transition: all 0.15s;\n    transition: all 0.15s;\n    text-align: center;\n    color: #333;\n    border-top: 1px solid #f5f5f5; }\n    .console-component-topbar .topbar-user .topbar-info-dropdown-memu .user-btn-list .user-btn-link:hover {\n      background: #f5f5f5; }\n  .console-component-topbar .topbar-search {\n    position: relative; }\n    .console-component-topbar .topbar-search .icon-search {\n      font-size: 16px;\n      padding-right: 4px;\n      position: relative;\n      top: 2px; }\n    .console-component-topbar .topbar-search .topbar-search-dropdown {\n      height: 38px;\n      position: absolute;\n      bottom: -38px;\n      right: -1px;\n      left: auto;\n      border: 2px solid #2a2f32;\n      background: #fff; }\n      .console-component-topbar .topbar-search .topbar-search-dropdown input {\n        display: block;\n        height: 34px;\n        padding: 4px 6px;\n        margin-right: 30px;\n        width: 250px;\n        border-width: 0;\n        outline: 0;\n        line-height: 34px;\n        color: #546478;\n        font-size: 12px; }\n      .console-component-topbar .topbar-search .topbar-search-dropdown .topbar-search-mark {\n        position: absolute;\n        right: 0;\n        top: 0;\n        height: 34px;\n        width: 34px;\n        display: block;\n        line-height: 34px;\n        text-align: center;\n        color: #546478; }\n  .console-component-topbar .topbar-search:hover .topbar-btn, .console-component-topbar .topbar-notice:hover .topbar-btn {\n    background: #2a2f32; }\n  .console-component-topbar .topbar-support-customhelp:hover .topbar-customhelp .topbar-help-inner {\n    right: 0; }\n  .console-component-topbar .topbar-customhelp {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0; }\n    .console-component-topbar .topbar-customhelp .topbar-help-inner {\n      width: 486px;\n      overflow: hidden;\n      background: #fff;\n      border-left: 1px solid #e1e6eb;\n      position: absolute;\n      right: -486px;\n      -webkit-box-shadow: 0 0px 10px rgba(0, 0, 0, 0.1);\n      -moz-box-shadow: 0 0px 10px rgba(0, 0, 0, 0.1);\n      box-shadow: 0 0px 10px rgba(0, 0, 0, 0.1);\n      -o-transition: all 0.2s ease, 0.2s ease;\n      -ms-transition: all 0.2s ease, 0.2s ease;\n      -moz-transition: all 0.2s ease, 0.2s ease;\n      -webkit-transition: all 0.2s ease, 0.2s ease;\n      z-index: 1;\n      top: 50px;\n      bottom: 0; }\n      .console-component-topbar .topbar-customhelp .topbar-help-inner:hover {\n        right: 0; }\n    .console-component-topbar .topbar-customhelp .topbar-help-head {\n      height: 68px;\n      padding-left: 20px;\n      line-height: 68px;\n      border-bottom: 1px solid #e1e6eb;\n      position: relative;\n      color: #333; }\n    .console-component-topbar .topbar-customhelp .topbar-help-body {\n      position: absolute;\n      top: 68px;\n      bottom: 0;\n      background: #fff; }\n    .console-component-topbar .topbar-customhelp .topbar-help-iframe {\n      height: 100%; }\n    .console-component-topbar .topbar-customhelp .topbar-help-close {\n      font-size: 18px;\n      float: right;\n      height: 68px;\n      width: 68px;\n      line-height: 68px !important;\n      text-align: center;\n      color: #546478;\n      cursor: pointer;\n      user-select: none;\n      -webkit-user-select: none;\n      -moz-user-select: none; }\n      .console-component-topbar .topbar-customhelp .topbar-help-close:hover {\n        color: #000; }\n  .console-component-topbar .messages-empty {\n    text-align: center;\n    padding: 15px 0; }\n    .console-component-topbar .messages-empty .topbar-notice-more {\n      color: #00C1DE; }\n\n.topbar-product-category-box {\n  padding: 24px 12px;\n  background-color: #fff; }\n  .topbar-product-category-box .topbar-product-search {\n    width: 600px;\n    position: relative;\n    margin: 0 auto; }\n    .topbar-product-category-box .topbar-product-search input {\n      width: 100%;\n      padding-left: 10px;\n      padding-right: 28px;\n      padding-bottom: 7px;\n      border: none;\n      font-size: 18px;\n      opacity: 0.3;\n      color: #666;\n      border-bottom: 2px solid #E3E6E9;\n      background-color: transparent; }\n      .topbar-product-category-box .topbar-product-search input:focus {\n        color: #373D41;\n        opacity: 1;\n        border-bottom: 2px solid #00C1DE;\n        outline: 0; }\n  .topbar-product-category-box .topbar-product-search-icon {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    color: #373D41;\n    font-size: 20px;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    padding-bottom: 7px; }\n  .topbar-product-category-box .topbar-product-hd {\n    position: relative;\n    margin-bottom: 20px; }\n  .topbar-product-category-box .topbar-product-category-type {\n    position: absolute;\n    right: 0;\n    top: 0; }\n  .topbar-product-category-box .waterfall-group {\n    float: left;\n    padding: 0 4px;\n    min-width: 120px; }\n  .topbar-product-category-box .column-6 .waterfall-group {\n    width: 16.6666%; }\n  .topbar-product-category-box .column-4 .waterfall-group {\n    width: 25%; }\n  .topbar-product-category-box .waterfall-group-wrapper dl {\n    margin: 0;\n    margin-bottom: 8px; }\n  .topbar-product-category-box .waterfall-group-wrapper dt {\n    line-height: 28px;\n    color: #999;\n    background-color: #f0f0f0;\n    padding: 0 8px;\n    font-weight: 400; }\n  .topbar-product-category-box .waterfall-group-wrapper dd {\n    margin: 0; }\n    .topbar-product-category-box .waterfall-group-wrapper dd a {\n      display: block;\n      padding: 0 8px;\n      line-height: 28px;\n      height: 28px;\n      background: #f5f5f6;\n      color: #373D41;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis; }\n      .topbar-product-category-box .waterfall-group-wrapper dd a:hover {\n        background: #00C1DE;\n        color: #fff; }\n  .topbar-product-category-box .topbar-filter-tiptxt {\n    font-size: 12px;\n    color: #999;\n    line-height: 28px;\n    margin-bottom: 8px;\n    display: inline-block; }\n    .topbar-product-category-box .topbar-filter-tiptxt strong {\n      color: #FF9600; }\n    .topbar-product-category-box .topbar-filter-tiptxt a {\n      color: #00C1DE; }\n',""])}]),define("common/components/topbar/topbar.bundle",function(){}),define("common/components/topbar/topbar.directive",["angular","../common/scripts/commonUtils","./topbar.bundle"],function(e,t){var n="200",r="//home.console.aliyun.com/nav/topbar.js",i="https://g.alicdn.com/aliyun/console/{staticVersion}/scripts/components/topbar/topbar.bundle.js";e.module("console.components.topbar",[]).directive("consoleTopbarV3",["$injector","$http","viewFrameworkSetting",function(e,s,o){return{restrict:"A",replace:!0,link:function(u,a,f){function v(e){g(l,e)}function m(e){function r(){g(null,e)}var n=t.getUrlWithVersion(i,c);t.loadScript(n,r,r)}function g(t,n){t=t||new ConsoleTopbar(e),t.render(u,a,f,n)}var l=new ConsoleTopbar(e),c=t.getCookiesNavigationVersion(),h=location.host,p=h.indexOf("localhost")>=0||h.indexOf("127.0.0.1")>=0;if(c)p||c==l.staticVersion?v():m();else{var d={method:"jsonp",url:r,params:{productId:o.config.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime(),version:"v3"}};s(d).then(function(e){var r=e.data;if(r&&r.code==n){var i=r.data;i.meta&&i.meta.staticVersion&&(c=i.meta.staticVersion,t.setCookiesNavigationVersion(c)),!p&&c&&c!=l.staticVersion?m(i):v(i)}else v()},function(){v()})}}}}])}),function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e)}return e.getCookie=function(t){if(!t)return;var n=document.cookie.split(";"),r;for(var i=0;i<n.length;i++){var s=n[i].split("=");s[0].trim()==t&&(r=unescape(s[1]))}return r},e.setCookie=function(t,n,r){if(!t)return;var i="";r&&(i=";domain="+r),document.cookie=t+"="+escape(n)+i+"; path=/"},e.deleteCookies=function(t,n){var r=new Date;r.setTime(r.getTime()-1e4),document.cookie=t+"=12; expires="+r.toGMTString()+";domain="+n+"; path=/"},e.transArrayToMapByKey=function(t,n){var r={};return n=n?n:"id",t&&t.forEach(function(e,t){e[n]&&(r[e[n]]=e)}),r},e.sliceArray=function(t,n){var r=[],i=t.length;if(i>0&&n)for(var s=0;s*n<i;s++)r.push(t.slice(n*s,n*(s+1)));return r},e.sliceArrayByColumn=function(t,n,r){var i=[],s={char_4_23:[7,9,5,2],char_4_24:[7,10,5,2],char_4_25:[7,10,6,2],char_4_26:[7,10,7,2],char_6_23:[6,7,4,4,1,1],char_6_24:[6,7,5,4,1,1],char_6_25:[6,7,5,5,1,1],char_6_26:[6,7,5,6,1,1],category_4_15:[4,4,4,3],category_6_15:[2,3,3,3,1,3]},o=r+"_"+n+"_"+t.length,u=s[o];return i},e.existKeyInMap=function(t,n){var r=[];return t.forEach(function(e,t){n[e]&&r.push(e)}),r},e.setCookiesNavigationVersion=function(t){this.setCookie("consoleNavVersion",t,".console.aliyun.com")},e.getCookiesNavigationVersion=function(){return this.getCookie("consoleNavVersion")},e.loadScript=function(t){if(!$)return;$.isArray(t)||(t=[t]),t.forEach(function(e){$.ajax(e)})},e.getColumnCountByScreen=function(){var t=window.innerWidth;return t<=1e3?4:6},e.getGroupPosInfo=function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:28,i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:4,s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:!1,a=window.innerWidth-(i-1)*s-24-15,f=function(t){return t.filter(function(e){return e.level&&e.level==="L1"}).length>0};u&&(a-=180);var l=a/i,c=t%i,h=parseInt(t/i,10),p=c*s+l*c,d=0,v=0;for(var m=0;m<h;m++)v=m*i+c,d+=n[v].length*r,f(n[v])&&(d+=8);return d+=h*o,{left:p,top:d,width:l}},e.loadExtraScripts=function(t){var n="",r="body";$.ajaxSetup({cache:!0}),t=this.combineExtraScripts(t),$.each(t,function(e,t){var n=t.appendTo||"body";t.type==="css"?$(n).append('<link type="text/css" rel="stylesheet" href="'+t.url+'" />'):$(n).append('<script src="'+t.url+'"></script>')}),$.ajaxSetup({cache:!1})},e.combineExtraScripts=function(t){var n=[],r=[],i=[],s=[],o=[];return t.forEach(function(e){e.combine===!0?e.appendTo==="head"?e.type==="css"?n.push(e):i.push(e):e.type==="css"?r.push(e):s.push(e):o.push(e)}),n=this.combineExtraFile(n),r=this.combineExtraFile(r),i=this.combineExtraFile(i),s=this.combineExtraFile(s),[].concat(o,n,r,i,s)},e.combineExtraFile=function(t){var n=[],r="g.alicdn.com",i=/((http(s)?:)?\/\/)g.alicdn.com/gi;return t.forEach(function(e){n.push(e.url.replace(i,""))}),n.length>0?(t[0].url="//"+r+"??"+n.join(","),t[0]):t},e}();e.exports=i},function(e,t,n){function u(e){if(e===null||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5")return!1;var t={};for(var n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),Object.keys(r({},s)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(o){return!1}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(e,t){var n,r=u(e),a;for(var f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var l in n)s.call(n,l)&&(r[l]=n[l]);if(i){a=i(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(r[a[c]]=n[a[c]])}}return r}},function(e,t,n){e.exports={RESPONSE_CODE_SUCCESS:"200",SIDEBAR_REQUEST_URL:"https://home.console.aliyun.com/nav/sidebar.js",COOKIES_DOMAIN:".console.aliyun.com",SIDEBAR_FOLD_COOKIENAME:"sidebar-type",SIDEBAR_FOLD_COOKIEDOMAIN:".aliyun.com",DEFAUL_DATA:{config:{basic:{dialogTitle:"自定义快捷入口",folded:!1,popover:"自定义",show:!0,showManageButton:!0,title:"云计算基础服务"},dialog:{allList:"全部产品",selectedList:"已选中左侧导航"},dtplus:{show:!0},netcn:{show:!0},requestUrl:{setUserPreference:"//home.console.aliyun.com/center/setUserPreference.js"},yundun:{show:!0}},categories:[{categories:[{name:"弹性计算",products:["ecs","vpc","slb","ess","cs","ros","hpc","batchcompute"]},{name:"数据库",products:["rds","dds","kvstore","ocs","petadata","gpdb","oce","ads","dts","dms"]},{name:"存储与CDN",products:["oss","nas","ots","oas","cdn"]},{name:"网络",products:["slb","vpc","ip","ri","cdn"]},{name:"分析",products:["emr","gpdb","hpc","odps","ads","cdp","opensearch"]},{name:"云通信",products:["sms","cps","mns","dm"]},{name:"监控与管理",products:["cms","ram","ros","actiontrail","kms"]},{name:"应用服务",products:["sls","opensearch","pts","dm","apigateway","market","iot","mns","sms"]},{name:"互联网中间件",products:["edas","ons","drds","csb","arms"]},{name:"移动服务",products:["man","cps","httpdns","mobsec"]},{name:"视频服务",products:["mts","vod","live"]}],id:"basic",name:"云计算基础服务"},{id:"dtplus",name:"大数据（数加）",overview:{icon:"icon-circle",link:"https://data.aliyun.com/console",name:"数加控制台概览"},products:["dtplus","dide","quickbi","pai","receng","prophet","datav","ads","odps","nls","stream","portrait"]},{id:"yundun",name:"安全（云盾）",overview:{icon:"icon-circle",link:"https://yundun.console.aliyun.com/?p=all#/all",name:"云盾控制台概览"},products:["sas","aqs","ddos","waf","xz","mss","hsm","cts","afs","cas","mobsec","sppc"]},{id:"netcn",name:"域名与网站（万网）",products:["domain","dns","host","mail","website","ews"]}],products:{ecs:{description:"可弹性伸缩、安全稳定、简单易用的计算服务",firstChar:"y",helpCategoryId:"8314827",icon:"icon-ecs",link:"https://ecs.console.aliyun.com",name:"云服务器 ECS",openStatus:!0,productId:"ecs"},rds:{description:"完全兼容 MySQL，SQLServer，PostgreSQL 协议的关系型数据库服务",firstChar:"y",helpCategoryId:"8314883",icon:"icon-rds",link:"https://rdsnew.console.aliyun.com",name:"云数据库 RDS 版",openStatus:!0,productId:"rds"},slb:{description:"对多台云服务器进行流量分发的负载均衡服务",firstChar:"f",helpCategoryId:"8314871",icon:"icon-slb",link:"https://slbnew.console.aliyun.com",name:"负载均衡",openStatus:!0,productId:"slb"},oss:{description:"海量、安全和高可靠的云存储服务",firstChar:"d",helpCategoryId:"8314910",icon:"icon-oss",link:"https://oss.console.aliyun.com/index",name:"对象存储 OSS",openStatus:!0,productId:"oss"},cdn:{description:"跨运营商、跨地域全网覆盖的网络加速服务",firstChar:"c",helpCategoryId:"8314936",icon:"icon-cdn",link:"https://cdn.console.aliyun.com",name:"CDN",openStatus:!0,productId:"cdn"},ots:{description:"NoSQL 数据存储服务，提供海量结构化数据的存储和实时访问",firstChar:"b",helpCategoryId:"8315004",icon:"icon-ots",link:"https://ots.console.aliyun.com",name:"表格存储",openStatus:!0,productId:"ots"},ocs:{description:"在线缓存服务，为热点数据的访问提供高速响应",firstChar:"y",helpCategoryId:"8314987",icon:"icon-ocs",link:"https://ocsnew.console.aliyun.com",name:"云数据库 Memcache 版",openStatus:!0,productId:"ocs"},odps:{description:"针对TB/PB级数据的分布式处理服务",firstChar:"d",helpCategoryId:"8314999",icon:"icon-odps",link:"https://odps.console.aliyun.com",name:"大数据计算服务",openStatus:!0,productId:"odps"},yundun:{helpCategoryId:"8314941",icon:"icon-yundun",link:"https://yundun.console.aliyun.com",name:"云盾",openStatus:!0,productId:"yundun"},sas:{description:"通过机器学习和数据建模分析，发现潜在入侵和高隐蔽性攻击威胁",firstChar:"s",icon:"icon-sas icon-logo1",link:"https://yundun.console.aliyun.com/?p=sas",name:"态势感知",openStatus:!0,productId:"sas"},aqs:{description:"集服务器安全检测、加固、防御于一体，保障服务器安全",firstChar:"f",icon:"icon-aegis icon-logo1",link:"https://yundun.console.aliyun.com/?p=aqs",name:"服务器安全（安骑士）",openStatus:!0,productId:"aqs"},ddos:{description:"防御大流量DDoS、CC攻击，按天付费，单线路超过300G防御能力",firstChar:"d",icon:"icon-ddos icon-logo1",link:"https://yundun.console.aliyun.com/?p=ddos",name:"DDoS防护",openStatus:!0,productId:"ddos"},waf:{description:"网站安全必备防护产品，防SQL注入、防篡改、防CC、防刷、防爬",firstChar:"w",icon:"icon-waf icon-logo1",link:"https://yundun.console.aliyun.com/?p=waf",name:"Web应用防火墙",openStatus:!0,productId:"waf"},xz:{description:"全球顶尖安全专家参与测试，按效果付费的私密安全众测",firstChar:"x",icon:"icon-xianzhi icon-logo1",link:"https://yundun.console.aliyun.com/?p=xz",name:"先知（安全情报）",openStatus:!0,productId:"xz"},mss:{description:"为云上用户建立并持续优化云安全防御体系，保障用户信息安全",firstChar:"a",icon:"icon-mss icon-logo1",link:"https://yundun.console.aliyun.com/?p=mss",name:"安全管家",openStatus:!0,productId:"mss"},hsm:{description:"帮助您在云上敏感数据存储按“国密”要求加密",firstChar:"j",icon:"icon-hsm icon-logo1",link:"https://yundun.console.aliyun.com/?p=hsm",name:"加密服务",openStatus:!0,productId:"hsm"},cts:{description:"智能内容识别服务，快速识别违规风险，如色情、暴恐、垃圾广告等",firstChar:"l",icon:"icon-lvwang icon-logo1",link:"https://yundun.console.aliyun.com/?p=cts",name:"绿网",openStatus:!0,productId:"cts"},afs:{description:"专业对抗垃圾注册、恶意登陆、活动作弊、论坛灌水等数据风控",firstChar:"s",icon:"icon-antifraud icon-logo1",link:"https://yundun.console.aliyun.com/?p=afs",name:"数据风控",openStatus:!0,productId:"afs"},cas:{description:"云上签发Symantec、WoSign、CFCA SSL数字证书，实现HTTPS化",firstChar:"z",icon:"icon-yundunzhengshu icon-logo1",link:"https://yundun.console.aliyun.com/?p=cas",name:"证书服务",openStatus:!0,productId:"cas"},mobsec:{description:"为移动APP提供漏洞扫描、恶意代码检测、应用加固等服务",firstChar:"y",icon:"icon-mobsec icon-logo1",link:"https://yundun.console.aliyun.com/?p=jaq",name:"移动安全",openStatus:!0,productId:"mobsec"},sppc:{description:"阿里云安全合作伙伴SAAS产品统一管理平台",firstChar:"h",icon:"icon-sppc icon-logo1",link:"https://yundun.console.aliyun.com/?p=sppc",name:"合作伙伴产品中心",openStatus:!0,productId:"sppc"},cms:{description:"指标监控与报警服务",firstChar:"y",helpCategoryId:"8314972",icon:"icon-yunjiankong",link:"https://cms.console.aliyun.com",name:"云监控",openStatus:!0,productId:"cms"},sls:{description:"针对日志收集、存储、查询和分析的服务",firstChar:"r",helpCategoryId:"8314976",icon:"icon-sls",link:"https://sls.console.aliyun.com",name:"日志服务",openStatus:!0,productId:"sls"},oas:{description:"海量数据的长期归档、备份服务",firstChar:"g",helpCategoryId:"8314980",icon:"icon-oas",link:"https://oas.console.aliyun.com/console/index",name:"归档存储",openStatus:!0,productId:"oas"},ess:{description:"自动调整弹性计算资源的管理服务",firstChar:"t",helpCategoryId:"8315077",icon:"icon-ess",link:"https://essnew.console.aliyun.com",name:"弹性伸缩",openStatus:!0,productId:"ess"},mns:{description:"可靠、海量、高并发的分布式消息通知服务",firstChar:"x",helpCategoryId:"8315016",icon:"icon-mqs",link:"https://mns.console.aliyun.com",name:"消息服务",openStatus:!0,productId:"mns"},dpc:{firstChar:"c",helpCategoryId:"",icon:"icon-dpc",link:"https://dpc.console.aliyun.com",name:"采云间",openStatus:!0,productId:"dpc",shortName:"DPC"},vpc:{description:"帮您轻松构建逻辑隔离的专有网络",firstChar:"z",helpCategoryId:"",icon:"icon-vpc",link:"https://vpc.console.aliyun.com",name:"专有网络 VPC",openStatus:!0,productId:"vpc"},opensearch:{description:"结构化数据搜索托管服务",firstChar:"k",helpCategoryId:"",icon:"icon-opensearch",link:"https://opensearch.console.aliyun.com",name:"开放搜索",openStatus:!0,productId:"opensearch"},ons:{description:"阿里中间件自主研发的企业级消息中间件",firstChar:"x",helpCategoryId:"",icon:"icon-ons",link:"https://ons.console.aliyun.com",name:"消息队列",openStatus:!0,productId:"ons"},pts:{description:"性能云测试平台，帮您轻松完成系统性能评估",firstChar:"x",helpCategoryId:"",icon:"icon-pts",link:"https://pts.aliyun.com/aliyun",name:"性能测试服务",openStatus:!0,productId:"pts",shortName:"PTS"},ram:{description:"管理多因素认证、子账号与授权、角色与 STS 令牌",firstChar:"f",helpCategoryId:"",icon:"icon-ram",link:"https://ram.console.aliyun.com",name:"访问控制",openStatus:!0,productId:"ram"},ads:{description:"海量数据实时高并发在线分析服务",firstChar:"f",helpCategoryId:"8315081",icon:"icon-ads",link:"https://ads.console.aliyun.com",name:"分析型数据库",openStatus:!0,productId:"ads"},mts:{description:"为多媒体数据提供的转码计算服务",firstChar:"m",helpCategoryId:"",icon:"icon-mts",link:"https://mts.console.aliyun.com",name:"媒体转码",openStatus:!0,productId:"mts"},drds:{description:"水平拆分/读写分离的在线分布式数据库服务",firstChar:"f",helpCategoryId:"8315099",icon:"icon-drds",link:"https://drds.console.aliyun.com",name:"分布式关系型数据库 DRDS",openStatus:!0,productId:"drds"},kvstore:{description:"兼容开源 Redis 协议的 Key-Value 类型在线存储服务",firstChar:"y",helpCategoryId:"8315109",icon:"icon-redisa",link:"https://kvstore.console.aliyun.com",name:"云数据库 Redis 版",openStatus:!0,productId:"kvstore"},edas:{description:"以应用为中心的中间件 PaaS 平台",firstChar:"q",helpCategoryId:"",icon:"icon-edas",link:"https://edas.console.aliyun.com",name:"企业级分布式应用服务 EDAS",openStatus:!0,productId:"edas"},batchcompute:{description:"适用于大规模并行批处理作业的分布式云服务",firstChar:"p",icon:"icon-batchcompute",link:"https://batchcompute.console.aliyun.com",name:"批量计算",openStatus:!0,productId:"batchcompute"},ip:{description:"为单台ECS提供公网IP和带宽，支持在ECS间绑定和解绑",firstChar:"t",helpCategoryId:"8315016",icon:"icon-logo1 icon-eip",link:"https://ip.console.aliyun.com",name:"弹性公网 IP",openStatus:!0,productId:"ip"},dts:{description:"比GoldenGate更易用，阿里异地多活数据流基础设施",firstChar:"s",icon:"icon-dts",link:"https://dts.console.aliyun.com",name:"数据传输",openStatus:!0,productId:"dts"},domain:{firstChar:"y",helpCategoryId:"9002814",icon:"icon-yuming",link:"https://netcn.console.aliyun.com/core/domain/list",name:"域名",openStatus:!0,productId:"domain"},dns:{firstChar:"y",helpCategoryId:"9002814",icon:"icon-yunjiexi",link:"https://netcn.console.aliyun.com/core/domain/tclist",name:"云解析 DNS",openStatus:!0,productId:"dns"},host:{firstChar:"y",helpCategoryId:"9002853",icon:"icon-yunxunizhuji",link:"https://netcn.console.aliyun.com/core/host/list2",name:"云虚拟主机",openStatus:!0,productId:"host"},mail:{firstChar:"q",helpCategoryId:"",icon:"icon-qiyeyouxiang",link:"https://netcn.console.aliyun.com/core/mail/list",name:"企业邮箱",openStatus:!0,productId:"mail"},website:{firstChar:"b",helpCategoryId:"",icon:"icon-wo-sitebuild",link:"https://netcn.console.aliyun.com/core/website/list",name:"标准建站",openStatus:!0,productId:"website"},market:{firstChar:"y",icon:"icon-toolsimage",link:"https://market.console.aliyun.com",name:"云市场",openStatus:!0,productId:"market"},man:{description:"移动应用数据采集、分析、展示和数据输出服务",firstChar:"y",icon:"icon-mas",link:"https://man.console.aliyun.com/aliyun/masAppList.htm?login=true",name:"移动数据分析",openStatus:!0,productId:"man"},emr:{description:"基于 Hadoop/Spark 的大数据处理分析服务",firstChar:"e",icon:"icon-logo2 icon-emr",link:"https://emr.console.aliyun.com",name:"E-MapReduce",openStatus:!0,productId:"emr"},dm:{description:"事务批量邮件推送，验证码通知短信服务",firstChar:"y",icon:"icon-directmail icon-logo1",link:"https://dm.console.aliyun.com",name:"邮件推送",openStatus:!0,productId:"dm"},ews:{firstChar:"t",icon:"icon-logo1 icon-logo-new",link:"https://ews.console.aliyun.com",name:"弹性 Web 托管",openStatus:!0,productId:"ews"},dms:{description:"比 phpMyAdmin 更强大，比 Navicat 更易用",firstChar:"s",icon:"icon-logo2  icon-dms",link:"https://dms.console.aliyun.com",name:"数据管理",openStatus:!0,productId:"dms"},cps:{description:"移动应用通知与消息推送服务",firstChar:"y",icon:"icon-cps",link:"https://push.console.aliyun.com",name:"移动推送",openStatus:!0,productId:"cps"},dds:{description:"三节点副本集保证高可用",firstChar:"y",icon:"icon-logo2 icon-mongodb",link:"https://mongodb.console.aliyun.com",name:"云数据库 MongoDB 版",openStatus:!0,productId:"dds"},ros:{description:"批量创建、管理、配置云计算资源",firstChar:"z",icon:"icon-ros icon-logo1",link:"https://ros.console.aliyun.com",name:"资源编排",openStatus:!0,productId:"ros"},cs:{description:"应用全生命周期管理的 Docker 服务",firstChar:"r",icon:"icon-cs icon-logo1",link:"https://cs.console.aliyun.com",name:"容器服务",openStatus:!0,productId:"cs"},hpc:{description:"加速深度学习、渲染和科学计算的 GPU 物理机",firstChar:"g",icon:"icon-hpc icon-logo1",link:"https://hpc.console.aliyun.com",name:"高性能计算",openStatus:!0,productId:"hpc"},cdp:{description:"稳定高效、弹性伸缩的数据同步平台",firstChar:"s",icon:"icon-cdp",link:"https://cdp.console.aliyun.com",name:"数据集成",openStatus:!0,productId:"cdp"},actiontrail:{description:"详细记录控制台和 API 操作",firstChar:"c",icon:"icon-actiontrail icon-logo1",link:"https://actiontrail.console.aliyun.com",name:"操作审计",openStatus:!0,productId:"actiontrail"},ri:{description:"高速稳定的 VPC 互联和专线接入服务",firstChar:"g",icon:"icon-expressconnect icon-logo1",link:"https://vpc.console.aliyun.com/expressConnect",name:"高速通道",openStatus:!0,productId:"ri"},apigateway:{description:"高性能、高可用的 API 托管服务，低成本开放 API",firstChar:"a",icon:"icon-apigateway icon-logo1",link:"https://apigateway.console.aliyun.com",name:"API网关",openStatus:!0,productId:"apigateway"},nas:{description:"无限扩展、多共享、标准文件协议的文件存储服务",firstChar:"w",icon:"icon-logo1 icon-nas",link:"https://nas.console.aliyun.com",name:"文件存储",openStatus:!0,productId:"nas"},kms:{description:"安全、易用、低成本的密钥管理服务",firstChar:"m",icon:"icon-logo1 icon-kms",link:"https://kms.console.aliyun.com",name:"密钥管理服务",openStatus:!0,productId:"kms"},vod:{description:"安全、弹性、高可定制的点播服务",firstChar:"s",icon:"icon-logo1 icon-vod",link:"https://vod.console.aliyun.com",name:"视频点播",openStatus:!0,productId:"vod"},live:{description:"低延迟、高并发的音视频直播服务",firstChar:"s",icon:"icon-logo1 icon-livevideo",link:"https://live.console.aliyun.com",name:"视频直播",openStatus:!0,productId:"live"},gpdb:{description:"兼容开源Greenplum协议的MPP分布式OLAP",firstChar:"y",icon:"icon-gpdb icon-logo1",link:"https://gpdb.console.aliyun.com",name:"云数据库 HybridDB 版",openStatus:!0,productId:"gpdb"},csb:{description:"企业级互联网能力开放平台",firstChar:"y",icon:"icon-csb icon-logo1",link:"https://csb.console.aliyun.com",name:"云服务总线",openStatus:!0,productId:"csb"},arms:{description:"端到端一体化实时监控解决方案产品",firstChar:"y",icon:"icon-logo1 icon-logo-new",link:"https://arms.console.aliyun.com",name:"业务实时监控服务",openStatus:!0,productId:"arms"},petadata:{description:"支持 PB 级海量数据存储的分布式关系型数据库",firstChar:"p",icon:"icon-petadata",link:"https://petadata.console.aliyun.com",name:"PB 级云数据库 PetaData",openStatus:!0,productId:"petadata"},iot:{description:"助您快速搭建稳定可靠的物联网应用",firstChar:"w",icon:"icon-iot2",link:"https://iot.console.aliyun.com",name:"物联网套件",openStatus:!0,productId:"iot"},oce:{description:"金融级高可靠、高性能、分布式自研数据库",firstChar:"y",icon:"icon-logo1 icon-logo-new",link:"https://oceanbase.console.aliyun.com",name:"云数据库 OceanBase",openStatus:!0,productId:"oce"},sms:{description:"验证码和短信通知服务，三网合一快速到达",firstChar:"d",icon:"icon-logo1 icon-logo-new",link:"https://sms.console.aliyun.com",name:"短信服务",openStatus:!0,productId:"sms"},httpdns:{description:"移动应用域名防劫持和精确调度服务",firstChar:"h",icon:"icon-logo1 icon-logo-new",link:"https://netcn.console.aliyun.com/core/domain/httpdns",name:"HTTPDNS",openStatus:!0,productId:"httpdns"},dide:{description:"可视化开发界面、离线任务调度运维",firstChar:"d",icon:"icon-dide icon-logo-new",link:"https://workbench.shuju.aliyun.com/console",name:"大数据开发套件",openStatus:!0,productId:"dide"},quickbi:{description:"极致简单、零SQL报表多维分析",firstChar:"q",icon:"icon-quickbi icon-logo-new",link:"https://das.base.shuju.aliyun.com",name:"Quick BI",openStatus:!0,productId:"quickbi"},pai:{description:"集合了阿里集团大量优质算法",firstChar:"j",icon:"icon-pai icon-logo-new",link:"https://data.aliyun.com/console/learn",name:"机器学习",openStatus:!0,productId:"pai"},receng:{description:"实时在线推荐，首月仅需1元！",firstChar:"t",icon:"icon-yun-dplus-re",link:"https://dtboost.aliyun.com/re",name:"推荐引擎",openStatus:!0,productId:"receng"},prophet:{description:"公众情感分析、舆情感知",firstChar:"g",icon:"icon-prophet icon-logo-new",link:"https://prophet.data.aliyun.com",name:"公众趋势分析",openStatus:!0,productId:"prophet"},datav:{description:"创造属于您的双11指挥大屏！￥0.99 元使用3个月",firstChar:"d",icon:"icon-yun-dplus-datav",link:"https://datav.aliyun.com",name:"DataV数据可视化",openStatus:!0,productId:"datav"},nls:{description:"给你“能听、会说、懂你”的智能人机交互体验",firstChar:"z",icon:"icon-nls icon-logo-new",link:"https://data.aliyun.com/console",name:"智能语音交互",openStatus:!0,productId:"nls"},stream:{icon:"icon-logo-new",link:"https://stream.console.aliyun.com",name:"流计算",openStatus:!0,productId:"stream"},portrait:{icon:"icon-logo-new",link:"https://dtboost.shuju.aliyun.com",name:"画像分析",openStatus:!0,productId:"portrait"}},preference:{basic:["ecs","vpc","kvstore"],dtplus:["dide","quickbi","pai","ads","odps"]}}}},,,function(e,t){e.exports='<div class="console-component-sidebar-dialog">\n  <div class="selected-part">\n    <div class="selected-title" ng-bind="config.dialog.selectedList">\n    </div>\n    <ul class="selected-list">\n      <li class="selected-item" ng-repeat="productId in selectedItems">\n        <span class="drag-btn"></span>\n        <span class="ellipsis">{{products[productId].name}}</span>\n        <span class="selected-item-close icon-no" ng-click="removeProduct(productId)"></span>\n      </li>\n    </ul>\n    <div class="selected-item-confirm" ng-click="confirm()">\n      <span class="icon-yes"></span>\n    </div>\n  </div>\n  <div class="all-part">\n    <div class="all-category">\n      <div class="all-category-title" ng-bind="config.dialog.allList"></div>\n      <div class="all-category-list">\n        <div class="all-category-item"\n             ng-class="{\'active\':navActiveIndex == $index}"\n             ng-repeat="category in categories"\n             ng-mouseenter="categoryNavHoverHandler($event, $index, true)"\n             ng-mouseleave="categoryNavHoverHandler($event, $index, false)"\n             ng-hide="category.hide"\n        >\n\n          {{category.name}}\n          <div class="category-product" ng-show="navActiveIndex == $index">\n            <div class="category-product-col" ng-repeat="col in category.productsColumn">\n              <div class="category-product-item"\n                   ng-repeat="productId in col"\n                   ng-class="{\'selected\':selectedItems.indexOf(productId) != -1}"\n                   ng-click="toggleProduct(productId)">\n                <span>{{products[productId].name}}</span>\n                <span class="category-product-item-mark mark-add icon-add"></span>\n                <span class="category-product-item-mark mark-yes icon-yes"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="close-btn icon-no" ng-click="close()"></div>\n</div>\n'},function(e,t){e.exports='<div>\n  <div class="sidebar-inner" ng-if="!loadingState">\n    <div class="sidebar-fold" ng-class="{\'icon-unfold\': !isSidebarFold,\'icon-fold\':isSidebarFold}" ng-click="toggleSidebarStatus()" aliyun-console-spm="100"></div>\n    <div class="sidebar-nav"\n         ng-class="{\'sidebar-nav-active\':$index == categoryUnfoldIndex}"\n         ng-repeat="category in data.categories"\n         ng-class="{\'sidebar-nav-fold\':data.config[category.id].folded}"\n         ng-show="data.config[category.id].show"\n         ng-if="category.products.length > 0 || category.overview || !!data.preference[category.id]"\n    >\n      <div class="sidebar-title sidebar-trans" ng-click="titleClickHandler($event,$index)" sidebar-tooltip="{{isSidebarFold ?category.name:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true">\n        <div class="sidebar-title-inner">\n          <span class="sidebar-title-icon icon-arrow-right"></span>\n          <span class="sidebar-title-text" ng-bind="category.name" aliyun-console-spm="101{{$index}}"></span>\n          <span class="sidebar-manage" ng-show="data.config[category.id].showManageButton" aliyun-console-spm="102{{$index}}">\n            <a class="icon-setup" ng-click="manageClickHandler($event)"></a>\n          </span>\n        </div>\n      </div>\n      <ul class="sidebar-trans" ng-style="{\'max-height\':$index == categoryUnfoldIndex? categoryHeight: 0}">\n        <li class="nav-item" ng-if="category.overview" ng-class="{\'active\':currentProductId == category.id}">\n          <a href="{{category.overview.link}}" class="sidebar-trans" aliyun-console-spm="overview{{category.id}}" sidebar-tooltip="{{isSidebarFold ?category.overview.name:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true">\n            <div class="nav-icon sidebar-trans" style=" font-size: 12px;">\n              <span class="{{category.overview.icon}}"></span>\n            </div>\n            <span class="nav-title">{{category.overview.name}}</span>\n          </a>\n        </li>\n        <li ng-repeat="item in category.products track by $index" class="nav-item" ng-class="{\'active\':currentProductId == item}" ng-if="data.products[item]">\n          <a href="{{data.products[item].link}}" class="sidebar-trans" aliyun-console-spm="10{{item}}" sidebar-tooltip="{{isSidebarFold?data.products[item].name:\'\'}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-animation="true">\n            <div class="nav-icon sidebar-trans">\n              <span class="{{data.products[item].icon}}"></span>\n            </div>\n            <span class="nav-title">{{data.products[item].name}}&nbsp;{{data.products[item].shortName}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="sidebar-loading" ng-if="loadingState">\n  </div>\n</div>\n'},function(e,t,n){e.exports=function(){var e=[];return e.toString=function t(){var e=[];for(var t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){typeof t=="string"&&(t=[[null,t,""]]);var r={};for(var i=0;i<this.length;i++){var s=this[i][0];typeof s=="number"&&(r[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];if(typeof o[0]!="number"||!r[o[0]])n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o)}},e}},function(e,t){function f(e,t){for(var r=0;r<e.length;r++){var i=e[r],s=n[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(v(i.parts[o],t))}else{var u=[];for(var o=0;o<i.parts.length;o++)u.push(v(i.parts[o],t));n[i.id]={id:i.id,refs:1,parts:u}}}}function l(e){var t=[],n={};for(var r=0;r<e.length;r++){var i=e[r],s=i[0],o=i[1],u=i[2],a=i[3],f={css:o,media:u,sourceMap:a};n[s]?n[s].parts.push(f):t.push(n[s]={id:s,parts:[f]})}return t}function c(e,t){var n=s(),r=a[a.length-1];if(e.insertAt==="top")r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if(e.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){e.parentNode.removeChild(e);var t=a.indexOf(e);t>=0&&a.splice(t,1)}function p(e){var t=document.createElement("style");return t.type="text/css",c(e,t),t}function d(e){var t=document.createElement("link");return t.rel="stylesheet",c(e,t),t}function v(e,t){var n,r,i;if(t.singleton){var s=u++;n=o||(o=p(t)),r=g.bind(null,n,s,!1),i=g.bind(null,n,s,!0)}else e.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(n=d(t),r=b.bind(null,n),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=y.bind(null,n),i=function(){h(n)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}function g(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function y(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function b(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var n={},r=function(e){var t;return function(){return typeof t=="undefined"&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),s=r(function(){return document.head||document.getElementsByTagName("head")[0]}),o=null,u=0,a=[];e.exports=function(e,t){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},typeof t.singleton=="undefined"&&(t.singleton=i()),typeof t.insertAt=="undefined"&&(t.insertAt="bottom");var r=l(e);return f(r,t),function(i){var s=[];for(var o=0;o<r.length;o++){var u=r[o],a=n[u.id];a.refs--,s.push(a)}if(i){var c=l(i);f(c,t)}for(var o=0;o<s.length;o++){var a=s[o];if(a.refs===0){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete n[a.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},,,,,,function(e,t,n){var r=n(20);typeof r=="string"&&(r=[[e.i,r,""]]);var i=n(8)(r,{});r.locals&&(e.exports=r.locals)},,function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){var n=0;return e&&t&&e.forEach(function(e,r){if(e&&e.products){if(e.id&&e.id==t){n=r;return}if(e.products.indexOf(t)!=-1){n=r;return}}}),n}function p(e){var t=e.products.length;return e.overview?t+1:t}n(14);var r=n(2),i=f(r),s=n(0),o=f(s),u=n(1),a=f(u),c=function(){function e(t){var n=this;l(this,e),this.$injector=t,this.data={},this.loading=!0,this.staticVersion="1.4.48",t.invoke(["$http","$timeout","$compile","$templateCache","aliyunDialog","viewFrameworkSetting",function(e,t,r,i,s,o){n.$http=e,n.$timeout=t,n.$templateCache=i,n.$compile=r,n.aliyunDialog=s,n.viewFrameworkSetting=o,n.productId=o.config.productId}]),this.sidebarType=o.default.getCookie(i.default.SIDEBAR_FOLD_COOKIENAME)||"mini",this.viewFrameworkSetting.setSidebar(this.sidebarType)}return e.prototype.render=function(t,r,i,s){this.$templateCache.put("./sidebar-dialog.html",n(5)),s?this.dataHandler(s):this.dataRequest(),this.directiveLink(t,r,i),r.addClass("console-component-sidebar");var o=this.$compile(n(6))(t);r.append(o)},e.prototype.directive=function(){var t=this;return this.dataRequest(),this.$templateCache.put("./sidebar-dialog.html",n(5)),{replace:!0,restrict:"A",link:function(n,r,i){t.directiveLink(n,r,i)},template:n(6)}},e.prototype.directiveLink=function(t,n,r){function f(e){var n=t.data;e.navActiveIndex=0,e.type="basic",e.selectedItems=n.preference.basic||[],e.products=n.products,e.config=n.config;var r=t.categoriesMap.basic.categories;r.forEach(function(t,n){if(t&&t.products){var r=o.default.existKeyInMap(t.products,e.products);r.length==0&&(t.hide=!0),t.productsColumn=o.default.sliceArray(r,10)}}),e.categories=r,e.categoryNavHoverHandler=function(t,n,r){e.navActiveIndex=n},e.addProduct=function(t){e.selectedItems.indexOf(t)==-1&&e.selectedItems.push(t)},e.toggleProduct=function(t){e.selectedItems.indexOf(t)==-1?e.addProduct(t):e.removeProduct(t)},e.removeProduct=function(t){var n=e.selectedItems.indexOf(t);n!=-1&&e.selectedItems.splice(n,1)},e.confirm=function(){e.isLoadingState=!0,u({method:"jsonp",url:"https://home.console.aliyun.com/center/setUserPreference.js",params:{callback:"JSON_CALLBACK",preference:angular.toJson(e.selectedItems),type:"product",timestamp:(new Date).getTime()}}).then(function(n){n&&n.data&&n.data.code=="200"&&t.$emit("updatePreference",{preference:e.selectedItems,type:t.type}),e.isLoadingState=!1,e.close()},function(){e.isLoadingState=!1})}}function l(e,n){if(!n){var r=$(e),i=r.siblings("ul");n=i.find(".nav-item").length}var s=n*40,o=c();t.categoryHeight=s<o?s:o}function c(){var e=i.height(),n=t.data.categories,r=i.find(".sidebar-fold").height(),s=n&&n.length>0?40*(n.length+1):0;return e-r-s-10}var i=$(n),s=this.aliyunDialog,u=this.$http,a=this.productId;t.data=this.data,t.sidebarType=this.sidebarType,t.isSidebarFold=t.sidebarType=="mini",t.currentProductId=a,t.$watch("data.categories",function(e){e&&(t.categoryUnfoldIndex=h(e,a),l(null,p(e[t.categoryUnfoldIndex])),t.categoriesMap=o.default.transArrayToMapByKey(e))}),t.toggleSidebarStatus=function(){t.isSidebarFold=!t.isSidebarFold,t.$emit("updateViewFrameworkConfigSidebar",t.isSidebarFold?"mini":"full")},t.titleClickHandler=function(e,n){t.categoryUnfoldIndex==n?t.categoryUnfoldIndex=-1:t.categoryUnfoldIndex=n,l(e.currentTarget)},t.manageClickHandler=function(e){e.stopPropagation(),s.showDialogByUrl("./sidebar-dialog.html",f,{windowClass:"console-component-sidebar-dialog-wrap"})}},e.prototype.dataRequest=function(){var t=this,n={method:"jsonp",url:i.default.SIDEBAR_REQUEST_URL,params:{productId:this.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime(),version:"v3"}};this.$http(n).then(function(e){var n=e.data;n&&n.code==i.default.RESPONSE_CODE_SUCCESS&&t.dataHandler(n.data)},function(){t.dataHandler(i.default.DEFAUL_DATA)})},e.prototype.dataHandler=function(t){var n=t.categories,r=t.preference,i=this.productId;n.forEach(function(e,t){if(e){if(e.categories){var n=[];e.categories.forEach(function(e,t){e.products&&e.products.length>0&&(n=n.concat(e.products))}),e.products=n}e.productsOrigin=e.products;if(r&&e.id&&r[e.id]&&r[e.id].length>0){var s=[];r[e.id].forEach(function(t,n){t&&e.products.indexOf(t)!=-1&&s.push(t)}),r[e.id]=s,e.products=s}e.productsOrigin.indexOf(i)!=-1&&e.products.indexOf(i)==-1&&e.products.push(i)}}),this.data=(0,a.default)(this.data,t)},e}();window.ConsoleSidebar=c,e.exports=c},,,,function(e,t,n){t=e.exports=n(7)(),t.push([e.i,".viewFramework-sidebar-mini .console-component-sidebar, .viewFramework-sidebar-mini .sidebar-content {\n  width: 50px !important;\n  display: block; }\n  .viewFramework-sidebar-mini .console-component-sidebar .sidebar-nav ul, .viewFramework-sidebar-mini .sidebar-content .sidebar-nav ul {\n    width: 70px; }\n    .viewFramework-sidebar-mini .console-component-sidebar .sidebar-nav ul li a, .viewFramework-sidebar-mini .sidebar-content .sidebar-nav ul li a {\n      width: 50px; }\n  .viewFramework-sidebar-mini .console-component-sidebar .sidebar-manage, .viewFramework-sidebar-mini .sidebar-content .sidebar-manage {\n    display: none !important; }\n  .viewFramework-sidebar-mini .console-component-sidebar .sidebar-nav .sidebar-title:hover .sidebar-manage, .viewFramework-sidebar-mini .sidebar-content .sidebar-nav .sidebar-title:hover .sidebar-manage {\n    display: none !important; }\n  .viewFramework-sidebar-mini .console-component-sidebar .nav-title, .viewFramework-sidebar-mini .sidebar-content .nav-title {\n    display: none; }\n\n.console-component-sidebar {\n  width: 0;\n  position: fixed;\n  top: 50px;\n  bottom: 0;\n  background-color: #333744;\n  z-index: 102; }\n  .console-component-sidebar span, .console-component-sidebar a, .console-component-sidebar p, .console-component-sidebar li {\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n    letter-spacing: 0.02em; }\n  .console-component-sidebar.sidebar-content {\n    width: 180px;\n    height: 100%;\n    overflow: auto;\n    overflow-x: hidden;\n    overflow-y: hidden; }\n  .console-component-sidebar .sidebar-trans {\n    -o-transition: all 0.12s ease, 0.12s ease;\n    -ms-transition: all 0.12s ease, 0.12s ease;\n    -moz-transition: all 0.12s ease, 0.12s ease;\n    -webkit-transition: all 0.12s ease, 0.12s ease; }\n  .console-component-sidebar .sidebar-fold {\n    height: 30px;\n    width: 100%;\n    background: #4A5064;\n    color: #aeb9c2;\n    text-align: center;\n    line-height: 30px !important;\n    font-size: 12px;\n    user-select: none;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none; }\n    .console-component-sidebar .sidebar-fold:hover {\n      background: #4A5064;\n      color: #fff; }\n  .console-component-sidebar .sidebar-inner {\n    position: relative; }\n  .console-component-sidebar .sidebar-nav {\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: auto; }\n  .console-component-sidebar .sidebar-nav ul {\n    width: 200px;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    overflow-y: scroll;\n    overflow-x: hidden; }\n  .console-component-sidebar .sidebar-nav li a {\n    display: block;\n    width: 180px;\n    height: 40px;\n    line-height: 40px;\n    overflow: hidden; }\n  .console-component-sidebar .sidebar-nav li a:hover {\n    background: #4A5064; }\n    .console-component-sidebar .sidebar-nav li a:hover .nav-icon, .console-component-sidebar .sidebar-nav li a:hover .nav-title {\n      color: #fff; }\n  .console-component-sidebar .sidebar-nav .nav-item {\n    position: relative; }\n  .console-component-sidebar .sidebar-nav .nav-comment {\n    background: #2d3945;\n    color: #cccccc;\n    height: 26px;\n    margin-left: 8px;\n    line-height: 26px;\n    padding: 0 7px;\n    vertical-align: middle;\n    position: relative;\n    display: none; }\n    .console-component-sidebar .sidebar-nav .nav-comment .icon-arrow-left {\n      position: absolute;\n      left: -14px;\n      line-height: 26px;\n      font-size: 24px;\n      color: #2d3945; }\n  .console-component-sidebar .sidebar-nav .nav-tooltip-comment {\n    color: #ccc; }\n  .console-component-sidebar .sidebar-nav .sidebar-title {\n    height: 40px;\n    background: #42485B;\n    color: #fff;\n    line-height: 40px;\n    position: relative;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    overflow: hidden; }\n    .console-component-sidebar .sidebar-nav .sidebar-title:hover {\n      background: #00C1DE; }\n      .console-component-sidebar .sidebar-nav .sidebar-title:hover .sidebar-manage {\n        display: block;\n        color: #fff; }\n  .console-component-sidebar .sidebar-nav .sidebar-title-icon {\n    display: inline-block;\n    margin: 0 8px 0 20px;\n    vertical-align: middle;\n    transition: transform 0.12s;\n    -o-transition: -o-transform 0.12s;\n    -ms-transition: -ms-transform 0.12s;\n    -moz-transition: -moz-transform 0.12s;\n    -webkit-transition: -webkit-transform 0.12s; }\n  .console-component-sidebar .sidebar-nav-active .sidebar-title-icon {\n    vertical-align: text-top;\n    transform: rotate(90deg); }\n  .console-component-sidebar .sidebar-manage {\n    vertical-align: middle;\n    position: absolute;\n    height: 40px;\n    width: 40px;\n    right: 0;\n    top: 0;\n    display: none; }\n    .console-component-sidebar .sidebar-manage a {\n      display: block;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      line-height: 40px;\n      font-size: 16px;\n      color: #fff;\n      text-decoration: none; }\n  .console-component-sidebar .sidebar-nav-fold ul {\n    height: 0 !important;\n    overflow: hidden; }\n  .console-component-sidebar .sidebar-nav-fold .sidebar-title-icon {\n    transform: rotate(-90deg);\n    -webkit-transform: rotate(-90deg);\n    -moz-transform: rotate(-90deg);\n    -ms-transform: rotate(-90deg);\n    -o-transform: rotate(-90deg); }\n  .console-component-sidebar .sidebar-nav-fold .sidebar-title {\n    background: #37424f;\n    border-bottom: 1px solid #414d5c; }\n  .console-component-sidebar .sidebar-nav .nav-item:hover .nav-comment {\n    display: inline-block; }\n  .console-component-sidebar .entrance-nav .nav-comment {\n    margin-left: 10px; }\n  .console-component-sidebar .sidebar-nav .nav-icon {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n    float: left;\n    color: #aeb9c2; }\n  .console-component-sidebar .sidebar-nav .nav-title {\n    float: left;\n    overflow: hidden;\n    color: #fff;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: block;\n    width: 130px; }\n  .console-component-sidebar .entrance-nav .nav-title {\n    width: auto; }\n  .console-component-sidebar .sidebar-nav li.consolehome .nav-tooltip {\n    top: 15px;\n    line-height: 40px; }\n  .console-component-sidebar .sidebar-nav li.consolehome a {\n    height: 70px;\n    line-height: 70px;\n    background: #293038; }\n    .console-component-sidebar .sidebar-nav li.consolehome a .nav-icon {\n      font-size: 20px; }\n  .console-component-sidebar .sidebar-nav li.consolehome.active a {\n    background: #293038; }\n  .console-component-sidebar .sidebar-nav li.active a {\n    background: #00C1DE;\n    transition: none;\n    -webkit-transition: none; }\n    .console-component-sidebar .sidebar-nav li.active a .nav-title {\n      color: #fff; }\n    .console-component-sidebar .sidebar-nav li.active a .nav-icon {\n      color: #fff; }\n  .console-component-sidebar .sidebar-nav .manage-nav {\n    height: 30px;\n    overflow: hidden; }\n    .console-component-sidebar .sidebar-nav .manage-nav:hover .nav-icon {\n      color: #fff; }\n    .console-component-sidebar .sidebar-nav .manage-nav a {\n      display: block;\n      height: 100%; }\n    .console-component-sidebar .sidebar-nav .manage-nav .nav-icon {\n      height: 100%;\n      line-height: 30px;\n      font-size: 16px; }\n    .console-component-sidebar .sidebar-nav .manage-nav .nav-title {\n      margin-top: 14px;\n      background: #293038;\n      height: 1px;\n      width: 120px; }\n  .console-component-sidebar .sidebar-nav .more-nav {\n    display: block;\n    width: 100%;\n    height: 40px;\n    line-height: 40px;\n    position: relative; }\n    .console-component-sidebar .sidebar-nav .more-nav.open .more-nav-switch {\n      background: #09c; }\n      .console-component-sidebar .sidebar-nav .more-nav.open .more-nav-switch .nav-icon, .console-component-sidebar .sidebar-nav .more-nav.open .more-nav-switch .nav-title {\n        color: #fff; }\n      .console-component-sidebar .sidebar-nav .more-nav.open .more-nav-switch:hover {\n        background: #09c; }\n    .console-component-sidebar .sidebar-nav .more-nav.open .icon-up {\n      display: none; }\n    .console-component-sidebar .sidebar-nav .more-nav.open .icon-down {\n      display: inline-block; }\n    .console-component-sidebar .sidebar-nav .more-nav .icon-up {\n      display: inline-block; }\n    .console-component-sidebar .sidebar-nav .more-nav .icon-down {\n      display: none; }\n    .console-component-sidebar .sidebar-nav .more-nav .more-nav-switch {\n      display: block;\n      width: 100%;\n      height: 40px;\n      line-height: 40px; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-switch:hover {\n        background: #425160; }\n        .console-component-sidebar .sidebar-nav .more-nav .more-nav-switch:hover .nav-icon, .console-component-sidebar .sidebar-nav .more-nav .more-nav-switch:hover .nav-title {\n          color: #fff; }\n    .console-component-sidebar .sidebar-nav .more-nav .more-nav-container {\n      background: #425160;\n      position: absolute;\n      bottom: 40px;\n      top: auto;\n      border: none;\n      border-radius: 0 0;\n      box-shadow: none;\n      margin: 0;\n      width: 100%; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-container a {\n        color: #fff;\n        text-decoration: none; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item {\n        display: block;\n        height: 40px;\n        line-height: 40px; }\n        .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item:hover {\n          background: #3a4856; }\n          .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item:hover .more-nav-item-icon {\n            color: #aeb9c2; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item-icon {\n        width: 50px;\n        display: inline-block;\n        vertical-align: text-top;\n        text-align: center;\n        color: #546478; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item.active {\n        background: #2d3945; }\n        .console-component-sidebar .sidebar-nav .more-nav .more-nav-container .more-nav-item.active .more-nav-item-icon {\n          color: #0099cc; }\n    .console-component-sidebar .sidebar-nav .more-nav .more-nav-close {\n      height: 20px;\n      background: #09c;\n      text-align: right;\n      line-height: 20px;\n      cursor: pointer; }\n      .console-component-sidebar .sidebar-nav .more-nav .more-nav-close .icon-down {\n        text-align: left;\n        width: 32px;\n        display: inline-block;\n        color: #80cce6;\n        vertical-align: middle; }\n\n.console-component-sidebar-dialog-wrap .modal-content {\n  border: none; }\n\n.console-component-sidebar-dialog-wrap .modal-dialog {\n  width: 900px; }\n\n.console-component-sidebar-dialog-wrap .ellipsis {\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block; }\n\n.console-component-sidebar-dialog {\n  overflow: hidden;\n  height: 480px;\n  position: relative; }\n  .console-component-sidebar-dialog .selected-part {\n    width: 180px;\n    height: 100%;\n    float: left;\n    background: #293038;\n    position: relative; }\n    .console-component-sidebar-dialog .selected-part .selected-title {\n      background: #394555;\n      height: 40px;\n      line-height: 40px;\n      padding: 0 16px;\n      color: #fff; }\n    .console-component-sidebar-dialog .selected-part .selected-list {\n      height: 400px;\n      overflow-x: hidden;\n      overflow-y: scroll;\n      margin: 0;\n      padding: 0; }\n    .console-component-sidebar-dialog .selected-part .selected-item {\n      height: 40px;\n      line-height: 40px;\n      padding: 0 16px;\n      border: 1px solid #293038;\n      color: #aeb9c2;\n      position: relative; }\n      .console-component-sidebar-dialog .selected-part .selected-item:hover {\n        background: #414d5c !important;\n        border: 1px dashed #69788c;\n        color: #fff; }\n        .console-component-sidebar-dialog .selected-part .selected-item:hover .selected-item-close {\n          display: block; }\n      .console-component-sidebar-dialog .selected-part .selected-item:nth-child(odd) {\n        background: #2c343e; }\n    .console-component-sidebar-dialog .selected-part .selected-item-name {\n      width: 100%;\n      display: inline-block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .console-component-sidebar-dialog .selected-part .selected-item-close {\n      width: 38px;\n      height: 38px;\n      line-height: 38px;\n      text-align: center;\n      font-size: 18px;\n      color: #fff;\n      display: none;\n      position: absolute;\n      right: 0;\n      top: 0;\n      cursor: pointer; }\n    .console-component-sidebar-dialog .selected-part .selected-item-confirm {\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      background: #00C1DE;\n      color: #fff;\n      font-size: 14px;\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      cursor: pointer;\n      width: 180px; }\n      .console-component-sidebar-dialog .selected-part .selected-item-confirm:hover {\n        background: #33cde5; }\n    .console-component-sidebar-dialog .selected-part .drag-btn {\n      position: absolute;\n      left: 0;\n      top: 0;\n      height: 38px;\n      width: 10px;\n      color: #fff;\n      line-height: 38px;\n      text-align: center; }\n  .console-component-sidebar-dialog .all-part {\n    float: left;\n    position: relative;\n    height: 100%;\n    background: #eaeaea; }\n    .console-component-sidebar-dialog .all-part .all-category {\n      display: inline-block;\n      vertical-align: top;\n      width: 180px; }\n    .console-component-sidebar-dialog .all-part .all-category-title {\n      background: #e3e3e3;\n      height: 40px;\n      line-height: 40px;\n      padding: 0 16px;\n      color: #666; }\n    .console-component-sidebar-dialog .all-part .all-category-item {\n      height: 40px;\n      line-height: 40px;\n      padding: 0 16px;\n      color: #333;\n      background: #eaeaea;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n      .console-component-sidebar-dialog .all-part .all-category-item:hover, .console-component-sidebar-dialog .all-part .all-category-item.active {\n        background: #f7f7f7; }\n    .console-component-sidebar-dialog .all-part .category-product {\n      position: absolute;\n      width: 540px;\n      left: 180px;\n      top: 0;\n      padding: 40px 10px;\n      background: #f7f7f7;\n      height: 100%;\n      overflow: hidden; }\n      .console-component-sidebar-dialog .all-part .category-product .category-product-col {\n        width: 250px;\n        float: left; }\n      .console-component-sidebar-dialog .all-part .category-product .category-product-item {\n        height: 40px;\n        width: 240px;\n        margin: 2px 10px;\n        border: 1px solid #f7f7f7;\n        padding-left: 10px;\n        position: relative;\n        cursor: pointer; }\n        .console-component-sidebar-dialog .all-part .category-product .category-product-item:hover {\n          background: #f1f1f1;\n          border: 1px dashed #ccc; }\n          .console-component-sidebar-dialog .all-part .category-product .category-product-item:hover .mark-add {\n            display: block; }\n          .console-component-sidebar-dialog .all-part .category-product .category-product-item:hover .mark-yes {\n            display: none; }\n        .console-component-sidebar-dialog .all-part .category-product .category-product-item.selected {\n          background: #edf2f4;\n          border: 1px solid #7bc8e1;\n          cursor: pointer; }\n          .console-component-sidebar-dialog .all-part .category-product .category-product-item.selected .mark-add {\n            display: none; }\n          .console-component-sidebar-dialog .all-part .category-product .category-product-item.selected .mark-yes {\n            display: block; }\n      .console-component-sidebar-dialog .all-part .category-product .category-product-item-mark {\n        position: absolute;\n        top: 0;\n        right: 0;\n        height: 38px;\n        width: 38px;\n        text-align: center;\n        line-height: 38px;\n        font-size: 18px;\n        display: none; }\n      .console-component-sidebar-dialog .all-part .category-product .mark-add {\n        color: #999999; }\n      .console-component-sidebar-dialog .all-part .category-product .mark-yes {\n        color: #0099cc; }\n  .console-component-sidebar-dialog .close-btn {\n    position: absolute;\n    height: 40px;\n    width: 40px;\n    line-height: 40px;\n    text-align: center;\n    font-size: 20px;\n    color: #aaa;\n    right: 0;\n    cursor: pointer; }\n",""])}]),define("common/components/sidebar/sidebar.bundle",function(){}),define("common/components/sidebar/sidebar.directive",["angular","../common/scripts/commonUtils","./sidebar.bundle"],function(e,t){var n="200",r="//home.console.aliyun.com/nav/sidebar.js",i="https://g.alicdn.com/aliyun/console/{staticVersion}/scripts/components/sidebar/sidebar.bundle.js";e.module("console.components.sidebar",[]).directive("consoleSidebarV3",["$injector","$http","viewFrameworkSetting",function(e,s,o){return{restrict:"A",replace:!0,link:function(u,a,f){function v(e){g(l,e)}function m(e){function r(){g(null,e)}var n=t.getUrlWithVersion(i,c);t.loadScript(n,r,r)}function g(t,n){t=t||new ConsoleSidebar(e),t.render(u,a,f,n)}var l=new ConsoleSidebar(e),c=t.getCookiesNavigationVersion(),h=location.host,p=h.indexOf("localhost")>=0||h.indexOf("127.0.0.1")>=0;if(c)p||c==l.staticVersion?v():m();else{var d={method:"jsonp",url:r,params:{productId:o.config.productId,callback:"JSON_CALLBACK",timestamp:(new Date).getTime(),version:"v3"}};s(d).then(function(e){var r=e.data;if(r&&r.code==n){var i=r.data;i.meta&&i.meta.staticVersion&&(c=i.meta.staticVersion,t.setCookiesNavigationVersion(c)),!p&&c&&c!=l.staticVersion?m(i):v(i)}else v()},function(){v()})}}}}])}),define("common/directives/viewFramework",["../helper/viewFrameworkHelper","../helper/urlQueryStringHelper","../cons/aliyunConsViewFramework","../services/regionService","./productNavBar","./sideBar","./topbar","../components/topbar/topbar.directive","../components/sidebar/sidebar.directive"],function(e,t,n){function i(e){var n=t.getQueryValueMap(),r=["hideTopbar","hideSidebar","disableNavigation","embed","sidebar","productNavBar"];n&&angular.forEach(r,function(t){var r=n[t];angular.isDefined(r)&&angular.isDefined(e[t])&&(r=="true"&&(r=!0),r=="false"&&(r=!1),e[t]=r)})}var r=angular.module("aliyun.console.viewFramework",["aliyun.console.productNavBar","aliyun.console.sidebar","aliyun.console.topbar","aliyun.console.regionService","console.components.topbar","console.components.sidebar"]);return r.factory("viewFrameworkSetting",["$rootScope","$state","$q",function(t,r,s){if(!t.viewFrameworkConfig){var o={version:"v3",hideTopbar:!1,hideSidebar:!1,disableNavigation:!1,embed:!1,sidebar:"mini",productId:"",productNavBar:"col-1",workorderId:"",topbarSpm:"101",sidebarSpm:"102",productNavSpm:"103",topbarNavLinks:null,ramTag:"",supportRegionlize:!1,exclusiveStates:[]};i(o),e.init(o),window.viewFrameworkConfig=t.viewFrameworkConfig=o}var u=s.defer();return{promise:u,config:t.viewFrameworkConfig,setConfig:function(n,r){n.regionList&&(n.regionList=e.formatRegionList(regionList)),r?t.viewFrameworkConfig=n:(t.viewFrameworkConfig=angular.extend(t.viewFrameworkConfig,n),e.init(t.viewFrameworkConfig))},setVersion:function(n){t.viewFrameworkConfig.version=n,e.init(t.viewFrameworkConfig)},setShowTopbar:function(e){t.viewFrameworkConfig.hideTopbar=!e},setShowSidebar:function(e){t.viewFrameworkConfig.hideSidebar=!e},setHideTopbar:function(e){t.viewFrameworkConfig.hideTopbar=e},setHideSidebar:function(e){t.viewFrameworkConfig.hideSidebar=e},setDisableNavigation:function(e){t.viewFrameworkConfig.disableNavigation=e},setProductId:function(e){t.viewFrameworkConfig.productId=e},setSidebar:function(e){t.viewFrameworkConfig.sidebar=e},setProductNavBar:function(e){t.viewFrameworkConfig.productNavBar=e},setWorkorderId:function(e){t.viewFrameworkConfig.workorderId=e},setExclusiveStates:function(e){t.viewFrameworkConfig.exclusiveStates=e},setTopbarNavLinks:function(e){t.viewFrameworkConfig.topbarNavLinks=e},setRamTag:function(e){t.viewFrameworkConfig.ramTag=e},onReady:function(e){u.promise.then(function(){e()})},isExclusiveOperation:function(e){var n=t.viewFrameworkConfig.exclusiveStates,i=!1;return angular.forEach(n,function(e){!i&&r.includes(e)&&(i=!0)}),i},getEmbed:function(){return t.viewFrameworkConfig.embed},setDefaultConfig:function(e){t.viewFrameworkConfig.defaultConfig=e},getHomeEndpoint:function(){return t.viewFrameworkConfig.defaultConfig&&t.viewFrameworkConfig.defaultConfig.homeEndpoint?t.viewFrameworkConfig.defaultConfig.homeEndpoint:n.HOME_DEFAUL_ENDPOINT}}}]),r.directive("viewFramework",["$window",function(t){return{restrict:"A",replace:!0,scope:!0,transclude:!0,templateUrl:"scripts/template/viewFramework.html",controller:["$scope","$rootScope","viewFrameworkSetting",function(r,i,s){r.config=i.viewFrameworkConfig,t.aliyunConsoleVersion="1.3.38",i.$on("$viewContentLoaded",function(e){s.promise.resolve()}),r.collapseProductNavbar=function(){var e=r.config.productNavBar;e=="col-1"?e="none":e="col-1",r.config.productNavBar=e},r.$watch("config",function(e,t){(e.productNavBar!=t.productNavBar||e.sidebar!=t.sidebar)&&setTimeout(function(){angular.element(window).resize()},500)},!0),r.$on("updateViewFrameworkConfigSidebar",function(t,i){r.config&&(r.config.sidebar=i,e.setCookie(n.SIDEBAR_FOLD_COOKIENAME,i,n.SIDEBAR_FOLD_COOKIEDOMAIN))})}],link:function(e,t,n){}}}]),r}),define("common/directives/simpleForm",["angular","./aliyunCommonDirectives","../services/i18nService","../helper/arrayHelper"],function(e,t,n){function s(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}var r=n.getI18n("directives.simpleForm"),i={select:r.i18n("select")},o=(new Date).getTime().toString(36),a=function(){function r(n,i){typeof n=="string"?t[n]=i:e.forEach(n,function(e,t){r(t,e)})}function i(e){return t[e]}function s(t,r){typeof t=="string"?n[t]=r:e.forEach(t,function(e,t){s(t,e)})}function o(e){return n[e]}var t={},n={};return{getTemplateUrl:i,setTemplateUrl:r,getTemplate:o,setTemplate:s}}(),f={textarea:"textarea",radio:"input",select:"select",number:"input",date:"date",checkbox:"input",password:"input",hidden:"input",email:"input",text:"input","static":"static",submit:"input"};for(var l in f)a.setTemplateUrl(l,"scripts/template/formFields/formly-field-"+l+".html");t.provider("$simpleFormConfig",function(){var e=this;this.typeHandlerMap={},this.addCustomHandler=function(t,n){if(e.typeHandlerMap[t])throw new Error("Duplicate type name: "+t);e.typeHandlerMap[t]=n},this.getCustomHandlerMap=function(t){return e.typeHandlerMap},this.$get=function(){return{addCustomHandler:e.addCustomHandler,getCustomHandlerMap:e.getCustomHandlerMap}}}).directive("simpleForm",function(){"use strict";return{restrict:"AE",templateUrl:"scripts/template/formFields/simpleForm.html",replace:!0,transclude:!0,scope:{fields:"=",options:"=?",result:"=",formOnParentScope:"=name",onSubmit:"="},compile:function(){return{post:function(e,t,n){e.formOnParentScope=e[n.name]}}},controller:["$scope","$element","$parse",function(e,t,n){e.options.uniqueFormId=e.options.uniqueFormId||""}]}}).directive("simpleFormCustomAttrs",function(){"use strict";return{restrict:"AE",link:function(e,t,n){var n=n.simpleFormCustomAttrs||"{}";try{n=JSON.parse(n);if(!s(n))for(var r in n)n.hasOwnProperty&&t.attr(r,n[r])}catch(i){console.error(i)}}}}).directive("formlyDynamicName",function(){"use strict";return{restrict:"AE",priority:599,controller:["$scope","$element","$attrs",function(e,t,n){t.removeAttr("formly-dynamic-name"),n.$set("name",e.$eval(n.formlyDynamicName)),delete n.formlyDynamicName}]}}).directive("simpleFormCustomValidator",["$injector",function(t){return{require:"ngModel",scope:{validators:"=",validatorFieldKey:"@",validatorFormData:"=?",validatorFormScope:"="},link:function(n,r,i,s){var o=function(r){for(var i=0;i<n.validators.length;i++){var o=n.validators[i],u=o.name,a=o.validator,f=!1,l=n.validatorFormScope[n.validatorFieldKey].$error;for(var c in l){if(c==u)continue;f=f||e.isArray(l[c])&&l[c][0].$invalid}if(f)s.$setValidity(u,!0);else{var h=a(r,n.validatorFormData,t);typeof h=="boolean"&&s.$setValidity(u,h)}}return r};s.$parsers.unshift(o),s.$formatters.unshift(o)}}}]).directive("formlyField",["$http","$compile","$templateCache","$simpleFormConfig",function(n,r,s,l){"use strict";return{restrict:"AE",transclude:!0,scope:{optionsData:"&options",formId:"=formId",index:"=index",result:"=formResult",formScope:"=",onSubmitHandle:"="},link:function(i,o,l){function d(t){o.html(t);var n=o.contents().find(f[h]);if(n.length){var s=i.options.attributes;s&&s.length&&e.forEach(s,function(e){var t=e.split("=");n.attr(t[0],t[1]&&t[1].replace(/^["']|['"]$/g,"")||"")});var a=i.options.validators;if(a&&a.length){e.isArray(a)||(a=[a]);var l=[];e.forEach(a,function(t,r){if(e.isString(t.validator)){var s=t.validator.split("=");n.attr(u(s[0]),s[1]&&s[1].replace(/^["']|['"]$/g,"")||"")}else l.push(t),i.validators=l,n.attr("simple-form-custom-validator",""),n.attr("validator-field-key","{{options.key}}"),n.attr("validator-form-scope","formScope"),n.attr("validator-form-data","result"),n.attr("validators","validators")})}}r(o.contents())(i)}var c=i.options.template||a.getTemplate(i.options.type),h=i.options.type;if(c)d(c);else{var p=i.options.templateUrl||a.getTemplateUrl(i.options.type);p?n.get(p,{cache:s}).then(function(e){d(e.data)},function(e){console.warn("Formly Error: Problem loading template for "+p,e)}):console.warn("Formly Error: template type '"+i.options.type+"' not supported.")}},controller:["$scope","$injector",function(t,n){function s(){var n={};n[t.options.key]=t.options.value,e.extend(t.result,n)}function u(){var n={},r=t.options.options.filter(function(e){return e.checked==1});n[t.options.key]=r[0].value,e.extend(t.result,n)}function a(){var n={};n[t.options.key]=t.options.value,e.extend(t.result,n)}function f(){var n={};n[t.options.key]={},e.extend(t.result,n)}function c(){var n={},r=t.options.options,s;for(var u=0,a=r.length;u<a;u++)r[u].selected&&(s=r[u]);var f=t.options.defaultOptions;s||(t.options.options.unshift({name:f&&f.name||i.select,marker:"_self_add_"+o}),s=t.options.options[0]),n[t.options.key]=s.value,e.extend(t.result,n)}t.options=t.optionsData();var r=t.options.type.toLowerCase();r==="submit"&&(t.onSubmit=function(e){t.onSubmitHandle.call(null,e)}),!r&&t.options.template?r="template":!r&&t.options.templateUrl&&(r="templateUrl");if((r==="radio"||r==="select")&&Object.prototype.toString.call(t.options.options)!="[object Array]")throw new Error("options must be an Array");if(!t.result[t.options.key])switch(r){case"text":case"static":s();break;case"hidden":a();break;case"radio":u();break;case"checkbox":f();break;case"select":c();break;default:(l.getCustomHandlerMap()[r]||e.noop)(t)}t.id=t.formId+r+t.index,t.$on("$destroy",function(){if(r==="select"){var e=t.options.options[0];e.marker==="_self_add_"+o&&(t.options.options=t.options.options.slice(1))}}),e.isFunction(t.options.controller)&&t.options.controller(t,t.options,t.result,n)}]}}])}),define("common/directives/simpleTable",["./aliyunCommonDirectives"],function(e){var t={table:'<table style="table-layout:fixed" %block% ><tbody>',tr:"<tr %block%>",td:"<td %block%>",span:"<span %block%>"},n={table:"</table>",tr:"</tr>",td:"</td>",span:"</span>"},r={0:"even-table-viewer-row",1:"odd-table-viewer-row"},i=function(e,t,n){return n!=undefined?e[t].replace(/%block%/,n):e[t]},s=function(e){var t={};return e.label&&(t.type="text-plain",t.content=e.label),e.bindLabel&&(t.type="ng-bind",t.content=e.bindLabel),e.bindHTMLLabel&&(t.type="ng-bind-html",t.content=e.bindHTMLLabel),e.boTextLabel&&(t.type="bo-text",t.content=e.boTextLabel),e.boHTMLLabel&&(t.type="bo-html",t.content=e.boHTMLLabel),e.labelDirective&&(t.type="labelDirective",t.content=e.labelDirective),e.labelTooltip&&(t.labelTooltip=e.labelTooltip),t},o=function(e){var t={};return e.field&&(t.type="text-plain",t.content=e.field),e.bindField&&(t.type="ng-bind",t.content=e.bindField),e.boTextField&&(t.type="bo-text",t.content=e.boTextField),e.boHTMLField&&(t.type="bo-html",t.content=e.boHTMLField),e.bindHTMLField&&(t.type="ng-bind-html",t.content=e.bindHTMLField),e.fieldDirective&&(t.type="fieldDirective",t.content=e.fieldDirective),e.fieldTooltip&&(t.fieldTooltip=e.fieldTooltip),e.textTruncate&&(t.textTruncate=e.textTruncate,t.textTruncateLength=e.textTruncateLength||"50"),e.filter&&(t.type="ng-bind",t.content=e.bindField+" | "+e.filter),t},u=function(e,t,n){var r="width=";return r+=e/t*100+"%",n&&(r+=" colSpan="+n),r},a=function(){var e=[];e.push('class="');if(angular.isArray(arguments[0])){var t=arguments[0];for(var n=0,r=t.length;n<r;n++)e.push(t[n])}else e.push(arguments[0]);return e.push('"'),e.join(" ")+" "},f=function(e,t){var n="";return e&&(n+=' popover-placement="top" aliyun-popover2= "'+e+'" '),t&&(n+=' class="icon-info-2 text-muted" '),n},l=function(e,t){return' aliyun-truncate-text source-text="'+e+'" text-length="'+t+'"'},c=function(e,t){return e=="text-plain"?"":e+'="'+t+'"'},h=function(e){return' ng-class={true:"on",false:"off"}['+e+"]"},p=function(e,r){var u=[],h=s(e),p=o(e);u.push(i(t,"td"));if(h.type){var d=[];d.push(h.content),h.type!="labelDirective"&&(d.unshift(i(t,"span",a("text-muted")+c(h.type,h.content)+f(e.labelTooltip))),d.push(i(n,"span"))),u.push(d.join(" "))}return p.type&&(p.type!="fieldDirective"&&p.type!="text-plain"?(u.push(i(t,"span",c(p.type,p.content))),u.push(i(n,"span"))):p.type=="text-plain"&&p.textTruncate?(u.push(i(t,"span",l(p.content,p.textTruncateLength))),u.push(i(n,"span"))):u.push(p.content),p.fieldTooltip&&(u.push(i(t,"span",f(p.fieldTooltip,!0))),u.push(i(n,"span")))),u.push(i(n,"td")),u.join(" ").replace(/%block%/,r)},d=function(){this.template=[],this.push=function(e){this.template.push(e)}};d.prototype.compile2html=function(e){if(!this.config)throw new Error("缺少config配置");var s=this.config.layout.columns,o=this.config.layout.defaultColumnsDivision,f=this.config.rowClass,l=0,c;if(o){c=o.split(":");for(var d=0,v=c.length;d<v;d++)l+=parseInt(c[d])}else l=s;if(this.config.showHeader!=0){var m='<div class="table-viewer-header clearfix"><span class="table-viewer-topbar-title">%title%</span><div class="pull-right table-viewer-topbar-content">%toolbar%</div><span toggle-drop-down-icon ng-hide="'+this.config.hideDropDown+'" class="toggle-drop-down-icon" '+'unique-switch="'+this.config.uniqueScopeItem+'">'+"<span class=\"table-viewer-dropdown\" ng-class=\"{true:'icon-down',false:'icon-up'}[ "+this.config.uniqueScopeItem+']"></span>'+"</span></div>";m=m.replace(/%title%/,this.config.header.title||""),m=m.replace(/%toolbar%/,this.config.header.toolbar||""),this.push(m)}var g=this,y=1,b=0,w=0,E=g.config.tableClass?g.config.tableClass+" table-default-viewer":"table-default-viewer",S="";g.config.uniqueScopeItem&&(S=h(g.config.uniqueScopeItem)),g.push(i(t,"table","bindonce "+a(E)+S)),angular.forEach(e,function(e,o){o%=s,b++;if((o+w)%s==0){var h=[];f&&h.push(f),h.push(r[y%2]),g.push(i(t,"tr",a(h)))}var d=e.colspan,v=0,m;if(e.colspan){if(d+o+w>s){var E=s-o-w;w+=E,g.push(p("","")),g.push(i(n,"tr")),y++;var h=[];f&&h.push(f),h.push(r[y%2]),g.push(i(t,"tr",a(h)))}w+=d-1;while(d--)c?v+=parseInt(c[(o++ +w)%s]):v+=1;m=e.colspan}else v=c?c[(o+w)%s]:1;var S=u(v,l,m);g.push(p(e,S)),(o+w)%s==s-1&&(g.push(i(n,"tr")),y++)});var x=(s-(b+w)%s)%s;x=x>0?x:0;if(x!=0){while(x--){var T=c?c[(b+w)%s]:1;this.push("<td "+u(T,l)+"></td>")}this.push(i(n,"tr"))}g.push(i(n,"table"))},d.prototype.render=function(e){var t=this.template.join("");if(t=="")return;e(t)},d.prototype.setConfig=function(e){this.config=e,this.template=[]},e.directive("aliyunSimpleTable",["$compile",function(e){return{restrict:"AE",link:function(t,n,r){var i=t[r.config],s=t[r.items],o=(new Date).getTime().toString(36)+r.config;t[o]=!0;var u=new d;t.$watch(r.items,function(a,f){if(a==undefined)return;i=t[r.config],s=t[r.items],i.uniqueScopeItem=o,u.setConfig(i),u.compile2html(s),u.render(function(r){n.html(r),e(n.contents())(t)})},!0),t.$watch(r.config,function(a,f){if(a==undefined)return;i=t[r.config],s=t[r.items],i.uniqueScopeItem=o,u.setConfig(i),u.compile2html(s),u.render(function(r){n.html(r),e(n.contents())(t)})},!0)}}}]).directive("toggleDropDownIcon",[function(){return{scope:{uniqueSwitch:"="},link:function(e,t,n){t.on("click",function(){e.uniqueSwitch=!e.uniqueSwitch,e.$apply()})}}}]).directive("aliyunSimpleTableNew",["$compile",function(e){return{restrict:"A",scope:{config:"=",items:"=",bindScope:"="},link:function(t,n,r){if(!t.config||!t.items)throw new Error("请检查当前Directive的参数配置");t.toggleShow=!0;var i={};i.template={header:{wrapper:'<div class="table-viewer-header clearfix"><span class="table-viewer-topbar-title">%title%</span><div class="pull-right table-viewer-topbar-content">%toolbar%</div><span simple-table-toggle class="toggle-drop-down-icon" ng-hide="hideToggle" toggle-show="toggleShow" %toggleShowContent%><span class="table-viewer-dropdown" ng-class="{false:\'icon-down\',true:\'icon-up\'}[ !!toggleShow ]"></span></span></div>'},body:{contentWrapper:'<table ng-show="toggleShow != false" style="table-layout:fixed" class="table-default-viewer" bindonce><tbody>%content%</tbody></table>',rowWrapper:'<tr class="simple-table-row">%content%</tr>',cellWrapper:'<td class="simple-table-cell" %cellAttr%>%content%</td>'},cell:{name:'<span class="text-muted" style="padding-right:8px">%content%</span>',bindField:'<span %directive% ng-bind="%field%"></span>',boField:'<span %directive% bo-text="%field%"></span>'}},i.rebuildTable=function(e,n,r){i.config=e;if(!e.layout||!e.layout.columns)throw new Error("请检查布局参数。");var s=parseInt(e.layout.columns),o=i.convertDivision(s,e.layout.defaultColumnsDivision),u=0,a=[],f=[],l=[];n=n||[];var c=0;for(var h=0;h<o.length;h++)c+=parseInt(o[h]);angular.forEach(n,function(e,t){var n=u%s,r=parseInt(e.colspan||1);n==0&&l.length>0&&(f.push(i.renderRow(l.join(" "))),u=0,l=[]);var a=0;for(var h=0;h<r;h++)a+=parseInt(o[(u+r+h-1)%s]);if(r+n>s){for(var h=n;h<s;h++)l.push(i.renderCell(null,i.renderCellAttr(1,c,o[h]))),u++;f.push(i.renderRow(l.join(" "))),l=[],l.push(i.renderCell(e,i.renderCellAttr(r,c,a))),u=r}else l.push(i.renderCell(e,i.renderCellAttr(r,c,a))),u+=r});for(var h=u;h<s;h++)l.push(i.renderCell(null,i.renderCellAttr(1,c,o[h])));f.push(i.renderRow(l.join(" "))),l=[];var p=e.header.title||" ",d=e.header.toolbar||" ",v=e.toggleShow||{};return e.showHeader!=0&&(v.defaultToggleShow=v.defaultToggleShow==undefined?!0:v.defaultToggleShow,v.attrs=v.attrs==undefined?"":v.attrs,a.push(i.template.header.wrapper.replace("%title%",p).replace("%toolbar%",d).replace("%toggleShowContent%",v.attrs).replace("%defaultToggleShow%",v.defaultToggleShow)),t.toggleShow=v.defaultToggleShow,t.hideToggle=v.hideToggle),a.push(i.renderBody(f.join(" "))),a},i.renderBody=function(e){return i.template.body.contentWrapper.replace("%content%",e)},i.renderRow=function(e){return i.template.body.rowWrapper.replace("%content%",e)},i.renderCell=function(e,t){if(!e)return i.template.body.cellWrapper.replace("%content%"," ").replace("%cellAttr%",t);var n=[],r=!1,s=i.config;e.bindable!=1&&s.useBindOnce==1&&(r=!0),e.name&&n.push(i.template.cell.name.replace("%content%",e.name)),e.field&&(r?n.push(i.template.cell.boField.replace("%field%",e.field)):n.push(i.template.cell.bindField.replace("%field%",e.field))),e.fieldDirective&&n.push(e.fieldDirective);var o=n.join("");return i.template.body.cellWrapper.replace("%content%",o).replace("%cellAttr%",t)},i.renderCellAttr=function(e,t,n){var r="colspan=%value% ",i="width=%value%%",s=[];return s.push(i.replace("%value%",100*(n/t))),e!=1&&s.push(r.replace("%value%",e)),s.join(" ")},i.convertDivision=function(e,t){if(!t){var n=[];for(var r=0;r<e;r++)n.push(1);return n}return t.split(":")};var s=t.config.decorator;!s||angular.extend(i,s),t.$watchCollection("[config,items,bindScope]",function(r){if(!!r){var s=i.rebuildTable(t.config,t.items,t.bindScope);n.html(s.join(" ")),e(n.contents())(t)}})}}}]).directive("simpleTableToggle",[function(){return{restrict:"A",scope:{toggleShow:"="},link:function(e,t,n){t.on("click",function(t){t.preventDefault(),e.toggleShow==undefined?e.toggleShow=!1:e.toggleShow=!e.toggleShow,e.$apply()})}}}])}),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}function n(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}var r=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,n,r){i(this),this.__url=n;try{e.apply(this,[t,n,r])}catch(s){s.message.indexOf("Access is denied")>-1&&(this.__origError=s,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){i(this);var r=n(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=n,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0==r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0==r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},fileprogress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};s.data={},s.files={};for(var o=0;o<i.data.length;o++){var u=i.data[o];null!=u.val&&null!=u.val.name&&null!=u.val.size&&null!=u.val.type?s.files[u.key]=u.val:s.data[u.key]=u.val}setTimeout(function(){if(!r())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var e,t,n,i,s,o=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)t=window.FileAPI.jsPath;else for(n=0;n<u.length;n++)if(s=u[n].src,i=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),i>-1){t=s.substring(0,i+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=t),o.setAttribute("src",e||t+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(o),FileAPI.hasFlash=r()}}(),FileAPI.ngfFixIE=function(e,t,i,s){if(!r())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var o=function(){function r(e){var t,n;if(t=n=0,e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:n}}if(e.attr("disabled"))e.__ngf_elem__.removeClass("js-fileapi-wrapper");else{var l=e.__ngf_elem__;l?i(e.__ngf_elem__):(l=e.__ngf_elem__=t(),l.addClass("js-fileapi-wrapper"),!n(e),setTimeout(function(){l.bind("mouseenter",o)},10),l.bind("change",function(e){u.apply(this,[e]),s.apply(this,[e])})),n(e)||l.css("position","absolute").css("top",r(e[0]).top+"px").css("left",r(e[0]).left+"px").css("width",e[0].offsetWidth+"px").css("height",e[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",e.css("display")).css("overflow","hidden").css("z-index","900000")}};e.bind("mouseenter",o);var u=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!=t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){if(t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r))),"load"===r.type){e.onloadend&&e.onloadend(n("loadend",r));var i=n("load",r);e.onload&&e.onload(i),e.dispatchEvent(i)}else if("progress"===r.type){var i=n("progress",r);e.onprogress&&e.onprogress(i),e.dispatchEvent(i)}else{var i=n("error",r);e.onerror&&e.onerror(i),e.dispatchEvent(i)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}})}(),define("ng-file-upload-shim",function(){}),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n,r,o,u){function a(){return"input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase()}function l(t){if(!m){m=!0;try{for(var a=t.__files_||t.target&&t.target.files,l=[],c=[],h=0;h<a.length;h++){var p=a.item(h);s(e,o,n,p,t)?l.push(p):c.push(p)}i(o,u,e,r,n,v,l,c,t),0==l.length&&(t.target.value=l)}finally{m=!1}}}function c(r){n.ngfMultiple&&r.attr("multiple",o(n.ngfMultiple)(e)),o(n.ngfMultiple)(e)||r.attr("multiple",void 0),n.accept&&r.attr("accept",n.accept),n.ngfCapture&&r.attr("capture",o(n.ngfCapture)(e)),n.ngfDisabled&&r.attr("disabled",o(n.ngfDisabled)(e));for(var i=0;i<t[0].attributes.length;i++){var s=t[0].attributes[i];"type"!==s.name&&"class"!==s.name&&"id"!==s.name&&"style"!==s.name&&r.attr(s.name,s.value)}}function h(){if(!t.attr("disabled")){var e=angular.element('<input type="file">');return c(e),a()?(t.replaceWith(e),t=e):(e.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",!0),t.__ngf_ref_elem__&&t.__ngf_ref_elem__.remove(),t.__ngf_ref_elem__=e,document.body.appendChild(e[0])),e}}function p(t){i(o,u,e,r,n,v,[],[],t,!0)}function d(e){function n(){r[0].click(),a()&&(t.bind("click touchend",d),e.preventDefault())}e.preventDefault();var r=h(e);r&&(r.bind("change",l),p(e),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){n()},0):n())}var v=n.ngfChange||n.ngfSelect&&n.ngfSelect.indexOf("(")>0,m=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(t,h,c,l,p):t.bind("click touchend",d)}function n(e,t,n,o,u,a,l){function c(e,t,n){var r=!0,i=n.dataTransfer.items;if(null!=i)for(var o=0;o<i.length&&r;o++)r=r&&("file"==i[o].kind||""==i[o].kind)&&s(e,u,t,i[o],n);var a=u(t.ngfDragOverClass)(e,{$event:n});return a&&(a.delay&&(y=a.delay),a.accept&&(a=r?a.accept:a.reject)),a||t.ngfDragOverClass||"dragover"}function h(t,r,i,o){function c(r){s(e,u,n,r,t)?p.push(r):d.push(r)}function h(e,t,n){if(null!=t)if(t.isDirectory){var r=(n||"")+t.name;c({name:t.name,type:"directory",path:r});var i=t.createReader(),s=[];m++;var o=function(){i.readEntries(function(r){try{if(r.length)s=s.concat(Array.prototype.slice.call(r||[],0)),o();else{for(var i=0;i<s.length;i++)h(e,s[i],(n?n:"")+t.name+"/");m--}}catch(u){m--,console.error(u)}},function(){m--})};o()}else m++,t.file(function(e){try{m--,e.path=(n?n:"")+e.name,c(e)}catch(t){m--,console.error(t)}},function(){m--})}var p=[],d=[],v=t.dataTransfer.items,m=0;if(v&&v.length>0&&"file"!=l.protocol())for(var g=0;g<v.length;g++){if(v[g].webkitGetAsEntry&&v[g].webkitGetAsEntry()&&v[g].webkitGetAsEntry().isDirectory){var y=v[g].webkitGetAsEntry();if(y.isDirectory&&!i)continue;null!=y&&h(p,y)}else{var b=v[g].getAsFile();null!=b&&c(b)}if(!o&&p.length>0)break}else{var w=t.dataTransfer.files;if(null!=w)for(var g=0;g<w.length&&(c(w.item(g)),o||!(p.length>0));g++);}var E=0;!function S(e){a(function(){if(m)10*E++<2e4&&S(10);else{if(!o&&p.length>1){for(g=0;"directory"==p[g].type;)g++;p=[p[g]]}r(p,d)}},e||0)}()}var p=r();if(n.dropAvailable&&a(function(){e[n.dropAvailable]?e[n.dropAvailable].value=p:e[n.dropAvailable]=p}),!p)return 1==u(n.ngfHideOnDropNotAvailable)(e)&&t.css("display","none"),void 0;var v,m=null,g=u(n.ngfStopPropagation),y=1,b=(u(n.ngfAccept),u(n.ngfDisabled));t[0].addEventListener("dragover",function(r){if(!b(e)){if(r.preventDefault(),g(e)&&r.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=r.dataTransfer.effectAllowed;r.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(m),e.actualDragOverClass||(v=c(e,n,r)),t.addClass(v)}},!1),t[0].addEventListener("dragenter",function(t){b(e)||(t.preventDefault(),g(e)&&t.stopPropagation())},!1),t[0].addEventListener("dragleave",function(){b(e)||(m=a(function(){t.removeClass(v),v=null},y||1))},!1),t[0].addEventListener("drop",function(r){b(e)||(r.preventDefault(),g(e)&&r.stopPropagation(),t.removeClass(v),v=null,h(r,function(t,s){i(u,a,e,o,n,n.ngfChange||n.ngfDrop&&n.ngfDrop.indexOf("(")>0,t,s,r)},0!=u(n.ngfAllowDir)(e),n.multiple||u(n.ngfMultiple)(e)))},!1)}function r(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}function i(e,t,n,r,i,s,o,u,a,f){function l(){r&&(e(i.ngModel).assign(n,o),t(function(){r&&r.$setViewValue(null!=o&&0==o.length?null:o)})),i.ngModelRejected&&e(i.ngModelRejected).assign(n,u),s&&e(s)(n,{$files:o,$rejectedFiles:u,$event:a})}f?l():t(function(){l()})}function s(e,t,n,r,i){var s=t(n.ngfAccept),u=t(n.ngfMaxSize)(e)||9007199254740991,a=t(n.ngfMinSize)(e)||-1,f=s(e,{$file:r,$event:i});if(angular.isString(f)){var l=new RegExp(o(f),"gi");f=null!=r.type&&r.type.match(l)||null!=r.name&&r.name.match(l)}return(null==f||f)&&r.size<u&&r.size>a}function o(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),n="";if(t.length>1)for(var r=0;r<t.length;r++)n+="("+o(t[r])+")",r<t.length-1&&(n+="|");else 0==e.indexOf(".")&&(e="*"+e),n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var u;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&e("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}});var a=angular.module("ngFileUpload",[]);a.version="4.0.0",a.service("Upload",["$http","$q","$timeout",function(e,t,n){function r(r){r.method=r.method||"POST",r.headers=r.headers||{},r.transformRequest=r.transformRequest||function(t,n){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,n)};var i=t.defer(),s=i.promise;return r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i.notify?i.notify(e):s.progress_fn&&n(function(){s.progress_fn(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i.notify?i.notify(e):s.progress_fn&&n(function(){s.progress_fn(e)}))},!1))}},e(r).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)}),s.success=function(e){return s.then(function(t){e(t.data,t.status,t.headers,r)}),s},s.error=function(e){return s.then(null,function(t){e(t.data,t.status,t.headers,r)}),s},s.progress=function(e){return s.progress_fn=e,s.then(null,null,function(t){e(t)}),s},s.abort=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),s},s.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(s,arguments),e.apply(s,arguments)}}(r.xhrFn),s},s}this.upload=function(e){return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n=new FormData,r={};for(u in e.fields)e.fields.hasOwnProperty(u)&&(r[u]=e.fields[u]);if(t&&(r.data=t),e.formDataAppender)for(u in r)r.hasOwnProperty(u)&&e.formDataAppender(n,u,r[u]);else for(u in r)if(r.hasOwnProperty(u)){var i=r[u];void 0!==i&&(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i)?n.append(u,i):e.sendObjectsAsJsonBlob&&angular.isObject(i)?n.append(u,new Blob([i],{type:"application/json"})):n.append(u,JSON.stringify(i)))}if(null!=e.file){var s=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var o=angular.isString(s),a=0;a<e.file.length;a++)n.append(o?s:s[a],e.file[a],e.fileName&&e.fileName[a]||e.file[a].name);else n.append(s,e.file,e.fileName||e.file.name)}return n}),r(e)},this.http=function(e){return r(e)}}]),a.directive("ngfSelect",["$parse","$timeout","$compile",function(e,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,s,o,u){t(i,s,o,u,e,n,r)}}}]),a.directive("ngfDrop",["$parse","$timeout","$location",function(e,t,r){return{restrict:"AEC",require:"?ngModel",link:function(i,s,o,u){n(i,s,o,u,e,t,r)}}}]),a.directive("ngfNoFileDrop",function(){return function(e,t){r()&&t.css("display","none")}}),a.directive("ngfDropAvailable",["$parse","$timeout",function(e,t){return function(n,i,s){if(r()){var o=e(s.ngfDropAvailable);t(function(){o(n),o.assign&&o.assign(n,!0)})}}}]),a.directive("ngfThumbnail",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(e,n,r){window.FileReader&&e.$watch(r.ngfThumbnail,function(e){e&&e.type.indexOf("image")>-1?t(function(){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(function(){n.attr("src",e.target.result)})}}):n.attr("src","")})}}}])}(),define("ng-file-upload",["angular","ng-file-upload-shim"],function(){}),function(){define("common/directives/aliyunConsoleFeedback",["angular"],function(e){var t=e.module("aliyun.console.feedback",[]);t.directive("aliyunConsoleFeedback",["$http",function(e){return{restrict:"AE",replace:!0,scope:{source:"@"},templateUrl:"scripts/template/feedback.html",link:function(t,n,r){t.feedback={},t.emailError=!1,t.open=function(){t.formPanel=!0,t.resultPanel=!1,$(n).addClass("active")},t.close=function(){t.formPanel=!1,t.resultPanel=!1,$(n).removeClass("active")},t.checkContent=function(){return!t.feedback.content||400-t.feedback.content.length>0},t.checkEmail=function(){var e=t.feedback.email;e&&/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e.toLowerCase())?t.emailError=!1:t.emailError=!0},t.postFeedback=function(){var n=t.feedback,r={params:{content:n.content,email:n.email,url:window.location.href,source:t.source}};e.jsonp("https://docs.aliyun.com/feedback?callback=JSON_CALLBACK",r),t.formPanel=!1,t.resultPanel=!0,t.feedback={}}}}}])})}.call(this),define("app",["angular","common/modelSystem/modelSystemCore","angular-cookies","ui.router","ui.bootstrap","angular-animate","angular-growl","angular-ui-validate","angular-sanitize","aliyun-console-bootstrap-tpl","angular-locale-zh-cn","angular-translate","aliyun-expenseCenter-tpl","bindonce","common-tpl","common/helper/objectHelper","common/helper/arrayHelper","common/directives/aliyunCommonDirectives","common/directives/viewFramework","common/directives/simpleForm","common/modelSystem/lazyModule","common/directives/simpleForm","common/directives/simpleTable","ng-file-upload","common/directives/aliyunConsoleFeedback"],function(e){"use strict";return e.module("www.aliyun.com.lego",[]).controller("legoController",["$scope","$attrs",function(e,t){var n=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){("loaded"==n.readyState||"complete"==n.readyState)&&(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)};window.Aliyun_Lego_System_Manual_Init?window.Aliyun_Lego_System_Manual_Init():n("//g.alicdn.com/??aliyun/www-dpl/0.5.47/knight/js/util/aliyun-lego-system.js",function(){window.Aliyun_Lego_System_Manual_Init()})}]).directive("aliyunLegoData",function(){return{restrict:"EA",controller:"legoController"}}),e.module("expenseCenterConsole",["ui.router","ui.bootstrap","aliyun.console.common.tpl","aliyun.console.bootstrap.tpl","aliyun.console.expenseCenter.base.tpl","ui.validate","ngSanitize","ngAnimate","ngCookies","angular-growl","pasvaz.bindonce","pascalprecht.translate","aliyunConsoleControllers","aliyunCommonDirectives","aliyunCommonServices","expenseCenterControllers","expenseCenterStates","expenseCenterServices","expenseCenterDirectives","expenseCenterFilters","aliyunConsoleModelSystem","ngFileUpload","aliyun.console.viewFramework","aliyun.console.feedback","com.console.riskcontrol.*","www.aliyun.com.lego"]).value("console.riskcontrol.config.appName","expenseCenterConsole").value("console.riskcontrol.config.mteeCode","aliyun_recharge_cash").value("console.riskcontrol.config.umidToken",ALIYUN_EXPENSECENTER_CONSOLE_CONFIG.UMID).value("console.riskcontrol.config.umidUrl","https://ynuf.alipay.com").value("console.riskcontrol.config.url.checkRisk","/checkRisk.json").value("console.riskcontrol.config.url.sendVerifyCode","/sendVerifyCode.json").value("console.riskcontrol.config.url.validateVerifyCode","/validateVerifyCode.json").value("console.riskcontrol.config.enableNativeApi",!1)}),define("common/helper/i18nHelper",[],function(){function t(){var e=arguments;if(e[0])return e[0].replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,n){if(t=="{{")return"{";if(t=="}}")return"}";var r=parseInt(n)+1,i=e[r];return i==undefined&&(i=t),i})}function n(){var e=arguments;if(e[0]){var t=e[1]||{};return e[0].replace(/\{\{|\}\}/g,function(e){if(e=="{{")return"{";if(e=="}}")return"}"}).replace(/\{([\w\d]+)\}/g,function(e,n){var r=t[n];return typeof r=="undefined"&&(r=e),r})}}function r(t){e=t||{}}function i(){return e}function s(){var e=arguments;if(e[0]){var n=e[0],r=i()[n];return r?(e[0]=r,t.apply(this,e)):n}}function o(){var e=arguments;if(e[0]){var t=e[0],r=i()[t];return r?(e[0]=r,n.apply(this,e)):t}}var e={};return{formatter:t,f:t,translate:n,i8nByMap:o,i18nByMap:o,i18n:s,getMessageObject:i,i18nConfig:r}}),define("i18nHelper",["common/helper/i18nHelper","angular-locale-zh-cn"],function(e){var t=window.ALIYUN_CONSOLE_MESSAGE||{};return e.i18nConfig(t),e}),define("base/helpers/monthHelper",["angular","i18nHelper"],function(e,t){function s(e){var i=new Date;!n&&(n=e);if(!n)throw new Error("getCurrentMonth need $injector");var s=r||e.get("dateFilter"),o=t.i18n("expense.base.monthHelper.monthformat"),u="yyyy-MM";return{text:s(i,o),value:s(i,u)}}function o(e,i){!n&&(n=i);if(!n)throw new Error("getMonthObj need $injector");var s=r||n.get("dateFilter"),o=t.i18n("expense.base.monthHelper.monthformat"),u="yyyy-MM";return{text:s(e,o),value:s(e,u)}}function u(e,i){!n&&(n=i);if(!n)throw new Error("getMonthLinkObj need $injector");var s=r||n.get("dateFilter"),o=t.i18n("expense.base.monthHelper.monthformat"),u="yyyyMM";return{text:s(e,o),value:s(e,u)}}function a(e){typeof e=="undefined"&&(e=new Date);var t=e.getMonth()==0?e.getFullYear()-1:e.getFullYear(),n=e.getMonth()==0?11:e.getMonth()-1,r=1;return new Date(t,n,r)}function f(e){typeof e=="undefined"&&(e=new Date);var t=e.getMonth()==11?e.getFullYear()+1:e.getFullYear(),n=e.getMonth()==11?0:e.getMonth()+1,r=1;return new Date(t,n,r)}function l(e,t){var t=t+"";return t!=="2"?i[t]:e%4==0&&e%100!=0||e%400==0?29:28}var n=null,r=null,i={1:31,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31};return{getCurrentMonth:s,init:function(e){n=e,r=n.get("dateFilter")},getLastXMonth:function(e,t,n){var r=[],i=e||new Date;r.push(o(i,n));for(var s=0;s<t-1;s++)i=a(i),r.push(o(i,n));return r},getLastXLinkMonth:function(e,t,n){var r=[],i=e||new Date;r.push(u(i,n));for(var s=0;s<t-1;s++)i=a(i),r.push(u(i,n));return r},getLastXMonthDate:function(e,t){var n=e||new Date;for(var r=0;r<t-1;r++)n=a(n);return n},getFirstDayOfMonth:function(e){typeof e=="undefined"&&(e=new Date);var t=e.getFullYear(),n=e.getMonth(),r=1;return new Date(t,n,r)},getLastDayOfMonth:function(e){typeof e=="undefined"&&(e=new Date);var t=e.getFullYear(),n=e.getMonth(),r=l(t,n+1);return new Date(t,n,r)},getMonthList:function(e,t,n){var r=[],i=e||new Date,s=t||new Date;r.push(o(s));while(s>i)s=a(s),r.push(o(s,n));return r}}}),define("base/cons/cons",[],function(){return{BASE_PATH:"scripts/expenseCenter/",BASE_VIEW_PATH:"scripts/expenseCenter/base/views/",BASE_PARTIALS_PATH:"scripts/expenseCenter/base/partials/",EVENT_OPERATION_READY:"server_operation_ready",EVENT:{REFRESH_CAPTCHA_CODE:"expenseCenter.captchaCode:refresh",EXPORT:"expenseCenter:exportData",EXPORT_CONFIRM_DO_EXPORT:"exportConfirm:doExport",EXPORT_CONFIRM_YES:"exportConfirm:yes",EXPORT_CONFIRM_NO:"exportConfirm:no",EXPORT_READY:"expenseCenter:exportDataReady"},MODULES:{ACCOUNT:"account",CONSUMPTION:"consumption"},ENVIRONMENT:function(){return location.hostname=="localhost"?"LOCAL":/.*\.test$/.test(window.location.hostname)?"TEST":"PRODUCT"}(),NULL_CURRENCY_SYMBOL:"-",CONTRACT_STEP_MAPS:[{text:"选择订单"},{text:"确认订单"},{text:"确认客户信息"},{text:"合同申请成功"}]}}),define("base/utils/expenseCenterVariablesService",[],function(){var e=window.ALIYUN_EXPENSECENTER_CONSOLE_CONFIG,t;e&&(t=e.SEC_TOKEN);var n=function(t){if(e&&e[t]!==undefined)return e[t]},r=function(e){if(window&&window[e]!==undefined)return window[e]};return{getKeyFromConstants:n,getGlobalKey:r,getSecToken:t}}),define("base/services/services",["angular"],function(e){return e.module("expenseCenterServices",[])}),define("base/services/resourceLoadService",["app","angular","require","./services","../cons/cons","../../i18nHelper","base/utils/expenseCenterVariablesService","common/helper/responsePreHandler","common/services/aliyunHttpHandler"],function(e,t,n,r,i,s,o,u){r.factory("resourceLoadService",["$rootScope","$injector","$q","$controller","aliyun.console.request",function(e,r,s,a,f){function l(){}function v(e){var n=[];if(t.isArray(e))for(var r=0,i="";i=e[r];r++)i+="?_preventCache="+(new Date).getTime(),n.push(i);return n}function m(e,t,n){clearTimeout(c);try{a(n,{}),e.resolve(t)}catch(r){h++<20?(r.message.match(p)||[]).length>0?c=setTimeout(function(){m(e,t,n)},50):e.resolve(t):e.resolve(t)}}function g(e){if(e){var t=e.controller;if(!t){var n=e.views;for(var r in n)if(n.hasOwnProperty(r)){t=n[r].controller;break}}return t}}var c=0,h=0,p=/\[ng:areq\]\s*Argument\s*\'.*\'\s*is\s*not\s*a\s*function, got\s*undefined/g,d=f.request;l.prototype={constructor:l,init:function(e){this.modules=e},isLoaded:function(e){var t=this.modules[e];return t?t.loaded:!0},loadResource:function(e,r){var o=this,u=g(r),a=this.modules[e];if(a.loading)return a.deferred.promise;if(a.loaded)return!0;a.deferred=s.defer(),a.loading=!0,a.loaded=!1;var f=t.isArray(a.url)?a.url:[a.url];return i.ENVIRONMENT==="TEST"&&(f=v(f)),s.all([this.fetchI18nResources(a.url,a),this.fetchConfig(e)]).then(function(e){n(f,function(e){a.loaded=!0,a.loading=!1,t.isString(u)?m(a.deferred,e,u):setTimeout(function(){a.deferred.resolve(e)},200)},function(e){a.deferred.reject(e)})}),a.deferred.promise},fetchI18nResources:function(e,r){var i=s.defer(),u=o.getKeyFromConstants("LANG"),a=e.replace(/\.js$/,""),f=r.i18nResourceUrl?r.i18nResourceUrl:u?a+"/nls/messageModule"+"_"+u:a+"/nls/messageModule";return n([f],function(e){window.$global.translations("zh",t.extend(window.ALIYUN_CONSOLE_MESSAGE,e)),i.resolve(!0)}),i.promise},fetchConfig:function(e){var n=this,i=s.defer(),o={method:"GET"},a=this.modules[e],f="",l="",c=a.depsConfig;return c?(f=c.configUrl,l=c.keyName):f=a.configUrl,f?d(f,o).then(function(s){var o=u.responsePreHandler(s,r);o&&t.isFunction(o.then)==0?(n.setConfigVariable(e,o,l),i.resolve(!0)):i.reject(o)},function(e){i.reject(e)}):i.resolve({}),i.promise},setConfigVariable:function(e,t,n){var r=window.ALIYUN_EXPENSECENTER_CONSOLE_CONFIG,i=e.toUpperCase();n?(!r[i]&&(r[i]={}),!r[i][n]&&(r[i][n]=t)):r[i]||(r[i]=t)}};var y=new l;return y}])}),define("common/controllers/controller",["angular"],function(e){return e.module(["aliyunConsoleControllers"],[])}),define("common/helper/diagnoseHelper",["angular","../cons/aliyunCons","./i18nHelper","../services/regionService"],function(e,t,n,r){function i(e){if(c(e)){var n=u(e);if(n!=undefined){var r=d(e),i=t.AUTO_DIAGNOSE_KEY;r[i]=n}}}function s(e){var n=t.AUTO_DIAGNOSE_KEY;return e&&e[n]}function o(e){return!!s(e)}function u(e){var t=d(e),n=r.getActiveRegionId(),i=t&&t.requestId,s=t&&t.action,o=l(e);if(!f(n,i,s,o))return{regionId:n,diagnoseRequestId:i,action:s,requestParams:a(o),response:a(t)}}function a(t){return typeof t=="string"?t:e.toJson(t)}function f(){var t=!1,n=arguments;return e.forEach(n,function(e){e==undefined&&(t=!0)}),t}function l(e){var t=h(e),n=t&&t.method||"";return n.toLocaleLowerCase()=="POST".toLocaleLowerCase()?t&&t.data:t&&t.params}function c(e){var t=p(e);if(v(t)){var n=d(e);return n&&n.action}}function h(e){return e&&e.config}function p(e){var t=h(e);return t&&t.url}function d(e){return e&&e.data}function v(e){var t=new RegExp(".json$"),n=new RegExp(".jsonp$");return e&&(t.test(e)||n.test(e))}return{updateAutoDiagnoseInfo:i,isAutoDiagnoseEnableByResponse:o,getAutoDiagnoseParamsFromResponse:s}}),define("common/services/Dialog",["app","./services","angular","../services/i18nService"],function(e,t,n,r){"use strict";if(!e||!e.provider)e=t;var i=r.getI18n("common"),s=i.i18n("common.lb.confirm"),o=i.i18n("common.lb.diagnose"),u=i.i18n("common.lb.cancel");e.provider("aliyunDialogConfig",function(){var e={defaultButtonConfig:[{result:!0,label:s,cssClass:"btn-primary"},{result:!1,label:u,cssClass:"btn-default"}],defaultDiagnoseConfig:{diagnoseCallback:!1}};return{setButtonLabels:function(t){n.forEach(e.defaultButtonConfig,function(e,n){e.label=t[n]})},setProviderOptions:function(t){n.extend(e,t)},$get:function(){return e}}}),e.factory("aliyunDialog",["$rootScope","$injector","$modal","$modalStack","aliyunDialogConfig",function(e,t,r,i,s){var u=function(e){var t={backdrop:"static"},i=n.extend({},t,e),s=r.open(i);return s},a=function(e,t,r){var i,s,o={templateUrl:e,resolve:{passedObject:function(){return r}},controller:["$scope","$modalInstance","$rootScope","$modalStack","passedObject",function(e,r,o,u,a){s=e.$on("$locationChangeSuccess",function(){i&&e._dialogShow==1&&e.close(!1)});var f="icon-warning-2";a!=undefined&&a.iconClass&&(f=a.iconClass);var l="text-warning";a!=undefined&&a.iconColor&&(l=a.iconColor),e.iconClass=f+" "+l,e._passedObject=a,e._dialogShow=!0,e.close=function(t){e._dialogShow=!1,r.close(t),i=null},n.isFunction(t)&&t(e)}]};r&&r.options&&(o=n.extend({},o,r.options)),r&&r.windowClass&&(o.windowClass=r.windowClass),i=u(o);var a=function(e){return s&&s(),e};return i.result.then(function(e){return a(e)},function(e){return a(e)}),i},f=function(e,t,r){var i="scripts/template/message.html",o=s.defaultButtonConfig;t=t||e.callback,r=r||e.passedObject;var u=e.buttons||o,f=function(r){r.title=e.title,r.message=e.message,r.buttons=u,r.eventHandler=function(e){if(n.isFunction(e)){e(r);return}r.close(e)},n.isFunction(t)&&t(r)};return a(i,f,r)},l=function(e,r,i){var u="scripts/template/messageWithDiagnose.html",f=s.defaultButtonConfig,l=s.defaultDiagnoseConfig;r=r||e.callback,i=i||e.passedObject;var c=e.buttons||f,h=c.concat([{result:function(e){e.diagnoseButtonDisable=!0;var r=l.diagnoseCallback;n.isFunction(r)&&r(i,e,t),e.close()},disableScopeKey:"diagnoseButtonDisable",label:o,cssClass:"btn-warning"}]),p=function(t){t.title=e.title,t.message=e.message,t.buttons=h,t.eventHandler=function(e){if(n.isFunction(e)){e(t);return}t.close(e)},n.isFunction(r)&&r(t)};return a(u,p,i)},c=function(e,t,n,r){return f({title:e,message:t,buttons:n,passedObject:r})},h=function(e,t,n,r){return l({title:e,message:t,buttons:n,passedObject:r})};return{showDialog:u,showDialogByUrl:a,showMessageDialog:f,showMessageDialogWithDiagnose:l,showMessageDialogSimple:c,showMessageDialogSimpleWithDiagnose:h}}])}),define("common/controllers/commonController",["./controller","angular","app","../cons/aliyunCons","../helper/diagnoseHelper","../services/i18nService","../services/Dialog","../services/topicService"],function(e,t,n,r,i,s){var o=s.getI18n("commonController"),n=n||e;n.provider("commonControllerConfig",function(){var e={labels:{DIALOG_TITLE:o.i18n("dialog.title"),BTN_OK:o.i18n("dialog.btn.ok")}};return{setGlobalLabels:function(t){e&&(e.labels=t)},$get:function(){return e}}}),e.controller("aliyunCommonController",["$scope","$rootScope","aliyunCommonTopicService","aliyunDialog","commonControllerConfig",function(e,n,s,u,a){function h(e){function p(t,n){t&&t.resolve({buttonResult:n,messageOptions:e}),c=null}var n=e,r=a.labels,s,o,l;t.isObject(e)&&(n=e.message,l=i.isAutoDiagnoseEnableByResponse(e),n==undefined&&(e.data&&e.data.message?n=e.data.message:n=f,e.data&&(l=i.isAutoDiagnoseEnableByResponse(e.data))),s=e.modalResultDeferred,o=e.iconClass);var h=[{result:!0,label:r.BTN_OK,cssClass:"btn btn-primary"}],d;return l===!0?d=u.showMessageDialogSimpleWithDiagnose(r.DIALOG_TITLE,n,h,e):d=u.showMessageDialogSimple(r.DIALOG_TITLE,n,h,e),d.result.then(function(e){p(s,e)},function(e){p(s,e)}),c}var f=o.i18n("defaultErrorMsg"),l=r.SHOW_RESPONSE_ERROR_MESSAGE,c;s.subscribe(l,function(e,n){c!=null&&(c.close(!1),c=null),t.isString(n)&&(n={message:n}),n.iconClass="icon-no-2",h(n)})}])}),define("common/directives/topbar-new",["./aliyunCommonDirectives","../cons/aliyunConsTopbar"],function(e,t){e.constant("aliyunConsoleTopbarConf",{version:"beta",productId:"",dataSpm:"100",showGlobalSearch:!0,showLocaleButton:!1}).provider("aliyunConsoleTopbarSetting",["aliyunConsoleTopbarConf",function(e){var t=e;return{setProviderOptions:function(e){angular.extend(t,e)},$get:function(){return t}}}]).directive("aliyunConsoleTopbarNew",["$timeout","$http","aliyunConsoleTopbarSetting",function(e,n,r){var i=function(){function n(n,r){var i=function(e,t){var n=angular.copy(e);return t&&n?n.href=n.href+t:n.href=n.hrefIndex||n.href,n},o=function(e,t){var r=[],i=[],s,o=0;angular.isArray(e)&&(s=e.length,angular.forEach(e,function(e,n){a(e.products,t),i.push(e);if(n%2==1||n==s-1)r.push(i),i=[],o++})),n.productsInfo=r,n.productsListWidth=u(o)},u=function(e){return{width:e*190+20+2+"px"}},a=function(e,t){var r=s.options.productId;angular.forEach(e,function(e,i){angular.isObject(e.href)&&(e.href=t?e.href.jbp||e.href.aliyun:e.href.aliyun),e.id==r&&(n.currentProduct=e)})},f=function(e){e.link&&(n.logoLink=e.link.logoLink,n.userLinks=t(e.link.userLinks),n.homeLink=e.link.homeLink,n.accessKeysLink=e.link.accessKeysLink,n.helpLink=i(e.link.helpLink,n.currentProduct&&n.currentProduct.workorderId),n.searchLink=e.link.searchLink,n.notificationLink=e.link.notificationLink,n.productLink=e.link.productLink)};r?e(function(){n.account=r.account,n.isJBP=r.isJBP,o(r.categoryInfo,r.isJBP),n.notification=r.notice.notification,n.productStatus=r.product,f(r)}):(o(s.options.defaultData.categoryInfo),f(s.options.defaultData))}function r(n,r){var i={"zh-cn":200,en:240},o=function(e,t){var n=angular.copy(e);return angular.isDefined(n)&&angular.forEach(n.links,function(e){e.hrefIndex&&(e.href=t?e.href+t:e.hrefIndex)}),n},u=function(e){var t=[],r=[],i,s=0;angular.isArray(e)&&(i=e.length,angular.forEach(e,function(e,n){f(e.products),r.push(e);if(n%2==1||n==i-1)t.push(r),r=[],s++})),n.productsInfo=t,n.productsListWidth=a(s)},a=function(e){var t=i[n.localeId]||i["zh-cn"];return{width:e*t+20+2+"px"}},f=function(e,t){var r=s.options.productId;angular.forEach(e,function(e,t){e.id==r&&(n.currentProduct=e)})},l=function(e){e.link&&(n.logoLink=e.link.logoLink,n.userLinks=t(e.link.userLinks),n.homeLink=e.link.homeLink,n.accessKeysLink=e.link.accessKeysLink,n.helpLinks=o(e.link.helpLinks,n.currentProduct&&n.currentProduct.workorderId),n.searchLink=e.link.searchLink,n.notificationLink=e.link.notificationLink,n.productLink=e.link.productLink)},c=function(e){n.locale={},n.locale.options=s.options.locale.options,n.locale.show=s.options.locale.show,n.locale.current=h(e),n.changeLocale=function(e){var t=window.location.search,n=s.options.locale.localeKey,r;if(t.indexOf("?")!=-1){t=t.substring(1),r=t.split("&");var i=!1;angular.forEach(r,function(t,s){var o=t.indexOf(n);o!=-1&&(r[s]=t.substring(0,t.indexOf("="))+"="+e.id,i=!0)}),i||r.push(n+"="+e.id)}else r=[n+"="+e.id];var o=window.location.origin+window.location.pathname+"?"+r.join("&")+window.location.hash;window.location=o}},h=function(e){var t=s.options.locale.options,n=t[0];return angular.forEach(t,function(t,r){t.id===e&&(n=t)}),n};r?e(function(){n.account=r.account,n.localeId=r.locale,u(r.categoryInfo),n.notification=r.notice.notification,n.productStatus=r.product,l(r),c(r.locale)}):(n.localeId="zh-cn",u(s.options.defaultData.categoryInfo),l(s.options.defaultData),c("zh-cn"))}var t=function(e){return angular.forEach(e,function(e,t){var n=e.href;angular.isString(n)&&/oauth_callback=$/.test(n)&&(e.href=n+encodeURIComponent(window.location.href))}),e};return{formatInfoForAlpha:n,formatInfoForBeta:r}}(),s={};return s.suffix=function(){var e=window.location.host;if(!e.match(/^.+\.aliyun\.|^aliyun\./))return".com";var t=e.replace(/^.*\.aliyun|^aliyun/i,"");return t||(t=".com"),t}(),s.defaultOptions={productId:"",templateUrl:"scripts/template/topbarAlpha.html",formatter:i.formatInfoForAlpha,defaultData:t.ALPHA_CONS,defaultFormatter:function(e){s.options.formatter(e)},topbarPortal:"//home.console.aliyun"+s.suffix+"/topbarInfo.js",readNoticePortal:"//home.console.aliyun"+s.suffix+"/setNoticeStatus.js",showGlobalSearch:!0},s.versionOptions={alpha:{},beta:{templateUrl:"scripts/template/topbarBeta.html",formatter:i.formatInfoForBeta,topbarPortal:"//home.console.aliyun"+s.suffix+"/topbar/info.js",defaultData:t.BETA_CONS,locale:{options:[{id:"zh-cn",text:"CN"},{id:"en",text:"EN"}],localeKey:"lang",show:r.showLocaleButton}}},s.options=function(){var t=angular.copy(s.defaultOptions);return s.versionOptions[r.version]&&angular.extend(t,s.versionOptions[r.version]),angular.extend(t,r),t}(),{restrict:"A",replace:!0,templateUrl:s.options.templateUrl,transclude:!1,link:function(t,r,i){i.dataSpm||i.$set("dataSpm",s.options.dataSpm),angular.forEach(["productId"],function(e){angular.isDefined(i[e])&&(s.options[e]=i[e])}),angular.forEach(["showGlobalSearch"],function(e){angular.isDefined(s.options[e])&&(t[e]=s.options[e])});var o=function(){n({method:"jsonp",url:s.options.topbarPortal,params:{callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(e){var n=e.data;n&&n.code=="200"&&s.options.formatter(t,n.data)},function(){s.options.defaultFormatter(t)})}();t.readNoticeAction=function(r){r.read||n({method:"jsonp",url:s.options.readNoticePortal,params:{id:r.id,read:!0,callback:"JSON_CALLBACK",timestamp:(new Date).getTime()}}).then(function(n){var i=n.data;i.code=="200"&&e(function(){t.notification.unread>0&&t.notification.unread--,r.read=!0})})}}}}])}),define("common/directives/aliyunNumberRange",["./aliyunCommonDirectives","angular"],function(e,t){e.directive("aliyunNumberRange",function(){return{require:"ngModel",link:function(e,t,n,r){var i=n.valueMin*1||0,s=n.valueMax*1||Number.MAX_VALUE,o=n.rangeEnabled||!0;n.$observe("valueMin",function(e){i=n.valueMin*1||0}),n.$observe("valueMax",function(e){s=n.valueMax*1||Number.MAX_VALUE}),r.$parsers.push(function(e){if(e==undefined)return"";var t;if(typeof e=="string"){var n="";/^-\d*/g.test(e)&&(n="-"),t=n+e.replace(/[^0-9]/g,""),t!=e&&(r.$setViewValue(t),r.$render())}var u=!0,a=t;return t!=="-"?(t=t&&parseInt(t,10),o&&t!==""&&(t<i||t>s)&&(u=!1)):u=!1,r.$setValidity("aliyunNumberRange",u),a})}}})}),define("common/directives/aliyunConsolePagination",["./aliyunCommonDirectives","angular","../services/i18nService","./aliyunNumberRange"],function(e,t,n){var r=5,i=n.getI18n("directives.aliyunConsolePagination");e.directive("aliyunConsolePagination",["$compile",function(e){return{restrict:"AM",scope:{paginationInfo:"=",maxSize:"=",onSelectPage:"&"},replace:!0,templateUrl:"scripts/template/consolePagination.html",transclude:!1,link:function(e,t,n,s){var o=n.showPageGoto==1||n.showPageGoto=="true";e.$watch("paginationInfo",function(t){if(t&&o){var n=t.total,i=t.pageSize,s=t.pageSizeSetting,u=Math.ceil(n/i);t.totalPage=u,t.pageSizeSetting=s,t.showPageGoto=u>=r,e.pageGoto=""}}),e.$watch("pageGoto",function(t){t&&t!="0"&&t>0?e.gotoPageBtnDisabled=t>e.paginationInfo.totalPage:e.gotoPageBtnDisabled=!0}),e.$watch("paginationInfo.pageSize",function(t,n){t&&t!=n&&e.pageChangedHandler(1,t)}),e.gotoPage=function(){e.pageChangedHandler(e.pageGoto)},e.pageChangedHandler=function(t){e.onSelectPage({page:t,pageSize:e.paginationInfo.pageSize})},e.i18nMessage=i.localMessage}}}])}),function(e,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("spinjs",t):e.Spinner=t()}(this,function(){"use strict";function r(e,t){var n=document.createElement(e||"div"),r;for(r in t)n[r]=t[r];return n}function i(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(e,r,i,o){var u=["opacity",r,~~(e*100),i,o].join("-"),a=.01+i/o*100,f=Math.max(1-(1-e)/r*(100-a),e),l=n.substring(0,n.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return t[u]||(s.insertRule("@"+c+"keyframes "+u+"{"+"0%{opacity:"+f+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+r)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",s.cssRules.length),t[u]=1),u}function u(t,n){var r=t.style,i,s;n=n.charAt(0).toUpperCase()+n.slice(1);for(s=0;s<e.length;s++){i=e[s]+n;if(r[i]!==undefined)return i}if(r[n]!==undefined)return n}function a(e,t){for(var n in t)e.style[u(e,n)||n]=t[n];return e}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===undefined&&(e[r]=n[r])}return e}function l(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function c(e,t){return typeof e=="string"?e:e[t%e.length]}function p(e){if(typeof this=="undefined")return new p(e);this.opts=f(e||{},p.defaults,h)}function d(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}s.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,n){function o(){return a(e("group",{coordsize:s+" "+s,coordorigin:-r+" "+ -r}),{width:s,height:s})}function h(t,s,u){i(f,i(a(o(),{rotation:360/n.lines*t+"deg",left:~~s}),i(a(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:u}),e("fill",{color:c(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,s=2*r,u=-(n.width+n.length)*2+"px",f=a(o(),{position:"absolute",top:u,left:u}),l;if(n.shadow)for(l=1;l<=n.lines;l++)h(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)h(l);return i(t,f)},p.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var e=["webkit","Moz","ms","O"],t={},n,s=function(){var e=r("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};p.defaults={},f(p.prototype,{spin:function(e){this.stop();var t=this,i=t.opts,s=t.el=a(r(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),o=i.radius+i.length+i.width,u,f;e&&(e.insertBefore(s,e.firstChild||null),f=l(e),u=l(s),a(s,{left:(i.left=="auto"?f.x-u.x+(e.offsetWidth>>1):parseInt(i.left,10)+o)+"px",top:(i.top=="auto"?f.y-u.y+(e.offsetHeight>>1):parseInt(i.top,10)+o)+"px"})),s.setAttribute("role","progressbar"),t.lines(s,t.opts);if(!n){var c=0,h=(i.lines-1)*(1-i.direction)/2,p,d=i.fps,v=d/i.speed,m=(1-i.opacity)/(v*i.trail/100),g=v/i.lines;(function y(){c++;for(var e=0;e<i.lines;e++)p=Math.max(1-(c+(i.lines-e)*g)%v*m,i.opacity),t.opacity(s,e*i.direction+h,p,i);t.timeout=t.el&&setTimeout(y,~~(1e3/d))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=undefined),this},lines:function(e,t){function l(e,n){return a(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var s=0,u=(t.lines-1)*(1-t.direction)/2,f;for(;s<t.lines;s++)f=a(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:n&&o(t.opacity,t.trail,u+s*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(f,a(l("#000","0 0 4px #000"),{top:"2px"})),i(e,i(f,l(c(t.color,s),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var v=a(r("group"),{behavior:"url(#default#VML)"});return!u(v,"transform")&&v.adj?d():n=u(v,"animation"),p}),define("common/directives/loading",["app","spinjs"],function(e,t){e.directive("aliyunLoading",function(){return{restrict:"A",replace:!0,link:function(e,n,r){var i={12:{lines:8,length:1,width:2,radius:3},16:{lines:8,length:2,width:2,radius:4},24:{lines:9,length:3,width:3,radius:6},32:{lines:9,length:4,width:4,radius:8},40:{lines:10,length:6,width:4,radius:10},48:{lines:10,length:6,width:5,radius:13},64:{lines:12,length:10,width:5,radius:16}},s=i[r.size]||i[16];s.zIndex=99;if(n[0]&&n[0].children&&n[0].children[0]&&n[0].children[0].className=="spinner")return;var o=(new t(s)).spin(n[0])}}})}),define("common/directives/searchBar",["./aliyunCommonDirectives","angular","../services/i18nService"],function(e,t,n){var r=n.getI18n("directives.searchBar");e.directive("aliyunConsoleSearchBar",function(){return{restrict:"AM",scope:{dimensions:"=",initConfig:"&",searchAction:"&",searchText:"=",preSelection:"@"},templateUrl:"scripts/template/searchBar.html",link:function(e,n,i){function u(n){if(o){var r;t.forEach(n,function(e){e.value==o.key&&(r=e)}),r&&(s=!0,e.selectItem=r)}}function f(){e.selectItem=e.dimensions[0],e.inputType=e.selectItem&&e.selectItem.type||a,e.maxDate=new Date}e.searchForm={},e.formScope={opened:!1};var s=!1,o;e.preSelection&&(o=t.fromJson(e.preSelection));var a="text";e.$watch("dimensions",function(n){n&&t.isArray(n)&&(f(),e.initConfig({data:e}),u(n))}),e.$watch("searchForm.searchText",function(t){e.searchText!=t&&(e.searchText=t)}),e.$watch("searchText",function(t){e.searchForm.searchText!=t&&(e.searchForm.searchText=t),t||(e.searchForm.subSelectSearchText="")}),e.$watch("selectItem",function(n){n&&(e.inputType=n.type||a,s?(s=!1,e.searchForm.searchText=o&&o.value||""):e.searchForm.searchText="",n&&n.type=="date"&&(e.searchForm.searchText=n.defaultValue||new Date),n.type=="subSelect"&&n&&n.subSelectDimensions&&(e.searchForm.subSelectSearchText=n.subSelectDimensions[0],t.forEach(n.subSelectDimensions,function(t,n){t.isDefault==1&&(e.searchForm.subSelectSearchText=t)})))}),e.search=function(){var n=e.selectItem,r=t.copy(e.searchForm.searchText)||"";e.inputType=="date"&&r!=""&&(r=(new Date(r)).getTime()),e.inputType=="select"&&n&&n.defaultValue&&(r=n.defaultValue),e.inputType=="subSelect"&&e.searchForm.subSelectSearchText&&(r=e.searchForm.subSelectSearchText.value),e.searchAction({data:{key:n&&n.value||"",value:r}})},e.open=function(t){t.preventDefault(),t.stopPropagation(),e.formScope.opened=!e.formScope.opened},e.i18nMessage=r.localMessage}}})}),define("common/directives/tableSearch",["./aliyunCommonDirectives","angular"],function(e,t){e.directive("aliyunConsoleTableSearch",function(){return{restrict:"AM",scope:{initAction:"&",clickAction:"&",preSelectedId:"=",items:"=",selectItem:"=?"},replace:!1,templateUrl:"scripts/template/tableSearch.html",transclude:!0,link:function(e,n,r){var i=r.filterField;e.spmPrefix=r.spmPrefix||67,e.$watch("items",function(n){n&&t.isArray(n)&&(e.showDropdown=e.items.length>1?!0:!1,e.selectItem=e.items[0],t.isFunction(e.initAction)&&e.initAction({data:e.items}))}),e.$watch("selectItem",function(n){n==undefined&&t.isArray(e.items)&&(e.selectItem=e.items[0])}),e.$watch("preSelectedId",function(n){if(!t.isArray(e.items))return;if(n==undefined){e.selectItem=e.items[0];return}t.forEach(e.items,function(t){t.id==n&&(e.selectItem=t)})}),e.search=function(n){e.selectItem=n,t.isFunction(e.clickAction)&&(i!=undefined?e.clickAction({data:{item:n,filterField:i}}):e.clickAction({data:n}))}}}})}),define("common/directives/noneDataInfo",["./aliyunCommonDirectives"],function(e){e.directive("aliyunNoneDataInfoTip",[function(){return{restrict:"A",scope:!0,replace:!0,transclude:!0,template:'<div class="row-padding row-margin text-center"><span class="text-size-16 text-success icon-info-1" style="vertical-align: middle"></span><div class="text-size-16 tip-text inline-block" data-ng-transclude></div></div>'}}])}),define("common/directives/tableFixed",["app"],function(e){e.directive("aliyunTableFixed",function(){return{restrict:"A",link:function(e,t,n){function o(){i=t,r=t.parents("table.table");var n=r.css("margin-bottom")||"0px";r.siblings("table.table-fixed").length?s=r.siblings("table.table-fixed"):(s=angular.element('<table  class="table table-fixed"></table>'),s.css({margin:"0px","z-index":"99"})),i.appendTo(s),r.after(s),e.$on("$destroy",function(){s.remove(),r.css("margin-bottom",n)}),setTimeout(function(){l(),r.css("margin-bottom",i.outerHeight()+"px")}),angular.element(window).bind("resize",l),angular.element(window).bind("scroll",c)}function l(){i.find("td").eq(0).css("width",r.find("th").eq(0).outerWidth()+"px");var e=r.offset().top+r.outerHeight()+i.outerHeight()-1,t=document.documentElement.clientHeight;e>t?(s.css({width:r.outerWidth()+"px"}),a()):(s.css({width:"100%"}),f())}function c(e){var t=angular.element(window).scrollTop()<0?0:angular.element(window).scrollTop(),n=r.offset().top+r.outerHeight()+i.outerHeight(),s=t+document.documentElement.clientHeight;n<s?f():a()}var r,i,s,u,a=function(){u=!0,s.css({position:"fixed","margin-top":"0px",bottom:"0px"})},f=function(){u=!1,s.css({position:"relative","margin-top":-i.outerHeight()-1,bottom:"auto"})};o(),e.$on("$destroy",function(){angular.element(window).unbind("resize",l),angular.element(window).unbind("scroll",c)})}}})}),define("common/directives/simpleGrid",["./aliyunCommonDirectives","angular","../services/i18nService","./aliyunConsolePagination","bindonce","./loading","./searchBar","./tableSearch","./noneDataInfo","./tableFixed"],function(e,t,n){function i(e,t){var n="";if(e.searchSupport){var r="";e.preSelectionSearch&&(r=' pre-selection="{{searchParams}}"'),n='<div aliyun-console-search-bar search-text="searchParams.value" dimensions="searchItems" search-action="searchAction(data)" search-text="searchParams.searchCondition" '+r+"></div>"}t.find(".searchSection").html(n)}function s(e,t){var n="";if(e.tagSearchSupport){var i=function(){};typeof e.tagSearch.selectTagsCallback=="function"&&(i=e.tagSearch.selectTagsCallback),e.tagSearch.validSelectTagsCallback=i,n='<div style="margin: 4px 0 4px 8px;"><button class="btn btn-default" aliyun-console-tag-select aliyun-console-spm="1002"ng-disabled = "config.tagSearch.disabledSelect" change-selected-tags-callback = " config.tagSearch.validSelectTagsCallback(data)" selected-Tags="config.tagSearch.selectedTags"key-list="config.tagSearch.keyList"value-list="config.tagSearch.valueList"><span class="glyphicon glyphicon-tags"></span>&nbsp;<span>'+r.i18n("tagButton")+"</span></button>"+'<div class="inline-block" aliyun-console-tag-select-view change-selected-tags-callback = "config.tagSearch.validSelectTagsCallback(data)"  selected-Tags="config.tagSearch.selectedTags"></div>'+"</div>"}t.find(".tagSearchSection").html(n)}function o(e,t){var n=f(e,t),r=l(e,t),i=a(e,t);return'<table class="table table-hover">'+n+r+i+"</table>"}function u(e){var t=e?"th":"td";return"<"+t+' width="10"><input type="checkbox" data-ng-model="tableState.selectAll" ng-change="changeSelectionAll()" aria-label="'+r.i18n("selectAll")+'" /></'+t+">"}function a(e,t){var n="";t.checkboxSupport&&(n=u(!1));var r=e.length,i="";if(t.paginationInfo){var s=t.paginationInfo.showPageGoto;s&&(i=' show-page-goto="'+t.paginationInfo.showPageGoto+'" ')}var o='<div data-ng-if="paginationSupport && showNoneDataInfoTip != true && !loadingState"><div class="pull-right" aliyun-console-pagination pagination-info="paginationInfo" '+i+' max-size="maxSize"'+' on-select-page="pageChanged(page, pageSize)"></div></div>',a=t.batchOperationBarDirective||"",f='<div class="pull-left">'+a+"</div>",l='<td colspan=" '+r+'" >'+f+o+"</td>",c="",h=t.tfootPositionFixed;return h==1&&(c=" aliyun-table-fixed "),a!=""||t.paginationSupport?"<tfoot "+c+' ng-if="!showNoneDataInfoTip"><tr>'+n+l+"</tr></tfoot>":""}function f(e,n){var r="";return n.checkboxSupport&&(r=u(!0)),t.forEach(e,function(e){var t=e.cssProperty?' class="'+e.cssProperty+'" ':"",i=e.filterOptionKey,s="",o="",u="";n.preSelectionFilter&&(o=' pre-selected-id="filterParams.'+i+'"'),i?s=" aliyun-console-table-search "+o+' select-item="filterItemMap.'+i+'"   filter-field="'+i+'" items="filterItems.'+i+'" click-action="changeTheadFilter(data)" ':(n.clientSort&&e.field&&e.disableSort!=1&&(u='<span class="icon-updown btn-link" data-ng-click="clientSortHandler(\''+e.field+"', sortReverse)\"></span>"),n.serverSort&&e.field&&e.serverSortEnabled==1&&(u='<span class="icon-updown btn-link" data-ng-click="serverSortHandler(\''+e.field+"', sortReverse)\"></span>")),r+="<th"+t+s+">"+e.name+u+"</th>"}),"<thead><tr>"+r+"</tr></thead>"}function l(e,n){var r=n.useBindOnce?"bindonce":"",i=n.rowItemName?n.rowItemName:"item",s=n.itemList||"store",o="";if(n.checkboxSupport){n.selectedScopeProperty=n.selectedScopeProperty||"selectedItems";var u=i+"."+n.selectedProperty,a=n.checkboxDisabledProperty,f="";a&&(f=' data-ng-disabled="'+i+"."+a+'" '),o='<td width="10"><input type="checkbox" '+f+' data-ng-model="'+u+'" ng-change="changeSelection({data: '+i+'})"/></td>'}t.forEach(e,function(e){var t=c(e,i,r),n=e.cssProperty?' class="'+e.cssProperty+'" ':"";o+="<td"+n+">"+t+"</td>"});var l=n.columnsClass?' data-ng-class="'+n.columnsClass+'" ':"";return'<tbody><tr text-editor-trigger-target  data-ng-if="!loadingState" '+l+" "+r+' data-ng-repeat="'+i+" in "+s+'">'+o+"</tr></tbody>"}function c(e,t,n){var r="",i=e.filter,s=e.field,o=t+"."+s,u=e.filedDirective||e.fieldDirective;if(u)return u;if(s){i&&(o+="|"+i);if(e.truncateText){var a=e.truncateTextLegnth||e.truncateTextLength,f=a?" text-length="+a:"",l=e.copyText?" copy-text="+e.copyText:"",c=e.tooltipPlacement?" tooltip-placement="+e.tooltipPlacement:"";r='<span aliyun-truncate-text source-text="{{'+o+'}}" '+f+l+c+"></span>"}else if(e.bindable==1||n==0)e.htmlField?r="<span ng-bind-html="+o+" ></span>":r="{{"+o+"}}";else{var h=e.htmlField?"bo-html":"bo-text";r="<span "+h+'="'+o+'"></span>'}}return r}function h(e){var n={};t.extend(n,e.pageInfo),t.extend(n,e.filterParams);var r=e.searchParams;if(r){var i={};r.key&&r.value&&(i[r.key]=r.value),t.extend(n,i)}return n}var r=n.getI18n("directives.simpleGrid");e.directive("aliyunSimpleGrid",["$compile","$filter",function(e,n){return{restrict:"A",scope:{columns:"=",store:"=",config:"=",paginationInfo:"=",loadingState:"=",renderTable:"&",searchPreHandler:"&",selectionChange:"&"},templateUrl:"scripts/template/simpleGrid.html",controller:["$scope",function(e){e.initTableRequestSend=!1,e._searchPreHandler=function(n,r){t.isFunction(e.searchPreHandler)&&e.searchPreHandler({data:{data:n,scope:e,isTableFilter:r}})},e.changeSelectionAll=function(){var n=e.config,r=n.selectedProperty,i=n.checkboxDisabledProperty,s=e.tableState.selectAll,o=[];t.forEach(e.store,function(e,t){if(!i||!e[i])e[r]=s,s&&o.push(e)}),e.selectionChangeHandler(o)},e.clientSortHandler=function(r){e.reserves=!e.reserves;var i;t.forEach(e.columns,function(e){e&&e.field&&e.field==r&&(i=e)});if(i&&t.isFunction(i.sortFunction))i.sortFunction.call(null,e.store,r,e.reserves);else{var s=n("orderBy");e.store=s(e.store,r,e.reserves)}},e.serverSortHandler=function(n){var r;t.forEach(e.columns,function(e){e&&e.field&&e.field==n&&(r=e)}),r&&(r.asc=!r.asc),e.updateList(!1,{sortField:n,isAsc:r.asc})},e.changeSelection=function(n){var r=e.config.selectedProperty;n[r]=!n[r];var i,s=!0,o=[];t.forEach(e.store,function(e,t){var n=e[r];t==0&&(i=n),i!=n&&(s=!1),n&&o.push(e)}),s==1?e.tableState.selectAll=i:e.tableState.selectAll=!1,e.selectionChangeHandler(o)},e.selectionChangeHandler=function(t){var n=e.config.selectedScopeProperty;e[n]=t,e.config.selectedItems=t,e.selectionChange({data:t})},e.refreshCurrentView=function(){var t=e.config.selectedScopeProperty;e[t]=[],e.initSearchAndFilterCondition(),e.updateList()},e.initSearchAndFilterCondition=function(){e.clearFilterCondition(),e.searchParams={}},e.clearFilterCondition=function(){e.filterItemMap={},e.filterParams={}}}],link:function(n,u,a){n.tableState={selectAll:!1},n.initSearchAndFilterCondition(),n.changeTheadFilter=function(e){n._searchPreHandler(e,!0);var t=e.filterField,r=e.item;n.filterItemMap[t]=r;var i=n.filterParams||{};t&&(r.id=="all"?delete i[t]:i[t]=r.id),n.filterParams=i,n.paginationInfo.page=1,n.searchParams={},n.updateList()},n.pageChanged=function(e,t){n.paginationInfo.page=e,n.paginationInfo.pageSize=t,n.selectionChangeHandler([]);var r=n.config;r.serverSort&&r.sortSetting?n.updateList(!1,r.sortSetting,"pageChanged"):n.updateList(undefined,undefined,"pageChanged")},n.searchAction=function(e){n._searchPreHandler(e,!1),n.config.paginationSupport&&n.paginationInfo&&(n.paginationInfo.page=1),n.clearFilterCondition(),n.searchParams=e,n.updateList(undefined,undefined,"search")},n.updateList=function(e,t,r){e&&(n.initTableRequestSend=!0,n.tagSearchInitRequestSend=!0);var i=n.config,s=n.paginationInfo,o={};i.paginationSupport&&(s==undefined&&(s=i.paginationInfo),n.maxSize=i.paginationInfo.maxSize||3,o.pageInfo={pageSize:s.pageSize,currentPage:s.page}),i.filterItems&&(o.filterParams=n.filterParams),i.searchItems&&(o.searchParams=n.searchParams),i.tagSearch&&i.tagSearch.selectedTags&&i.tagSearch.selectedTags.length>0&&(o.selectedTags=i.tagSearch.selectedTags),t&&(i.sortSetting=t),n.ajaxOptions=h(o),n.renderTable({data:{params:h(o),isInitTableRequest:e,sortSetting:t,actionType:r,orginalParams:o}})},n.updateSelectionExternal=function(e){n.selectionChangeHandler(e)},n.$watchCollection("[config, columns]",function(a){if(a){var f=a[0];f.filterItems&&(n.filterItems=f.filterItems),f.searchItems&&(n.searchItems=f.searchItems),f.preSelectionFilter&&(n.filterParams=f.preSelectionFilter),f.preSelectionSearch&&(n.searchParams=f.preSelectionSearch),f.checkboxSupport&&f.selectedProperty==undefined&&(f.selectedProperty="selected"),f.clientSort==1&&f.serverSort==1&&(f.serverSort=!1),f.refreshCurrentView=n.refreshCurrentView,f.clearFilterCondition=n.clearFilterCondition,t.isFunction(f.updateSelectionExternal)||(f.updateSelectionExternal=n.updateSelectionExternal);var l=a[1],c;f.noneDataInfoDirective?c='<div class="simple-grid-none-data text-center" '+f.noneDataInfoDirective+' ajax-options="ajaxOptions"  data-ng-if="showNoneDataInfoTip && !loadingState" ></div>':c='<div class="simple-grid-none-data "  aliyun-none-data-info-tip  data-ng-if="showNoneDataInfoTip && !loadingState"><span class="margin-left" ng-bind-html="noneDataInfoMessage"></span></div>',c=t.element(c),u.find(".simple-grid-none-data-wrap").html(c),n.noneDataInfoMessage=r.i18n("noneDataInfoMessage"),n.paginationSupport=f.paginationSupport;var h=i(f,u);s(f,u);var p=o(l,f);u.find(".gridSection").html(p),e(u.contents())(n),n.initTableRequestSend==0&&n.updateList(!0)}}),n.$watchCollection("[store, paginationInfo]",function(e){if(e){var t=e[0]||[];n.showNoneDataInfoTip=t.length==0?!0:!1,n.tableState.selectAll=!1;var r=e[1];t.length==0&&r&&r.page>1&&(n.paginationInfo.page-=1,n.updateList())}}),n.$watch("config.tagSearch.selectedTags",function(e){e&&e.length>=0&&(n.tagSearchInitRequestSend?n.tagSearchInitRequestSend=!1:n.updateList(!1))},!0)}}}])}),define("common/directives/globalNotice",["./aliyunCommonDirectives","../services/i18nService","angular"],function(e,t,n){e.directive("aliyunConsoleGlobalNotice",["$rootScope","$http","$timeout","$sce",function(e,r,i,s){return{restrict:"A",templateUrl:"scripts/template/globalNotice.html",link:function(e,o,u){function p(){var t={method:"jsonp",url:c,params:{id:u.productId,callback:"JSON_CALLBACK"}};r(t).then(function(t){t&&t.data&&t.data.code=="200"&&t.data.data.notice&&(e.notices=d(t.data.data.notice.announcement.data),e.notices.length>1?g():e.notices.length==1&&(e.notices[0].active=!0))})}function d(t){var r=n.isFunction(e.noticeDataHandler)?e.noticeDataHandler(t)||t:t;return n.forEach(r,function(e,t){e.className=h[e.alert_type]||h[0],e.content=s.trustAsHtml(e.content)}),r}function g(){var t=e.notices.length;n.forEach(e.notices,function(e,t){e.active=t==0}),e.currentNotice=e.notices[0],e.currentIndex=0,e.innerPaddingLeft=S(t),b(),o.on("mouseenter",function(){m&&w()}),o.on("mouseleave",function(){m||b()})}function y(t){n.forEach(e.notices,function(n,r){n.active=!1,t.id==n.id&&(e.currentIndex=r)}),t.active=!0,e.currentNotice=t}function b(){if(e.notices.length>1&&n.isDefined(e.currentIndex)&&n.isDefined(e.currentNotice)){var t=E(e.currentIndex);m=i(function(){y(t),b()},v)}}function w(){m&&(i.cancel(m),m=undefined)}function E(t){var r=e.notices.length;if(!n.isDefined(r)||t>=r||r==0)return;return t==r-1?e.notices[0]:e.notices[t+1]}function S(e){return e==1&&(e=0),{"padding-left":e*15+15+"px"}}function x(t){var n=e.notices.length;if(n>0)return e.innerPaddingLeft=S(n),t==n?e.notices[0].active=!0:e.notices[t].active=!0}var a=t.getI18n("directives.globalNotice");e.i18nMessage=a.localMessage;var f=function(){var e=window.location.hostname;if(!e.match(/^.+\.aliyun\.|^aliyun\./))return".com";var t=e.replace(/^.*\.aliyun|^aliyun/i,"");return t||(t=".com"),t}(),l="//home.console.aliyun"+f+"/setNoticeStatus.js"+"?timestamp="+(new Date).getTime(),c="//home.console.aliyun"+f+"/listAnnouncement.js"+"?timestamp="+(new Date).getTime(),h={0:"alert-warning",1:"alert-success",2:"alert-danger",3:"alert-info"};p(),e.readNotice=function(t){var i;r({method:"jsonp",url:l,params:{id:t.id,show:!1,callback:"JSON_CALLBACK"}}),n.forEach(e.notices,function(n,r){n.id==t.id&&(e.notices.splice(r,1),i=r)}),x(i)};var v=1e4,m;e.changeCurrentNotice=y}}}])}),define("common/directives/remoteValidator",["angular","./aliyunCommonDirectives","../helper/responsePreHandler"],function(e,t,n){t.directive("remoteValidator",function(){return{require:"ngModel",scope:{remoteService:"=",remoteAction:"=",remoteWatch:"="},controller:["$scope","$injector","$timeout",function(e,t,r){function i(e){if(e)return e.data}e.updateValidity=function(e,t,n){r(function(){e.$setValidity(t,n)})},e.verify=function(r,s,o,u){var a=!0,f=s.name,l=s.checkValidate,c="remoteValidator4"+f;r[f](o).then(function(r){if(l)a=l(r);else{var s=n.responsePreHandler(r,t,!0,!0);a=i(s)}e.updateValidity(u,c,a)},function(){e.updateValidity(u,c,!0)})}}],link:function(t,n,r,i){function s(e,t){return{name:e.$modelValue}}function o(e,t){return!0}var u=0,a=function(n){clearTimeout(u),u=setTimeout(function(){var n=t.remoteService,r=t.remoteAction,u=e.isFunction(r.needVerify)?r.needVerify:o;if(!n||!r)throw new Error("remoteValidator need remoteService and remoteAction");var a=!0,f=r.getActionParam||s,l=f.apply(r,[i,t]),c={};switch(r.method){case"POST":c={method:"POST",data:l};break;default:c={method:"GET",params:l}}var h=u.apply(r,[i,t]);h==1?t.verify(n,r,c,i):t.updateValidity(i,"remoteValidator4"+r.name,h.valid)},500)},f=n.attr("type")||n.prop&&n.prop("type")||"";switch(f){case"text":case"textArea":n.on("keyup",a);break;case"select-one":case"select":n.on("change",a);break;default:n.on("keyup",a)}t.$watch("remoteWatch",function(e){e&&a()})}}})}),define("expenseCenter/initConfig",["angular","app","common/helper/i18nHelper","base/helpers/monthHelper","base/cons/cons","base/utils/expenseCenterVariablesService","common/modelSystem/modelSystemCore","base/services/resourceLoadService","common/controllers/commonController","common/services/aliyunHttpHandler","common/directives/topbar-new","common/directives/simpleGrid","common/directives/globalNotice","common/directives/remoteValidator"],function(e,t,n,r,i,s,o){var u=n.i18n;t.config(["aliyunConsoleSettingProvider",function(t){t.setProviderOptions({linkHandler:function(e){return e},httpOptionInterceptor:function(e){e.data._csrf_token=s.getSecToken},httpOptionWrapper:function(t){var n=t.params||t.data;if(n)for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];e.isDate(i)&&(n[r]=i.getTime())}return t},sessionTimeoutCode:"ConsoleNeedLogin",sessionTimeoutLink:s.getKeyFromConstants("loginLink")})}]),t.config(["$tooltipProvider",function(e){e.options({appendToBody:!0})}]),t.config(["captchaCodeConfigProvider",function(e){e.setSessionId(s.getKeyFromConstants("CAPTCHA_UNIQUE_ID")),e.setIdentity(s.getKeyFromConstants("CAPTCHA_IDENTITY"))}]);var a=[{title:u("expense.base.sidebar.interior.account.home"),state:"account.home",includes:["account"]},{title:u("expense.base.sidebar.interior.incomeExpense.cash"),state:"incomeExpense.cash",includes:["incomeExpense"]},{title:u("expense.base.sidebar.interior.consumption"),state:"consumption",childs:[{title:u("expense.base.sidebar.interior.consumption.outline"),state:"consumption.outline"},{title:u("expense.base.sidebar.interior.consumption.list"),state:"consumption.list.flow",params:{payType:"afterpay"},includes:["consumption.list.flow","consumption.detail","consumption.instDetail","consumption.list.resource","consumption.resourceDetail"]},{title:u("expense.base.sidebar.interior.consumption.usageRecord"),state:"consumption.usageRecord"}]},{title:u("expense.base.sidebar.interior.orderManage"),state:"orderManage.list",includes:["orderManage.list","orderManage.detail"]},{title:u("expense.base.sidebar.interior.coupon"),state:"coupon"},{title:u("expense.base.sidebar.interior.coupons"),state:"coupons.lists"},{title:"储值卡管理",state:"storedCard"},{title:"资源包管理",state:"flow",childs:[{title:"资源包概览",state:"flow.home"},{title:"使用明细",state:"flow.list"}]},{title:u("expense.base.sidebar.interior.invoice"),state:"invoice",childs:[{title:u("expense.base.sidebar.interior.invoice.create"),state:"invoice.create"},{title:u("expense.base.sidebar.interior.invoice.list"),state:"invoice.list"},{title:u("expense.base.sidebar.interior.invoice.titleManage"),state:"invoice.titleManage",includes:["invoice.titleEdit","invoice.titleManage"]},{title:u("expense.base.sidebar.interior.invoice.address"),state:"invoice.address"}]},{title:u("expense.base.sidebar.interior.remittance.submit"),state:"remittance.submit",includes:["remittance"]},{title:u("expense.base.sidebar.interior.refund"),state:"refund",childs:[{title:u("expense.base.sidebar.interior.refund.product"),state:"refund.product.ecs",includes:["refund.product.market","refund.product.ecs","refund.product.rds"]},{title:u("expense.base.sidebar.interior.refund.refundRecord"),state:"refund.refundRecord.ecs",includes:["refund.refundRecord.market","refund.refundRecord.ecs","refund.refundRecord.rds"]}]},{title:u("expense.base.sidebar.interior.contract"),state:"contract",childs:[{title:u("expense.base.sidebar.interior.contract.apply"),state:"contract.apply.selectOrder",includes:["contract.apply.selectOrder","contract.apply"]},{title:u("expense.base.sidebar.interior.contract.manage"),state:"contract.manage",includes:["contract.manage"]}]},{title:"云大使",state:"ambassador.ticket.product",includes:["ambassador"]},{title:"SLA赔偿",state:"slaCompensation.list",includes:["slaCompensation"]},{title:"可用性中心",outlet:{url:"https://sla.console.aliyun.com",target:"_self"}}],f={title:"账单分析",state:"billCenter",childs:[{title:"产品账单分析",state:"billCenter.billDetail"}]};a.splice(3,0,f),ALIYUN_EXPENSECENTER_CONSOLE_CONFIG.ISGLOBAL_ACCOUNT_NUMBER&&ALIYUN_EXPENSECENTER_CONSOLE_CONFIG.ISGLOBAL_ACCOUNT_NUMBER=="true"&&a.push({title:"网商银行信任付签约管理",state:"mybank"}),a[2].childs.push({title:"实例消费明细",state:"consumption.list.consumeinstance"}),a[2].childs.push({title:"月度成本消耗",state:"consumption.list.fentanpay"}),a[2].childs.push({title:"导出记录",state:"consumption.downloadRecord"}),a[2].childs.push({title:"存储到OSS",state:"consumption.storeToOss"}),t.constant("NAVBAR_CONS",a).run(["$injector","$rootScope","NAVBAR_CONS","viewFrameworkSetting","productNavBarSetting","resourceLoadService","$state","$templateCache",function(t,n,i,o,a,f,l,c){r.init(t),window.$global=window.$global||{},window.$global.$templateCache=c,o.setSidebar("mini"),o.setProductNavBar("col-1"),o.setProductId("expenseCenter"),o.setVersion("v3"),a.setTitle(u("expense.base.sidebar.interior.expense.name")),a.setMainNav(i),f.init(s.getKeyFromConstants("MODULES")),n.$on("$stateChangeStart",function(n,r,i,s,o){var u=!1,a=/^\w+\.{0,1}/,c=a.exec(r.name)[0];c[c.length-1]=="."&&(c=c.substring(0,c.length-1));if(!f.isLoaded(c)){n.preventDefault();var h=f.loadResource(c,r);h&&e.isFunction(h.then)&&h.then(function(){l.go(r,i)})}else!u&&typeof r.name=="string"&&r.name.indexOf("contract.apply")>-1&&t.invoke(["contractStepAuth",function(e){u=!0,e.auth(n,r,i,s,o)||n.preventDefault()}])})}]).config(["$translateProvider",function(e){window.$global=window.$global||{},window.$global.translations=e.translations;var t=window.ALIYUN_CONSOLE_MESSAGE||{};e.translations("zh",t),e.preferredLanguage("zh"),n.i18nConfig(t)}]).factory("i18nResourcesLoader",["$q",function(t){return function(n){var r=t.defer(),i=e.isArray(n.key)?n.key:[n.key];return require(i,function(e){r.resolve({key:"zh",table:e})}),r.promise}}])}),define("base/controllers/controllers",["angular","common/modelSystem/modelSystemBaseController","common/modelSystem/lazyModule"],function(e,t,n){var r=e.module("expenseCenterControllers",[]);return r.controller=t.wrapController(r),r}),define("base/controllers/_base",["./controllers"],function(){return{}}),define("base/directives/directives",["angular","common/modelSystem/modelSystemBaseController"],function(e,t){var n=e.module("expenseCenterDirectives",[]);return n.controller=t.wrapController(n),n}),define("base/directives/staticFieldWithFilter",["./directives","angular"],function(e,t){function n(e){function t(t,n,r){var i='<span class="staticFieldWithFilter" > {{'+t.fieldValue+" | "+t.filterName+"}} </span>";n.empty(),n.html(i),e(n.contents())(t)}return{restrict:"A",scope:{fieldValue:"@",filterName:"@"},link:t}}e.directive("staticFieldWithFilter",n),n.$inject=["$compile"]}),define("base/directives/directiveParser",["app","./directives"],function(e,t,n){function r(e){function t(t,n,r){var i=r.directiveParser;n.empty(),n.html(i),e(n.contents())(t)}return{replace:!0,restrict:"A",link:t}}t.directive("directiveParser",r),r.$inject=["$compile"]}),define("base/directives/simpleTab",["app","./directives","../cons/cons"],function(e,t,n){function r(e){e.tabCurrentIndex=e.tabCurrentIndex?e.tabCurrentIndex:0,e.selectItem=function(t){e.tabCurrentIndex=e.tabItems.indexOf(t)}}function i(){return{restrice:"A",scope:{tabItems:"=",tabCurrentIndex:"="},templateUrl:n.BASE_PARTIALS_PATH+"simpleTab.html",controller:"simpleTabController"}}t.controller("simpleTabController",r),t.directive("simpleTab",i),r.$inject=["$scope"]}),define("base/directives/smsControl",["./directives","angular","i18nHelper"],function(e,t,n){function r(){function a(e){u.remoteService=e}function f(e){u.responseHandler=e}function l(){u.defaultLabel=e,u.countDownTpl=t,u.remoteService=null,u.responseHandler=null}var e=n.i18n("expense.base.sms.sendCheckCode"),t=n.i18n("expense.base.sms.resend","{{countDown}}"),r,i,s=e,o=t,u={remoteService:r,setResponseHandler:f,defaultLabel:s,countDown:60,countDownTpl:o,reset:l};this.$get=function(){return u}}function i(e,t,n,r){function l(){var e=t(function(){c(--a),a<1&&(h(),t.cancel(e))},1e3)}function c(e){i.btnLabel=u.replace(/\{\{countDown\}\}/,e||s)}function h(){i.isBtnDisabled=!i.isBtnDisabled,i.isBtnDisabled?c():i.btnLabel=o}var i=this,s=n.countDown,o=n.defaultLabel,u=n.countDownTpl,a=0,f=n.remoteService||r.sendSmsVerficationCode;i.btnLabel=o,i.isBtnDisabled=!1,i.generateCode=function(){if(i.isBtnDisabled)return;h(),f(e.smsServiceParam).then(function(e){a=e,c(a),l()},function(){h()})}}function s(){return{restrict:"A",template:'<button class="btn btn-default" ng-disabled="sms.isBtnDisabled" ng-click="sms.generateCode()">{{ sms.btnLabel || "发送校验码" }}</button>',scope:{smsServiceParam:"="},controller:"smsControlController as sms"}}e.provider("smsControlConfig",r),e.directive("smsControl",s),e.controller("smsControlController",i),i.$inject=["$scope","$interval","smsControlConfig","commonRequest"]}),define("base/directives/captchaCode",["angular","./directives","../cons/cons","i18nHelper"],function(e,t,n,r){function i(){var e="",t="",n={getSessionId:function(){return e},getIdentity:function(){return t}};return{setSessionId:function(t){e=t},setIdentity:function(e){t=e},$get:function(){return n}}}function s(e,t,r){function o(o,u,a){function f(){return i==""&&(i=e.getSessionId()),s==""&&(s=e.getIdentity()),{sessionId:i,identity:s,imgUrl:"//pin.aliyun.com/get_img?sessionid="+i+"&identity="+s+"&timestamp="+(new Date).getTime()}}function c(){clearTimeout(l);var e=f();e.sessionId&&e.identity?r(function(){o.captchaCodeSrc=e.imgUrl}):l=setTimeout(function(){c()},100)}o.showRefresh=a.showRefresh==="false"?!1:!0;var l=0;u.find("img").on("click",function(){c()}),o.refreshVerifyCode=function(){c()},t.subscribe(n.EVENT.REFRESH_CAPTCHA_CODE,function(e){e!==!1&&c()}),c()}var i="",s="";return{template:'<img class="captcha-code-style" ng-src="{{captchaCodeSrc}}" /><a ng-if="showRefresh" ng-click="refreshVerifyCode()" class="btn btn-link" href="javascript:;"><span bo-bind="\'expense.base.common.show.refresh\'|translate"></span></a>',link:o}}t.directive("captchaCode",s),t.provider("captchaCodeConfig",i),s.$inject=["captchaCodeConfig","aliyunCommonTopicService","$timeout"]}),define("base/directives/maxAmountValidator",["./directives","angular"],function(e,t){function n(){function e(e,t,n,r){var i=n.maxAmount;r.$parsers.unshift(function(e){return r.$dirty?(r.$setValidity("maxAmount",e-0<=i-0),e):e})}return{restrict:"A",require:"ngModel",link:e}}e.directive("maxAmount",n)}),define("base/directives/dateStepUnit",["./directives","../cons/cons"],function(e,t){e.directive("dateStepUnit",["$compile",function(e){return{restrict:"A",scope:{disableDateSelector:"=",minDate:"=",maxDate:"=",strictLimit:"=",startDate:"=",endDate:"=",showTime:"=",hourOnly:"=",startDateInit:"=",readonlyDateSelector:"="},templateUrl:t.BASE_PARTIALS_PATH+"dateStepUnit.html",link:function(e,t,n){e.min=e.minDate||e.startDate,e.max=e.maxDate||e.endDate,e.$watch("startDateInit",function(t,n){e.startDateInit&&(e.startDate=e.startDateInit)})}}}]).directive("dateUnit",[function(){return{restrict:"A",scope:{disableInput:"=",date:"=",min:"=",max:"=",showTime:"=",hourOnly:"=",readonlyInput:"="},templateUrl:t.BASE_PARTIALS_PATH+"dateUnit.html",link:function(e,t,n){e.operateInputReadonly=function(t){var n=e.readonlyInput;(n==1||n=="true")&&t.preventDefault()}}}}])}),define("base/directives/stateParamSelector",["angular","./directives","../cons/cons"],function(e,t,n){function r(t,r,i){function s(n,i,s){function o(e){var t=n.paramsModel,r=t.length,i=!1;for(var s=0;s<r;s++)if(t[s].param==e){i=!0;break}return i}var u=n.paramName;n.currentParam=r[u];var a=t.current.name;n.changeState=function(r){var i={};i[u]=r,e.isFunction(n.onParamChange)&&n.onParamChange(i),t.go(a,i)},n.checkDisable=function(t){return t&&e.isFunction(t.checkDisable)?t.checkDisable():!1},n.$watch(function(){return r[n.paramName]},function(e){(!e||!o(e))&&n.changeState(n.defaultParam)})}return{scope:{paramsModel:"=",defaultParam:"=",paramName:"@",onParamChange:"&"},templateUrl:n.BASE_PARTIALS_PATH+"stateParamSelector.html",link:s}}t.directive("stateParamSelector",r),r.$inject=["$state","$stateParams","$rootScope"]}),define("common/helper/textHtmlHelper",[],function(){function e(e){return angular.element("<div/>").html(e).text()}function t(e){return angular.element("<div/>").text(e).html()}return{textToHtmlTag:e,htmlTagToText:t}}),define("base/directives/dynamicInfoPanel",["angular","./directives","common/helper/textHtmlHelper"],function(e,t,n){function i(t,n){var r={template:"",templateUrl:"",setCompileData:function(e,t,n){}};e.extend(this,r,t),this.$templateCache=n}function s(e,t,n,r){function s(s,o,u){function p(t,n,i){h.setCompileData(t,n,i,r),o.empty(),o.append(h.getTemplate()),e(o.contents())(t)}var a=s.config&&s.config.panelModel?s.config.panelModel:n.getModel(s.modelType,"DynamicInfoModel")||s.panelModel;if(!a)return;var f=a.template||t.get(a.templateUrl);if(!f)return;var l=s.config&&s.config.rawData?s.config.rawData:s.rawData,c=i.factory(s.handlerType),h=new c(a,t);s.$watch("rawData",function(e){e!==null&&e!==undefined&&(h=new c(a,t),p(s,e,u))}),s.$watch("panelModel",function(e){e&&(h=new c(e,t),p(s,s.rawData,u))}),s.$watch("config",function(e){e&&(h=new c(e.panelModel,t),p(s,e.rawData,u))})}return{scope:{config:"=",rawData:"=",panelModel:"=",modelType:"@",handlerType:"@"},link:s}}var r={factory:{}};i.factory=function(e){var t=r.factory;return t[e]||i},i.regist=function(t,n){var i=r.factory;if(!e.isFunction(n))throw new Error("only function can extend handler");var s=i.factory[t];if(s!==null||s!==undefined)throw new Error('handler "'+t+"\" has registed! you can't overwrite it");return i.factory[t]=n,this},i.prototype={constructor:i,setCompileData:function(e,t,n){},getTemplate:function(){var e=this.$templateCache,t=this.template?this.template:e?this.template=e.get(this.templateUrl):"";return t}},t.constant("dynamciInfoHandlerConfig",r).provider("DynamicInfoHandlerProvider",["dynamciInfoHandlerConfig",function(e){var t=e;return{extend:function(e,t){return i.regist(e,t)},$get:function(){return t}}}]).directive("dynamicInfoPanel",s),s.$inject=["$compile","$templateCache","modelFactory","$injector"]}),define("base/directives/girdRowExtender",["angular","./directives","common/helper/textHtmlHelper","i18nHelper"],function(e,t,n,r){function o(t,n){function r(e,t,n,r){var i=['<tr id="'+r+'" >','<td colspan="'+e+'">','<div class="grid-detail-panel '+(n||"")+' ">'+t+"</div>","</td>","</tr>"];return i.join("")}function o(o,u,a){o.detailAppend=!1;var f=o.rawData[o.keyField],l="gridDetailItem"+(f?f:(new Date).getTime());i=o.extendText,s=o.collapseText,o.showDetail=!1,o.rawData.btnCls="icon-down",u.on("click",function(a){a.preventDefault();if(o.detailAppend===!0)o.showDetail===!0?(i&&u.text(i),e.element("body").find("#"+l).hide()):(s&&u.text(s),e.element("body").find("#"+l).show()),o.showDetail=!o.showDetail;else{s&&u.text(s);var f=n.get(o.contentTemplateUrl),c=o.rawData[o.detailField],h=o.contentScopeKey;h&&(o[h]=o.contentScope);var p=u.closest("tr"),d=p.children().length,v=f?e.element(r(d,f,undefined,l)):e.element(r(d,c,undefined,l));t(v.contents())(o),p.after(v),o.detailAppend=!0,o.showDetail=!0}var m=o.rawData.btnCls;o.rawData.btnCls=o.rawData.btnCls=="icon-up"?"icon-down":"icon-up",u.find(".extend-btn").removeClass(m).addClass(o.rawData.btnCls)})}return{scope:{rawData:"=",keyField:"@",collapse:"=",detailField:"@",contentTemplateUrl:"@",contentScope:"=",contentScopeKey:"@"},template:'<span class="extend-btn icon-down"></span>',link:o}}t.directive("girdRowExtender",o),o.$inject=["$compile","$templateCache"];var i="",s=""}),define("base/directives/stepBar",["app","./directives","../cons/cons"],function(e,t,n){function r(e){function t(){for(var t=0;t<e.steps.length;t++)e.steps[t].isPass=t<e.currentStep,e.steps[t].isCurrent=t==e.currentStep}e.$watch("currentStep",function(){t()})}function i(){return{restrice:"A",scope:{steps:"=",currentStep:"="},templateUrl:n.BASE_PARTIALS_PATH+"stepBar.html",controller:"stepBarController"}}t.controller("stepBarController",r),t.directive("stepBar",i),r.$inject=["$scope"]}),define("base/directives/stepView",["angular","./directives","../cons/cons","./stepBar"],function(e,t,n){function r(e){function t(t,n,r){var i=r.subViewController,s=r.subViewInclude,o='<div ng-controller="'+i+'"'+' ng-include="'+s+'">'+"</div>";n.empty(),n.html(o),e(n.contents())(t)}return{replace:!0,restrict:"A",link:t}}function i(){return{restrict:"A",scope:{currentStep:"=",steps:"="},templateUrl:n.BASE_PARTIALS_PATH+"stepView.html"}}t.directive("subView",r),r.$inject=["$compile"],t.directive("stepView",i)}),define("base/directives/concatField",["./directives","angular"],function(e,t){function n(e,t){function n(e,t,n){var r="",i=1,s=n.concatConnector?n.concatConnector:"";for(var o=i;;o++){var u="concatItem"+o,a=n[u];if(!a){if(a===undefined)break;o==i&&(i+=1),a=""}else o==i?r+=a:r+=" "+s+"<br/>"+a}r&&(r="<span>"+r+"</span>"),t.empty(),t.html(r)}return{restrict:"AM",link:n}}e.directive("concatField",n),n.$inject=["$injector","modelFactory"]}),define("base/directives/export",["angular","./directives","../cons/cons","i18nHelper"],function(e,t,n,r){function i(t,i,s,o,u){function a(t,i,a){if(e.element.find("#exportDataHandler").length>1)throw new Error("directive 'export' has compiled in current Dom body, check whether you had use 'export' directive more than once");var f=s.$on(n.EVENT.EXPORT,function(e,t){o.addSuccessMessage(r.i18n("expense.base.common.export.success")),i.find("#exportDataHandler").attr("src",t)}),l=document.getElementById("exportDataHandler");l.attachEvent?l.attachEvent("onload",function(){u.publish(n.EVENT.EXPORT_READY)}):l.onload=function(){u.publish(n.EVENT.EXPORT_READY)},t.$on("$destroy",function(){e.isFunction(f)&&f()})}return{template:'<div style="width:0px; height:0px;"><iframe style="width:0px; height:0px;visible:hidden;display:none;" id="exportDataHandler"></iframe></div>',link:a}}t.directive("export",i),i.$inject=["$compile","$templateCache","$rootScope","growl","aliyunCommonTopicService"]}),define("base/directives/gridNoDataMsg",["angular","./directives"],function(e,t){function n(){function e(e,t,n){e.vm={msg:e.msg,iconCls:e.iconCls,cls:e.cls}}return{scope:{msg:"@",iconCls:"@",cls:"@"},template:'<div class="center-block text-center no-data-info console-box-border " ng-class="vm.cls" ><span class="icon icon-info-1 margin-right" ng-class="vm.iconCls"></span><span ng-bind="vm.msg"></span></div>',link:e}}t.directive("gridNoDataMsg",n)}),define("base/directives/enhancedGrid",["./directives","angular","i18nHelper","../cons/cons","common/directives/aliyunConsolePagination","bindonce","common/directives/loading","common/directives/searchBar","common/directives/tableSearch","common/directives/noneDataInfo","common/directives/tableFixed"],function(e,t,n,r){function i(e,t){if(e.searchSupport){var n="";e.preSelectionSearch&&(n=' pre-selection="{{searchParams}}"');var r='<div aliyun-console-search-bar search-text="searchParams.value" dimensions="searchItems" search-action="searchAction(data)" search-text="searchParams.searchCondition" '+n+"></div>";t.find(".searchSection").html(r)}}function s(e,t){var n=a(e,t),r=f(e,t),i=u(e,t);return'<table class="table table-hover">'+n+r+i+"</table>"}function o(e){var t=e?"th":"td";return"<"+t+' width="10"><input type="checkbox" data-ng-model="tableState.selectAll" ng-change="changeSelectionAll()"/></'+t+">"}function u(e,t){var n="";t.checkboxSupport&&(n=o(!1));var r=e.length,i="";if(t.paginationInfo){var s=t.paginationInfo.showPageGoto;s&&(i=' show-page-goto="'+t.paginationInfo.showPageGoto+'" ')}var u='<div data-ng-if="paginationSupport && showNoneDataInfoTip != true && !loadingState"><div class="pull-right" aliyun-console-pagination pagination-info="paginationInfo" '+i+' max-size="maxSize"'+' on-select-page="pageChanged(page)"></div></div>',a=t.batchOperationBarDirective||"",f='<div class="pull-left">'+a+"</div>",l='<td colspan=" '+r+'" >'+f+u+"</td>",c="",h=t.tfootPositionFixed;return h==1&&(c=" aliyun-table-fixed "),a!=""||t.paginationSupport?"<tfoot "+c+' ng-if="!showNoneDataInfoTip"><tr>'+n+l+"</tr></tfoot>":""}function a(e,n){var r="";return n.checkboxSupport&&(r=o(!0)),t.forEach(e,function(e){var t=e.cssProperty?' class="'+e.cssProperty+'" ':"",i=e.filterOptionKey,s="",o="",u="";n.preSelectionFilter&&(o=' pre-selected-id="filterParams.'+i+'"'),i?s=" aliyun-console-table-search "+o+' select-item="filterItemMap.'+i+'"   filter-field="'+i+'" items="filterItems.'+i+'" click-action="changeTheadFilter(data)" ':n.clientSort&&e.field&&(u='<span class="icon-updown btn-link" data-ng-click="clientSortHandler(\''+e.field+"', sortReverse)\"></span>"),r+="<th"+t+s+">"+e.name+u+"</th>"}),"<thead><tr>"+r+"</tr></thead>"}function f(e,n){var r=n.useBindOnce?"bindonce":"",i=n.rowItemName?n.rowItemName:"item",s=n.itemList||"store",o="";if(n.checkboxSupport){n.selectedScopeProperty=n.selectedScopeProperty||"selectedItems";var u=i+"."+n.selectedProperty,a=n.checkboxDisabledProperty,f="";a&&(f=' data-ng-disabled="'+i+"."+a+'" '),o='<td width="10"><input type="checkbox" '+f+' data-ng-model="'+u+'" ng-change="changeSelection({data: '+i+'})"/></td>'}return t.forEach(e,function(e){var t=l(e,i,r),n=e.cssProperty?' class="'+e.cssProperty+'" ':"";o+="<td"+n+">"+t+"</td>"}),'<tbody><tr ng-if="isShowMaxSelection" class="trWarapper alert alert-warning" style="background-color: #FCF8E2 !important;"><td colspan="7"> <input type="checkbox" data-ng-model="tableState.selectMaxAll" ng-change="changeSelectionMaxAll()" /><span class="margin-left-2" style="color: #000;">全选所有页中 <span style="color: red;"><span ng-if="totalItemList > maxSelectedItems"> {{maxSelectedItems}} </span><span ng-if="totalItemList <= maxSelectedItems"> {{totalItemList}} </span>  </span>条 </span><span style="color: #999" ng-if="totalItemList > maxSelectedItems">（共有 {{totalItemList}} 条，一次只能选 {{maxSelectedItems}} 条）</span><span class="margin-left-2" style="color: #000;">已共选 <span style="color: red;">{{hasSelectedItems}}</span> 条 <span style="color:#666;" ng-if="tableState.selectMaxAll && unPaidOrders > 0">(有 <span style="color: red;">{{unPaidOrders}}</span> 条月结算单未结清无法选中开票 )</span><span style="color:#666;" ng-if="totalItemList > maxSelectedItems">  <a ng-click="cancelAllSelect()">取消以上选择</a> </span> </span> <span style="vertical-align: -5px;" ng-if="isShowAlert"> <br><span class="icon-help-2 text-muted" popover-append-to-body="true" aliyun-popover2="单次最多{{maxSelectedItems}}条订单/月结算单合并开票；<br>您可以选择多次开票或提交工单由财务全部开票"></span><span class="margin-left-2">警告：您选择超过了 {{maxSelectedItems}} 条上限，麻烦重新进行选择！</span></span></td></tr><tr text-editor-trigger-target data-ng-if="!loadingState" '+r+' data-ng-repeat="'+i+" in "+s+'">'+o+"</tr></tbody>"}function l(e,t,n){var r="",i=e.filter,s=e.field,o=t+"."+s,u=e.filedDirective||e.fieldDirective;if(u)return u;if(s){i&&(o+="|"+i);if(e.truncateText){var a=e.truncateTextLegnth||e.truncateTextLength,f=a?" text-length="+a:"";r='<span aliyun-truncate-text source-text="{{'+o+'}}" '+f+"></span>"}else if(e.bindable==1||n==0)e.htmlField?r="<span ng-bind-html="+o+" ></span>":r="{{"+o+"}}";else{var l=e.htmlField?"bo-html":"bo-text";r="<span "+l+'="'+o+'"></span>'}}return r}function c(e){var n={};t.extend(n,e.pageInfo),t.extend(n,e.filterParams);var r=e.searchParams;if(r){var i={};r.key&&r.value&&(i[r.key]=r.value),t.extend(n,i)}return n}function p(e,r,i,s,o){function u(e){return e.itemId==0x4af659771118f800||e.itemId==0x4af659771118f400||e.itemId==0x4af659771118ec00||e.itemId==0x4af659771118f000}e.initTableRequestSend=!1,e._searchPreHandler=function(n,r){t.isFunction(e.searchPreHandler)&&e.searchPreHandler({data:{data:n,scope:e,isTableFilter:r}})},h=e.nonDataCustomerInfo,e.cancelAllSelect=function(){var n={params:{currentPage:1,pageSize:e.maxSelectedItems,type:5}};uncheckItems=[],selectedItems=[],e.hasSelectedItems=0,e.selectedOrderIdMap={},e.selectedOrderAmountMap={},e.selectedOrderIdItemIdMap={},e.isShowAlert=!1,t.forEach(e.store,function(e,t){e.selected&&e.selected==1&&(e.selected=!1)}),o.fetchOrderList(n).then(function(n){t.forEach(n.data,function(e){e.selected&&uncheckItems.push(e)}),e.tableState.selectAll=!1,e.tableState.selectMaxAll=!1,e.selectionChangeHandler(selectedItems,"all",uncheckItems)})},e.changeSelectionMaxAll=function(){var n=e.config,r=n.selectedProperty,i=n.checkboxDisabledProperty,s=e.tableState.selectMaxAll;e.isShowAlert=!1,e.tableState.selectMaxAll?e.tableState.selectAll=!0:e.tableState.selectAll=!1;var u=!1,a=e.searchFormDirective,f=e.billCycled,l=a.result.startBizTime,c=a.result.endBizTime,h={params:{currentPage:1,pageSize:e.maxSelectedItems,type:5,startBizTime:l,endBizTime:c,bizType:a.result.bizType}};f&&a.resultMonth!==undefined&&(h.params.bizType=a.resultMonth.marketType,h.params.yearMonth=a.resultMonth.yearMonth),e.updateList(h);var p=[],d=[];e.tableState.selectMaxAll?(d=[],p=[],e.hasSelectedItems=0,e.selectedOrderIdMap={},e.selectedOrderAmountMap={},e.selectedOrderIdItemIdMap={},t.forEach(e.store,function(e,t){e[r]&&e[r]==1&&(e.selected=!1)}),o.fetchOrderList(h).then(function(n){var o=n.data,a={};t.forEach(o,function(e){e.unPaidCycle||(a[e.id]=!0)}),e.hasSelectedItems=0,e.unPaidOrders=0,t.forEach(n.data,function(n){n.selected==1&&s==0&&d.push(n);if(!i||!n[i])if(s==1){if(e.hasSelectedItems>=e.maxSelectedItems){u=!0;return}if(n.unPaidCycle&&n["unPaidCycle"]==1)e.unPaidOrders++,n.selected=!1;else{n[r]==0&&e.hasSelectedItems++,n.selected===undefined&&e.hasSelectedItems++;var o=n;t.forEach(e.store,function(e,t){e.id==o.id&&(e.selected=s)}),n[r]=s,s&&p.push(n)}}else{n[r]&&n[r]==1&&e.hasSelectedItems--,n[r]=s;var o=n;t.forEach(e.store,function(e,t){e.id==o.id&&(e.selected=s)}),s&&p.push(n)}}),e.selectionChangeHandler(p,"all",d)})):(d=[],p=[],e.unPaidOrders=0,e.hasSelectedItems=0,e.selectedOrderIdMap={},e.selectedOrderAmountMap={},e.selectedOrderIdItemIdMap={},t.forEach(e.store,function(e,t){e[r]&&e[r]==1&&(e.selected=!1)}),o.fetchOrderList(h).then(function(n){t.forEach(n.data,function(e){e[r]&&d.push(e)}),e.selectionChangeHandler(p,"all",d)}))},e.changeSelectionAll=function(n,r){var i=e.config,s=i.selectedProperty,o=i.checkboxDisabledProperty,u=e.tableState.selectAll;e.isShowAlert=!1,e.isShowMaxSelection=!0,u||(e.tableState.selectMaxAll=!1),n&&(u=n);var a=[],f=[],l=!1;t.forEach(e.store,function(t,n){t.selected==1&&u==0&&f.push(t);if(!o||!t[o])if(u==1)if(t.unPaidCycle&&t["unPaidCycle"]==1)t.selected=!1;else{if(e.hasSelectedItems>=e.maxSelectedItems){l=!0;return}t[s]==0&&e.hasSelectedItems++,t.selected===undefined&&e.hasSelectedItems++,t[s]=u,u&&a.push(t)}else t[s]&&t[s]==1&&e.hasSelectedItems--,t[s]=u,u&&a.push(t)}),r||e.selectionChangeHandler(a,"all",f)},e.clientSortHandler=function(t){e.reserves=!e.reserves;var n=$filter("orderBy");e.store=n(e.store,t,e.reserves)},e.changeSelection=function(r){var s=e.config.selectedProperty;e.isShowAlert=!1;if(r.data.unPaidCycle&&r.data["unPaidCycle"]==1&&!u(r)){var o=[{label:n.i18n("invoice.partials.applyInvoiceSuccess.sure"),cssClass:"btn-primary",result:!0}];i.showMessageDialogSimple(n.i18n("invoice.directive.addressListAction.notice"),"该月结算单未结清无法选中开票！",o,{iconClass:" icon-warning-1",iconColor:"dialog-icon-color "}),r.data.selected=!1;return}r[s]=!r[s],r.data.selected==1?e.hasSelectedItems++:e.hasSelectedItems--,r.data.selected==0&&e.tableState.selectMaxAll==1&&(e.tableState.selectMaxAll=!1);if(e.hasSelectedItems>e.maxSelectedItems){e.isShowAlert=!0,e.isShowMaxSelection=!0,e.hasSelectedItems--,r.data.selected=!1;return}var a=!1,f,l=!0,c=[];t.forEach(e.store,function(o,h){var p=o[s];h==0&&(f=p),f!=p&&(l=!1);if(p){c.push(o);if(o.bizType==42&&!u(o)){var d=o.billCycle,v=o.id;t.forEach(e.store,function(t,o){if(t["billCycle"]==d&&v!=t["id"]&&u(t)&&!t.selected&&!t[s]){if(r.data&&r.data.selected==0){var f=[{label:n.i18n("invoice.partials.applyInvoiceSuccess.sure"),cssClass:"btn-primary",result:!0}];i.showMessageDialogSimple(n.i18n("invoice.directive.addressListAction.notice"),"调账账单必须与原月账单同时申请开票，不能取消。",f,{iconClass:" icon-warning-1",iconColor:"dialog-icon-color "}),a=!0,r[s]=!r[s],r.data.selected=!0,e.hasSelectedItems++;return}var l={data:t};l.selected=!0,l.data.selected=!0,l[s]=!0,c.push(l.data),e.selectionChangeHandler(c),e.selectionChangeOneHandler(l),e.hasSelectedItems++}})}}}),l==1?e.tableState.selectAll=f:e.tableState.selectAll=!1,a||(e.selectionChangeHandler(c),e.selectionChangeOneHandler(r))},e.selectionChangeOneHandler=function(t){e.selectionChangeOne({data:t})},e.selectionChangeHandler=function(t,n,r){var i=e.config.selectedScopeProperty;e[i]=t,e.selectionChange({data:t,flag:n,uncheckItems:r})},e.refreshCurrentView=function(){var t=e.config.selectedScopeProperty;e[t]=[],e.initSearchAndFilterCondition(),e.updateList()},e.initSearchAndFilterCondition=function(){e.clearFilterCondition(),e.searchParams={}},e.clearFilterCondition=function(){e.filterItemMap={},e.filterParams={}}}var h;e.directive("enhancedGrid",["$compile","$filter",function(e,o){return{restrict:"A",scope:{columns:"=",store:"=",config:"=",paginationInfo:"=",loadingState:"=",nonDataCustomerInfo:"=",hasSelectedItems:"=",totalItemList:"=",selectedOrderIdMap:"=",selectedOrderAmountMap:"=",selectedOrderIdItemIdMap:"=",fromSortDirect:"=",isShowAlert:"=",searchFormDirective:"=",maxSelectedItems:"=",billCycled:"=",updateList:"&",renderTable:"&",searchPreHandler:"&",selectionChange:"&",selectionChangeOne:"&"},templateUrl:r.BASE_PARTIALS_PATH+"enhancedGrid.html",controller:"enhenceGridController",link:function(r,o,u){r.tableState={selectAll:!1,selectMaxAll:!1},r.unPaidOrders=0,r.isShowAlert=!1,r.hasSelectedItems=0,r.maxResultCache={},r.isShowMaxSelection=!1,r.initSearchAndFilterCondition(),r.changeTheadFilter=function(e){r._searchPreHandler(e,!0);var t=e.filterField,n=e.item;r.filterItemMap[t]=n;var i=r.filterParams||{};t&&(n.id=="all"?delete i[t]:i[t]=n.id),r.filterParams=i,r.paginationInfo.page=1,r.searchParams={},r.updateList()},r.pageChanged=function(e){r.paginationInfo.page=e,r.config.crossPageSelectionSupport||r.selectionChangeHandler([]),r.updateList()},r.searchAction=function(e){r._searchPreHandler(e,!1),r.config.paginationSupport&&r.paginationInfo&&(r.paginationInfo.page=1),r.clearFilterCondition(),r.searchParams=e,r.updateList()},r.updateList=function(e){e&&(r.initTableRequestSend=!0);var t=r.config,n=r.paginationInfo,i={};t.paginationSupport&&(n==undefined&&(n=t.paginationInfo,r.maxSize=t.paginationInfo.maxSize||3),i.pageInfo={pageSize:n.pageSize,currentPage:n.page}),t.filterItems&&(i.filterParams=r.filterParams),t.searchItems&&(i.searchParams=r.searchParams),r.ajaxOptions=c(i),r.renderTable({data:{params:c(i),isInitTableRequest:e}})},r.$watch("hasSelectedItems",function(e){e==0&&r.fromSortDirect?r.tableState.selectMaxAll=!1:r.fromSortDirect=!1}),r.$watchCollection("[config, columns]",function(u){if(u){var a=u[0];a.filterItems&&(r.filterItems=a.filterItems),a.searchItems&&(r.searchItems=a.searchItems),a.preSelectionFilter&&(r.filterParams=a.preSelectionFilter),a.preSelectionSearch&&(r.searchParams=a.preSelectionSearch),a.checkboxSupport&&a.selectedProperty==undefined&&(a.selectedProperty="selected"),a.refreshCurrentView=r.refreshCurrentView;var f=u[1],l;h?(r.noneDataInfoMessage=h,a.noneDataInfoDirective?l='<div class="simple-grid-none-data text-center" '+a.noneDataInfoDirective+' ajax-options="ajaxOptions"  data-ng-if="showNoneDataInfoTip && !loadingState" ></div>':l='<div class="simple-grid-none-data "  aliyun-none-data-info-tip  data-ng-if="showNoneDataInfoTip && !loadingState"><span class="margin-left" >'+n.i18n("invoice.controller.createStep2Controller.noAddressInfo")+"<a address-insert-operation>"+n.i18n("invoice.view.step1.setNow")+"</a></span></div>"):(r.noneDataInfoMessage=n.i18n("invoice.directive.enhancedGrid.noDataInfo"),a.noneDataInfoDirective?l='<div class="simple-grid-none-data text-center" '+a.noneDataInfoDirective+' ajax-options="ajaxOptions"  data-ng-if="showNoneDataInfoTip && !loadingState" ></div>':l='<div class="simple-grid-none-data "  aliyun-none-data-info-tip  data-ng-if="showNoneDataInfoTip && !loadingState"><span class="margin-left" ng-bind-html="noneDataInfoMessage"></span></div>'),o.find(".simple-grid-none-data").length||(l=t.element(l),o.append(l)),h?r.noneDataInfoMessage=h:r.noneDataInfoMessage=n.i18n("invoice.directive.enhancedGrid.noDataInfo"),r.paginationSupport=a.paginationSupport;var c=i(a,o),p=s(f,a);o.find(".gridSection").html(p),e(o.contents())(r),r.initTableRequestSend==0&&r.updateList(!0)}}),r.$watchCollection("[store, paginationInfo]",function(e){if(e){var n=e[0]||[];r.showNoneDataInfoTip=n.length==0?!0:!1;var i=!0,s=r.config.selectedProperty;t.forEach(n,function(e){i=i&&e[s]==1}),r.tableState.selectAll=i;var o=e[1];n.length==0&&o&&o.page>1&&(r.paginationInfo.page-=1,r.updateList())}})}}}]).controller("enhenceGridController",p,"$$baseController"),p.$inject=["$scope","$injector","aliyunDialog","$q","invoiceRequest"]}),define("base/directives/exportConfirm",["./directives","angular","../cons/cons","../helpers/monthHelper"],function(e,t,n,r){function i(e,r,i,s){this.$parent.$constructor.call(this,e);var o=this;this.rawData=e.config.rawData,this.checkWhetherCouldExport=function(n,i){var o=this,u=e.config,a=s.defer(),f=a.promise,l=u.validCheckService&&r.get(u.validCheckService)||null;return l===null?setTimeout(function(){a.resolve(!0)},0):l[u.serviceName]({params:i||t.isFunction(u.getValidCheckParams)&&u.getValidCheckParams(e)||null}).then(function(e){var n=o.$handleResponse(e,r);n&&!t.isFunction(n.then)?t.isFunction(u.couldExport)?u.couldExport(n,a):a.resolve(n):a.resolve(!1)}),f},this.doExport=function(r,i){return o.checkWhetherCouldExport(r,i).then(function(i){if(i===!0){var s=e.config,u=r||e.config.exportUrl||t.isFunction(s.getExportUrl)&&s.getExportUrl(e)||"";return o.$publish(n.EVENT.EXPORT,u),o.$publish(n.EVENT.EXPORT_CONFIRM_YES,!0),!0}o.$publish(n.EVENT.EXPORT_CONFIRM_NO,!1)})},this.showErrorDialog=function(){var t=e.config.rawData.errorMsg,n=e.config||{},r=n.rawData.confirmTitle||"",s={title:r,message:t};i.showMessageDialog(s,function(e){e.eventHandler=function(t){e.close()}},{})},this.initConfirm=function(){var t=e.config||{},n=this,r;if(t.needConfirm!==!0){o.doExport();return}var s=t.rawData.confirmTitle||"",u=t.rawData.confirmMsg||"",a={title:s,message:u};i.showMessageDialog(a,function(e){e.eventHandler=function(t){t===!0&&(n.doExport(),e.close())}},{})},this.initListening=function(){var e=this;e.$on(n.EVENT.EXPORT_CONFIRM_DO_EXPORT,function(n,r){var i="",s=null;t.isString(r)?i=r:(i=r.url,s=r.params),e.doExport(i,s)})}}function s(){function e(e,t,n,r){var i=e.config;i.onlyListen===!0?e.vm.initListening():t.delegate(".export-confirm-btn","click",function(t){if(e.ngDisabled)return;t.preventDefault(),e.vm.initConfirm()})}return{scope:{config:"=",ngDisabled:"="},controller:"exportConfirmController as vm",template:'<a ng-disabled="ngDisabled" ng-if="!config.onlyListen" class="export-confirm-btn btn {{vm.rawData.btnCls}} " href="javascript:;" ><span ng-class="vm.rawData.btnIconCls"></span><span bo-text="vm.rawData.btnText"></span></a>',link:e}}e.directive("exportConfirm",s).controller("exportConfirmController",i,"$$baseController"),i.$inject=["$scope","$injector","aliyunDialog","$q"]}),define("base/directives/dynamicScript",["./directives"],function(e){e.directive("dynamicScript",["$compile",function(e){function t(t,n,r){var i="<script src="+t.scriptSrc+">";"</script>",n.empty(),n.html(i),e(n.contents())(t)}return{scope:{scriptSrc:"="},link:t}}])}),define("base/directives/updateValueByEvents",["app","angular","./directives"],function(e,t,n,r){function i(){function e(e,n,r,i){var s=r.updateValueByEvents.split(",");t.forEach(s,function(t){n.on(t,function(){e.$apply(function(){i.$setViewValue(n.val())})})})}return{restrice:"A",require:"ngModel",link:e}}n.directive("updateValueByEvents",i)}),define("base/directives/_base",["./directives","./staticFieldWithFilter","./directiveParser","./simpleTab","./smsControl","./captchaCode","./maxAmountValidator","./dateStepUnit","./stateParamSelector","./dynamicInfoPanel","./girdRowExtender","./stepBar","./stepView","./dateStepUnit","./concatField","./export","./gridNoDataMsg","./enhancedGrid","./exportConfirm","./dynamicScript","./updateValueByEvents"],function(){}),define("base/filters/filters",["angular"],function(e){return e.module("expenseCenterFilters",[])}),define("base/filters/commonFilters",["./filters","angular","../cons/cons"],function(e,t,n){e.filter("moneyFilter",["$filter",function(e){return function(e,t){return t!=1&&t!="true"||!!e&&e*1!=0&&e*1!=NaN?(e*1!=e*1&&(e=0),"￥"+(e*1).toFixed(2)):n.NULL_CURRENCY_SYMBOL}}]),e.filter("moneyFilterFixed3",["$filter",function(e){return function(e,t){return t!=1&&t!="true"||!!e&&e*1!=0&&e*1!=NaN?(e*1!=e*1&&(e=0),"￥"+(e*1).toFixed(3)):n.NULL_CURRENCY_SYMBOL}}]),e.filter("moneyFormatterFilter",[function(){return function(e,t){var r=e;if(!e||e<=0||e==n.NULL_CURRENCY_SYMBOL)r=n.NULL_CURRENCY_SYMBOL;else switch(t){case"income":r='<span class="text-success">'+e+"</span>";break;case"expense":r='<span class="text-warning">'+e+"</span>";break;case"balance":r="<span>"+e+"</span>";break;case"parValue":r="<span>"+e+"</span>"}return r}}]),e.filter("moneyFilterAuto",["$filter",function(e){return function(e,t){return t!=1&&t!="true"||!!e&&e*1!=0&&e*1!=NaN?(e*1!=e*1&&(e=0),"￥"+(e*1).toString()):n.NULL_CURRENCY_SYMBOL}}])}),define("base/filters/dateFilter",["./filters","angular"],function(e,t){e.filter("aliyunDateFormatter",["$filter",function(e){return function(t){var n=null;if(typeof t=="string"||typeof t=="number")t*1==t*1?n=new Date(t*1):n=new Date(t);return Object.prototype.toString.call(t)=="[object Date]"&&(n=t),e("date")(n,"yyyy-MM-dd HH:mm:ss")}}])}),define("base/filters/_base",["./filters","./commonFilters","./dateFilter"],function(){}),define("base/models/models",["angular"],function(e){return e.module(["bizModels"],[])}),define("base/models/commonFormModel",["angular"],function(e){var t={},n={};return{formOptionInline:function(){return e.copy(t)},formOptions:function(){return e.copy(n)}}}),define("base/models/commonGridModel",["angular"],function(e){var t={useBindOnce:!0,paginationSupport:!0,clientSort:!1,checkboxSupport:!1,paginationInfo:{pageSize:20,page:1,showPageGoto:!0}};return{config:function(){return e.copy(t)}}}),define("base/models/commonSearchBarModel",["angular"],function(e){var t={formStyle:"search-bar"},n={};return{formOptionInline:t,formOptions:n}}),define("base/models/_base",["./models","./commonFormModel","./commonGridModel","./commonSearchBarModel"],function(){}),define("base/states/states",["angular"],function(e){return e.module("expenseCenterStates",[])}),define("base/states/account",["angular","./states","../cons/cons","../utils/expenseCenterVariablesService"],function(e,t,n,r){t.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),t.when("/",["$match","$stateParams","$state","$rootScope",function(e,t,n,r){n.go("account.home")}]),e.state("account",{url:"/account","abstract":!0,templateUrl:n.BASE_PATH+"account/views/account.html"}).state("account.home",{url:"/home",views:{account:{templateUrl:n.BASE_PATH+"account/views/home.html",controller:"account.homeController as vm"}}}).state("account.recharge",{url:"/recharge","abstract":!0,views:{account:{templateUrl:n.BASE_PATH+"account/views/recharge.html",controller:"account.rechargeController as vm"}}}).state("account.recharge.alipay",{url:"/alipay",views:{recharge:{templateUrl:n.BASE_PATH+"account/views/recharge/alipay.html",controller:"account.recharge.alipayController as vm"}}}).state("account.recharge.onlineBanking",{url:"/onlineBanking",views:{recharge:{templateUrl:n.BASE_PATH+"account/views/recharge/onlineBanking.html",controller:"account.recharge.onlineBankingController as vm"}}}).state("account.recharge.offlineTransfer",{url:"/offlineTransfer",views:{recharge:{templateUrl:n.BASE_PATH+"account/views/recharge/offlineTransfer.html",controller:"account.recharge.offlineTransferController as vm"}}}).state("account.recharge.overseaCreditCard",{url:"/overseaCreditCard?t&m",views:{recharge:{templateUrl:n.BASE_PATH+"account/views/recharge/overseaCreditCard.html",controller:"account.recharge.overseaCreditCardController as vm"}}}).state("account.recharge.overseaCreditCard2",{url:"/overseaCreditCard2",views:{recharge:{templateUrl:n.BASE_PATH+"account/views/recharge/overseaCreditCard2.html",controller:"account.recharge.overseaCreditCard2Controller as vm"}}}).state("account.encashment",{url:"/encashment",views:{account:{resolve:{overdueAmountOfInvoice:["accountRequest",function(e){return e.fetchInvoiceOverdueAmount()}],encashmentInfo:["accountRequest",function(e){return e.fetchEncashmentInfo()}]},templateUrl:n.BASE_PATH+"account/views/encashment.html",controller:"account.encashmentController as vm"}}}).state("account.encashmentList",{url:"/encashment/list",views:{account:{templateUrl:n.BASE_PATH+"account/views/encashmentList.html",controller:"account.encashmentListController as vm"}}})}])}),define("base/states/consumption",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("consumption",{url:"/consumption",controller:"consumptionController as consumption",templateUrl:n.BASE_PATH+"consumption/views/consumption.html"}).state("consumption.outline",{url:"/outline?defaultMonth",views:{consumptionView:{controller:"consumptionOutlineController as vm",templateUrl:n.BASE_PATH+"consumption/views/outline.html"}}}).state("consumption.list",{url:"/list",views:{consumptionView:{controller:"consumptionListController as vm",templateUrl:n.BASE_PATH+"consumption/views/list.html"}}}).state("consumption.list.flow",{url:"/flow/:payType?hideZero&payStatus",views:{listView:{controller:"consumptionFlowListController as vm",templateUrl:n.BASE_PATH+"consumption/views/flowList.html"}}}).state("consumption.list.consumeinstance",{url:"/consumeinstance",views:{listView:{controller:"consumptionInstanceListController as vm",templateUrl:n.BASE_PATH+"consumption/views/consumeInstanceList.html"}}}).state("consumption.list.fentanpay",{url:"/fentanpay",views:{listView:{controller:"consumptionFentanListController as vm",templateUrl:n.BASE_PATH+"consumption/views/fentanpayList.html"}}}).state("consumption.list.resource",{url:"/resource/:payType?parentProductCode&month&productCode&conditionKey&conditionContent",views:{listView:{controller:"consumptionResourceListController as vm",templateUrl:n.BASE_PATH+"consumption/views/resourceList.html"}}}).state("consumption.detail",{url:"/detail","abstract":!0,views:{consumptionView:{controller:"consumptionDetailController",template:'<div ui-view="detailView"></div>'}}}).state("consumption.detail.afterpay",{url:"/afterpay/:code?from",views:{detailView:{controller:"consumptionAfterpayDetailController as vm",templateUrl:n.BASE_PATH+"consumption/views/afterpayDetail.html"}}}).state("consumption.resourceDetail",{url:"/resourceDetail","abstract":!0,views:{consumptionView:{controller:"consumptionResourceDetailController",template:'<div ui-view="resourceDetailView"></div>'}}}).state("consumption.detail.prepay",{url:"/prepay/:marketType/:code?from",views:{detailView:{controller:"consumptionPrepayDetailController as vm",templateUrl:n.BASE_PATH+"consumption/views/prepayDetail.html"}}}).state("consumption.resourceDetail.prepay",{url:"/prepay/:instanceId?parentProductCode&productCode&region&month",views:{resourceDetailView:{controller:"consumptionPrepayResourceDetailController as vm",templateUrl:n.BASE_PATH+"consumption/views/prepayResourceDetail.html"}}}).state("consumption.resourceDetail.afterpay",{url:"/afterpay/:productCode/:region/:month/:instanceId/:isAccountPeriod?from",views:{resourceDetailView:{controller:"consumptionAfterpayResourceDetailController as vm",templateUrl:n.BASE_PATH+"consumption/views/afterpayResourceDetail.html"}}}).state("consumption.usageRecord",{url:"/usage",views:{consumptionView:{controller:"consumptionUsageRecordController as vm",templateUrl:n.BASE_PATH+"consumption/views/usageRecord.html"}}}).state("consumption.downloadRecord",{url:"/download",views:{consumptionView:{controller:"consumptionDownLoadController as vm",templateUrl:n.BASE_PATH+"consumption/views/downloadRecord.html"}}}).state("consumption.storeToOss",{url:"/storeToOss",views:{consumptionView:{controller:"consumptionStoreToOssController as vm",templateUrl:n.BASE_PATH+"consumption/views/storeToOss.html"}}})}])}),define("base/states/order",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/order/list",["$match","$stateParams","$state","$rootScope",function(e,t,n,r){n.go("orderManage.list")}]),e.state("orderManage",{url:"/order",controller:"orderController as vm",templateUrl:n.BASE_PATH+"orderManage/views/order.html"}).state("orderManage.list",{url:"/list/:payStatus",views:{orderView:{controller:"orderListController as vm",templateUrl:n.BASE_PATH+"orderManage/views/orderList.html"}}}).state("orderManage.detail",{url:"/detail/:marketType/:code?from",views:{orderView:{controller:"orderDetailController as vm",templateUrl:n.BASE_PATH+"orderManage/views/orderDetail.html"}}})}])}),define("base/states/contract",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("contract",{url:"/contract","abstract":!0,controller:"contractCtrl as vm",templateUrl:n.BASE_PATH+"contract/views/contract.html"}).state("contract.apply",{url:"/apply","abstract":!0,resolve:{contractStepMaps:["$stateParams",function(e){return n.CONTRACT_STEP_MAPS}]},views:{contractView:{controller:"contract.applyCtrl as vm",templateUrl:n.BASE_PATH+"contract/views/apply.html"}}}).state("contract.apply.selectOrder",{url:"/selectOrder",resolve:{productCodeList:["aliyunConsoleRequest",function(e){return e({serviceModule:"contractRequest",serviceAction:"getContractConstants",params:{},withoutData:!0})}],getContractConstants:["aliyunConsoleRequest",function(e){return e({serviceModule:"contractRequest",serviceAction:"getContractConstants",params:{},withoutData:!0})}]},views:{applyView:{controller:"contract.applyCtrl.selectOrder as vm",templateUrl:n.BASE_PATH+"contract/views/step/selectOrder.html"}}}).state("contract.apply.orderConfirm",{url:"/orderConfirm/:marketType/:orderId/:orderLineListNum",resolve:{getContractConstants:["aliyunConsoleRequest",function(e){return e({serviceModule:"contractRequest",serviceAction:"getContractConstants",params:{},withoutData:!0})}]},views:{applyView:{controller:"contract.applyCtrl.orderConfirm as vm",templateUrl:n.BASE_PATH+"contract/views/step/orderConfirm.html"}}}).state("contract.apply.config",{url:"/config?orderId",resolve:{getPartyA:["aliyunConsoleRequest",function(e){return e({serviceModule:"contractRequest",serviceAction:"getPartyA",params:{}})}]},views:{applyView:{controller:"contract.applyCtrl.config as vm",templateUrl:n.BASE_PATH+"contract/views/step/config.html"}}}).state("contract.apply.success",{url:"/success",resolve:{},views:{applyView:{controller:"contract.applyCtrl.success as vm",templateUrl:n.BASE_PATH+"contract/views/step/success.html"}}}).state("contract.manage",{url:"/mange",views:{contractView:{controller:"contract.manageCtrl as vm",templateUrl:n.BASE_PATH+"contract/views/manage.html"}}}).state("contract.paperContractSubmitCtrl",{url:"/paperContractSubmitCtrl",views:{contractView:{controller:"contract.paperContractSubmitCtrl as vm",templateUrl:n.BASE_PATH+"contract/views/paperContractSubmit.html"}}}).state("contract.paperContractDetail",{url:"/paperContractDetail?contractNo",views:{contractView:{controller:"contract.paperContractDetailCtrl as vm",templateUrl:n.BASE_PATH+"contract/views/paperContractDetail.html"}}})}])}),define("base/states/coupon",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("coupon",{resolve:{instanceBasicPromise:["$stateParams",function(e){}]},url:"/coupon?status",controller:"couponController as vm",templateUrl:n.BASE_PATH+"coupon/views/coupon.html"})}])}),define("base/states/incomeExpense",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("incomeExpense",{resolve:{instanceBasicPromise:["$stateParams",function(e){}]},"abstract":!0,url:"/incomeExpense",controller:"incomeExpenseController as vm",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpense.html"}).state("incomeExpense.cash",{url:"/cash",views:{vmTab:{controller:"incomeExpenseTabController as vmTab",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpenseTab.html"}}}).state("incomeExpense.coupon",{url:"/coupon/:couponCode",views:{vmTab:{controller:"incomeExpenseTabController as vmTab",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpenseTab.html"}}}).state("incomeExpense.mybank",{url:"/mybank?tradeNo",views:{vmTab:{controller:"incomeExpenseTabController as vmTab",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpenseTab.html"}}}).state("incomeExpense.alipay",{url:"/alipay?tradeNo",views:{vmTab:{controller:"incomeExpenseTabController as vmTab",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpenseTab.html"}}}).state("incomeExpense.storeCared",{url:"/storeCared/:storeCaredCode",views:{vmTab:{controller:"incomeExpenseTabController as vmTab",templateUrl:n.BASE_PATH+"incomeExpense/views/incomeExpenseTab.html"}}})}])}),define("base/states/invoice",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("invoice",{url:"/invoice","abstract":!0,controller:"invoiceController as invoice",templateUrl:n.BASE_PATH+"invoice/views/invoice.html"}).state("invoice.address",{url:"/address",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/address.html",controller:"invoice.addressController as vm"}}}).state("invoice.list",{url:"/list/:status",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/list.html",controller:"invoice.listController as vm"}}}).state("invoice.detail",{url:"/detail/:invoiceId",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/invoiceDetail.html",controller:"invoice.invoiceDetailController as vm"}}}).state("invoice.create",{url:"/create?model",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/create.html",controller:"invoice.createController as vm"}}}).state("invoice.createStep1",{url:"/createStep1",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/createStep1.html",controller:"invoice.createStep1Controller as vm"}}}).state("invoice.titleEdit",{url:"/title/edit?modifyStatus&id&normalUpdate&activityInvoice&changeFlowUpdate&canChangeTitle",resolve:{titleInfo:["$stateParams","invoiceRequest",function(e,t){if(e.id)return t.fetchTitleById(e.id+"")}]},views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/titleEdit.html",controller:"invoice.titleEditController as vm"}}}).state("invoice.titleManage",{url:"/title/manage",views:{invoice:{templateUrl:n.BASE_PATH+"invoice/views/titleManage.html",controller:"invoice.titleManageController as vm"}}})}])}),define("base/states/remittance",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("remittance",{"abstract":!0,url:"/remittance",controller:"remittanceController as remittance",templateUrl:n.BASE_PATH+"remittance/views/remittance.html"}).state("remittance.submit",{url:"/submit",controller:"remittance.submitController as remittance",templateUrl:n.BASE_PATH+"remittance/views/submit.html"}).state("remittance.list",{url:"/list",controller:"remittance.listController as remittance",templateUrl:n.BASE_PATH+"remittance/views/list.html"}).state("remittance.nobody",{url:"/nobody",controller:"remittance.nobodyController as remittance",templateUrl:n.BASE_PATH+"remittance/views/nobody.html"})}])}),define("base/states/refund",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("refund",{url:"/refund",controller:"refundController as vm",templateUrl:n.BASE_PATH+"refund/views/refund.html"}).state("refund.product",{url:"/product",views:{refundView:{controller:"refundProductController as vm",templateUrl:n.BASE_PATH+"refund/views/refundProduct.html"}}}).state("refund.refundLink",{url:"/refundLink/:id",views:{refundView:{controller:"refundLinkFormController as vm",templateUrl:n.BASE_PATH+"refund/views/refundLink.html"}}}).state("refund.product.market",{url:"/market",views:{refund:{templateUrl:n.BASE_PATH+"refund/views/refundMarket.html",controller:"refundMarketController as vm"}}}).state("refund.product.ecs",{url:"/ecs",views:{refund:{templateUrl:n.BASE_PATH+"refund/views/refundEcs.html",controller:"refundEcsController as vm"}}}).state("refund.product.rds",{url:"/rds",views:{refund:{templateUrl:n.BASE_PATH+"refund/views/refundRds.html",controller:"refundRdsController as vm"}}}).state("refund.refundRecord",{url:"/refundRecord",views:{refundView:{controller:"refundRecordController as vm",templateUrl:n.BASE_PATH+"refund/views/refundRecord.html"}}}).state("refund.refundRecord.market",{url:"/market",views:{refundRecord:{templateUrl:n.BASE_PATH+"refund/views/refundRecordMarket.html",controller:"refundRecordMarketController as vm"}}}).state("refund.refundRecord.ecs",{url:"/ecs",views:{refundRecord:{templateUrl:n.BASE_PATH+"refund/views/refundRecordEcs.html",controller:"refundRecordEcsController as vm"}}}).state("refund.refundRecord.rds",{url:"/rds",views:{refundRecord:{templateUrl:n.BASE_PATH+"refund/views/refundRecordRds.html",controller:"refundRecordRdsController as vm"}}})}])}),define("base/states/loading",["angular","./states","../cons/cons","../services/resourceLoadService"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("loading",{url:"/loading",controller:function(){},templateUrl:n.BASE_VIEW_PATH+"loading.html"})}])}),define("base/states/ambassador",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("ambassador",{"abstract":!0,url:"/ambassador",controller:"ambassadorController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/home.html"}).state("ambassador.ticket",{url:"/ticket",templateUrl:n.BASE_PATH+"ambassador/views/ticket.html"}).state("ambassador.ticket.product",{url:"/product",controller:"ambassador.productController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/product.html"}).state("ambassador.ticket.mission",{url:"/mission",controller:"ambassador.missionController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/mission.html"}).state("ambassador.ticket.order",{url:"/order",controller:"ambassador.orderController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/order.html"}).state("ambassador.ticket.rebate",{url:"/rebate",controller:"ambassador.rebateController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/rebate.html"}).state("ambassador.invite",{url:"/invite",controller:"ambassador.inviteController as ambassador",templateUrl:n.BASE_PATH+"ambassador/views/invite.html"})}])}),define("base/states/flow",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("flow",{url:"/flow",controller:"flowController as vm",templateUrl:n.BASE_PATH+"flow/views/flow.html"}).state("flow.home",{url:"/home/:resourceType",views:{flow:{templateUrl:n.BASE_PATH+"flow/views/home.html",controller:"flow.homeController as vm"}}}).state("flow.list",{url:"/list/:flowPackageId",views:{flow:{templateUrl:n.BASE_PATH+"flow/views/list.html",controller:"flow.listController as vm"}}})}])}),define("base/states/mybank",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("mybank",{url:"/mybank",controller:"mybankController as vm",templateUrl:n.BASE_PATH+"mybank/views/mybank-unsign.html"})}])}),define("base/states/coupons",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/coupons/lists",["$match","$stateParams","$state","$rootScope",function(e,t,n,r){n.go("coupons.lists")}]),e.state("coupons",{url:"/coupons",controller:"couponsController as vm",templateUrl:n.BASE_PATH+"coupons/views/coupons.html"}).state("coupons.lists",{url:"/lists",views:{couponsView:{controller:"newCouponListController as vm",templateUrl:n.BASE_PATH+"coupons/views/lists.html"}}})}])}),define("base/states/storedCard",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("storedCard",{resolve:{instanceBasicPromise:["$stateParams",function(e){}]},url:"/storedCard",controller:"storedCardController as vm",templateUrl:n.BASE_PATH+"storedCard/views/storedCard.html"})}])}),define("base/states/billCenter",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("billCenter",{url:"/billCenter","abstract":!0,controller:"billCenterController as billCenter",templateUrl:n.BASE_PATH+"billCenter/views/billCenter.html"}).state("billCenter.billSummary",{url:"/billSummary",views:{billCenter:{controller:"billSummaryController as vm",templateUrl:n.BASE_PATH+"billCenter/views/billSummary.html"}}}).state("billCenter.billDetail",{url:"/billDetail",views:{billCenter:{controller:"billDetailController as vm",templateUrl:n.BASE_PATH+"billCenter/views/billDetail.html"}}}).state("billCenter.billAlarm",{url:"/billAlarm",views:{billCenter:{controller:"billAlarmController as vm",templateUrl:n.BASE_PATH+"billCenter/views/billAlarm.html"}}})}])}),define("base/states/slaCompensation",["angular","./states","../cons/cons"],function(e,t,n){t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("slaCompensation",{url:"/slaCompensation","abstract":!0,controller:"expensecenter.slaCompensationController as vm",templateUrl:n.BASE_PATH+"slaCompensation/views/slaCompensation.html"}).state("slaCompensation.list",{url:"/list/:past",views:{slaCompensation:{templateUrl:n.BASE_PATH+"slaCompensation/views/list.html",controller:"expensecenter.slaCompensation.listController as vm"}}}).state("slaCompensation.finished",{url:"/finished",views:{slaCompensation:{templateUrl:n.BASE_PATH+"slaCompensation/views/finishedList.html",controller:"expensecenter.slaCompensation.finishedListController as vm"}}})}])}),define("base/states/_base",["./states","./account","./consumption","./order","./contract","./coupon","./incomeExpense","./invoice","./remittance","./refund","./loading","./ambassador","./flow","./mybank","./coupons","./storedCard","./billCenter","./slaCompensation"],function(){}),define("base/services/commonService",["./services","common/helper/responsePreHandler","common/services/aliyunHttpHandler"],function(e,t){e.factory("commonRequest",["$injector","$q","aliyun.console.request",function(e,n,r){var i=r.request,s=function(r,s,o,u){var a=n.defer();return i(r,s).then(function(n){var r=t.responsePreHandler(n,e,o,u);r&&angular.isFunction(r.then)==0?a.resolve(r):a.reject(r)},function(e){a.reject(e)}),a.promise},o={sendSmsVerficationCode:function(){var e={method:"POST"};return s("/common/generateSmsVerificationCode.json",e)},verifyCode:function(e){var e=e||{method:"GET"};return s("/common/verifyCode.json",e)},verifyCodeInOldRequest:function(e){var e=e||{method:"GET"};return i("/common/verifyCode.json",e)}};return o}])}),define("base/services/_base",["./services","./commonService"],function(){}),define("base/helpers/modelHelper",["angular"],function(e){function t(t){return e.copy(t)}return{getCopy:t}}),define("base/helpers/tableHelper",["angular","common/helper/responsePreHandler","../cons/cons"],function(e,t,n){var r={initTableDef:function(e,t){this.injector=e,this.options=t,t.columns&&t.config&&(this.columns=t.columns,this.config=t.config)},operationReadyRefreshHandler:function(t,r,i){var s=this,o=t.subscribe(n.EVENT_OPERATION_READY,function(t,n){i(function(){e.isFunction(s.refreshTableList)&&s.refreshTableList()},200)});r.$on("$destroy",function(){o()})},actionCallback:function(e){},updateRequestParams:function(e,t){return e},refreshTableList:function(){this.config.refreshCurrentView()},updateList:function(e,t){var e=e||{},n=this.updateRequestParams(e,t);if(n&&n.notReadyForQuery==1)return;this.loadingState=!0;var r=this;this.getRequestService()(e).then(function(e){r.loadingState=!1,r._actionInnerCallback(e)})},getRequestService:function(){if(this.options&&this.options.requestService)return this.options.requestService},_actionInnerCallback:function(e){var n=this.injector,r=this;if(this.injector){var i=t.responsePreHandler(e,n,!0);r.actionCallback(i)}else r.actionCallback(e)},updateTableData:function(e){this.updateList({params:e.params},!e.isInitTableRequest)},pageHandler:function(e,t){return{pageSize:e.pageSize,page:e.currentPage,total:e.total,showPageGoto:!0}}};return r}),define("base/helpers/_base",["./modelHelper","./monthHelper","./tableHelper"],function(){}),define("base/index",["./controllers/_base","./directives/_base","./filters/_base","./models/_base","./states/_base","./services/_base","./helpers/_base"],function(){}),define("common/services/bootstrap",["app","angular","ui.router","ui.bootstrap"],function(e,t){"use strict";function r(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1})}var n=function(e){var t="",r,i,s,o,u,a,f;for(r in e){i=e[r];if(i instanceof Array)for(f=0;f<i.length;++f)u=i[f],a={},a[r]=u,t+=n(a)+"&";else if(i instanceof Object)for(o in i)u=i[o],s=r+"["+o+"]",a={},a[s]=u,t+=n(a)+"&";else i!==undefined&&i!==null&&(t+=encodeURIComponent(r)+"="+encodeURIComponent(i)+"&")}return t.length?t.substr(0,t.length-1):t};r(),e.run(["$rootScope","$state","$stateParams",function(e,t,n){e.$state=t,e.$stateParams=n,e.$on("$stateChangeSuccess",function(e,t,n,r,i){}),e.$on("$stateChangeError",function(e,t,n,r,i,s){console.log("ERROR "+s+" . From state: "+r.name+" to state: "+t.name)})}]).factory("aliyunHttpInterceptor",["$q",function(e){return{requestError:function(t){return console.log("request error: "+t),e.reject(t)},request:function(t){return t||e.when(t)},response:function(t){return t||e.when(t)},responseError:function(t){return console.log("response error: ",t),e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("aliyunHttpInterceptor")}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){e(t,n),console.log(t.message||t)}}])}]).factory("aliyun.console.requestWrapper",["$http",function(e){var r=function(r){var i={method:"GET"},s=t.extend({},i,r),o=s.method.toUpperCase();o=="POST"?(s.headers=s.headers||{},s.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",s.data==undefined&&s.params?(s.data=n(s.params),delete s.params):s.data=n(s.data)):o=="GET"&&(s.params=s.params||{},s.params.__preventCache=(new Date).getTime());var u=e(s).success(function(e,t,n,r){}).error(function(e,t,n,r){});return t.isFunction(s.dataFormatter)&&u.then(function(e){return s.dataFormatter.apply(null,[e])}),u},i=function(e,t){return t=t||{},t.url=e,r(t)};return{sendRequest:r,sendRequestWithUrl:i}}])}),define("common/services/_base",["app","./bootstrap","./Dialog","./i18nService"],function(e,t,n){}),define("common/directives/base",["app","../services/i18nService"],function(ng,i18nService){var i18nInstance=i18nService.getI18n("directives.base"),okText=i18nInstance.i18n(!0,"common.lb.confirm"),cancelText=i18nInstance.i18n(!0,"common.lb.cancel");ng.directive("textTrimmer",["$compile","$timeout",function($compile,$timeout){var manager=[];return angular.element(document).on("click",function(){$timeout(function(){if(manager.length>0){var e=manager.splice(0,1)[0];e.showPanel=!1}})}),{scope:!0,restrict:"AC",controller:["$rootScope","$modal","$animate","$timeout","aliyun.console.requestWrapper",function(e,t,n,r,i){return{$rootScope:e,$modal:t,$animate:n,$timeout:r,requestWrapper:i}}],link:function(scope,el,attrs,svcs){attrs.$observe("text",function(e){scope._oldText=scope.text=e}),scope.title=attrs.title,scope.cAlwaysShow=attrs.cAlwaysShow==="true",angular.forEach(["cFrom","cDirectives"],function(e){scope[e]=attrs[e]});var pen=angular.element(scope.cFrom?scope.cFrom:'<a class="ecs-texttrimmer-pen btn btn-default btn-xs c-texttrimmer-pen" href="#"><span class="icon-pen"></span></a>').attr({"ng-show":"showPen"});if(!scope.cAlwaysShow){scope.showPen=!1;var hoverHandler=function hover(e){scope.showPen=e.type==="mouseover";try{hover._thandler.cancel()}catch(e){}scope.showPen?scope.$apply():hover._thandler=svcs.$timeout(function(){scope.$apply()},200)},trigger=el;attrs.cTriggerSource&&(trigger=eval("el."+attrs.cTriggerSource)),trigger.on("mouseover mouseout",function hover(e){hover._inited||(hover._inited=!0,el.after(pen),scope.showPen=!0,pen.on("mouseover mouseout",function(e){hoverHandler(e)})),hoverHandler(e)})}else scope.showPen=!0,!scope.cFrom&&el.after(pen);$compile(pen)(scope);var show=function(e){if(e===undefined)return scope.showPanel===undefined?!1:scope.showPanel;svcs.$timeout(function(){scope.disabled=!1,scope.showPanel=e})};pen.on("click",function(t){t.preventDefault();if(!show()){if(!manager.length||!manager[0].showPanel)t.stopPropagation(),manager.splice(0,1);manager.push(scope);var n=['<div ng-show="showPanel" class="c-texttrimmer-box"><p>{{title}}：</p><form name="textTrimmer">','   <p><input name="editor" size="32" class="form-control" ng-model="text" type="text" ng-disabled="disabled"'+scope.cDirectives+"/></p>",'   <p class="c-texttrimmer-tip" ng-show="textTrimmer.$invalid || error" ng-bind="msg"></p>','   <div class="c-texttrimmer-btnbox">','     <a class="btn btn-primary" href="#" ng-disabled="textTrimmer.$invalid || disabled" ng-click="handler($event, true);">'+okText+"</a>",'     <a class="btn btn-default" href="#" ng-disabled="disabled" ng-click="handler($event, false);">'+cancelText+"</a>","   </div>","</form></div>"],r=function(e,t){var n=angular.element(window),r=e.offset(),i=n.scrollLeft()+n.width(),s=n.scrollTop()+n.height(),o=r.left+t[0].offsetWidth,u=t[0].offsetHeight,a=e[0].offsetHeight,f=r.top+a,l=f+u,f=s>=l?f+5:r.top-a-u,c=i>=o?r.left:r.left+i-o;return t.css({top:f,left:c})},i=angular.element(n.join("")).on("click",function(e){e.stopPropagation()});i.appendTo(document.body),r(el,i),scope.handler=function(e,t){e.preventDefault();if(t){scope.error=!1,scope.disabled=!0,scope._oldText=scope.text;if(scope.btnHandler){var n=scope.btnHandler(t);svcs.requestWrapper.sendRequestWithUrl(n.url,{method:n.type,data:angular.extend({},n.data)}).then(function(e){var t=e.data;t.code>=200?(show(!1),angular.isFunction(scope.updateItemNameCallback)&&scope.updateItemNameCallback(scope.item,scope.text),el.text(scope.text)):(show(!0),scope.error=!0,scope.msg=t.message||i18nInstance.i18n("msg.save.fail"))},function(e){show(!0),scope.error=!0,scope.msg=i18nInstance.i18n("msg.request.exception")})}else el.text(scope.text),show(!1)}else scope.text=scope._oldText,show(!1)},$compile(i)(scope),scope.$watch("showPanel",function(e){!e&&i.remove()}),svcs.$rootScope.$on("$locationChangeStart",function(){i.remove()})}show(!show())})}}}])}),define("common/directives/navbar",["app","angular"],function(e,t){e.directive("aliyunConsoleNavbar",["$http","$templateCache","$q","$compile",function(e,n,r,i){var s=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return{restrict:"AM",templateUrl:"scripts/template/navbar.html",transclude:!1,controller:["$scope","$rootScope","$state",function(e,n,r){n.$watch("aliyunNavDef",function(n){t.isDefined(n)&&(e.config=n)}),e.checkIfActive=function(e){var t=e.module;if(t instanceof Array){for(var n=0;n<t.length;n++)if(r.includes(t[n]))return!0;return!1}return r.includes(t)?!0:!1}}],link:function(o,u,a,f){function l(i){return r.when(n.get(i)||e.get(i)).then(function(e){return t.isObject(e)?(n.put(i,e.data),e.data):e})}function c(e){var t=l(e);t.then(function(e){e=s.apply(e),u.find(".console-navbar-links").append(e),i(u.find(".console-navbar-links"))(o)})}o.$watch(function(){return o.config},function(){o.config&&o.config.templateUrl&&c(o.config.templateUrl)}),a.$observe("templateUrl",function(e){e&&c(e)})}}}])}),define("common/directives/validator",["app","../services/i18nService"],function(e,t){"use strict";var n=t.getI18n("validator");e.directive("char2to22",function(){return{require:"ngModel",link:function(e,t,r,i){i.$parsers.unshift(function(t){var r=t.length,s=2<=r&&r<=22;return i.$setValidity("char2to22",s),e.msg=s?"":n.i18n("validator.lb.char2to22"),t})}}}).directive("char2to15",function(){return{require:"ngModel",link:function(e,t,r,i){i.$parsers.unshift(function(t){var r=t.length,s=2<=r&&r<=15;return i.$setValidity("char2to15",s),e.msg=s?"":n.i18n("validator.lb.char2to15"),t})}}}).directive("preventHttpText",function(){return{require:"ngModel",link:function(e,t,r,i){i.$parsers.unshift(function(t){if(t=="")return i.$setValidity("startWithHttp",!0),t;var r="^((https|http)?://)",s=new RegExp(r),o=!s.test(t);i.$setValidity("startWithHttp",o),e.message=o?"":n.i18n("validator.lb.preventHttpText");if(o)return t})}}}).directive("nameValidator",function(){return{require:"ngModel",priority:2e3,link:function(e,t,r,i){i.$parsers.push(function(t){if(t==undefined||t==""){i.$setValidity("nameValidator",!0);return}var r=/^[a-zA-Z\u4e00-\u9fa50-9][^\s"@\/:=<>{\[\]}]{0,}$/.test(t);return i.$setValidity("nameValidator",r),e.message=r?"":n.i18n("validator.lb.nameValidator"),r?t:undefined})}}})}),define("common/directives/numberSpinner",["app","../services/i18nService"],function(e,t){e.directive("aliyunNumberSpinner",["$parse",function(e){return{restrict:"AM",require:"?^ngModel",scope:{modelValue:"="},replace:!0,templateUrl:"scripts/template/numberSpinner.html",link:function(n,r,i){var s=t.getI18n("directives.numberSpinner");n.i18nText={add:s.i18n("add"),sub:s.i18n("sub")};var o=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};n.readonlyInput=angular.isDefined(i.ngDisabled)?n.$parent.$eval(i.ngDisabled):!1,n.$parent.$watch(e(i.ngDisabled),function(e){n.readonlyInput=e}),n.modelValue=parseInt(n.modelValue||i.value,10);var u=n.modelValue;n.min=parseInt(i.min,10),n.max=parseInt(i.max,10),n.stepper=parseInt(i.stepper,10),n.inputSize=parseInt(i.inputSize,10)||n.max.toString().length,n.decrease=function(){if(n.modelValue<=n.min||n.modelValue-n.stepper<n.min)return;n.modelValue-=n.stepper},n.increase=function(){if(n.modelValue>=n.max||n.modelValue+n.stepper>n.max)return;n.modelValue+=n.stepper};var a=r.find("input"),f=a.eq(0);f.bind("mousewheel wheel",function(e){if(n.readonlyInput)return;e.preventDefault(),n.$apply(o(e)?n.increase():n.decrease())});var l=/^\-?\d*$/;n.$watch("modelValue",function(e,t){var r=e,i=l.test(r),s=/^\-/.test(n.min)||/^\-/.test(n.max);i&&(r<n.min||r>n.max)&&(i=!1);if(s)n.modelValue=i?e:t;else if(/^\-/.test(r))n.modelValue=n.min;else{n.modelValue=parseInt(i?e:t,10);if(n.modelValue===undefined||n.modelValue===""||isNaN(n.modelValue))n.modelValue=n.min}})}}}])}),define("common/directives/onoff",["app"],function(e){e.directive("aliyunOnOff",function(){return{restrict:"A",replace:!0,scope:{ngModel:"=",change:"&",loading:"="},require:"?ngModel",template:'<div ng-click="switchOnOff()" ng-keypress="switchOnOff()" ng-class="thisClass"><div class="onoff-handle"><div class="onoff-loading" ng-show="loading"></div></div></div>',link:function(e,t,n,r){n.ngTrueValue=n.ngTrueValue||!0,n.ngFalseValue=n.ngFalseValue||!1,n.defaultClass=n["class"]||"console-onoff",n.onClass=n.onClass||"console-onoff-on",n.offClass=n.offClass||"console-onoff-off",n.ngModel&&(e.ngModel=e.ngModel?n.ngTrueValue:n.ngFalseValue,e.$watch(function(){return e.ngModel},function(){e._checked=e.ngModel==n.ngTrueValue?!0:!1})),e.switchOnOff=function(){if(n.disabled)return!1;n.loading==undefined&&(e._checked=e._checked==1?!1:!0,n.ngModel&&(e.ngModel=e._checked?n.ngTrueValue:n.ngFalseValue)),e.change(e.ngModel)},e.$watch("_checked",function(){e.thisClass=n.defaultClass+" "+(e._checked?n.onClass:n.offClass)})}}})}),define("common/directives/post-require",["app"],function(e){e.directive("postRequire",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var i=function(e){if(r.$isEmpty(e)){r.$setValidity("required",!1);return}return r.$setValidity("required",!0),e};t.bind("blur",function(){r.$dirty&&(i(r.$viewValue),e.$apply())})}}})}),define("common/directives/search",["app"],function(e){e.directive("aliyunConsoleGlobalSearch",function(){return{restrict:"AM",scope:!0,replace:!0,templateUrl:"scripts/template/globalSearch.html",transclude:!1,controller:["$scope","$timeout",function(e,t){e.isActive=!1,e.searchUrl="http://www.aliyun.com/s?k=",e.activeInput=function(){e.isActive=!0},e.inactiveInput=function(){t(function(){e.isActive=!1},100)}}],link:function(e,t,n,r){var i=t.find(".console-search-ask-input")[0];n.$observe("searchUrl",function(t){t&&(e.searchUrl=t)}),n.$observe("placeholderText",function(t){angular.isDefined(t)&&(e.placeholderText=t)}),$(i).on("keypress",function(t){t.keyCode==13&&window.open(e.searchUrl+e.askInput,"_blank")})}}})}),define("common/helper/securityHelper",[],function(){function e(e){return e&&t(e)?e.replace("{{","\\{\\{"):e}function t(e){return Object.prototype.toString.call(e)==="[object String]"}return{doubleBracketFilter:e}}),define("common/directives/truncateText",["app","angular","../helper/securityHelper"],function(e,t,n){function r(e){return t.element("<div/>").html(e).text()}function i(e){return t.element("<div/>").text(e).html()}function s(e){var t=0;if(!e)return t;var n=e.length;for(var r=0;r<n;r++)e.charCodeAt(r)>255?t+=2:t++;return t}e.provider("aliyunTruncateTextConfig",function(){var e={copyText:!1,textLength:12};return{config:function(t){t&&(e.copyText=t.copyText,e.textLength=t.textLength)},$get:function(){return e}}}).directive("aliyunTruncateText",["$compile","$sanitize","aliyunTruncateTextConfig",function(e,t,o){return{restrict:"A",link:function(t,u,a){var f=a.textLength||12,l=a.isUnicodeLength||"false";a.textLength||(f=o.textLength);var c=a.copyText||!1;if(c!=1&&c!="true"){var h=o.copyText;c=h}var p=a.trigger||"mouseenter",d=a.tooltipPlacement||"top";a.$observe("sourceText",function(o){if(o){o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;");var a=r(o),h=l=="true"?s(a):a.length;if(h>f){var v=a.substr(0,f);v.length<a.length&&(v+="..."),v=i(v),o=o.replace(/["]/g,"&quot;"),o=n.doubleBracketFilter(o),c?u.html('<span tooltip-trigger="'+p+'" tooltip-placement="'+d+'"  aliyun-tooltip2="'+o+'" content-html="false">'+v+"</span>"):u.html('<span tooltip-trigger="'+p+'" tooltip-placement="'+d+'"  tooltip="'+o+'">'+v+"</span>"),e(u.contents())(t)}else u.text(a)}})}}}])}),define("common/directives/spm",["app","angular"],function(e,t){"use strict";function n(){var e=window.location.hash;return e=e.replace(/^#\//,"").replace(/\//g,"_"),e}e.directive("aliyunConsoleSpm",function(){return{link:function(e,r,i){var s=t.isDefined(i.spmId)?i.spmId:i.aliyunConsoleSpm||0,o=i.spmDefaultUri||i.spmUri&&i.spmUri.length>0,u=i.needConvert,a=t.isDefined(i.extraParams)?i.extraParams:"",f="";if(o){var l=t.isDefined(i.spmUri)?i.spmUri:n()||"";f=l&&l.length>0?"uri="+l:""}u&&(s=(s+"").split(".").join("_")),i.$set("data-spm-click","gostr=/aliyun;locaid=d"+s+";"+f+";"+a)}}})}),define("common/directives/textEditor",["app","angular","../services/i18nService"],function(e,t,n){"use strict";var r=n.getI18n("directives.base"),i={confirm:r.i18n(!0,"common.lb.confirm"),cancel:r.i18n(!0,"common.lb.cancel"),fail:r.i18n("msg.save.fail")};e.provider("textEditorConfig",function(){var e={buttonLabel:{apply:i.confirm,cancel:i.cancel}};return{setButtonLabels:function(t){e.buttonLabel=t},setProviderOptions:function(n){t.extend(e,n)},$get:function(){return e}}}).filter("htmlParser",function(){var e=t.element("<div></div>");return function(t){return t=e.html(t).html(),t}}).directive("textEditor",["$compile","$timeout","$sce","textEditorConfig",function(e,n,r,s){function u(e){return e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}var o=[];return t.element(document).on("click",function(){n(function(){if(o.length>0){var e=o.splice(0,1)[0];e.showPanel=!1,e.reject=!1,e.text=e._oldText}})}),{scope:!0,restrict:"AC",require:"?ngModel",controller:["$rootScope","$scope","$q",function(e,t,n){t.q$=n,t.rootScope$=e}],link:function(a,f,l,c){function d(e){if(e&&e.length!==0){var t=(""+e).toLowerCase();e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}a.inputSize=l.cInputSize||32;var h=l.ngModel!==undefined,p=t.element("<div></div>");h?a.$watch(l.ngModel,function(e){e=u(e),a._oldText=a.text=p.html(e).text()}):l.$observe("cText",function(e){e=u(e),a._oldText=a.text=p.html(e).text()}),l.$observe("cNotEditable",function(e){a.notEditable=d(e)});var v=!0;l.$observe("cAutoUpdate",function(e){v=e===undefined?!0:d(e)}),a.title=l.cTitle,a.cAlwaysShow=l.cAlwaysShow==="true",t.forEach(["cFrom","cDirectives","cTip","cTipClass","cUnit"],function(e){a[e]=l[e]}),a.cTip=r.trustAsHtml(a.cTip);var m=t.element(a.cFrom?a.cFrom:'<a class="ecs-texttrimmer-pen btn btn-default btn-xs c-texttrimmer-pen" href="#"><span class="icon-pen"></span></a>').attr({"ng-show":"!notEditable && showPen"});if(!a.cAlwaysShow){a.showPen=!1;var g=function w(e){a.showPen=e.type==="mouseover";try{w._thandler.cancel()}catch(e){}a.showPen?a.$apply():w._thandler=n(function(){a.$apply()},200)},y=f;l.cTriggerSelector&&(y=f.parents(l.cTriggerSelector),y.length||(y=f)),y.on("mouseover mouseout",function E(e){E._inited||(E._inited=!0,f.after(m),a.showPen=!0,m.on("mouseover mouseout",function(e){g(e)})),g(e)})}else a.showPen=!0,!a.cFrom&&f.after(m);e(m)(a);var b=function(e){if(e===undefined)return a.showPanel===undefined?!1:a.showPanel;n(function(){a.disabled=!1,a.showPanel=e})};a.handler=function(e,t){e.preventDefault();if(t){a.reject=!1,a.disabled=!0;if(a.callback){var n=a.q$.defer();n.promise.then(function(e){e.success?(a._oldText=a.text,b(!1),v&&(h?c.$setViewValue(a.text):f.text(a.text))):(b(!0),a.reject=!0,a.message=e.message||i.fail)},function(e){e&&(a.message=e.message||i.fail),b(!0),a.reject=!0}),a.callback(n)}else a._oldText=a.text,b(!1),v&&(h?c.$setViewValue(a.text):f.text(a.text))}else a.reject=!1,a.text=a._oldText,b(!1)},m.on("click",function(r){r.preventDefault();if(!b()){if(!o.length||!o[0].showPanel)r.stopPropagation(),o.splice(0,1);o.push(a);var i=s.buttonLabel,u=['<div ng-show="showPanel" class="c-texttrimmer-box"><p ng-if="title">{{title}}：</p><form name="textEditor">','   <p><input name="editor" size="{{inputSize}}" class="form-control" ng-model="text" type="text" ng-disabled="disabled" '+a.cDirectives+' style="display:inline-block;" /> <span data-ng-if="cUnit" ng-bind="cUnit"></span></p>','   <p class="c-texttrimmer-tip" ng-show="textEditor.$invalid || reject" ng-bind="message"></p>','   <p class="{{cTipClass}}" ng-if="cTip" ng-bind-html="cTip"></p>','   <div class="c-texttrimmer-btnbox">','     <a class="btn btn-primary" href="#" ng-disabled="textEditor.$invalid || disabled" ng-click="handler($event, true);">'+i.apply+"</a>",'     <a class="btn btn-default" href="#" ng-disabled="disabled" ng-click="handler($event, false);">'+i.cancel+"</a>","   </div>","</form></div>"],l=function(e,n){var r=t.element(window),i=e.offset(),s=r.scrollLeft()+r.width(),o=r.scrollTop()+r.height(),u=i.left+n[0].offsetWidth,a=n[0].offsetHeight,f=e[0].offsetHeight,l=i.top+f,c=l+a,l=o>=c?l+5:i.top-f-a,h=s>=u?i.left:i.left+s-u;return n.css({top:l,left:h})},c=t.element(u.join("")).on("click",function(e){e.stopPropagation()});c.appendTo(document.body),l(f,c),e(c)(a),a.$watch("showPanel",function(e){!e&&c.remove()}),a.$on("$destroy",function(){c&&c.remove()}),a.rootScope$.$on("$locationChangeStart",function(){c.remove()})}b(!b())})}}}])}),define("common/directives/selector",["app","../services/i18nService"],function(e,t){e.directive("aliyunSelector",function(){var e=t.getI18n("selector");return{restrict:"AE",replace:!1,scope:{value:"=",list:"=",status:"=",loadMore:"&",filterBy:"="},template:'</a><ul ng-show="!showloading" class="selector-list" ><li ng-repeat="item in _selectorDataList | filter:filterBy"  ng-class="{disabled:item.disabled,active:item._active}" aliyun-tooltip="{{item.tips}}" tooltip-placement="bottom" tooltip-trigger="{{item.tipTrigger || \'mouseenter\'}}" tooltip-append-to-body="{{item.tipAppendToBody === undefined?\'true\':item.tipAppendToBody}}" content-html="true" class="selector-item" ng-click="change($event,$index)">{{item.label}}</li></ul><div ng-show="showMsg" ng-click="load()" class="selector-msg" ng-bind-html="message"></div>',link:function(t,n,r){var i={load:r.messageLoad||'<span class="text-muted">'+e.i18n("default.message.load")+"</span>",error:r.messageError||'<span class="text-danger">'+e.i18n("default.message.error")+'</span><span class="text-primary">'+e.i18n("default.message.retry")+"</span>",empty:r.messageEmpty||'<span class="text-muted">'+e.i18n("default.message.empty")+"</span>",hasmore:r.messageHasmore||'<span class="text-primary">'+e.i18n("default.message.more")+"</a>"};t.multi=r.multi||!1,t.load=function(){if(t.status=="load"||t.status=="empty")return;t.loadMore()};var s=undefined,o=undefined;t.change=function(e,n){var i=t._selectorDataList[n];if(i.disabled)return;t.multi=r.multi=="true"||!1,t._selectorDataList[n]._active=!t._selectorDataList[n]._active,t.value=[],t.multi?(angular.forEach(t._selectorDataList,function(r,i){if(t._selectorDataList[n]._active&&e.shiftKey&&typeof s!="undefined"){var o=Math.min(s,n),u=Math.max(s,n);i>o&&i<u&&!r.disabled&&(r._active=!0)}r._active&&t.value.push(t.list[i])}),t.value.length<1&&(t.value=null),t._selectorDataList[n]._active?s=n:s=undefined):(angular.forEach(t._selectorDataList,function(e,n){i!=e&&(t._selectorDataList[n]._active=!1)}),i._active?t.value=t.list[n]:t.value=null)};var u=function(){t._selectorDataList=angular.copy(t.list),(!t.list||t.list.length==0)&&t.status=="empty"&&(t.value=null),t.statusClass&&n.hasClass(t.statusClass)&&n.removeClass(t.statusClass),t.statusClass="selector-status-"+t.status,n.addClass(t.statusClass),t.message=i[t.status],t.list&&t.list.length>0&&t.status=="empty"?t.showMsg=!1:t.showMsg=!0},a=function(){t.value&&angular.isArray(t.value)?angular.forEach(t.list,function(e,n){t._selectorDataList[n]._active=!1,angular.forEach(t.value,function(r,i){if(r==e)return t._selectorDataList[n]._active=!0,!1})}):t.value&&angular.forEach(t.list,function(e,n){t._selectorDataList[n]._active=t.value==e})};t.$watchCollection("[status,list]",function(e){u(),a()}),r.listwatch=="true"&&t.$watchCollection("list",function(e){u(),a()}),t.$watch("value",function(e){a()}),u(),a(),n.addClass("selector")}}})}),define("common/directives/_baseWithoutChart",["app","./base","./navbar","./validator","./numberSpinner","./onoff","./post-require","./search","./loading","./truncateText","./spm","./tableFixed","./textEditor","./selector"],function(e){}),define("common/directives/tooltip",["app"],function(e){e.provider("$tooltip2",function(){function r(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,contentHtml:!0},t={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(n){angular.extend(t,n)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,s,o,u,a,f,l){return function(c,h,p){function v(e){var n=e||d.trigger||p,r=t[n]||n;return{show:n,hide:r}}var d=angular.extend({},e,n),m=r(c),g=l.startSymbol(),y=l.endSymbol(),b="<div "+m+"-popup "+'title="'+g+"tt_title"+y+'" '+'content="'+g+"tt_content"+y+'" '+'placement="'+g+"tt_placement"+y+'" '+'animation="'+g+"tt_animation"+y+'" '+'is-open="'+g+"tt_isOpen"+y+'"'+'template-id="'+g+"tt_templateId"+y+'" '+'content-html="'+g+"tt_contentHtml"+y+'" '+'template-data="tt_templateData" '+">"+"</div>";return{restrict:"EA",scope:!0,compile:function(e,t){var n=s(b);return function(t,r,i){function x(){t.tt_isOpen?N():T()}function T(){o.cancel(w);if(b&&!t.$eval(i[h+"Enable"]))return;t.tt_popupDelay?(p=o(C,t.tt_popupDelay,!1),p.then(function(e){e()})):C()()}function N(){t.$apply(function(){w=o(k,100)})}function C(){return!t.tt_content&&!t.tt_templateId?angular.noop:(L(),l&&o.cancel(l),s.css({top:0,left:0,display:"block"}),m?a.find("body").append(s):r.after(s),S(),t.tt_isOpen=!0,t.$digest(),S)}function k(){t.tt_isOpen=!1,o.cancel(p),t.tt_animation?l=o(_,0):_()}function L(){s&&_(),s=n(t,function(){}),t.$digest(),M()}function A(){o.cancel(w)}function O(){w=o(N,50)}function M(){s&&E&&(s.bind("mouseenter",A),s.bind("mouseleave",O))}function _(){s&&(s.remove(),s=null)}var s,l,p,m=angular.isDefined(d.appendToBody)?d.appendToBody:!1,g=v(undefined),y=!1,b=angular.isDefined(i[h+"Enable"]),w,E=!0,S=function(){var e,n,i,o;e=m?f.offset(r):f.position(r),n=s.prop("offsetWidth"),i=s.prop("offsetHeight");switch(t.tt_placement){case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left-n};break;default:o={top:e.top-i,left:e.left+e.width/2-n/2}}o.top+="px",o.left+="px",s.css(o)};t.tt_isOpen=!1,i.$observe(c,function(e){t.tt_content=e,!e&&t.tt_isOpen&&k()}),i.$observe(h+"Title",function(e){t.tt_title=e}),i.$observe(h+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),i[h+"TemplateData"]&&t.$watch(i[h+"TemplateData"],function(e){e&&(t.tt_templateData=e)}),i.$observe(h+"TemplateId",function(e){t.tt_templateId=angular.isDefined(e)?e:d.templateId}),i.$observe(h+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n}),i.$observe("contentHtml",function(e){t.tt_contentHtml=angular.isDefined(e)?u(e)(t):d.contentHtml});var D=function(){y&&(r.unbind(g.show,T),r.unbind(g.hide,N))};i.$observe(h+"Trigger",function(e){D(),g=v(e),g.show===g.hide?(r.bind(g.show,x),g.show!="mouseenter"&&(E=!1)):(r.bind(g.show,T),r.bind(g.hide,N)),y=!0});var P=t.$eval(i[h+"Animation"]);t.tt_animation=angular.isDefined(P)?!!P:d.animation,i.$observe(h+"AppendToBody",function(e){m=angular.isDefined(e)?u(e)(t):m}),m&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&k()}),t.$on("$destroy",function(){o.cancel(l),o.cancel(p),D(),_()})}}}}}]});var t=function(e,t,n,r){function s(t){return n.when(e.get(t)||r.get(t)).then(function(n){return angular.isObject(n)?(e.put(t,n.data),n.data):n})}function o(e,n,r){e.$watch("templateId",function(o){if(o){var u=s(e.templateId);u.then(function(s){s=i.apply(s),n.find("."+r+"-content").append(s),t(n.find("."+r+"-content"))(e)})}}),e.$watch("templateData",function(i){i&&t(n.find("."+r+"-content"))(e)})}var i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return{init:o}};e.directive("aliyunTooltip2Popup",["$templateCache","$compile","$q","$http",function(e,n,r,i){var s=t(e,n,r,i);return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",templateId:"@",templateData:"=",contentHtml:"@"},templateUrl:"scripts/template/tooltip2.html",link:function(e,t,n,r){s.init(e,t,"tooltip")}}}]).directive("aliyunTooltipPopup",["$templateCache","$compile","$q","$http",function(e,n,r,i){var s=t(e,n,r,i);return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",templateId:"@",templateData:"=",contentHtml:"@"},templateUrl:"scripts/template/tooltip2.html",link:function(e,t,n,r){s.init(e,t,"tooltip")}}}]).directive("aliyunTooltip2",["$tooltip2",function(e){return e("aliyunTooltip2","tooltip","mouseenter")}]).directive("aliyunTooltip",["$tooltip2",function(e){return e("aliyunTooltip","tooltip","mouseenter")}]).directive("aliyunPopover2Popup",["$templateCache","$compile","$q","$http",function(e,n,r,i){var s=t(e,n,r,i);return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",templateId:"@",templateData:"=",contentHtml:"@"},templateUrl:"scripts/template/popover2.html",link:function(e,t,n,r){s.init(e,t,"popover")}}}]).directive("aliyunPopoverPopup",["$templateCache","$compile","$q","$http",function(e,n,r,i){var s=t(e,n,r,i);return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",templateId:"@",templateData:"=",contentHtml:"@"},templateUrl:"scripts/template/popover2.html",link:function(e,t,n,r){s.init(e,t,"popover")}}}]).directive("aliyunPopover2",["$tooltip2",function(e){return e("aliyunPopover2","popover","mouseenter")}]).directive("aliyunPopover",["$tooltip2",function(e){return e("aliyunPopover","popover","mouseenter")}])}),define("common/directives/aliyunClipCopy",["./aliyunCommonDirectives","angular","../services/i18nService"],function(e,t,n){var r=n.getI18n("directives.aliyunClipCopy"),i={copy:r.i18n("copy"),copied:r.i18n("copied")};e.directive("aliyunClipCopy",["$compile",function(e){return{restrict:"A",scope:{},link:function(n,r,s,o){function p(t){if(c.tooltipCreate)return;var i=e(f);c.tooltipCreate=!0,l=i(n),r.after(l),m(t),g(),y()}function m(e){var t=r.offset(),n=r.position(),i=v.scrollTop==0?document.body.scrollTop:v.scrollTop,s=e.clientX-t.left,o=s>=r.width()-60;l.css({left:s+n.left-(o?60:0)+"px",top:e.clientY+i-t.top+n.top-25+"px"})}function g(){l.on("mouseenter",function(){if(c.flash_leave)return;x()}).on("mouseleave",function(){T()})}function y(){var e=t.element(".global-zeroclipboard-container");e.unbind("mouseenter",b).unbind("mouseleave",w).on("mouseenter",b).on("mouseleave",w)}function b(){c.flash_enter=!0,x()}function w(e){c.flash_leave=!0,c.flash_enter=!1,T()}function E(e){p(e)}function S(){c.tooltipCreate=!1,c.flash_leave=!1,r.css({background:"transparent"}),l.remove()}function x(){clearTimeout(c.delayHideTooltip_timer),c.delayHideTooltip_timer=null}function T(){c.delayHideTooltip_timer=setTimeout(S,250)}function N(e){if(c.flash_leave)return;r.css({background:h.enter}),x(),E(e)}function C(){T()}var u=i.copy,a=s.copyText,f=['<div class="console-clip-copy" style="display: block" clip-copy="copyHandle()" clip-click="clipClick()">','<div class="rectangle1"></div>','<div class="rectangle2"></div>','<div class="popover-inner">','<div class="aliyun-clip-copy-txt" >'+u+"</div>","</div>","</div>"].join(""),l,c={tooltipCreate:!1,delayHideTooltip_timer:!1,flash_leave:!1,flash_enter:!1},h={enter:"#b3d4ff",copyed:"#c0fcc9",leave:""};n.copyHandle=function(){var e=l.find(".aliyun-clip-copy-txt");return e.length&&e.html(i.copied),r.css({background:h.copyed}),l.addClass("console-clip-copyed"),a},n.clipClick=function(){};var d=document.compatMode=="CSS1Compat",v=d?document.documentElement:document.body;r.unbind("mouseenter",N).unbind("mouseout",C).on("mouseenter",N).on("mouseout",C),n.$on("$destory",function(){S()})}}}])}),define("common/services/aliyunConsoleRequest",["app","../helper/responsePreHandler"],function(e,t){e.factory("aliyunConsoleRequest",["$injector","$q",function(e,n){return function(r){var i=n.defer(),s,o,u,a,f;if(arguments.length==1)s=r.serviceModule,o=r.serviceAction,u=r.params,a=r.withoutData,f=r.noPublish;else if(arguments.length>1)s=arguments[0],o=arguments[1],u=arguments[2],a=arguments[3],f=arguments[4];else if(arguments.length<1)throw new Error("至少传入一个参数");return e.invoke([s,function(n){n[o](u).then(function(n){var r=[n,e];a&&r.push(a),f&&r.push(f);var s=t.responsePreHandler.apply(null,r);!s||s&&typeof s.then!="function"?i.resolve(s):i.reject(s)})}]),i.promise}}])}),define("common/services/aliyunCacheFactoryHelper",["./services"],function(e){e.factory("aliyunCacheFactoryHelper",["$cacheFactory",function(e){var t=e.get("__aliyunVarCache__")||e("__aliyunVarCache__");return{get:function(e){return t.get(e)},put:function(e,n){t.put(e,n)}}}])}),!function(){function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function p(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d(e){return e===null?NaN:+e}function v(e){return!isNaN(e)}function m(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}function y(e){return e.length}function w(e){var t=1;while(e*t%1)t*=10;return t}function E(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function S(){this._=Object.create(null)}function N(e){return(e+="")===x||e[0]===T?T+e:e}function C(e){return(e+="")[0]===T?e.slice(1):e}function k(e){return N(e)in this._}function L(e){return(e=N(e))in this._&&delete this._[e]}function A(){var e=[];for(var t in this._)e.push(C(t));return e}function O(){var e=0;for(var t in this._)++e;return e}function M(){for(var e in this._)return!1;return!0}function _(){this._=Object.create(null)}function D(e){return e}function P(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function H(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=B.length;n<r;++n){var i=B[n]+t;if(i in e)return i}}function j(){}function F(){}function I(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new S;return r.on=function(r,i){var s=n.get(r),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function q(){e.event.preventDefault()}function R(){var t=e.event,n;while(n=t.sourceEvent)t=n;return t}function U(t){var n=new F,r=0,i=arguments.length;while(++r<i)n[arguments[r]]=I(n);return n.of=function(r,i){return function(s){try{var o=s.sourceEvent=e.event;s.target=t,e.event=s,n[s.type].apply(r,i)}finally{e.event=o}}},n}function X(e){return W(e,K),e}function Q(e){return typeof e=="function"?e:function(){return V(e,this)}}function G(e){return typeof e=="function"?e:function(){return $(e,this)}}function et(t,n){function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function s(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=e.ns.qualify(t),n==null?t.local?i:r:typeof n=="function"?t.local?a:u:t.local?o:s}function tt(e){return e.trim().replace(/\s+/g," ")}function nt(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function rt(e){return(e+"").trim().split(/^|\s+/)}function it(e,t){function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}e=rt(e).map(st);var n=e.length;return typeof t=="function"?i:r}function st(e){var t=nt(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",tt(i+" "+e))):n.setAttribute("class",tt(i.replace(t," ")))}}function ot(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t=="function"?s:i}function ut(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t=="function"?i:r}function at(t){function n(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y&&e.documentElement.namespaceURI===Y?e.createElement(t):e.createElementNS(n,t)}function r(){return this.ownerDocument.createElementNS(t.space,t.local)}return typeof t=="function"?t:(t=e.ns.qualify(t)).local?r:n}function ft(){var e=this.parentNode;e&&e.removeChild(this)}function lt(e){return{__data__:e}}function ct(e){return function(){return J(this,e)}}function ht(e){return arguments.length||(e=p),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function pt(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function dt(e){return W(e,vt),e}function mt(e){var t,n;return function(r,i,s){var o=e[s].update,u=o.length,a;s!=n&&(n=s,t=0),i>=t&&(t=i+1);while(!(a=o[t])&&++t<u);return a}}function gt(t,r,i){function f(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function l(){var e=u(r,n(arguments));f.call(this),this.addEventListener(t,this[s]=e,e.$=i),e._=r}function c(){var n=new RegExp("^__on([^.]+)"+e.requote(t)+"$"),r;for(var i in this)if(r=i.match(n)){var s=this[i];this.removeEventListener(r[1],s,s.$),delete this[i]}}var s="__on"+t,o=t.indexOf("."),u=bt;o>0&&(t=t.slice(0,o));var a=yt.get(t);return a&&(t=a,u=wt),o?r?l:f:r?j:c}function bt(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function wt(e,t){var n=bt(e,t);return function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!(r.compareDocumentPosition(t)&8))&&n.call(t,e)}}function xt(t){var n=".dragsuppress-"+ ++St,r="click"+n,o=e.select(s(t)).on("touchmove"+n,q).on("dragstart"+n,q).on("selectstart"+n,q);Et==null&&(Et="onselectstart"in t?!1:H(t.style,"userSelect"));if(Et){var u=i(t).style,a=u[Et];u[Et]="none"}return function(e){o.on(n,null),Et&&(u[Et]=a);if(e){var t=function(){o.on(r,null)};o.on(r,function(){q(),t()},!0),setTimeout(t,0)}}}function Nt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Tt<0){var o=s(t);if(o.scrollX||o.scrollY){r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var u=r[0][0].getScreenCTM();Tt=!u.f&&!u.e,r.remove()}}return Tt?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}function Ct(){return e.event.changedTouches[0].identifier}function Ht(e){return e>0?1:e<0?-1:0}function Bt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function jt(e){return e>1?0:e<-1?At:Math.acos(e)}function Ft(e){return e>1?_t:e<-1?-_t:Math.asin(e)}function It(e){return((e=Math.exp(e))-1/e)/2}function qt(e){return((e=Math.exp(e))+1/e)/2}function Rt(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ut(e){return(e=Math.sin(e/2))*e}function Kt(){}function Qt(e,t,n){return this instanceof Qt?void (this.h=+e,this.s=+t,this.l=+n):arguments.length<2?e instanceof Qt?new Qt(e.h,e.s,e.l):bn(""+e,wn,Qt):new Qt(e,t,n)}function Yt(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,new dn(o(e+120),o(e),o(e-120))}function Zt(t,n,r){return this instanceof Zt?void (this.h=+t,this.c=+n,this.l=+r):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):t instanceof nn?ln(t.l,t.a,t.b):ln((t=En((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,n,r)}function tn(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new nn(n,Math.cos(e*=Dt)*t,Math.sin(e)*t)}function nn(e,t,n){return this instanceof nn?void (this.l=+e,this.a=+t,this.b=+n):arguments.length<2?e instanceof nn?new nn(e.l,e.a,e.b):e instanceof Zt?tn(e.h,e.c,e.l):En((e=dn(e)).r,e.g,e.b):new nn(e,t,n)}function fn(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=cn(i)*sn,r=cn(r)*on,s=cn(s)*un,new dn(pn(3.2404542*i-1.5371385*r-.4985314*s),pn(-0.969266*i+1.8760108*r+.041556*s),pn(.0556434*i-.2040259*r+1.0572252*s))}function ln(e,t,n){return e>0?new Zt(Math.atan2(n,t)*Pt,Math.sqrt(t*t+n*n),e):new Zt(NaN,NaN,e)}function cn(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function hn(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function pn(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function dn(e,t,n){return this instanceof dn?void (this.r=~~e,this.g=~~t,this.b=~~n):arguments.length<2?e instanceof dn?new dn(e.r,e.g,e.b):bn(""+e,dn,Yt):new dn(e,t,n)}function vn(e){return new dn(e>>16,e>>8&255,e&255)}function mn(e){return vn(e)+""}function yn(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function bn(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(xn(u[0]),xn(u[1]),xn(u[2]))}}return(a=Tn.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&!isNaN(a=parseInt(e.slice(1),16))&&(e.length===4?(r=(a&3840)>>4,r=r>>4|r,i=a&240,i=i>>4|i,s=a&15,s=s<<4|s):e.length===7&&(r=(a&16711680)>>16,i=(a&65280)>>8,s=a&255)),t(r,i,s))}function wn(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):(o=NaN,u=a>0&&a<1?0:o),new Qt(o,u,a)}function En(e,t,n){e=Sn(e),t=Sn(t),n=Sn(n);var r=hn((.4124564*e+.3575761*t+.1804375*n)/sn),i=hn((.2126729*e+.7151522*t+.072175*n)/on),s=hn((.0193339*e+.119192*t+.9503041*n)/un);return nn(116*i-16,500*(r-i),200*(i-s))}function Sn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xn(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function Nn(e){return typeof e=="function"?e:function(){return e}}function Cn(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=null),kn(t,n,e,r)}}function kn(t,r,i,s){function c(){var e=f.status,t;if(!e&&An(f)||e>=200&&e<300||e===304){try{t=i.call(o,f)}catch(n){u.error.call(o,n);return}u.load.call(o,t)}else u.error.call(o,f)}var o={},u=e.dispatch("beforesend","progress","load","error"),a={},f=new XMLHttpRequest,l=null;return this.XDomainRequest&&!("withCredentials"in f)&&/^(http(s)?:)?\/\//.test(t)&&(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=c:f.onreadystatechange=function(){f.readyState>3&&c()},f.onprogress=function(t){var n=e.event;e.event=t;try{u.progress.call(o,f)}finally{e.event=n}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?a[e]:(t==null?delete a[e]:a[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(r=e==null?null:e+"",o):r},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return i=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(n(arguments)))}}),o.send=function(e,n,i){arguments.length===2&&typeof n=="function"&&(i=n,n=null),f.open(e,t,!0),r!=null&&!("accept"in a)&&(a.accept=r+",*/*");if(f.setRequestHeader)for(var s in a)f.setRequestHeader(s,a[s]);return r!=null&&f.overrideMimeType&&f.overrideMimeType(r),l!=null&&(f.responseType=l),i!=null&&o.on("error",i).on("load",function(e){i(null,e)}),u.beforesend.call(o,f),f.send(n==null?null:n),o},o.abort=function(){return f.abort(),o},e.rebind(o,u,"on"),s==null?o:o.get(Ln(s))}function Ln(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function An(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}function Hn(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,s={c:e,t:i,n:null};return Mn?Mn.n=s:On=s,Mn=s,_n||(Dn=clearTimeout(Dn),_n=1,Pn(Bn)),s}function Bn(){var e=jn(),t=Fn()-e;t>24?(isFinite(t)&&(clearTimeout(Dn),Dn=setTimeout(Bn,t)),_n=0):(_n=1,Pn(Bn))}function jn(){var e=Date.now(),t=On;while(t)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Fn(){var e,t=On,n=Infinity;while(t)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:On=t.n;return Mn=e,n}function In(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Rn(e,t){var n=Math.pow(10,b(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Un(t){var n=t.decimal,r=t.thousands,i=t.grouping,s=t.currency,o=i&&r?function(e,t){var n=e.length,s=[],o=0,u=i[0],a=0;while(n>0&&u>0){a+u+1>t&&(u=Math.max(1,t-a)),s.push(e.substring(n-=u,n+u));if((a+=u+1)>t)break;u=i[o=(o+1)%i.length]}return s.reverse().join(r)}:D;return function(t){var r=zn.exec(t),i=r[1]||" ",u=r[2]||">",a=r[3]||"-",f=r[4]||"",l=r[5],c=+r[6],h=r[7],p=r[8],d=r[9],v=1,m="",g="",y=!1,b=!0;p&&(p=+p.substring(1));if(l||i==="0"&&u==="=")l=i="0",u="=";switch(d){case"n":h=!0,d="g";break;case"%":v=100,g="%",d="f";break;case"p":v=100,g="%",d="r";break;case"b":case"o":case"x":case"X":f==="#"&&(m="0"+d.toLowerCase());case"c":b=!1;case"d":y=!0,p=0;break;case"s":v=-1,d="r"}f==="$"&&(m=s[0],g=s[1]),d=="r"&&!p&&(d="g");if(p!=null)if(d=="g")p=Math.max(1,Math.min(21,p));else if(d=="e"||d=="f")p=Math.max(0,Math.min(20,p));d=Wn.get(d)||Xn;var w=l&&h;return function(t){var r=g;if(y&&t%1)return"";var s=t<0||t===0&&1/t<0?(t=-t,"-"):a==="-"?"":a;if(v<0){var f=e.formatPrefix(t,p);t=f.scale(t),r=f.symbol+g}else t*=v;t=d(t,p);var E=t.lastIndexOf("."),S,x;if(E<0){var T=b?t.lastIndexOf("e"):-1;T<0?(S=t,x=""):(S=t.substring(0,T),x=t.substring(T))}else S=t.substring(0,E),x=n+t.substring(E+1);!l&&h&&(S=o(S,Infinity));var N=m.length+S.length+x.length+(w?0:s.length),C=N<c?(new Array(N=c-N+1)).join(i):"";return w&&(S=o(C+S,C.length?c-x.length:Infinity)),s+=m,t=S+x,(u==="<"?s+t+C:u===">"?C+s+t:u==="^"?C.substring(0,N>>=1)+s+t+C.substring(N):s+(w?t:C+t))+r}}}function Xn(e){return e+""}function Jn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Qn(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new $n(n-1)),1),n}function s(e,n){return t(e=new $n(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{$n=Jn;var r=new Jn;return r._=e,o(r,t,n)}finally{$n=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Gn(e);return a.floor=a,a.round=Gn(r),a.ceil=Gn(i),a.offset=Gn(s),a.range=u,e}function Gn(e){return function(t,n){try{$n=Jn;var r=new Jn;return r._=t,e(r,n)._}finally{$n=Date}}}function Yn(t){function l(e){function n(n){var r=[],i=-1,s=0,o,u,a;while(++i<t)if(e.charCodeAt(i)===37){r.push(e.slice(s,i)),(u=Zn[o=e.charAt(++i)])!=null&&(o=e.charAt(++i));if(a=E[o])o=a(n,u==null?o==="e"?" ":"0":u);r.push(o),s=i+1}return r.push(e.slice(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=c(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=n.Z!=null&&$n!==Jn,s=new(i?Jn:$n);return"j"in n?s.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),s.setFullYear(n.y,0,1),s.setFullYear(n.y,0,"W"in n?(n.w+6)%7+n.W*7-(s.getDay()+5)%7:n.w+n.U*7-(s.getDay()+6)%7)):s.setFullYear(n.y,n.m,n.d),s.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?s._:s},n.toString=function(){return e},n}function c(e,t,n,r){var i,s,o,u=0,a=t.length,f=n.length;while(u<a){if(r>=f)return-1;i=t.charCodeAt(u++);if(i===37){o=t.charAt(u++),s=S[o in Zn?t.charAt(u++):o];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function x(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1}function N(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=w.get(r[0].toLowerCase()),n+r[0].length):-1}function C(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function k(e,t,n){return c(e,E.c.toString(),t,n)}function L(e,t,n){return c(e,E.x.toString(),t,n)}function A(e,t,n){return c(e,E.X.toString(),t,n)}function O(e,t,n){var r=h.get(t.slice(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}var n=t.dateTime,r=t.date,i=t.time,s=t.periods,o=t.days,u=t.shortDays,a=t.months,f=t.shortMonths;l.utc=function(e){function n(e){try{$n=Jn;var n=new $n;return n._=e,t(n)}finally{$n=Date}}var t=l(e);return n.parse=function(e){try{$n=Jn;var n=t.parse(e);return n&&n._}finally{$n=Date}},n.toString=t.toString,n},l.multi=l.utc.multi=Er;var h=e.map(),p=rr(o),d=ir(o),v=rr(u),m=ir(u),g=rr(a),y=ir(a),b=rr(f),w=ir(f);s.forEach(function(e,t){h.set(e.toLowerCase(),t)});var E={a:function(e){return u[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:l(n),d:function(e,t){return nr(e.getDate(),t,2)},e:function(e,t){return nr(e.getDate(),t,2)},H:function(e,t){return nr(e.getHours(),t,2)},I:function(e,t){return nr(e.getHours()%12||12,t,2)},j:function(e,t){return nr(1+Vn.dayOfYear(e),t,3)},L:function(e,t){return nr(e.getMilliseconds(),t,3)},m:function(e,t){return nr(e.getMonth()+1,t,2)},M:function(e,t){return nr(e.getMinutes(),t,2)},p:function(e){return s[+(e.getHours()>=12)]},S:function(e,t){return nr(e.getSeconds(),t,2)},U:function(e,t){return nr(Vn.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return nr(Vn.mondayOfYear(e),t,2)},x:l(r),X:l(i),y:function(e,t){return nr(e.getFullYear()%100,t,2)},Y:function(e,t){return nr(e.getFullYear()%1e4,t,4)},Z:br,"%":function(){return"%"}},S={a:x,A:T,b:N,B:C,c:k,d:pr,e:pr,H:vr,I:vr,j:dr,L:yr,m:hr,M:mr,p:O,S:gr,U:or,w:sr,W:ur,x:L,X:A,y:fr,Y:ar,Z:lr,"%":wr};return l}function nr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?(new Array(n-s+1)).join(t)+i:i)}function rr(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function ir(e){var t=new S,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function sr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function or(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function ur(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function ar(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.y=cr(+r[0]),n+r[0].length):-1}function lr(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function cr(e){return e+(e>68?1900:2e3)}function hr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function vr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yr(e,t,n){er.lastIndex=0;var r=er.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function br(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=b(t)/60|0,i=b(t)%60;return n+nr(r,"0",2)+nr(i,"0",2)}function wr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Er(e){var t=e.length,n=-1;while(++n<t)e[n][0]=this(e[n][0]);return function(t){var n=0,r=e[n];while(!r[1](t))r=e[++n];return r[0](t)}}function xr(){}function Nr(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function Cr(e,t){e&&Lr.hasOwnProperty(e.type)&&Lr[e.type](e,t)}function Ar(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Or(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)Ar(e[n],t,1);t.polygonEnd()}function Pr(){function s(e,t){e*=Dt,t=t*Dt/2+At/4;var s=e-n,o=s>=0?1:-1,u=o*s,a=Math.cos(t),f=Math.sin(t),l=i*f,c=r*a+l*Math.cos(u),h=l*o*Math.sin(u);_r.add(Math.atan2(h,c)),n=e,r=a,i=f}var e,t,n,r,i;Dr.point=function(o,u){Dr.point=s,n=(e=o)*Dt,r=Math.cos(u=(t=u)*Dt/2+At/4),i=Math.sin(u)},Dr.lineEnd=function(){s(e,t)}}function Hr(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Br(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Fr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ir(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function qr(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Rr(e){return[Math.atan2(e[1],e[0]),Ft(e[2])]}function Ur(e,t){return b(e[0]-t[0])<kt&&b(e[1]-t[1])<kt}function ti(e,t){e*=Dt;var n=Math.cos(t*=Dt);ni(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ni(e,t,n){++zr,Xr+=(e-Xr)/zr,Vr+=(t-Vr)/zr,$r+=(n-$r)/zr}function ri(){function r(r,i){r*=Dt;var s=Math.cos(i*=Dt),o=s*Math.cos(r),u=s*Math.sin(r),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=t*a-n*u)*f+(f=n*o-e*a)*f+(f=e*u-t*o)*f),e*o+t*u+n*a);Wr+=f,Jr+=f*(e+(e=o)),Kr+=f*(t+(t=u)),Qr+=f*(n+(n=a)),ni(e,t,n)}var e,t,n;ei.point=function(i,s){i*=Dt;var o=Math.cos(s*=Dt);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(s),ei.point=r,ni(e,t,n)}}function ii(){ei.point=ti}function si(){function s(e,t){e*=Dt;var s=Math.cos(t*=Dt),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(t),f=r*a-i*u,l=i*o-n*a,c=n*u-r*o,h=Math.sqrt(f*f+l*l+c*c),p=n*o+r*u+i*a,d=h&&-jt(p)/h,v=Math.atan2(h,p);Gr+=d*f,Yr+=d*l,Zr+=d*c,Wr+=v,Jr+=v*(n+(n=o)),Kr+=v*(r+(r=u)),Qr+=v*(i+(i=a)),ni(n,r,i)}var e,t,n,r,i;ei.point=function(o,u){e=o,t=u,ei.point=s,o*=Dt;var a=Math.cos(u*=Dt);n=a*Math.cos(o),r=a*Math.sin(o),i=Math.sin(u),ni(n,r,i)},ei.lineEnd=function(){s(e,t),ei.lineEnd=ii,ei.point=ti}}function oi(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function ui(){return!0}function ai(e,t,n,r,i){var s=[],o=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t];if(Ur(n,r)){i.lineStart();for(var u=0;u<t;++u)i.point((n=e[u])[0],n[1]);i.lineEnd();return}var a=new li(n,e,null,!0),f=new li(n,null,a,!1);a.o=f,s.push(a),o.push(f),a=new li(r,e,null,!1),f=new li(r,null,a,!0),a.o=f,s.push(a),o.push(f)}),o.sort(t),fi(s),fi(o);if(!s.length)return;for(var u=0,a=n,f=o.length;u<f;++u)o[u].e=a=!a;var l=s[0],c,h;for(;;){var p=l,d=!0;while(p.v)if((p=p.n)===l)return;c=p.z,i.lineStart();do{p.v=p.o.v=!0;if(p.e){if(d)for(var u=0,f=c.length;u<f;++u)i.point((h=c[u])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){c=p.p.z;for(var u=c.length-1;u>=0;--u)i.point((h=c[u])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,d=!d}while(!p.v);i.lineEnd()}}function fi(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}function li(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ci(t,n,r,i){return function(s,o){function l(e,n){var r=s(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function c(e,t){var n=s(e,t);u.point(n[0],n[1])}function h(){f.point=c,u.lineStart()}function p(){f.point=l,u.lineEnd()}function w(e,t){b.push([e,t]);var n=s(e,t);m.point(n[0],n[1])}function E(){m.lineStart(),b=[]}function S(){w(b[0][0],b[0][1]),m.lineEnd();var e=m.clean(),t=v.buffer(),n,r=t.length;b.pop(),y.push(b),b=null;if(!r)return;if(e&1){n=t[0];var r=n.length-1,i=-1,s;if(r>0){g||(o.polygonStart(),g=!0),o.lineStart();while(++i<r)o.point((s=n[i])[0],s[1]);o.lineEnd()}return}r>1&&e&2&&t.push(t.pop().concat(t.shift())),d.push(t.filter(hi))}var u=n(o),a=s.invert(i[0],i[1]),f={point:l,lineStart:h,lineEnd:p,polygonStart:function(){f.point=w,f.lineStart=E,f.lineEnd=S,d=[],y=[]},polygonEnd:function(){f.point=l,f.lineStart=h,f.lineEnd=p,d=e.merge(d);var t=bi(a,y);d.length?(g||(o.polygonStart(),g=!0),ai(d,di,t,r,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),d=y=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}},d,v=pi(),m=n(v),g=!1,y,b;return f}}function hi(e){return e.length>1}function pi(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function di(e,t){return((e=e.x)[0]<0?e[1]-_t-kt:_t-e[1])-((t=t.x)[0]<0?t[1]-_t-kt:_t-t[1])}function mi(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var u=s>0?At:-At,a=b(s-t);b(a-At)<kt?(e.point(t,n=(n+o)/2>0?_t:-_t),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(s,n),i=0):r!==u&&a>=At&&(b(t-r)<kt&&(t-=r*kt),b(s-u)<kt&&(s-=u*kt),n=gi(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=s,n=o),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function gi(e,t,n,r){var i,s,o=Math.sin(e-n);return b(o)>kt?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function yi(e,t,n,r){var i;if(e==null)i=n*_t,r.point(-At,i),r.point(0,i),r.point(At,i),r.point(At,0),r.point(At,-i),r.point(0,-i),r.point(-At,-i),r.point(-At,0),r.point(-At,i);else if(b(e[0]-t[0])>kt){var s=e[0]<t[0]?At:-At;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function bi(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;_r.reset();for(var u=0,a=t.length;u<a;++u){var f=t[u],l=f.length;if(!l)continue;var c=f[0],h=c[0],p=c[1]/2+At/4,d=Math.sin(p),v=Math.cos(p),m=1;for(;;){m===l&&(m=0),e=f[m];var g=e[0],y=e[1]/2+At/4,b=Math.sin(y),w=Math.cos(y),E=g-h,S=E>=0?1:-1,x=S*E,T=x>At,N=d*b;_r.add(Math.atan2(N*S*Math.sin(x),v*w+N*Math.cos(x))),s+=T?E+S*Ot:E;if(T^h>=n^g>=n){var C=jr(Hr(c),Hr(e));qr(C);var k=jr(i,C);qr(k);var L=(T^E>=0?-1:1)*Ft(k[2]);if(r>L||r===L&&(C[0]||C[1]))o+=T^E>=0?1:-1}if(!(m++))break;h=g,d=b,v=w,c=e}}return(s<-kt||s<kt&&_r<0)^o&1}function wi(e){function s(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,i,o,f,l;return{lineStart:function(){f=o=!1,l=1},point:function(c,h){var p=[c,h],d,v=s(c,h),m=n?v?0:a(c,h):v?a(c+(c<0?At:-At),h):0;!t&&(f=o=v)&&e.lineStart();if(v!==o){d=u(t,p);if(Ur(t,d)||Ur(p,d))p[0]+=kt,p[1]+=kt,v=s(p[0],p[1])}if(v!==o)l=0,v?(e.lineStart(),d=u(p,t),e.point(d[0],d[1])):(d=u(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^v){var g;!(m&i)&&(g=u(p,t,!0))&&(l=0,n?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}v&&(!t||!Ur(t,p))&&e.point(p[0],p[1]),t=p,o=v,i=m},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return l|(f&&o)<<1}}}function u(e,n,r){var i=Hr(e),s=Hr(n),o=[1,0,0],u=jr(i,s),a=Br(u,u),f=u[0],l=a-f*f;if(!l)return!r&&e;var c=t*a/l,h=-t*f/l,p=jr(o,u),d=Ir(o,c),v=Ir(u,h);Fr(d,v);var m=p,g=Br(d,m),y=Br(m,m),w=g*g-y*(Br(d,d)-1);if(w<0)return;var E=Math.sqrt(w),S=Ir(m,(-g-E)/y);Fr(S,d),S=Rr(S);if(!r)return S;var x=e[0],T=n[0],N=e[1],C=n[1],k;T<x&&(k=x,x=T,T=k);var L=T-x,A=b(L-At)<kt,O=A||L<kt;!A&&C<N&&(k=N,N=C,C=k);if(O?A?N+C>0^S[1]<(b(S[0]-x)<kt?N:C):N<=S[1]&&S[1]<=C:L>At^(x<=S[0]&&S[0]<=T)){var M=Ir(m,(-g+E)/y);return Fr(M,d),[S,Rr(M)]}}function a(t,r){var i=n?e:At-e,s=0;return t<-i?s|=1:t>i&&(s|=2),r<-i?s|=4:r>i&&(s|=8),s}var t=Math.cos(e),n=t>0,r=b(t)>kt,i=rs(e,6*Dt);return ci(s,o,i,n?[0,-e]:[-At,e-At])}function Ei(e,t,n,r){return function(i){var s=i.a,o=i.b,u=s.x,a=s.y,f=o.x,l=o.y,c=0,h=1,p=f-u,d=l-a,v;v=e-u;if(!p&&v>0)return;v/=p;if(p<0){if(v<c)return;v<h&&(h=v)}else if(p>0){if(v>h)return;v>c&&(c=v)}v=n-u;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;v>c&&(c=v)}else if(p>0){if(v<c)return;v<h&&(h=v)}v=t-a;if(!d&&v>0)return;v/=d;if(d<0){if(v<c)return;v<h&&(h=v)}else if(d>0){if(v>h)return;v>c&&(c=v)}v=r-a;if(!d&&v<0)return;v/=d;if(d<0){if(v>h)return;v>c&&(c=v)}else if(d>0){if(v<c)return;v<h&&(h=v)}return c>0&&(i.a={x:u+c*p,y:a+c*d}),h<1&&(i.b={x:u+h*p,y:a+h*d}),i}}function xi(t,n,r,i){function s(e,i){return b(e[0]-t)<kt?i>0?0:3:b(e[0]-r)<kt?i>0?2:1:b(e[1]-n)<kt?i>0?1:0:i>0?3:2}function o(e,t){return u(e.x,t.x)}function u(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}return function(a){function m(e){var t=0,n=p.length,r=e[1];for(var i=0;i<n;++i)for(var s=1,o=p[i],u=o.length,a=o[0],f;s<u;++s)f=o[s],a[1]<=r?f[1]>r&&Bt(a,f,e)>0&&++t:f[1]<=r&&Bt(a,f,e)<0&&--t,a=f;return t!==0}function g(e,o,a,f){var l=0,c=0;if(e==null||(l=s(e,a))!==(c=s(o,a))||u(e,o)<0^a>0){do f.point(l===0||l===3?t:r,l>1?i:n);while((l=(l+a+4)%4)!==c)}else f.point(o[0],o[1])}function y(e,s){return t<=e&&e<=r&&n<=s&&s<=i}function b(e,t){y(e,t)&&a.point(e,t)}function L(){v.point=O,p&&p.push(d=[]),C=!0,N=!1,x=T=NaN}function A(){h&&(O(w,E),S&&N&&l.rejoin(),h.push(l.buffer())),v.point=b,N&&a.lineEnd()}function O(e,t){e=Math.max(-Si,Math.min(Si,e)),t=Math.max(-Si,Math.min(Si,t));var n=y(e,t);p&&d.push([e,t]);if(C)w=e,E=t,S=n,C=!1,n&&(a.lineStart(),a.point(e,t));else if(n&&N)a.point(e,t);else{var r={a:{x:x,y:T},b:{x:e,y:t}};c(r)?(N||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),n||a.lineEnd(),k=!1):n&&(a.lineStart(),a.point(e,t),k=!1)}x=e,T=t,N=n}var f=a,l=pi(),c=Ei(t,n,r,i),h,p,d,v={point:b,lineStart:L,lineEnd:A,polygonStart:function(){a=l,h=[],p=[],k=!0},polygonEnd:function(){a=f,h=e.merge(h);var n=m([t,i]),r=k&&n,s=h.length;if(r||s)a.polygonStart(),r&&(a.lineStart(),g(null,null,1,a),a.lineEnd()),s&&ai(h,o,n,g,a),a.polygonEnd();h=p=d=null}},w,E,S,x,T,N,C,k;return v}}function Ti(e){var t=0,n=At/3,r=Ki(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*At/180,n=e[1]*At/180):[t/At*180,n/At*180]},i}function Ni(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;return o.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Ft((i-(e*e+n*n)*r*r)/(2*r))]},o}function Ai(){function i(e,t){ki+=r*e-n*t,n=e,r=t}var e,t,n,r;Li.point=function(s,o){Li.point=i,e=n=s,t=r=o},Li.lineEnd=function(){i(e,t)}}function Hi(e,t){e<Oi&&(Oi=e),e>_i&&(_i=e),t<Mi&&(Mi=t),t>Di&&(Di=t)}function Bi(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=s}function s(e,n){t.push("L",e,",",n)}function o(){n.point=r}function u(){t.push("Z")}var e=ji(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=ji(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function ji(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Ii(e,t){Xr+=e,Vr+=t,++$r}function qi(){function n(n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);Jr+=o*(e+n)/2,Kr+=o*(t+r)/2,Qr+=o,Ii(e=n,t=r)}var e,t;Fi.point=function(r,i){Fi.point=n,Ii(e=r,t=i)}}function Ri(){Fi.point=Ii}function Ui(){function i(e,t){var i=e-n,s=t-r,o=Math.sqrt(i*i+s*s);Jr+=o*(n+e)/2,Kr+=o*(r+t)/2,Qr+=o,o=r*e-n*t,Gr+=o*(n+e),Yr+=o*(r+t),Zr+=o*3,Ii(n=e,r=t)}var e,t,n,r;Fi.point=function(s,o){Fi.point=i,Ii(e=n=s,t=r=o)},Fi.lineEnd=function(){i(e,t)}}function zi(e){function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ot)}function i(t,r){e.moveTo(t,r),n.point=s}function s(t,n){e.lineTo(t,n)}function o(){n.point=r}function u(){e.closePath()}var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:j};return n}function Wi(e){function i(e){return(r?o:s)(e)}function s(t){return $i(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function o(t){function y(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){h=NaN,g.point=w,t.lineStart()}function w(n,i){var s=Hr([n,i]),o=e(n,i);u(h,p,c,d,v,m,h=o[0],p=o[1],c=n,d=s[0],v=s[1],m=s[2],r,t),t.point(h,p)}function E(){g.point=y,t.lineEnd()}function S(){b(),g.point=x,g.lineEnd=T}function x(e,t){w(n=e,i=t),s=h,o=p,a=d,f=v,l=m,g.point=w}function T(){u(h,p,c,d,v,m,s,o,n,a,f,l,r,t),g.lineEnd=E,E()}var n,i,s,o,a,f,l,c,h,p,d,v,m,g={point:y,lineStart:b,lineEnd:E,polygonStart:function(){t.polygonStart(),g.lineStart=S},polygonEnd:function(){t.polygonEnd(),g.lineStart=b}};return g}function u(r,i,s,o,a,f,l,c,h,p,d,v,m,g){var y=l-r,w=c-i,E=y*y+w*w;if(E>4*t&&m--){var S=o+p,x=a+d,T=f+v,N=Math.sqrt(S*S+x*x+T*T),C=Math.asin(T/=N),k=b(b(T)-1)<kt||b(s-h)<kt?(s+h)/2:Math.atan2(x,S),L=e(k,C),A=L[0],O=L[1],M=A-r,_=O-i,D=w*M-y*_;if(D*D/E>t||b((y*M+w*_)/E-.5)>.3||o*p+a*d+f*v<n)u(r,i,s,o,a,f,A,O,k,S/=N,x/=N,T,m,g),g.point(A,O),u(A,O,k,S,x,T,l,c,h,p,d,v,m,g)}}var t=.5,n=Math.cos(30*Dt),r=16;return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Xi(e){var t=Wi(function(t,n){return e([t*Pt,n*Pt])});return function(e){return Qi(t(e))}}function Vi(e){this.stream=e}function $i(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Ji(e){return Ki(function(){return e})()}function Ki(t){function E(e){return e=i(e[0]*Dt,e[1]*Dt),[e[0]*o+d,v-e[1]*o]}function S(e){return e=i.invert((e[0]-d)/o,(v-e[1])/o),e&&[e[0]*Pt,e[1]*Pt]}function x(){i=oi(r=Zi(c,h,p),n);var e=n(f,l);return d=u-e[0]*o,v=a+e[1]*o,T()}function T(){return w&&(w.valid=!1,w=null),E}var n,r,i,s=Wi(function(e,t){return e=n(e,t),[e[0]*o+d,v-e[1]*o]}),o=150,u=480,a=250,f=0,l=0,c=0,h=0,p=0,d,v,m=vi,g=D,y=null,b=null,w;return E.stream=function(e){return w&&(w.valid=!1),w=Qi(m(r,s(g(e)))),w.valid=!0,w},E.clipAngle=function(e){return arguments.length?(m=e==null?(y=e,vi):wi((y=+e)*Dt),T()):y},E.clipExtent=function(e){return arguments.length?(b=e,g=e?xi(e[0][0],e[0][1],e[1][0],e[1][1]):D,T()):b},E.scale=function(e){return arguments.length?(o=+e,x()):o},E.translate=function(e){return arguments.length?(u=+e[0],a=+e[1],x()):[u,a]},E.center=function(e){return arguments.length?(f=e[0]%360*Dt,l=e[1]%360*Dt,x()):[f*Pt,l*Pt]},E.rotate=function(e){return arguments.length?(c=e[0]%360*Dt,h=e[1]%360*Dt,p=e.length>2?e[2]%360*Dt:0,x()):[c*Pt,h*Pt,p*Pt]},e.rebind(E,s,"precision"),function(){return n=t.apply(this,arguments),E.invert=n.invert&&S,x()}}function Qi(e){return $i(e,function(t,n){e.point(t*Dt,n*Dt)})}function Gi(e,t){return[e,t]}function Yi(e,t){return[e>At?e-Ot:e<-At?e+Ot:e,t]}function Zi(e,t,n){return e?t||n?oi(ts(e),ns(t,n)):ts(e):t||n?ns(t,n):Yi}function es(e){return function(t,n){return t+=e,[t>At?t-Ot:t<-At?t+Ot:t,n]}}function ts(e){var t=es(e);return t.invert=es(-e),t}function ns(e,t){function o(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*n+u*r;return[Math.atan2(a*i-l*s,u*n-f*r),Ft(l*i+a*s)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),s=Math.sin(t);return o.invert=function(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*i-a*s;return[Math.atan2(a*i+f*s,u*n+l*r),Ft(l*n-u*r)]},o}function rs(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;if(i!=null){i=is(n,i),s=is(n,s);if(o>0?i<s:i>s)i+=o*Ot}else i=e+o*Ot,s=e-.5*a;for(var f,l=i;o>0?l>s:l<s;l-=a)u.point((f=Rr([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}function is(e,t){var n=Hr(t);n[0]-=e,qr(n);var r=jt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-kt)%(2*Math.PI)}function ss(t,n,r){var i=e.range(t,n-kt,r).concat(n);return function(e){return i.map(function(t){return[e,t]})}}function os(t,n,r){var i=e.range(t,n-kt,r).concat(n);return function(e){return i.map(function(t){return[t,e]})}}function us(e){return e.source}function as(e){return e.target}function fs(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(Ut(r-t)+i*o*Ut(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*Pt,Math.atan2(o,Math.sqrt(r*r+i*i))*Pt]}:function(){return[e*Pt,t*Pt]};return d.distance=h,d}function hs(){function r(r,i){var s=Math.sin(i*=Dt),o=Math.cos(i),u=b((r*=Dt)-e),a=Math.cos(u);ls+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=n*s-t*o*a)*u),t*s+n*o*a),e=r,t=s,n=o}var e,t,n;cs.point=function(i,s){e=i*Dt,t=Math.sin(s*=Dt),n=Math.cos(s),cs.point=r},cs.lineEnd=function(){cs.point=cs.lineEnd=j}}function ps(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function ms(e,t){function o(e,t){s>0?t<-_t+kt&&(t=-_t+kt):t>_t-kt&&(t=_t-kt);var n=s/Math.pow(r(t),i);return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){return Math.tan(At/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),s=n*Math.pow(r(e),i)/i;return i?(o.invert=function(e,t){var n=s-t,r=Ht(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(s/r,1/i))-_t]},o):bs}function gs(e,t){function s(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;return b(r)<kt?Gi:(s.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-Ht(r)*Math.sqrt(e*e+n*n)]},s)}function bs(e,t){return[e,Math.log(Math.tan(At/4+t/2))]}function ws(e){var t=Ji(e),n=t.scale,r=t.translate,i=t.clipExtent,s;return t.scale=function(){var e=n.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e},t.translate=function(){var e=r.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e},t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(s=e==null){var u=At*n(),a=r();i([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else s&&(o=null);return o},t.clipExtent(null)}function xs(e,t){return[Math.log(Math.tan(At/4+t/2)),-e]}function Ts(e){return e[0]}function Ns(e){return e[1]}function Cs(e){var t=e.length,n=[0,1],r=2;for(var i=2;i<t;i++){while(r>1&&Bt(e[n[r-2]],e[n[r-1]],e[i])<=0)--r;n[r++]=i}return n.slice(0,r)}function ks(e,t){return e[0]-t[0]||e[1]-t[1]}function As(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Os(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function Ms(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Is(){oo(this),this.edge=this.site=this.circle=null}function qs(e){var t=Hs.pop()||new Is;return t.site=e,t}function Rs(e){Gs(e),Ps.remove(e),Hs.push(e),oo(e)}function Us(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];Rs(e);var a=s;while(a.circle&&b(n-a.circle.x)<kt&&b(r-a.circle.cy)<kt)s=a.P,u.unshift(a),Rs(a),a=s;u.unshift(a),Gs(a);var f=o;while(f.circle&&b(n-f.circle.x)<kt&&b(r-f.circle.cy)<kt)o=f.N,u.push(f),Rs(f),f=o;u.push(f),Gs(f);var l=u.length,c;for(c=1;c<l;++c)f=u[c],a=u[c-1],ro(f.edge,a.site,f.site,i);a=u[0],f=u[l-1],f.edge=to(a.site,f.site,null,i),Qs(a),Qs(f)}function zs(e){var t=e.x,n=e.y,r,i,s,o,u=Ps._;while(u){s=Ws(u,n)-t;if(s>kt)u=u.L;else{o=t-Xs(u,n);if(!(o>kt)){s>-kt?(r=u.P,i=u):o>-kt?(r=u,i=u.N):r=i=u;break}if(!u.R){r=u;break}u=u.R}}var a=qs(e);Ps.insert(r,a);if(!r&&!i)return;if(r===i){Gs(r),i=qs(r.site),Ps.insert(a,i),a.edge=i.edge=to(r.site,a.site),Qs(r),Qs(i);return}if(!i){a.edge=to(r.site,a.site);return}Gs(r),Gs(i);var f=r.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=i.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};ro(i.edge,f,d,w),a.edge=to(f,e,null,w),i.edge=to(e,d,null,w),Qs(r),Qs(i)}function Ws(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-Infinity;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;return c?(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r:(r+u)/2}function Xs(e,t){var n=e.N;if(n)return Ws(n,t);var r=e.site;return r.y===t?r.x:Infinity}function Vs(e){this.site=e,this.edges=[]}function $s(e){var t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],s,o,u,a,f=Ds,l=f.length,c,h,p,d,v,m;while(l--){c=f[l];if(!c||!c.prepare())continue;p=c.edges,d=p.length,h=0;while(h<d){m=p[h].end(),u=m.x,a=m.y,v=p[++h%d].start(),s=v.x,o=v.y;if(b(u-s)>kt||b(a-o)>kt)p.splice(h,0,new io(no(c.site,m,b(u-t)<kt&&i-a>kt?{x:t,y:b(s-t)<kt?o:i}:b(a-i)<kt&&n-u>kt?{x:b(o-i)<kt?s:n,y:i}:b(u-n)<kt&&a-r>kt?{x:n,y:b(s-n)<kt?o:r}:b(a-r)<kt&&u-t>kt?{x:b(o-r)<kt?s:t,y:r}:null),c.site,null)),++d}}}function Js(e,t){return t.angle-e.angle}function Ks(){oo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qs(e){var t=e.P,n=e.N;if(!t||!n)return;var r=t.site,i=e.site,s=n.site;if(r===s)return;var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u,h=2*(a*c-f*l);if(h>=-Lt)return;var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u,g=Fs.pop()||new Ks;g.arc=e,g.site=i,g.x=v+o,g.y=c+Math.sqrt(v*v+m*m),g.cy=c,e.circle=g;var y=null,b=js._;while(b)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}js.insert(y,g),y||(Bs=g)}function Gs(e){var t=e.circle;t&&(t.P||(Bs=t.N),js.remove(t),Fs.push(t),oo(t),e.circle=null)}function Ys(e){var t=_s,n=Ei(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length,i;while(r--){i=t[r];if(!Zs(i,e)||!n(i)||b(i.a.x-i.b.x)<kt&&b(i.a.y-i.b.y)<kt)i.a=i.b=null,t.splice(r,1)}}function Zs(e,t){var n=e.b;if(n)return!0;var r=e.a,i=t[0][0],s=t[1][0],o=t[0][1],u=t[1][1],a=e.l,f=e.r,l=a.x,c=a.y,h=f.x,p=f.y,d=(l+h)/2,v=(c+p)/2,m,g;if(p===c){if(d<i||d>=s)return;if(l>h){if(!r)r={x:d,y:o};else if(r.y>=u)return;n={x:d,y:u}}else{if(!r)r={x:d,y:u};else if(r.y<o)return;n={x:d,y:o}}}else{m=(l-h)/(p-c),g=v-m*d;if(m<-1||m>1)if(l>h){if(!r)r={x:(o-g)/m,y:o};else if(r.y>=u)return;n={x:(u-g)/m,y:u}}else{if(!r)r={x:(u-g)/m,y:u};else if(r.y<o)return;n={x:(o-g)/m,y:o}}else if(c<p){if(!r)r={x:i,y:m*i+g};else if(r.x>=s)return;n={x:s,y:m*s+g}}else{if(!r)r={x:s,y:m*s+g};else if(r.x<i)return;n={x:i,y:m*i+g}}}return e.a=r,e.b=n,!0}function eo(e,t){this.l=e,this.r=t,this.a=this.b=null}function to(e,t,n,r){var i=new eo(e,t);return _s.push(i),n&&ro(i,e,t,n),r&&ro(i,t,e,r),Ds[e.i].edges.push(new io(i,e,t)),Ds[t.i].edges.push(new io(i,t,e)),i}function no(e,t,n){var r=new eo(e,null);return r.a=t,r.b=n,_s.push(r),r}function ro(e,t,n,r){!e.a&&!e.b?(e.a=r,e.l=t,e.r=n):e.l===n?e.b=r:e.a=r}function io(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function so(){this._=null}function oo(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function uo(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ao(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fo(e){while(e.L)e=e.L;return e}function lo(e,t){var n=e.sort(co).pop(),r,i,s;_s=[],Ds=new Array(e.length),Ps=new so,js=new so;for(;;){s=Bs;if(n&&(!s||n.y<s.y||n.y===s.y&&n.x<s.x)){if(n.x!==r||n.y!==i)Ds[n.i]=new Vs(n),zs(n),r=n.x,i=n.y;n=e.pop()}else{if(!s)break;Us(s.arc)}}t&&(Ys(t),$s(t));var o={cells:Ds,edges:_s};return Ps=js=_s=Ds=null,o}function co(e,t){return t.y-e.y||t.x-e.x}function po(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function vo(e){return e.x}function mo(e){return e.y}function go(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yo(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&yo(e,a[0],n,r,o,u),a[1]&&yo(e,a[1],o,r,i,u),a[2]&&yo(e,a[2],n,u,o,s),a[3]&&yo(e,a[3],o,u,i,s)}}function bo(e,t,n,r,i,s,o){var u=Infinity,a;return function f(e,l,c,h,p){if(l>s||c>o||h<r||p<i)return;if(d=e.point){var d,v=t-e.x,m=n-e.y,g=v*v+m*m;if(g<u){var y=Math.sqrt(u=g);r=t-y,i=n-y,s=t+y,o=n+y,a=d}}var b=e.nodes,w=(l+h)*.5,E=(c+p)*.5,S=t>=w,x=n>=E;for(var T=x<<1|S,N=T+4;T<N;++T)if(e=b[T&3])switch(T&3){case 0:f(e,l,c,w,E);break;case 1:f(e,w,c,h,E);break;case 2:f(e,l,E,w,p);break;case 3:f(e,w,E,h,p)}}(e,r,i,s,o),a}function wo(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,s=t.b,o=n.r-r,u=n.g-i,a=n.b-s;return function(e){return"#"+yn(Math.round(r+o*e))+yn(Math.round(i+u*e))+yn(Math.round(s+a*e))}}function Eo(e,t){var n={},r={},i;for(i in e)i in t?n[i]=Co(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}}function So(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xo(e,t){var n=To.lastIndex=No.lastIndex=0,r,i,s,o=-1,u=[],a=[];e+="",t+="";while((r=To.exec(e))&&(i=No.exec(t)))(s=i.index)>n&&(s=t.slice(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,a.push({i:o,x:So(r,i)})),n=No.lastIndex;return n<t.length&&(s=t.slice(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?a[0]?(t=a[0].x,function(e){return t(e)+""}):function(){return t}:(t=a.length,function(e){for(var n=0,r;n<t;++n)u[(r=a[n]).i]=r.x(e);return u.join("")})}function Co(t,n){var r=e.interpolators.length,i;while(--r>=0&&!(i=e.interpolators[r](t,n)));return i}function ko(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(Co(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}}function Mo(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function _o(e){return function(t){return 1-e(1-t)}}function Do(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Po(e){return e*e}function Ho(e){return e*e*e}function Bo(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function jo(e){return function(t){return Math.pow(t,e)}}function Fo(e){return 1-Math.cos(e*_t)}function Io(e){return Math.pow(2,10*(e-1))}function qo(e){return 1-Math.sqrt(1-e*e)}function Ro(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ot*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ot/t)}}function Uo(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function zo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Wo(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,s=t.l,o=n.h-r,u=n.c-i,a=n.l-s;return isNaN(u)&&(u=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return tn(r+o*e,i+u*e,s+a*e)+""}}function Xo(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,s=t.l,o=n.h-r,u=n.s-i,a=n.l-s;return isNaN(u)&&(u=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return Yt(r+o*e,i+u*e,s+a*e)+""}}function Vo(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,s=t.b,o=n.l-r,u=n.a-i,a=n.b-s;return function(e){return fn(r+o*e,i+u*e,s+a*e)+""}}function $o(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Jo(e){var t=[e.a,e.b],n=[e.c,e.d],r=Qo(t),i=Ko(t,n),s=Qo(Go(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Pt,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*Pt:0}function Ko(e,t){return e[0]*t[0]+e[1]*t[1]}function Qo(e){var t=Math.sqrt(Ko(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Go(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Zo(e){return e.length?e.pop()+",":""}function eu(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:So(e[0],t[0])},{i:i-2,x:So(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function tu(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Zo(n)+"rotate(",null,")")-2,x:So(e,t)})):t&&n.push(Zo(n)+"rotate("+t+")")}function nu(e,t,n,r){e!==t?r.push({i:n.push(Zo(n)+"skewX(",null,")")-2,x:So(e,t)}):t&&n.push(Zo(n)+"skewX("+t+")")}function ru(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Zo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:So(e[0],t[0])},{i:i-2,x:So(e[1],t[1])})}else(t[0]!==1||t[1]!==1)&&n.push(Zo(n)+"scale("+t+")")}function iu(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),eu(t.translate,n.translate,r,i),tu(t.rotate,n.rotate,r,i),nu(t.skew,n.skew,r,i),ru(t.scale,n.scale,r,i),t=n=null,function(e){var t=-1,n=i.length,s;while(++t<n)r[(s=i[t]).i]=s.x(e);return r.join("")}}function su(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ou(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function uu(e){var t=e.source,n=e.target,r=fu(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function au(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function fu(e,t){if(e===t)return e;var n=au(e),r=au(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function lu(e){e.fixed|=2}function cu(e){e.fixed&=-7}function hu(e){e.fixed|=4,e.px=e.x,e.py=e.y}function pu(e){e.fixed&=-5}function du(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;du(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function yu(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Tu,t}function bu(e,t){var n=[e];while((e=n.pop())!=null){t(e);if((i=e.children)&&(r=i.length)){var r,i;while(--r>=0)n.push(i[r])}}}function wu(e,t){var n=[e],r=[];while((e=n.pop())!=null){r.push(e);if((o=e.children)&&(s=o.length)){var i=-1,s,o;while(++i<s)n.push(o[i])}}while((e=r.pop())!=null)t(e)}function Eu(e){return e.children}function Su(e){return e.value}function xu(e,t){return t.value-e.value}function Tu(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Cu(e){return e.x}function ku(e){return e.y}function Lu(e,t,n){e.y0=t,e.y=n}function Mu(t){return e.range(t.length)}function _u(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Du(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function Pu(e){return e.reduce(Hu,0)}function Hu(e,t){return e+t[1]}function Bu(e,t){return ju(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ju(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function Fu(t){return[e.min(t),e.max(t)]}function Iu(e,t){return e.value-t.value}function qu(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ru(e,t){e._pack_next=t,t._pack_prev=e}function Uu(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function zu(e){function p(e){n=Math.min(e.x-e.r,n),r=Math.max(e.x+e.r,r),i=Math.min(e.y-e.r,i),s=Math.max(e.y+e.r,s)}if(!(t=e.children)||!(h=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,s=-Infinity,o,u,a,f,l,c,h;t.forEach(Wu),o=t[0],o.x=-o.r,o.y=0,p(o);if(h>1){u=t[1],u.x=u.r,u.y=0,p(u);if(h>2){a=t[2],$u(o,u,a),p(a),qu(o,a),o._pack_prev=a,qu(a,u),u=o._pack_next;for(f=3;f<h;f++){$u(o,u,a=t[f]);var d=0,v=1,m=1;for(l=u._pack_next;l!==u;l=l._pack_next,v++)if(Uu(l,a)){d=1;break}if(d==1)for(c=o._pack_prev;c!==l._pack_prev;c=c._pack_prev,m++)if(Uu(c,a))break;d?(v<m||v==m&&u.r<o.r?Ru(o,u=l):Ru(o=c,u),f--):(qu(o,a),u=a,p(a))}}}var g=(n+r)/2,y=(i+s)/2,b=0;for(f=0;f<h;f++)a=t[f],a.x-=g,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,t.forEach(Xu)}function Wu(e){e._pack_next=e._pack_prev=e}function Xu(e){delete e._pack_next,delete e._pack_prev}function Vu(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)Vu(i[s],t,n,r)}}function $u(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function Ju(e,t){return e.parent==t.parent?1:2}function Ku(e){var t=e.children;return t.length?t[0]:e.t}function Qu(e){var t=e.children,n;return(n=t.length)?t[n-1]:e.t}function Gu(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Yu(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function Zu(e,t,n){return e.a.parent===t.parent?e.a:n}function ea(t){return 1+e.max(t,function(e){return e.y})}function ta(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function na(e){var t=e.children;return t&&t.length?na(t[0]):e}function ra(e){var t=e.children,n;return t&&(n=t.length)?ra(t[n-1]):e}function ia(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function sa(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function oa(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ua(e){return e.rangeExtent?e.rangeExtent():oa(e.range())}function aa(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function fa(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function la(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:ca}function ha(t,n,r,i){var s=[],o=[],u=0,a=Math.min(t.length,n.length)-1;t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++u<=a)s.push(r(t[u-1],t[u])),o.push(i(n[u-1],n[u]));return function(n){var r=e.bisect(t,n,1,a)-1;return o[r](s[r](n))}}function pa(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?ha:aa,a=r?ou:su;return i=o(e,t,a,n),s=o(t,e,a,Co),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate($o)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return ga(e,t)},u.tickFormat=function(t,n){return ya(e,t,n)},u.nice=function(t){return va(e,t),o()},u.copy=function(){return pa(e,t,n,r)},o()}function da(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function va(e,t){return fa(e,la(ma(e,t)[2])),fa(e,la(ma(e,t)[2])),e}function ma(e,t){t==null&&(t=10);var n=oa(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function ga(t,n){return e.range.apply(e,ma(t,n))}function ya(t,n,r){var i=ma(t,n);if(r){var s=zn.exec(r);s.shift();if(s[8]==="s"){var o=e.formatPrefix(Math.max(b(i[0]),b(i[1])));return s[7]||(s[7]="."+wa(o.scale(i[2]))),s[8]="f",r=e.format(s.join("")),function(e){return r(o.scale(e))+o.symbol}}s[7]||(s[7]="."+Ea(s[8],i)),r=s.join("")}else r=",."+wa(i[2])+"f";return e.format(r)}function wa(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ea(e,t){var n=wa(t[2]);return e in ba?Math.abs(n-wa(Math.max(b(t[0]),b(t[1]))))+ +(e!=="e"):n-(e==="%")*2}function Sa(t,n,r,i){function s(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function u(e){return t(s(e))}return u.invert=function(e){return o(t.invert(e))},u.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((i=e.map(Number)).map(s)),u):i},u.base=function(e){return arguments.length?(n=+e,t.domain(i.map(s)),u):n},u.nice=function(){var e=fa(i.map(s),r?Math:Ta);return t.domain(e),i=e.map(o),u},u.ticks=function(){var e=oa(i),t=[],u=e[0],a=e[1],f=Math.floor(s(u)),l=Math.ceil(s(a)),c=n%1?2:n;if(isFinite(l-f)){if(r){for(;f<l;f++)for(var h=1;h<c;h++)t.push(o(f)*h);t.push(o(f))}else{t.push(o(f));for(;f++<l;)for(var h=c-1;h>0;h--)t.push(o(f)*h)}for(f=0;t[f]<u;f++);for(l=t.length;t[l-1]>a;l--);t=t.slice(f,l)}return t},u.tickFormat=function(t,r){if(!arguments.length)return xa;arguments.length<2?r=xa:typeof r!="function"&&(r=e.format(r));var i=Math.max(1,n*t/u.ticks().length);return function(e){var t=e/o(Math.round(s(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},u.copy=function(){return Sa(t.copy(),n,r,i)},da(u,t)}function Na(e,t,n){function s(t){return e(r(t))}var r=Ca(t),i=Ca(1/t);return s.invert=function(t){return i(e.invert(t))},s.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),s):n},s.ticks=function(e){return ga(n,e)},s.tickFormat=function(e,t){return ya(n,e,t)},s.nice=function(e){return s.domain(va(n,e))},s.exponent=function(o){return arguments.length?(r=Ca(t=o),i=Ca(1/t),e.domain(n.map(r)),s):t},s.copy=function(){return Na(e.copy(),t,n)},da(s,e)}function Ca(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ka(t,n){function o(e){return i[((r.get(e)||(n.t==="range"?r.set(e,t.push(e)):NaN))-1)%i.length]}function u(n,r){return e.range(t.length).map(function(e){return n+r*e})}var r,i,s;return o.domain=function(e){if(!arguments.length)return t;t=[],r=new S;var i=-1,s=e.length,u;while(++i<s)r.has(u=e[i])||r.set(u,t.push(u));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,s=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(e,r){arguments.length<2&&(r=0);var a=e[0],f=e[1],l=t.length<2?(a=(a+f)/2,0):(f-a)/(t.length-1+r);return i=u(a+l*r/2,l),s=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(e,r){arguments.length<2&&(r=0);var a=e[0],f=e[1],l=t.length<2?(a=f=Math.round((a+f)/2),0):(f-a)/(t.length-1+r)|0;return i=u(a+Math.round(l*r/2+(f-a-(t.length-1+r)*l)/2),l),s=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(e,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=(c-l)/(t.length-r+2*a);return i=u(l+h*a,h),f&&i.reverse(),s=h*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(e,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=Math.floor((c-l)/(t.length-r+2*a));return i=u(l+Math.round((c-l-(t.length-r)*h)/2),h),f&&i.reverse(),s=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return s},o.rangeExtent=function(){return oa(n.a[0])},o.copy=function(){return ka(t,n)},o.domain(t)}function _a(t,n){function i(){var i=0,o=n.length;r=[];while(++i<o)r[i-1]=e.quantile(t,i/o);return s}function s(t){if(!isNaN(t=+t))return n[e.bisect(r,t)]}var r;return s.domain=function(e){return arguments.length?(t=e.map(d).filter(v).sort(p),i()):t},s.range=function(e){return arguments.length?(n=e,i()):n},s.quantiles=function(){return r},s.invertExtent=function(e){return e=n.indexOf(e),e<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},s.copy=function(){return _a(t,n)},i()}function Da(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/r+e,[t,t+1/r]},s.copy=function(){return Da(e,t,n)},o()}function Pa(t,n){function r(r){if(r<=r)return n[e.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return Pa(t,n)},r}function Ha(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ga(e,t)},t.tickFormat=function(t,n){return ya(e,t,n)},t.copy=function(){return Ha(e)},t}function Ba(){return 0}function Fa(e){return e.innerRadius}function Ia(e){return e.outerRadius}function qa(e){return e.startAngle}function Ra(e){return e.endAngle}function Ua(e){return e&&e.padAngle}function za(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Wa(e,t,n,r,i){var s=e[0]-t[0],o=e[1]-t[1],u=(i?r:-r)/Math.sqrt(s*s+o*o),a=u*o,f=-u*s,l=e[0]+a,c=e[1]+f,h=t[0]+a,p=t[1]+f,d=(l+h)/2,v=(c+p)/2,m=h-l,g=p-c,y=m*m+g*g,b=n-r,w=l*p-h*c,E=(g<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),S=(w*g-m*E)/y,x=(-w*m-g*E)/y,T=(w*g+m*E)/y,N=(-w*m+g*E)/y,C=S-d,k=x-v,L=T-d,A=N-v;return C*C+k*k>L*L+A*A&&(S=T,x=N),[[S-a,x-f],[S*n/b,x*n/b]]}function Xa(e){function u(s){function d(){u.push("M",i(e(a),o))}var u=[],a=[],f=-1,l=s.length,c,h=Nn(t),p=Nn(n);while(++f<l)r.call(this,c=s[f],f)?a.push([+h.call(this,c,f),+p.call(this,c,f)]):a.length&&(d(),a=[]);return a.length&&d(),u.length?u.join(""):null}var t=Ts,n=Ns,r=ui,i=$a,s=i.key,o=.7;return u.x=function(e){return arguments.length?(t=e,u):t},u.y=function(e){return arguments.length?(n=e,u):n},u.defined=function(e){return arguments.length?(r=e,u):r},u.interpolate=function(e){return arguments.length?(typeof e=="function"?s=i=e:s=(i=Va.get(e)||$a).key,u):s},u.tension=function(e){return arguments.length?(o=e,u):o},u}function $a(e){return e.length>1?e.join("L"):e+"Z"}function Ja(e){return e.join("L")+"Z"}function Ka(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Qa(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Ga(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Ya(e,t){return e.length<4?$a(e):e[1]+tf(e.slice(1,-1),nf(e,t))}function Za(e,t){return e.length<3?Ja(e):e[0]+tf((e.push(e[0]),e),nf([e[e.length-2]].concat(e,[e[1]]),t))}function ef(e,t){return e.length<3?$a(e):e[0]+tf(e,nf(e,t))}function tf(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return $a(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function nf(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function rf(e){if(e.length<3)return $a(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",af(cf,o),",",af(cf,u)];e.push(e[n-1]);while(++t<=n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),hf(a,o,u);return e.pop(),a.push("L",r),a.join("")}function sf(e){if(e.length<4)return $a(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(af(cf,s)+","+af(cf,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),hf(t,s,o);return t.join("")}function of(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[af(cf,o),",",af(cf,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),hf(t,o,u);return t.join("")}function uf(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o)}return rf(e)}function af(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function hf(e,t,n){e.push("C",af(ff,t),",",af(ff,n),",",af(lf,t),",",af(lf,n),",",af(cf,t),",",af(cf,n))}function pf(e,t){return(t[1]-e[1])/(t[0]-e[0])}function df(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=pf(i,s);while(++t<n)r[t]=(o+(o=pf(i=s,s=e[t+1])))/2;return r[t]=o,r}function vf(e){var t=[],n,r,i,s,o=df(e),u=-1,a=e.length-1;while(++u<a)n=pf(e[u],e[u+1]),b(n)<kt?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function mf(e){return e.length<3?$a(e):e[0]+tf(e,vf(e))}function gf(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]-_t,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function yf(e){function c(u){function x(){c.push("M",o(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=u.length,m,g=Nn(t),y=Nn(r),b=t===n?function(){return E}:Nn(n),w=r===i?function(){return S}:Nn(i),E,S;while(++d<v)s.call(this,m=u[d],d)?(h.push([E=+g.call(this,m,d),S=+y.call(this,m,d)]),p.push([+b.call(this,m,d),+w.call(this,m,d)])):h.length&&(x(),h=[],p=[]);return h.length&&x(),c.length?c.join(""):null}var t=Ts,n=Ts,r=0,i=Ns,s=ui,o=$a,u=o.key,a=o,f="L",l=.7;return c.x=function(e){return arguments.length?(t=n=e,c):n},c.x0=function(e){return arguments.length?(t=e,c):t},c.x1=function(e){return arguments.length?(n=e,c):n},c.y=function(e){return arguments.length?(r=i=e,c):i},c.y0=function(e){return arguments.length?(r=e,c):r},c.y1=function(e){return arguments.length?(i=e,c):i},c.defined=function(e){return arguments.length?(s=e,c):s},c.interpolate=function(e){return arguments.length?(typeof e=="function"?u=o=e:u=(o=Va.get(e)||$a).key,a=o.reverse||o,f=o.closed?"M":"L",c):u},c.tension=function(e){return arguments.length?(l=e,c):l},c}function bf(e){return e.radius}function wf(e){return[e.x,e.y]}function Ef(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-_t;return[n*Math.cos(r),n*Math.sin(r)]}}function Sf(){return 64}function xf(){return"circle"}function Tf(e){var t=Math.sqrt(e/At);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Af(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Of(e,t,n){return W(e,Mf),e.namespace=t,e.id=n,e}function Hf(e,t,n,r){var i=e.id,s=e.namespace;return pt(e,typeof n=="function"?function(e,o,u){e[s][i].tween.set(t,r(n.call(e,e.__data__,o,u)))}:(n=r(n),function(e){e[s][i].tween.set(t,n)}))}function Bf(e){return e==null&&(e=""),function(){this.textContent=e}}function jf(e){return e==null?"__transition__":"__transition_"+e+"__"}function Ff(e,t,n,r,i){function h(e){var t=o.delay;a.t=t+u;if(t<=e)return p(e-t);a.c=p}function p(n){var i=s.active,h=s[i];h&&(h.timer.c=null,h.timer.t=NaN,--s.count,delete s[i],h.event&&h.event.interrupt.call(e,e.__data__,h.index));for(var p in s)if(+p<r){var v=s[p];v.timer.c=null,v.timer.t=NaN,--s.count,delete s[p]}a.c=d,Hn(function(){return a.c&&d(n||1)&&(a.c=null,a.t=NaN),1},0,u),s.active=r,o.event&&o.event.start.call(e,e.__data__,t),c=[],o.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&c.push(r)}),l=o.ease,f=o.duration}function d(i){var u=i/f,a=l(u),h=c.length;while(h>0)c[--h].call(e,a);if(u>=1)return o.event&&o.event.end.call(e,e.__data__,t),--s.count?delete s[r]:delete e[n],1}var s=e[n]||(e[n]={active:0,count:0}),o=s[r],u,a,f,l,c;o||(u=i.time,a=Hn(h,0,u),o=s[r]={tween:new S,time:u,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++s.count)}function Rf(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Uf(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Jf(e){return e.toISOString()}function Kf(t,n,r){function i(e){return t(e)}function s(t,r){var i=t[1]-t[0],s=i/r,o=e.bisect(Gf,s);return o==Gf.length?[n.year,ma(t.map(function(e){return e/31536e6}),r)[2]]:o?n[s/Gf[o-1]<Gf[o]/s?o-1:o]:[el,ma(t,r)[2]]}return i.invert=function(e){return Qf(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Qf)},i.nice=function(e,t){function u(n){return!isNaN(n)&&!e.range(n,Qf(+n+1),t).length}var n=i.domain(),r=oa(n),o=e==null?s(r,10):typeof e=="number"&&s(r,e);return o&&(e=o[0],t=o[1]),i.domain(fa(n,t>1?{floor:function(t){while(u(t=e.floor(t)))t=Qf(t-1);return t},ceil:function(t){while(u(t=e.ceil(t)))t=Qf(+t+1);return t}}:e))},i.ticks=function(e,t){var n=oa(i.domain()),r=e==null?s(n,10):typeof e=="number"?s(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Qf(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Kf(t.copy(),n,r)},da(i,t)}function Qf(e){return new Date(e)}function rl(e){return JSON.parse(e.responseText)}function il(e){var t=r.createRange();return t.selectNode(r.body),t.createContextualFragment(e.responseText)}var e={version:"3.5.16"},t=[].slice,n=function(e){return t.call(e)},r=this.document;if(r)try{n(r.documentElement.childNodes)[0].nodeType}catch(o){n=function(e){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}}Date.now||(Date.now=function(){return+(new Date)});if(r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch(u){var a=this.Element.prototype,f=a.setAttribute,l=a.setAttributeNS,c=this.CSSStyleDeclaration.prototype,h=c.setProperty;a.setAttribute=function(e,t){f.call(this,e,t+"")},a.setAttributeNS=function(e,t,n){l.call(this,e,t,n+"")},c.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}e.ascending=p,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r)if((s=e[n])!=null&&s>=s){i=s;break}while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r)if((s=t.call(e,e[n],n))!=null&&s>=s){i=s;break}while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},e.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r)if((s=e[n])!=null&&s>=s){i=s;break}while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r)if((s=t.call(e,e[n],n))!=null&&s>=s){i=s;break}while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},e.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r)if((s=e[n])!=null&&s>=s){i=o=s;break}while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r)if((s=t.call(e,e[n],n))!=null&&s>=s){i=o=s;break}while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},e.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)v(i=+e[s])&&(n+=i);else while(++s<r)v(i=+t.call(e,e[s],s))&&(n+=i);return n},e.mean=function(e,t){var n=0,r=e.length,i,s=-1,o=r;if(arguments.length===1)while(++s<r)v(i=d(e[s]))?n+=i:--o;else while(++s<r)v(i=d(t.call(e,e[s],s)))?n+=i:--o;if(o)return n/o},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},e.median=function(t,n){var r=[],i=t.length,s,o=-1;if(arguments.length===1)while(++o<i)v(s=d(t[o]))&&r.push(s);else while(++o<i)v(s=d(n.call(t,t[o],o)))&&r.push(s);if(r.length)return e.quantile(r.sort(p),.5)},e.variance=function(e,t){var n=e.length,r=0,i,s,o=0,u=-1,a=0;if(arguments.length===1)while(++u<n)v(i=d(e[u]))&&(s=i-r,r+=s/++a,o+=s*(i-r));else while(++u<n)v(i=d(t.call(e,e[u],u)))&&(s=i-r,r+=s/++a,o+=s*(i-r));if(a>1)return o/(a-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var g=m(p);e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(e){return m(e.length===1?function(t,n){return p(e(t),n)}:e)},e.shuffle=function(e,t,n){(r=arguments.length)<3&&(n=e.length,r<2&&(t=0));var r=n-t,i,s;while(r)s=Math.random()*r--|0,i=e[r+t],e[r+t]=e[s+t],e[s+t]=i;return e},e.permute=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r},e.pairs=function(e){var t=0,n=e.length-1,r,i=e[0],s=new Array(n<0?0:n);while(t<n)s[t]=[r=i,i=e[++t]];return s},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,y),i=new Array(r);++n<r;)for(var s=-1,o,u=i[n]=new Array(o);++s<o;)u[s]=t[s][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){var t=e.length,n,r=-1,i=0,s,o;while(++r<t)i+=e[r].length;s=new Array(i);while(--t>=0){o=e[t],n=o.length;while(--n>=0)s[--i]=o[n]}return s};var b=Math.abs;e.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=w(b(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},e.map=function(e,t){var n=new S;if(e instanceof S)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r=-1,i=e.length,s;if(arguments.length===1)while(++r<i)n.set(r,e[r]);else while(++r<i)n.set(t.call(e,s=e[r],r),s)}else for(var o in e)n.set(o,e[o]);return n};var x="__proto__",T="\0";E(S,{has:k,get:function(e){return this._[N(e)]},set:function(e,t){return this._[N(e)]=t},remove:L,keys:A,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:C(t),value:this._[t]});return e},size:O,empty:M,forEach:function(e){for(var t in this._)e.call(this,C(t),this._[t])}}),e.nest=function(){function o(e,r,u){if(u>=n.length)return s?s.call(t,r):i?r.sort(i):r;var a=-1,f=r.length,l=n[u++],c,h,p,d=new S,v;while(++a<f)(v=d.get(c=l(h=r[a])))?v.push(h):d.set(c,[h]);return e?(h=e(),p=function(t,n){h.set(t,o(e,n,u))}):(h={},p=function(t,n){h[t]=o(e,n,u)}),d.forEach(p),h}function u(e,t){if(t>=n.length)return e;var i=[],s=r[t++];return e.forEach(function(e,n){i.push({key:e,values:u(n,t)})}),s?i.sort(function(e,t){return s(e.key,t.key)}):i}var t={},n=[],r=[],i,s;return t.map=function(e,t){return o(t,e,0)},t.entries=function(t){return u(o(e.map,t,0),0)},t.key=function(e){return n.push(e),t},t.sortKeys=function(e){return r[n.length-1]=e,t},t.sortValues=function(e){return i=e,t},t.rollup=function(e){return s=e,t},t},e.set=function(e){var t=new _;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},E(_,{has:k,add:function(e){return this._[N(e+="")]=!0,e},remove:L,values:A,size:O,empty:M,forEach:function(e){for(var t in this._)e.call(this,C(t))}}),e.behavior={},e.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=P(e,t,t[i]);return e};var B=["webkit","ms","moz","Moz","o","O"];e.dispatch=function(){var e=new F,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=I(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),r="";n>=0&&(r=e.slice(n+1),e=e.slice(0,n));if(e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(z,"\\$&")};var z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},V=function(e,t){return t.querySelector(e)},$=function(e,t){return t.querySelectorAll(e)},J=function(e,t){var n=e.matches||e[H(e,"matchesSelector")];return J=function(e,t){return n.call(e,t)},J(e,t)};typeof Sizzle=="function"&&(V=function(e,t){return Sizzle(e,t)[0]||null},$=Sizzle,J=Sizzle.matchesSelector),e.selection=function(){return e.select(r.documentElement)};var K=e.selection.prototype=[];K.select=function(e){var t=[],n,r,i,s;e=Q(e);for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a,o)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return X(t)},K.selectAll=function(e){var t=[],r,i;e=G(e);for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a])t.push(r=n(e.call(i,i.__data__,a,s))),r.parentNode=i;return X(t)};var Y="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}},K.attr=function(t,n){if(arguments.length<2){if(typeof t=="string"){var r=this.node();return t=e.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(et(n,t[n]));return this}return this.each(et(t,n))},K.classed=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node(),r=(e=rt(e)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.getAttribute("class");while(++i<r)if(!nt(e[i]).test(t))return!1}return!0}for(t in e)this.each(it(t,e[t]));return this}return this.each(it(e,t))},K.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.each(ot(n,e[n],t));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ot(e,t,n))},K.property=function(e,t){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(t in e)this.each(ut(t,e[t]));return this}return this.each(ut(e,t))},K.text=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},K.html=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},K.append=function(e){return e=at(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},K.insert=function(e,t){return e=at(e),t=Q(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},K.remove=function(){return this.each(ft)},K.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(s),c=new Array(s),h=new Array(i),p,d;if(t){var v=new S,m=new Array(i),g;for(r=-1;++r<i;)if(p=e[r])v.has(g=t.call(p,p.__data__,r))?h[r]=p:v.set(g,p),m[r]=g;for(r=-1;++r<s;)(p=v.get(g=t.call(n,d=n[r],r)))?p!==!0&&(l[r]=p,p.__data__=d):c[r]=lt(d),v.set(g,!0);for(r=-1;++r<i;)r in m&&v.get(m[r])!==!0&&(h[r]=e[r])}else{for(r=-1;++r<o;)p=e[r],d=n[r],p?(p.__data__=d,l[r]=p):c[r]=lt(d);for(;r<s;++r)c[r]=lt(n[r]);for(;r<i;++r)h[r]=e[r]}c.update=l,c.parentNode=l.parentNode=h.parentNode=e.parentNode,u.push(c),a.push(l),f.push(h)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=dt([]),a=X([]),f=X([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);return a.enter=function(){return u},a.exit=function(){return f},a},K.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},K.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=ct(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u,s)&&n.push(i)}return X(t)},K.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},K.sort=function(e){e=ht.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},K.each=function(e){return pt(this,function(t,n,r){e.call(t,t.__data__,n,r)})},K.call=function(e){var t=n(arguments);return e.apply(t[0]=this,t),this},K.empty=function(){return!this.node()},K.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null},K.size=function(){var e=0;return pt(this,function(){++e}),e};var vt=[];e.selection.enter=dt,e.selection.enter.prototype=vt,vt.append=K.append,vt.empty=K.empty,vt.node=K.node,vt.call=K.call,vt.size=K.size,vt.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f,u)),r.__data__=o.__data__):n.push(null)}return X(t)},vt.insert=function(e,t){return arguments.length<2&&(t=mt(this)),K.insert.call(this,e,t)},e.select=function(e){var t;return typeof e=="string"?(t=[V(e,r)],t.parentNode=r.documentElement):(t=[e],t.parentNode=i(e)),X([t])},e.selectAll=function(e){var t;return typeof e=="string"?(t=n($(e,r)),t.parentNode=r.documentElement):(t=n(e),t.parentNode=null),X([t])},K.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t=!1);for(n in e)this.each(gt(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(gt(e,t,n))};var yt=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});r&&yt.forEach(function(e){"on"+e in r&&yt.remove(e)});var Et,St=0;e.mouse=function(e){return Nt(e,R())};var Tt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;e.touch=function(e,t,n){arguments.length<3&&(n=t,t=R().changedTouches);if(t)for(var r=0,i=t.length,s;r<i;++r)if((s=t[r]).identifier===n)return Nt(e,s)},e.behavior.drag=function(){function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function u(r,i,s,o,u){return function(){function b(){var e=i(l,p),t,n;if(!e)return;t=e[0]-y[0],n=e[1]-y[1],h|=t|n,y=e,c({type:"drag",x:e[0]+v[0],y:e[1]+v[1],dx:t,dy:n})}function w(){if(!i(l,p))return;m.on(o+d,null).on(u+d,null),g(h),c({type:"dragend"})}var a=this,f=e.event.target.correspondingElement||e.event.target,l=a.parentNode,c=t.of(a,arguments),h=0,p=r(),d=".drag"+(p==null?"":"-"+p),v,m=e.select(s(f)).on(o+d,b).on(u+d,w),g=xt(f),y=i(l,p);n?(v=n.apply(a,arguments),v=[v.x-y[0],v.y-y[1]]):v=[0,0],c({type:"dragstart"})}}var t=U(o,"drag","dragstart","dragend"),n=null,r=u(j,e.mouse,s,"mousemove","mouseup"),i=u(Ct,e.touch,D,"touchmove","touchend");return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=R().touches),t?n(t).map(function(t){var n=Nt(e,t);return n.identifier=t.identifier,n}):[]};var kt=1e-6,Lt=kt*kt,At=Math.PI,Ot=2*At,Mt=Ot-kt,_t=At/2,Dt=At/180,Pt=180/At,zt=Math.SQRT2,Wt=2,Xt=4;e.interpolateZoom=function(e,t){var n=e[0],r=e[1],i=e[2],s=t[0],o=t[1],u=t[2],a=s-n,f=o-r,l=a*a+f*f,c,h;if(l<Lt)h=Math.log(u/i)/zt,c=function(e){return[n+e*a,r+e*f,i*Math.exp(zt*e*h)]};else{var p=Math.sqrt(l),d=(u*u-i*i+Xt*l)/(2*i*Wt*p),v=(u*u-i*i-Xt*l)/(2*u*Wt*p),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(v*v+1)-v);h=(g-m)/zt,c=function(e){var t=e*h,s=qt(m),o=i/(Wt*p)*(s*Rt(zt*t+m)-It(m));return[n+o*a,r+o*f,i*s/qt(zt*t+m)]}}return c.duration=h*1e3,c},e.behavior.zoom=function(){function S(e){e.on(c,_).on(Jt+".zoom",P).on("dblclick.zoom",H).on(v,D)}function x(e){return[(e[0]-t.x)/t.k,(e[1]-t.y)/t.k]}function T(e){return[e[0]*t.k+t.x,e[1]*t.k+t.y]}function N(e){t.k=Math.max(a[0],Math.min(a[1],e))}function C(e,n){n=T(n),t.x+=e[0]-n[0],t.y+=e[1]-n[1]}function k(n,r,s,o){n.__chart__={x:t.x,y:t.y,k:t.k},N(Math.pow(2,o)),C(i=r,s),n=e.select(n),f>0&&(n=n.transition().duration(f)),n.call(S.event)}function L(){b&&b.domain(y.range().map(function(e){return(e-t.x)/t.k}).map(y.invert)),E&&E.domain(w.range().map(function(e){return(e-t.y)/t.k}).map(w.invert))}function A(e){l++||e({type:"zoomstart"})}function O(e){L(),e({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function M(e){--l||(e({type:"zoomend"}),i=null)}function _(){function a(){r=1,C(e.mouse(t),o),O(n)}function f(){i.on(h,null).on(p,null),u(r),M(n)}var t=this,n=g.of(t,arguments),r=0,i=e.select(s(t)).on(h,a).on(p,f),o=x(e.mouse(t)),u=xt(t);Lf.call(t),A(n)}function D(){function d(){var r=e.touches(n);return o=t.k,r.forEach(function(e){e.identifier in i&&(i[e.identifier]=x(e))}),r}function y(){var r=e.event.target;e.select(r).on(a,b).on(f,w),l.push(r);var o=e.event.changedTouches;for(var u=0,c=o.length;u<c;++u)i[o[u].identifier]=null;var h=d(),p=Date.now();if(h.length===1){if(p-m<500){var v=h[0];k(n,v,i[v.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),q()}m=p}else if(h.length>1){var v=h[0],g=h[1],y=v[0]-g[0],E=v[1]-g[1];s=y*y+E*E}}function b(){var t=e.touches(n),u,a,f,l;Lf.call(n);for(var c=0,h=t.length;c<h;++c,l=null){f=t[c];if(l=i[f.identifier]){if(a)break;u=f,a=l}}if(l){var p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,d=s&&Math.sqrt(p/s);u=[(u[0]+f[0])/2,(u[1]+f[1])/2],a=[(a[0]+l[0])/2,(a[1]+l[1])/2],N(d*o)}m=null,C(u,a),O(r)}function w(){if(e.event.touches.length){var t=e.event.changedTouches;for(var n=0,s=t.length;n<s;++n)delete i[t[n].identifier];for(var o in i)return void d()}e.selectAll(l).on(u,null),h.on(c,_).on(v,D),p(),M(r)}var n=this,r=g.of(n,arguments),i={},s=0,o,u=".zoom-"+e.event.changedTouches[0].identifier,a="touchmove"+u,f="touchend"+u,l=[],h=e.select(n),p=xt(n);y(),A(r),h.on(c,null).on(v,y)}function P(){var r=g.of(this,arguments);d?clearTimeout(d):(Lf.call(this),n=x(i=o||e.mouse(this)),A(r)),d=setTimeout(function(){d=null,M(r)},50),q(),N(Math.pow(2,$t()*.002)*t.k),C(i,n),O(r)}function H(){var n=e.mouse(this),r=Math.log(t.k)/Math.LN2;k(this,n,x(n),e.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}var t={x:0,y:0,k:1},n,i,o,u=[960,500],a=Vt,f=250,l=0,c="mousedown.zoom",h="mousemove.zoom",p="mouseup.zoom",d,v="touchstart.zoom",m,g=U(S,"zoomstart","zoom","zoomend"),y,b,w,E;return Jt||(Jt="onwheel"in r?($t=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?($t=function(){return e.event.wheelDelta},"mousewheel"):($t=function(){return-e.event.detail},"MozMousePixelScroll")),S.event=function(n){n.each(function(){var n=g.of(this,arguments),r=t;Df?e.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},A(n)}).tween("zoom:zoom",function(){var s=u[0],o=u[1],a=i?i[0]:s/2,f=i?i[1]:o/2,l=e.interpolateZoom([(a-t.x)/t.k,(f-t.y)/t.k,s/t.k],[(a-r.x)/r.k,(f-r.y)/r.k,s/r.k]);return function(e){var r=l(e),i=s/r[2];this.__chart__=t={x:a-r[0]*i,y:f-r[1]*i,k:i},O(n)}}).each("interrupt.zoom",function(){M(n)}).each("end.zoom",function(){M(n)}):(this.__chart__=t,A(n),O(n),M(n))})},S.translate=function(e){return arguments.length?(t={x:+e[0],y:+e[1],k:t.k},L(),S):[t.x,t.y]},S.scale=function(e){return arguments.length?(t={x:t.x,y:t.y,k:null},N(+e),L(),S):t.k},S.scaleExtent=function(e){return arguments.length?(a=e==null?Vt:[+e[0],+e[1]],S):a},S.center=function(e){return arguments.length?(o=e&&[+e[0],+e[1]],S):o},S.size=function(e){return arguments.length?(u=e&&[+e[0],+e[1]],S):u},S.duration=function(e){return arguments.length?(f=+e,S):f},S.x=function(e){return arguments.length?(b=e,y=e.copy(),t={x:0,y:0,k:1},S):b},S.y=function(e){return arguments.length?(E=e,w=e.copy(),t={x:0,y:0,k:1},S):E},e.rebind(S,g,"on")};var Vt=[0,Infinity],$t,Jt;e.color=Kt,Kt.prototype.toString=function(){return this.rgb()+""},e.hsl=Qt;var Gt=Qt.prototype=new Kt;Gt.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Qt(this.h,this.s,this.l/e)},Gt.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Qt(this.h,this.s,e*this.l)},Gt.rgb=function(){return Yt(this.h,this.s,this.l)},e.hcl=Zt;var en=Zt.prototype=new Kt;en.brighter=function(e){return new Zt(this.h,this.c,Math.min(100,this.l+rn*(arguments.length?e:1)))},en.darker=function(e){return new Zt(this.h,this.c,Math.max(0,this.l-rn*(arguments.length?e:1)))},en.rgb=function(){return tn(this.h,this.c,this.l).rgb()},e.lab=nn;var rn=18,sn=.95047,on=1,un=1.08883,an=nn.prototype=new Kt;an.brighter=function(e){return new nn(Math.min(100,this.l+rn*(arguments.length?e:1)),this.a,this.b)},an.darker=function(e){return new nn(Math.max(0,this.l-rn*(arguments.length?e:1)),this.a,this.b)},an.rgb=function(){return fn(this.l,this.a,this.b)},e.rgb=dn;var gn=dn.prototype=new Kt;gn.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?new dn(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new dn(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e)))},gn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new dn(e*this.r,e*this.g,e*this.b)},gn.hsl=function(){return wn(this.r,this.g,this.b)},gn.toString=function(){return"#"+yn(this.r)+yn(this.g)+yn(this.b)};var Tn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Tn.forEach(function(e,t){Tn.set(e,vn(t))}),e.functor=Nn,e.xhr=Cn(D),e.dsv=function(e,t){function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=kn(e,t,n==null?s:o(n),r);return i.row=function(e){return arguments.length?i.response((n=e)==null?s:o(e)):n},i}function s(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function u(t){return t.map(a).join(e)}function a(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return i.parse=function(e,t){var n;return i.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})},i.parseRows=function(e,t){function c(){if(u>=o)return i;if(l)return l=!1,n;var t=u;if(e.charCodeAt(t)===34){var s=t;while(s++<o)if(e.charCodeAt(s)===34){if(e.charCodeAt(s+1)!==34)break;++s}u=s+2;var a=e.charCodeAt(s+1);return a===13?(l=!0,e.charCodeAt(s+2)===10&&++u):a===10&&(l=!0),e.slice(t+1,s).replace(/""/g,'"')}while(u<o){var a=e.charCodeAt(u++),f=1;if(a===10)l=!0;else if(a===13)l=!0,e.charCodeAt(u)===10&&(++u,++f);else if(a!==r)continue;return e.slice(t,u-f)}return e.slice(t)}var n={},i={},s=[],o=e.length,u=0,a=0,f,l;while((f=c())!==i){var h=[];while(f!==n&&f!==i)h.push(f),f=c();if(t&&(h=t(h,a++))==null)continue;s.push(h)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new _,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(a).join(e)].concat(t.map(function(t){return r.map(function(e){return a(t[e])}).join(e)})).join("\n")},i.formatRows=function(e){return e.map(u).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv(" ","text/tab-separated-values");var On,Mn,_n,Dn,Pn=this[H(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};e.timer=function(){Hn.apply(this,arguments)},e.timer.flush=function(){jn(),Fn()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var qn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Rn);e.formatPrefix=function(t,n){var r=0;if(t=+t)t<0&&(t*=-1),n&&(t=e.round(t,In(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3));return qn[8+r/3]};var zn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Wn=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,In(t,n))).toFixed(Math.max(0,Math.min(20,In(t*(1+1e-15),n))))}}),Vn=e.time={},$n=Date;Jn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Kn.setUTCDate.apply(this._,arguments)},setDay:function(){Kn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Kn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Kn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Kn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Kn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Kn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Kn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Kn.setTime.apply(this._,arguments)}};var Kn=Date.prototype;Vn.year=Qn(function(e){return e=Vn.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Vn.years=Vn.year.range,Vn.years.utc=Vn.year.utc.range,Vn.day=Qn(function(e){var t=new $n(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Vn.days=Vn.day.range,Vn.days.utc=Vn.day.utc.range,Vn.dayOfYear=function(e){var t=Vn.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Vn[e]=Qn(function(e){return(e=Vn.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=Vn.year(e).getDay();return Math.floor((Vn.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Vn[e+"s"]=n.range,Vn[e+"s"].utc=n.utc.range,Vn[e+"OfYear"]=function(e){var n=Vn.year(e).getDay();return Math.floor((Vn.dayOfYear(e)+(n+t)%7)/7)}}),Vn.week=Vn.sunday,Vn.weeks=Vn.sunday.range,Vn.weeks.utc=Vn.sunday.utc.range,Vn.weekOfYear=Vn.sundayOfYear;var Zn={"-":"",_:" ",0:"0"},er=/^\s*\d+/,tr=/^%/;e.locale=function(e){return{numberFormat:Un(e),timeFormat:Yn(e)}};var Sr=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});e.format=Sr.numberFormat,e.geo={},xr.prototype={s:0,t:0,add:function(e){Nr(e,this.t,Tr),Nr(Tr.s,this.s,this),this.s?this.t+=Tr.t:this.s=Tr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Tr=new xr;e.geo.stream=function(e,t){e&&kr.hasOwnProperty(e.type)?kr[e.type](e,t):Cr(e,t)};var kr={Feature:function(e,t){Cr(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)Cr(n[r].geometry,t)}},Lr={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ar(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Ar(n[r],t,0)},Polygon:function(e,t){Or(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Or(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)Cr(n[r],t)}};e.geo.area=function(t){return Mr=0,e.geo.stream(t,Dr),Mr};var Mr,_r=new xr,Dr={sphere:function(){Mr+=4*At},point:j,lineStart:j,lineEnd:j,polygonStart:function(){_r.reset(),Dr.lineStart=Pr},polygonEnd:function(){var e=2*_r;Mr+=e<0?4*At+e:e,Dr.lineStart=Dr.lineEnd=Dr.point=j}};e.geo.bounds=function(){function p(e,s){l.push(c=[t=e,r=e]),s<n&&(n=s),s>i&&(i=s)}function d(e,o){var u=Hr([e*Dt,o*Dt]);if(a){var f=jr(a,u),l=[f[1],-f[0],0],c=jr(l,f);qr(c),c=Rr(c);var h=e-s,d=h>0?1:-1,v=c[0]*Pt*d,m=b(h)>180;if(m^(d*s<v&&v<d*e)){var g=c[1]*Pt;g>i&&(i=g)}else if(v=(v+360)%360-180,m^(d*s<v&&v<d*e)){var g=-c[1]*Pt;g<n&&(n=g)}else o<n&&(n=o),o>i&&(i=o);m?e<s?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>s?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e)}else p(e,o);a=u,s=e}function v(){h.point=d}function m(){c[0]=t,c[1]=r,h.point=p,a=null}function g(e,t){if(a){var n=e-s;f+=b(n)>180?n+(n>0?360:-360):n}else o=e,u=t;Dr.point(e,t),d(e,t)}function y(){Dr.lineStart()}function w(){g(o,u),Dr.lineEnd(),b(f)>kt&&(t=-(r=180)),c[0]=t,c[1]=r,a=null}function E(e,t){return(t-=e)<0?t+360:t}function S(e,t){return e[0]-t[0]}function x(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var t,n,r,i,s,o,u,a,f,l,c,h={point:p,lineStart:v,lineEnd:m,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=w,f=0,Dr.polygonStart()},polygonEnd:function(){Dr.polygonEnd(),h.point=p,h.lineStart=v,h.lineEnd=m,_r<0?(t=-(r=180),n=-(i=90)):f>kt?i=90:f<-kt&&(n=-90),c[0]=t,c[1]=r}};return function(s){i=r=-(t=n=Infinity),l=[],e.geo.stream(s,h);var o=l.length;if(o){l.sort(S);for(var u=1,a=l[0],f,p=[a];u<o;++u)f=l[u],x(f[0],a)||x(f[1],a)?(E(a[0],f[1])>E(a[0],a[1])&&(a[1]=f[1]),E(f[0],a[1])>E(a[0],a[1])&&(a[0]=f[0])):p.push(a=f);var d=-Infinity,v;for(var o=p.length-1,u=0,a=p[o],f;u<=o;a=f,++u)f=p[u],(v=E(a[1],f[0]))>d&&(d=v,t=f[0],r=a[1])}return l=c=null,t===Infinity||n===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){zr=Wr=Xr=Vr=$r=Jr=Kr=Qr=Gr=Yr=Zr=0,e.geo.stream(t,ei);var n=Gr,r=Yr,i=Zr,s=n*n+r*r+i*i;if(s<Lt){n=Jr,r=Kr,i=Qr,Wr<kt&&(n=Xr,r=Vr,i=$r),s=n*n+r*r+i*i;if(s<Lt)return[NaN,NaN]}return[Math.atan2(r,n)*Pt,Ft(i/Math.sqrt(s))*Pt]};var zr,Wr,Xr,Vr,$r,Jr,Kr,Qr,Gr,Yr,Zr,ei={sphere:j,point:ti,lineStart:ri,lineEnd:ii,polygonStart:function(){ei.lineStart=si},polygonEnd:function(){ei.lineStart=ri}},vi=ci(ui,mi,yi,[-At,-At/2]),Si=1e9;e.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(u){return arguments.length?(s=xi(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return Ti(Ni)}).raw=Ni,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){function f(e){var t=e[0],n=e[1];return i=null,(o(t,n),i)||(u(t,n),i)||a(t,n),i}var t=e.geo.albers(),n=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i,s={point:function(e,t){i=[e,t]}},o,u,a;return f.invert=function(e){var i=t.scale(),s=t.translate(),o=(e[0]-s[0])/i,u=(e[1]-s[1])/i;return(u>=.12&&u<.234&&o>=-0.425&&o<-0.214?n:u>=.166&&u<.234&&o>=-0.214&&o<-0.115?r:t).invert(e)},f.stream=function(e){var i=t.stream(e),s=n.stream(e),o=r.stream(e);return{point:function(e,t){i.point(e,t),s.point(e,t),o.point(e,t)},sphere:function(){i.sphere(),s.sphere(),o.sphere()},lineStart:function(){i.lineStart(),s.lineStart(),o.lineStart()},lineEnd:function(){i.lineEnd(),s.lineEnd(),o.lineEnd()},polygonStart:function(){i.polygonStart(),s.polygonStart(),o.polygonStart()},polygonEnd:function(){i.polygonEnd(),s.polygonEnd(),o.polygonEnd()}}},f.precision=function(e){return arguments.length?(t.precision(e),n.precision(e),r.precision(e),f):t.precision()},f.scale=function(e){return arguments.length?(t.scale(e),n.scale(e*.35),r.scale(e),f.translate(t.translate())):t.scale()},f.translate=function(e){if(!arguments.length)return t.translate();var i=t.scale(),l=+e[0],c=+e[1];return o=t.translate(e).clipExtent([[l-.455*i,c-.238*i],[l+.455*i,c+.238*i]]).stream(s).point,u=n.translate([l-.307*i,c+.201*i]).clipExtent([[l-.425*i+kt,c+.12*i+kt],[l-.214*i-kt,c+.234*i-kt]]).stream(s).point,a=r.translate([l-.205*i,c+.212*i]).clipExtent([[l-.214*i+kt,c+.166*i+kt],[l-.115*i-kt,c+.234*i-kt]]).stream(s).point,f},f.scale(1070)};var Ci,ki,Li={point:j,lineStart:j,lineEnd:j,polygonStart:function(){ki=0,Li.lineStart=Ai},polygonEnd:function(){Li.lineStart=Li.lineEnd=Li.point=j,Ci+=b(ki/2)}},Oi,Mi,_i,Di,Pi={point:Hi,lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j},Fi={point:Ii,lineStart:qi,lineEnd:Ri,polygonStart:function(){Fi.lineStart=Ui},polygonEnd:function(){Fi.point=Ii,Fi.lineStart=qi,Fi.lineEnd=Ri}};e.geo.path=function(){function u(n){if(n){typeof t=="function"&&s.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=i(s);e.geo.stream(n,o)}return s.result()}function a(){return o=null,u}var t=4.5,n,r,i,s,o;return u.area=function(t){return Ci=0,e.geo.stream(t,i(Li)),Ci},u.centroid=function(t){return Xr=Vr=$r=Jr=Kr=Qr=Gr=Yr=Zr=0,e.geo.stream(t,i(Fi)),Zr?[Gr/Zr,Yr/Zr]:Qr?[Jr/Qr,Kr/Qr]:$r?[Xr/$r,Vr/$r]:[NaN,NaN]},u.bounds=function(t){return _i=Di=-(Oi=Mi=Infinity),e.geo.stream(t,i(Pi)),[[Oi,Mi],[_i,Di]]},u.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Xi(e):D,a()):n},u.context=function(e){return arguments.length?(s=(r=e)==null?new Bi:new zi(e),typeof t!="function"&&s.pointRadius(t),a()):r},u.pointRadius=function(e){return arguments.length?(t=typeof e=="function"?e:(s.pointRadius(+e),+e),u):t},u.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Vi(t);for(var r in e)n[r]=e[r];return n}}},Vi.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Ji,e.geo.projectionMutator=Ki,(e.geo.equirectangular=function(){return Ji(Gi)}).raw=Gi.invert=Gi,e.geo.rotation=function(e){function t(t){return t=e(t[0]*Dt,t[1]*Dt),t[0]*=Pt,t[1]*=Pt,t}return e=Zi(e[0]%360*Dt,e[1]*Dt,e.length>2?e[2]*Dt:0),t.invert=function(t){return t=e.invert(t[0]*Dt,t[1]*Dt),t[0]*=Pt,t[1]*=Pt,t},t},Yi.invert=Gi,e.geo.circle=function(){function i(){var t=typeof e=="function"?e.apply(this,arguments):e,n=Zi(-t[0]*Dt,-t[1]*Dt,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=Pt,e[1]*=Pt}}),{type:"Polygon",coordinates:[i]}}var e=[0,0],t,n=6,r;return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(r=rs((t=+e)*Dt,n*Dt),i):t},i.precision=function(e){return arguments.length?(r=rs(t*Dt,(n=+e)*Dt),i):n},i.angle(90)},e.geo.distance=function(e,t){var n=(t[0]-e[0])*Dt,r=e[1]*Dt,i=t[1]*Dt,s=Math.sin(n),o=Math.cos(n),u=Math.sin(r),a=Math.cos(r),f=Math.sin(i),l=Math.cos(i),c;return Math.atan2(Math.sqrt((c=l*s)*c+(c=a*f-u*l*o)*c),u*f+a*l*o)},e.geo.graticule=function(){function y(){return{type:"MultiLineString",coordinates:w()}}function w(){return e.range(Math.ceil(i/c)*c,r,c).map(v).concat(e.range(Math.ceil(a/h)*h,u,h).map(m)).concat(e.range(Math.ceil(n/f)*f,t,f).filter(function(e){return b(e%c)>kt}).map(p)).concat(e.range(Math.ceil(o/l)*l,s,l).filter(function(e){return b(e%h)>kt}).map(d))}var t,n,r,i,s,o,u,a,f=10,l=f,c=90,h=360,p,d,v,m,g=2.5;return y.lines=function(){return w().map(function(e){return{type:"LineString",coordinates:e}})},y.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(m(u).slice(1),v(r).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],a=+e[0][1],u=+e[1][1],i>r&&(e=i,i=r,r=e),a>u&&(e=a,a=u,u=e),y.precision(g)):[[i,a],[r,u]]},y.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],s=+e[1][1],n>t&&(e=n,n=t,t=e),o>s&&(e=o,o=s,s=e),y.precision(g)):[[n,o],[t,s]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(c=+e[0],h=+e[1],y):[c,h]},y.minorStep=function(e){return arguments.length?(f=+e[0],l=+e[1],y):[f,l]},y.precision=function(e){return arguments.length?(g=+e,p=ss(o,s,90),d=os(n,t,g),v=ss(a,u,90),m=os(i,r,g),y):g},y.majorExtent([[-180,-90+kt],[180,90-kt]]).minorExtent([[-180,-80-kt],[180,80+kt]])},e.geo.greatArc=function(){function s(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||r.apply(this,arguments)]}}var t=us,n,r=as,i;return s.distance=function(){return e.geo.distance(n||t.apply(this,arguments),i||r.apply(this,arguments))},s.source=function(e){return arguments.length?(t=e,n=typeof e=="function"?null:e,s):t},s.target=function(e){return arguments.length?(r=e,i=typeof e=="function"?null:e,s):r},s.precision=function(){return arguments.length?s:0},s},e.geo.interpolate=function(e,t){return fs(e[0]*Dt,e[1]*Dt,t[0]*Dt,t[1]*Dt)},e.geo.length=function(t){return ls=0,e.geo.stream(t,cs),ls};var ls,cs={sphere:j,point:j,lineStart:hs,lineEnd:j,polygonStart:j,polygonEnd:j},ds=ps(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return Ji(ds)}).raw=ds;var vs=ps(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},D);(e.geo.azimuthalEquidistant=function(){return Ji(vs)}).raw=vs,(e.geo.conicConformal=function(){return Ti(ms)}).raw=ms,(e.geo.conicEquidistant=function(){return Ti(gs)}).raw=gs;var ys=ps(function(e){return 1/e},Math.atan);(e.geo.gnomonic=function(){return Ji(ys)}).raw=ys,bs.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-_t]},(e.geo.mercator=function(){return ws(bs)}).raw=bs;var Es=ps(function(){return 1},Math.asin);(e.geo.orthographic=function(){return Ji(Es)}).raw=Es;var Ss=ps(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(e.geo.stereographic=function(){return Ji(Ss)}).raw=Ss,xs.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-_t]},(e.geo.transverseMercator=function(){var e=ws(xs),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=xs,e.geom={},e.geom.hull=function(e){function r(e){if(e.length<3)return[];var r=Nn(t),i=Nn(n),s,o=e.length,u=[],a=[];for(s=0;s<o;s++)u.push([+r.call(this,e[s],s),+i.call(this,e[s],s),s]);u.sort(ks);for(s=0;s<o;s++)a.push([u[s][0],-u[s][1]]);var f=Cs(u),l=Cs(a),c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(s=f.length-1;s>=0;--s)p.push(e[u[f[s]][2]]);for(s=+c;s<l.length-h;++s)p.push(e[u[l[s]][2]]);return p}var t=Ts,n=Ns;return arguments.length?r(e):(r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r)},e.geom.polygon=function(e){return W(e,Ls),e};var Ls=e.geom.polygon.prototype=[];Ls.area=function(){var e=-1,t=this.length,n,r=this[t-1],i=0;while(++e<t)n=r,r=this[e],i+=n[1]*r[0]-n[0]*r[1];return i*.5},Ls.centroid=function(e){var t=-1,n=this.length,r=0,i=0,s,o=this[n-1],u;arguments.length||(e=-1/(6*this.area()));while(++t<n)s=o,o=this[t],u=s[0]*o[1]-o[0]*s[1],r+=(s[0]+o[0])*u,i+=(s[1]+o[1])*u;return[r*e,i*e]},Ls.clip=function(e){var t,n=Ms(e),r=-1,i=this.length-Ms(this),s,o,u=this[i-1],a,f,l;while(++r<i){t=e.slice(),e.length=0,a=this[r],f=t[(o=t.length-n)-1],s=-1;while(++s<o)l=t[s],As(l,u,a)?(As(f,u,a)||e.push(Os(f,l,u,a)),e.push(l)):As(f,u,a)&&e.push(Os(f,l,u,a)),f=l;n&&e.push(e[0]),u=a}return e};var _s,Ds,Ps,Hs=[],Bs,js,Fs=[];Vs.prototype.prepare=function(){var e=this.edges,t=e.length,n;while(t--)n=e[t].edge,(!n.b||!n.a)&&e.splice(t,1);return e.sort(Js),e.length},io.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},so.prototype={insert:function(e,t){var n,r,i;if(e){t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=fo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);t.L=t.R=null,t.U=n,t.C=!0,e=t;while(n&&n.C)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(uo(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ao(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ao(this,n),e=n,n=e.U),n.C=!1,r.C=!0,uo(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,i=e.R,s,o;r?i?s=fo(i):s=r:s=i,t?t.L===e?t.L=s:t.R=s:this._=s,r&&i?(o=s.C,s.C=e.C,s.L=r,r.U=s,s!==i?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=i,i.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t);if(o)return;if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){n=t.R,n.C&&(n.C=!1,t.C=!0,uo(this,t),n=t.R);if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C)n.L.C=!1,n.C=!0,ao(this,n),n=t.R;n.C=t.C,t.C=n.R.C=!1,uo(this,t),e=this._;break}}else{n=t.L,n.C&&(n.C=!1,t.C=!0,ao(this,t),n=t.L);if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C)n.R.C=!1,n.C=!0,uo(this,n),n=t.L;n.C=t.C,t.C=n.L.C=!1,ao(this,t),e=this._;break}}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}},e.geom.voronoi=function(e){function o(e){var t=new Array(e.length),n=s[0][0],r=s[0][1],i=s[1][0],o=s[1][1];return lo(u(e),s).cells.forEach(function(s,u){var a=s.edges,f=s.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=n&&f.x<=i&&f.y>=r&&f.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];l.point=e[u]}),t}function u(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/kt)*kt,y:Math.round(i(e,t)/kt)*kt,i:t}})}var t=Ts,n=Ns,r=t,i=n,s=ho;return e?o(e):(o.links=function(e){return lo(u(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(e){var t=[];return lo(u(e)).cells.forEach(function(n,r){var i=n.site,s=n.edges.sort(Js),o=-1,u=s.length,a,f,l=s[u-1].edge,c=l.l===i?l.r:l.l;while(++o<u)a=l,f=c,l=s[o].edge,c=l.l===i?l.r:l.l,r<f.i&&r<c.i&&po(i,f,c)<0&&t.push([e[r],e[f.i],e[c.i]])}),t},o.x=function(e){return arguments.length?(r=Nn(t=e),o):t},o.y=function(e){return arguments.length?(i=Nn(n=e),o):n},o.clipExtent=function(e){return arguments.length?(s=e==null?ho:e,o):s===ho?null:s},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):s===ho?null:s&&s[1]},o)};var ho=[[-1e6,-1e6],[1e6,1e6]];e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,i){function a(e){function T(e,t,n,r,i,s,o,u){if(isNaN(n)||isNaN(r))return;if(e.leaf){var a=e.x,f=e.y;if(a!=null)if(b(a-n)+b(f-r)<.01)N(e,t,n,r,i,s,o,u);else{var l=e.point;e.x=e.y=e.point=null,N(e,l,a,f,i,s,o,u),N(e,t,n,r,i,s,o,u)}else e.x=n,e.y=r,e.point=t}else N(e,t,n,r,i,s,o,u)}function N(e,t,n,r,i,s,o,u){var a=(i+o)*.5,f=(s+u)*.5,l=n>=a,c=r>=f,h=c<<1|l;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=go()),l?i=a:o=a,c?s=f:u=f,T(e,t,n,r,i,s,o,u)}var a,f=Nn(s),l=Nn(o),c,h,p,d,v,m,g,y;if(t!=null)v=t,m=n,g=r,y=i;else{g=y=-(v=m=Infinity),c=[],h=[],d=e.length;if(u)for(p=0;p<d;++p)a=e[p],a.x<v&&(v=a.x),a.y<m&&(m=a.y),a.x>g&&(g=a.x),a.y>y&&(y=a.y),c.push(a.x),h.push(a.y);else for(p=0;p<d;++p){var w=+f(a=e[p],p),E=+l(a,p);w<v&&(v=w),E<m&&(m=E),w>g&&(g=w),E>y&&(y=E),c.push(w),h.push(E)}}var S=g-v,x=y-m;S>x?y=m+S:g=v+x;var C=go();C.add=function(e){T(C,e,+f(e,++p),+l(e,p),v,m,g,y)},C.visit=function(e){yo(e,C,v,m,g,y)},C.find=function(e){return bo(C,e[0],e[1],v,m,g,y)},p=-1;if(t==null){while(++p<d)T(C,e[p],c[p],h[p],v,m,g,y);--p}else e.forEach(C.add);return c=h=e=a=null,C}var s=Ts,o=Ns,u;return(u=arguments.length)?(s=vo,o=mo,u===3&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(o=e,a):o},a.extent=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):t==null?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):t==null?null:[r-t,i-n]},a)},e.interpolateRgb=wo,e.interpolateObject=Eo,e.interpolateNumber=So,e.interpolateString=xo;var To=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,No=new RegExp(To.source,"g");e.interpolate=Co,e.interpolators=[function(e,t){var n=typeof t;return(n==="string"?Tn.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?wo:xo:t instanceof Kt?wo:Array.isArray(t)?ko:n==="object"&&isNaN(t)?Eo:So)(e,t)}],e.interpolateArray=ko;var Lo=function(){return D},Ao=e.map({linear:Lo,poly:jo,quad:function(){return Po},cubic:function(){return Ho},sin:function(){return Fo},exp:function(){return Io},circle:function(){return qo},elastic:Ro,back:Uo,bounce:function(){return zo}}),Oo=e.map({"in":D,out:_o,"in-out":Do,"out-in":function(e){return Do(_o(e))}});e.ease=function(e){var n=e.indexOf("-"),r=n>=0?e.slice(0,n):e,i=n>=0?e.slice(n+1):"in";return r=Ao.get(r)||Lo,i=Oo.get(i)||D,Mo(i(r.apply(null,t.call(arguments,1))))},e.interpolateHcl=Wo,e.interpolateHsl=Xo,e.interpolateLab=Vo,e.interpolateRound=$o,e.transform=function(t){var n=r.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(e!=null){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Jo(t?t.matrix:Yo)})(t)},Jo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Yo={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=iu,e.layout={},e.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(uu(e[n]));return t}},e.layout.chord=function(){function l(){var t={},l=[],h=e.range(s),p=[],d,v,m,g,y;n=[],r=[],d=0,g=-1;while(++g<s){v=0,y=-1;while(++y<s)v+=i[g][y];l.push(v),p.push(e.range(s)),d+=v}u&&h.sort(function(e,t){return u(l[e],l[t])}),a&&p.forEach(function(e,t){e.sort(function(e,n){return a(i[t][e],i[t][n])})}),d=(Ot-o*s)/d,v=0,g=-1;while(++g<s){m=v,y=-1;while(++y<s){var b=h[g],w=p[b][y],E=i[b][w],S=v,x=v+=E*d;t[b+"-"+w]={index:b,subindex:w,startAngle:S,endAngle:x,value:E}}r[b]={index:b,startAngle:m,endAngle:v,value:l[b]},v+=o}g=-1;while(++g<s){y=g-1;while(++y<s){var T=t[g+"-"+y],N=t[y+"-"+g];(T.value||N.value)&&n.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}}f&&c()}function c(){n.sort(function(e,t){return f((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var t={},n,r,i,s,o=0,u,a,f;return t.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=r=null,t):i},t.padding=function(e){return arguments.length?(o=e,n=r=null,t):o},t.sortGroups=function(e){return arguments.length?(u=e,n=r=null,t):u},t.sortSubgroups=function(e){return arguments.length?(a=e,n=null,t):a},t.sortChords=function(e){return arguments.length?(f=e,n&&c(),t):f},t.chords=function(){return n||l(),n},t.groups=function(){return r||l(),r},t},e.layout.force=function(){function b(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=i-n,a=s*s+o*o;if(u*u/p<a){if(a<c){var f=t.charge/a;e.px-=s*f,e.py-=o*f}return!0}if(t.point&&a&&a<c){var f=t.pointCharge/a;e.px-=s*f,e.py-=o*f}}return!t.charge}}function w(n){n.px=e.event.x,n.py=e.event.y,t.resume()}var t={},n=e.dispatch("start","tick","end"),r,i=[1,1],s,o,u=.9,a=vu,f=mu,l=-30,c=gu,h=.1,p=.64,d=[],v=[],m,g,y;return t.tick=function(){if((o*=.99)<.005)return r=null,n.end({type:"end",alpha:o=0}),!0;var t=d.length,s=v.length,a,f,c,p,w,E,S,x,T;for(f=0;f<s;++f){c=v[f],p=c.source,w=c.target,x=w.x-p.x,T=w.y-p.y;if(E=x*x+T*T)E=o*g[f]*((E=Math.sqrt(E))-m[f])/E,x*=E,T*=E,w.x-=x*(S=p.weight+w.weight?p.weight/(p.weight+w.weight):.5),w.y-=T*S,p.x+=x*(S=1-S),p.y+=T*S}if(S=o*h){x=i[0]/2,T=i[1]/2,f=-1;if(S)while(++f<t)c=d[f],c.x+=(x-c.x)*S,c.y+=(T-c.y)*S}if(l){du(a=e.geom.quadtree(d),o,y),f=-1;while(++f<t)(c=d[f]).fixed||a.visit(b(c))}f=-1;while(++f<t)c=d[f],c.fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*u,c.y-=(c.py-(c.py=c.y))*u);n.tick({type:"tick",alpha:o})},t.nodes=function(e){return arguments.length?(d=e,t):d},t.links=function(e){return arguments.length?(v=e,t):v},t.size=function(e){return arguments.length?(i=e,t):i},t.linkDistance=function(e){return arguments.length?(a=typeof e=="function"?e:+e,t):a},t.distance=t.linkDistance,t.linkStrength=function(e){return arguments.length?(f=typeof e=="function"?e:+e,t):f},t.friction=function(e){return arguments.length?(u=+e,t):u},t.charge=function(e){return arguments.length?(l=typeof e=="function"?e:+e,t):l},t.chargeDistance=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.gravity=function(e){return arguments.length?(h=+e,t):h},t.theta=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.alpha=function(e){return arguments.length?(e=+e,o?e>0?o=e:(r.c=null,r.t=NaN,r=null,n.end({type:"end",alpha:o=0})):e>0&&(n.start({type:"start",alpha:o=e}),r=Hn(t.tick)),t):o},t.start=function(){function h(t,i){if(!u){u=new Array(n);for(a=0;a<n;++a)u[a]=[];for(a=0;a<r;++a){var s=v[a];u[s.source.index].push(s.target),u[s.target.index].push(s.source)}}var o=u[e],a=-1,f=o.length,l;while(++a<f)if(!isNaN(l=o[a][t]))return l;return Math.random()*i}var e,n=d.length,r=v.length,s=i[0],o=i[1],u,c;for(e=0;e<n;++e)(c=d[e]).index=e,c.weight=0;for(e=0;e<r;++e)c=v[e],typeof c.source=="number"&&(c.source=d[c.source]),typeof c.target=="number"&&(c.target=d[c.target]),++c.source.weight,++c.target.weight;for(e=0;e<n;++e)c=d[e],isNaN(c.x)&&(c.x=h("x",s)),isNaN(c.y)&&(c.y=h("y",o)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);m=[];if(typeof a=="function")for(e=0;e<r;++e)m[e]=+a.call(this,v[e],e);else for(e=0;e<r;++e)m[e]=a;g=[];if(typeof f=="function")for(e=0;e<r;++e)g[e]=+f.call(this,v[e],e);else for(e=0;e<r;++e)g[e]=f;y=[];if(typeof l=="function")for(e=0;e<n;++e)y[e]=+l.call(this,d[e],e);else for(e=0;e<n;++e)y[e]=l;return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){s||(s=e.behavior.drag().origin(D).on("dragstart.force",lu).on("drag.force",w).on("dragend.force",cu));if(!arguments.length)return s;this.on("mouseover.force",hu).on("mouseout.force",pu).call(s)},e.rebind(t,n,"on")};var vu=20,mu=1,gu=Infinity;e.layout.hierarchy=function(){function r(i){var s=[i],o=[],u;i.depth=0;while((u=s.pop())!=null){o.push(u);if((f=t.call(r,u,u.depth))&&(a=f.length)){var a,f,l;while(--a>=0)s.push(l=f[a]),l.parent=u,l.depth=u.depth+1;n&&(u.value=0),u.children=f}else n&&(u.value=+n.call(r,u,u.depth)||0),delete u.children}return wu(i,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),o}var e=xu,t=Eu,n=Su;return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(bu(e,function(e){e.children&&(e.value=0)}),wu(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0);if(t=e.parent)t.value+=e.value})),e},r},e.layout.partition=function(){function r(e,t,n,i){var s=e.children;e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;n=e.value?n/e.value:0;while(++o<u)r(a=s[o],t,f=a.value*n,i),t+=f}}function i(e){var t=e.children,n=0;if(t&&(s=t.length)){var r=-1,s;while(++r<s)n=Math.max(n,i(t[r]))}return 1+n}function s(e,s){var o=t.call(this,e,s);return r(o[0],0,n[0],n[1]/i(o[0])),o}var t=e.layout.hierarchy(),n=[1,1];return s.size=function(e){return arguments.length?(n=e,s):n},yu(s,t)},e.layout.pie=function(){function o(u){var a=u.length,f=u.map(function(e,n){return+t.call(o,e,n)}),l=+(typeof r=="function"?r.apply(this,arguments):r),c=(typeof i=="function"?i.apply(this,arguments):i)-l,h=Math.min(Math.abs(c)/a,+(typeof s=="function"?s.apply(this,arguments):s)),p=h*(c<0?-1:1),d=e.sum(f),v=d?(c-a*p)/d:0,m=e.range(a),g=[],y;return n!=null&&m.sort(n===Nu?function(e,t){return f[t]-f[e]}:function(e,t){return n(u[e],u[t])}),m.forEach(function(e){g[e]={data:u[e],value:y=f[e],startAngle:l,endAngle:l+=y*v+p,padAngle:h}}),g}var t=Number,n=Nu,r=0,i=Ot,s=0;return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(s=e,o):s},o};var Nu={};e.layout.stack=function(){function u(a,f){if(!(v=a.length))return a;var l=a.map(function(e,n){return t.call(u,e,n)}),c=l.map(function(e){return e.map(function(e,t){return[s.call(u,e,t),o.call(u,e,t)]})}),h=n.call(u,c,f);l=e.permute(l,h),c=e.permute(c,h);var p=r.call(u,c,f),d=l[0].length,v,m,g,y;for(g=0;g<d;++g){i.call(u,l[0][g],y=p[g],c[0][g][1]);for(m=1;m<v;++m)i.call(u,l[m][g],y+=c[m-1][g][1],c[m][g][1])}return a}var t=D,n=Mu,r=_u,i=Lu,s=Cu,o=ku;return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(e){return arguments.length?(n=typeof e=="function"?e:Au.get(e)||Mu,u):n},u.offset=function(e){return arguments.length?(r=typeof e=="function"?e:Ou.get(e)||_u,u):r},u.x=function(e){return arguments.length?(s=e,u):s},u.y=function(e){return arguments.length?(o=e,u):o},u.out=function(e){return arguments.length?(i=e,u):i},u};var Au=e.map({"inside-out":function(t){var n=t.length,r,i,s=t.map(Du),o=t.map(Pu),u=e.range(n).sort(function(e,t){return s[e]-s[t]}),a=0,f=0,l=[],c=[];for(r=0;r<n;++r)i=u[r],a<f?(a+=o[i],l.push(i)):(f+=o[i],c.push(i));return c.reverse().concat(l)},reverse:function(t){return e.range(t.length).reverse()},"default":Mu}),Ou=e.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o)f+=(e[o][s][1]-e[o][s-1][1])/l;a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0,c<h&&(h=c)}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:_u});e.layout.histogram=function(){function s(s,o){var u=[],a=s.map(n,this),f=r.call(this,a,o),l=i.call(this,f,a,o),c,o=-1,h=a.length,p=l.length-1,d=t?1:1/h,v;while(++o<p)c=u[o]=[],c.dx=l[o+1]-(c.x=l[o]),c.y=0;if(p>0){o=-1;while(++o<h)v=a[o],v>=f[0]&&v<=f[1]&&(c=u[e.bisect(l,v,1,p)-1],c.y+=d,c.push(s[o]))}return u}var t=!0,n=Number,r=Fu,i=Bu;return s.value=function(e){return arguments.length?(n=e,s):n},s.range=function(e){return arguments.length?(r=Nn(e),s):r},s.bins=function(e){return arguments.length?(i=typeof e=="number"?function(t){return ju(t,e)}:Nn(e),s):i},s.frequency=function(e){return arguments.length?(t=!!e,s):t},s},e.layout.pack=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a=r[0],f=r[1],l=i==null?Math.sqrt:typeof i=="function"?i:function(){return i};u.x=u.y=0,wu(u,function(e){e.r=+l(e.value)}),wu(u,zu);if(n){var c=n*(i?1:Math.max(2*u.r/a,2*u.r/f))/2;wu(u,function(e){e.r+=c}),wu(u,zu),wu(u,function(e){e.r-=c})}return Vu(u,a/2,f/2,i?1:1/Math.max(2*u.r/a,2*u.r/f)),o}var t=e.layout.hierarchy().sort(Iu),n=0,r=[1,1],i;return s.size=function(e){return arguments.length?(r=e,s):r},s.radius=function(e){return arguments.length?(i=e==null||typeof e=="function"?e:+e,s):i},s.padding=function(e){return arguments.length?(n=+e,s):n},yu(s,t)},e.layout.tree=function(){function s(e,s){var f=t.call(this,e,s),c=f[0],h=o(c);wu(h,u),h.parent.m=-h.z,bu(h,a);if(i)bu(c,l);else{var p=c,d=c,v=c;bu(c,function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>v.depth&&(v=e)});var m=n(p,d)/2-p.x,g=r[0]/(d.x+n(d,p)/2+m),y=r[1]/(v.depth||1);bu(c,function(e){e.x=(e.x+m)*g,e.y=e.depth*y})}return f}function o(e){var t={A:null,children:[e]},n=[t],r;while((r=n.pop())!=null)for(var i=r.children,s,o=0,u=i.length;o<u;++o)n.push((i[o]=s={_:i[o],parent:r,children:(s=i[o].children)&&s.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=s);return t.children[0]}function u(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){Yu(e);var s=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-s):e.z=s}else i&&(e.z=i.z+n(e._,i._));e.parent.A=f(e,i,e.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function f(e,t,r){if(t){var i=e,s=e,o=t,u=i.parent.children[0],a=i.m,f=s.m,l=o.m,c=u.m,h;while(o=Qu(o),i=Ku(i),o&&i)u=Ku(u),s=Qu(s),s.a=e,h=o.z+l-i.z-a+n(o._,i._),h>0&&(Gu(Zu(o,e,r),e,h),a+=h,f+=h),l+=o.m,a+=i.m,c+=u.m,f+=s.m;o&&!Qu(s)&&(s.t=o,s.m+=l-f),i&&!Ku(u)&&(u.t=i,u.m+=a-c,r=e)}return r}function l(e){e.x*=r[0],e.y=e.depth*r[1]}var t=e.layout.hierarchy().sort(null).value(null),n=Ju,r=[1,1],i=null;return s.separation=function(e){return arguments.length?(n=e,s):n},s.size=function(e){return arguments.length?(i=(r=e)==null?l:null,s):i?null:r},s.nodeSize=function(e){return arguments.length?(i=(r=e)==null?null:l,s):i?r:null},yu(s,t)},e.layout.cluster=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a,f=0;wu(u,function(e){var t=e.children;t&&t.length?(e.x=ta(t),e.y=ea(t)):(e.x=a?f+=n(e,a):0,e.y=0,a=e)});var l=na(u),c=ra(u),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;return wu(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),o}var t=e.layout.hierarchy().sort(null).value(null),n=Ju,r=[1,1],i=!1;return s.separation=function(e){return arguments.length?(n=e,s):n},s.size=function(e){return arguments.length?(i=(r=e)==null,s):i?null:r},s.nodeSize=function(e){return arguments.length?(i=(r=e)!=null,s):i?r:null},yu(s,t)},e.layout.treemap=function(){function l(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function c(e){var t=e.children;if(t&&t.length){var n=s(e),r=[],i=t.slice(),o,u=Infinity,f,h=a==="slice"?n.dx:a==="dice"?n.dy:a==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),v;l(i,n.dx*n.dy/e.value),r.area=0;while((v=i.length)>0)r.push(o=i[v-1]),r.area+=o.area,a!=="squarify"||(f=p(r,h))<=u?(i.pop(),u=f):(r.area-=r.pop().area,d(r,h,n,!1),h=Math.min(n.dx,n.dy),r.length=r.area=0,u=Infinity);r.length&&(d(r,h,n,!0),r.length=r.area=0),t.forEach(c)}}function h(e){var t=e.children;if(t&&t.length){var n=s(e),r=t.slice(),i,o=[];l(r,n.dx*n.dy/e.value),o.area=0;while(i=r.pop())o.push(i),o.area+=i.area,i.z!=null&&(d(o,i.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(h)}}function p(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*f/n,n/(t*s*f)):Infinity}function d(e,t,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=t?n(e.area/t):0,l;if(t==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o)l=e[s],l.x=u,l.y=a,l.dy=f,u+=l.dx=Math.min(r.x+r.dx-u,f?n(l.area/f):0);l.z=!0,l.dx+=r.x+r.dx-u,r.y+=f,r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o)l=e[s],l.x=u,l.y=a,l.dx=f,a+=l.dy=Math.min(r.y+r.dy-a,f?n(l.area/f):0);l.z=!1,l.dy+=r.y+r.dy-a,r.x+=f,r.dx-=f}}function v(e){var n=u||t(e),i=n[0];return i.x=i.y=0,i.value?(i.dx=r[0],i.dy=r[1]):i.dx=i.dy=0,u&&t.revalue(i),l([i],i.dx*i.dy/i.value),(u?h:c)(i),o&&(u=n),n}var t=e.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=ia,o=!1,u,a="squarify",f=.5*(1+Math.sqrt(5));return v.size=function(e){return arguments.length?(r=e,v):r},v.padding=function(e){function t(t){var n=e.call(v,t,t.depth);return n==null?ia(t):sa(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return sa(t,e)}if(!arguments.length)return i;var r;return s=(i=e)==null?ia:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n,v},v.round=function(e){return arguments.length?(n=e?Math.round:Number,v):n!=Number},v.sticky=function(e){return arguments.length?(o=e,u=null,v):o},v.ratio=function(e){return arguments.length?(f=e,v):f},v.mode=function(e){return arguments.length?(a=e+"",v):a},yu(v,t)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var ca={floor:D,ceil:D};e.scale.linear=function(){return pa([0,1],[0,1],Co,!1)};var ba={s:1,g:1,p:1,r:1,e:1};e.scale.log=function(){return Sa(e.scale.linear().domain([0,1]),10,!0,[1,10])};var xa=e.format(".0e"),Ta={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};e.scale.pow=function(){return Na(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return ka([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(La)},e.scale.category20=function(){return e.scale.ordinal().range(Aa)},e.scale.category20b=function(){return e.scale.ordinal().range(Oa)},e.scale.category20c=function(){return e.scale.ordinal().range(Ma)};var La=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mn),Aa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mn),Oa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mn),Ma=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mn);e.scale.quantile=function(){return _a([],[])},e.scale.quantize=function(){return Da(0,1,[0,1])},e.scale.threshold=function(){return Pa([.5],[0,1])},e.scale.identity=function(){return Ha([0,1])},e.svg={},e.svg.arc=function(){function u(){var u=Math.max(0,+e.apply(this,arguments)),f=Math.max(0,+t.apply(this,arguments)),l=i.apply(this,arguments)-_t,c=s.apply(this,arguments)-_t,h=Math.abs(c-l),p=l>c?0:1;f<u&&(d=f,f=u,u=d);if(h>=Mt)return a(f,p)+(u?a(u,1-p):"")+"Z";var d,v,m,g,y=0,b=0,w,E,S,x,T,N,C,k,L=[];if(g=(+o.apply(this,arguments)||0)/2)m=r===ja?Math.sqrt(u*u+f*f):+r.apply(this,arguments),p||(b*=-1),f&&(b=Ft(m/f*Math.sin(g))),u&&(y=Ft(m/u*Math.sin(g)));if(f){w=f*Math.cos(l+b),E=f*Math.sin(l+b),S=f*Math.cos(c-b),x=f*Math.sin(c-b);var A=Math.abs(c-l-2*b)<=At?0:1;if(b&&za(w,E,S,x)===p^A){var O=(l+c)/2;w=f*Math.cos(O),E=f*Math.sin(O),S=x=null}}else w=E=0;if(u){T=u*Math.cos(c-y),N=u*Math.sin(c-y),C=u*Math.cos(l+y),k=u*Math.sin(l+y);var M=Math.abs(l-c+2*y)<=At?0:1;if(y&&za(T,N,C,k)===1-p^M){var _=(l+c)/2;T=u*Math.cos(_),N=u*Math.sin(_),C=k=null}}else T=N=0;if(h>kt&&(d=Math.min(Math.abs(f-u)/2,+n.apply(this,arguments)))>.001){v=u<f^p?0:1;var D=d,P=d;if(h<At){var H=C==null?[T,N]:S==null?[w,E]:Os([w,E],[C,k],[S,x],[T,N]),B=w-H[0],j=E-H[1],F=S-H[0],I=x-H[1],q=1/Math.sin(Math.acos((B*F+j*I)/(Math.sqrt(B*B+j*j)*Math.sqrt(F*F+I*I)))/2),R=Math.sqrt(H[0]*H[0]+H[1]*H[1]);P=Math.min(d,(u-R)/(q-1)),D=Math.min(d,(f-R)/(q+1))}if(S!=null){var U=Wa(C==null?[T,N]:[C,k],[w,E],f,D,p),z=Wa([S,x],[T,N],f,D,p);d===D?L.push("M",U[0],"A",D,",",D," 0 0,",v," ",U[1],"A",f,",",f," 0 ",1-p^za(U[1][0],U[1][1],z[1][0],z[1][1]),",",p," ",z[1],"A",D,",",D," 0 0,",v," ",z[0]):L.push("M",U[0],"A",D,",",D," 0 1,",v," ",z[0])}else L.push("M",w,",",E);if(C!=null){var W=Wa([w,E],[C,k],u,-P,p),X=Wa([T,N],S==null?[w,E]:[S,x],u,-P,p);d===P?L.push("L",X[0],"A",P,",",P," 0 0,",v," ",X[1],"A",u,",",u," 0 ",p^za(X[1][0],X[1][1],W[1][0],W[1][1]),",",1-p," ",W[1],"A",P,",",P," 0 0,",v," ",W[0]):L.push("L",X[0],"A",P,",",P," 0 0,",v," ",W[0])}else L.push("L",T,",",N)}else L.push("M",w,",",E),S!=null&&L.push("A",f,",",f," 0 ",A,",",p," ",S,",",x),L.push("L",T,",",N),C!=null&&L.push("A",u,",",u," 0 ",M,",",1-p," ",C,",",k);return L.push("Z"),L.join("")}function a(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+ -e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var e=Fa,t=Ia,n=Ba,r=ja,i=qa,s=Ra,o=Ua;return u.innerRadius=function(t){return arguments.length?(e=Nn(t),u):e},u.outerRadius=function(e){return arguments.length?(t=Nn(e),u):t},u.cornerRadius=function(e){return arguments.length?(n=Nn(e),u):n},u.padRadius=function(e){return arguments.length?(r=e==ja?ja:Nn(e),u):r},u.startAngle=function(e){return arguments.length?(i=Nn(e),u):i},u.endAngle=function(e){return arguments.length?(s=Nn(e),u):s},u.padAngle=function(e){return arguments.length?(o=Nn(e),u):o},u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-_t;return[Math.cos(r)*n,Math.sin(r)*n]},u};var ja="auto";e.svg.line=function(){return Xa(D)};var Va=e.map({linear:$a,"linear-closed":Ja,step:Ka,"step-before":Qa,"step-after":Ga,basis:rf,"basis-open":sf,"basis-closed":of,bundle:uf,cardinal:ef,"cardinal-open":Ya,"cardinal-closed":Za,monotone:mf});Va.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ff=[0,2/3,1/3,0],lf=[0,1/3,2/3,0],cf=[0,1/6,2/3,1/6];e.svg.line.radial=function(){var e=Xa(gf);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Qa.reverse=Ga,Ga.reverse=Qa,e.svg.area=function(){return yf(D)},e.svg.area.radial=function(){var e=yf(gf);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)-_t,l=i.call(e,u,o)-_t;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>At)+",1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=us,t=as,n=bf,r=qa,i=Ra;return s.radius=function(e){return arguments.length?(n=Nn(e),s):n},s.source=function(t){return arguments.length?(e=Nn(t),s):e},s.target=function(e){return arguments.length?(t=Nn(e),s):t},s.startAngle=function(e){return arguments.length?(r=Nn(e),s):r},s.endAngle=function(e){return arguments.length?(i=Nn(e),s):i},s},e.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=us,t=as,n=wf;return r.source=function(t){return arguments.length?(e=Nn(t),r):e},r.target=function(e){return arguments.length?(t=Nn(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=wf,r=t.projection;return t.projection=function(e){return arguments.length?r(Ef(n=e)):n},t},e.svg.symbol=function(){function n(n,r){return(Nf.get(e.call(this,n,r))||Tf)(t.call(this,n,r))}var e=xf,t=Sf;return n.type=function(t){return arguments.length?(e=Nn(t),n):e},n.size=function(e){return arguments.length?(t=Nn(e),n):t},n};var Nf=e.map({circle:Tf,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*kf)),n=t*kf;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Cf),n=t*Cf/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Cf),n=t*Cf/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});e.svg.symbolTypes=Nf.keys();var Cf=Math.sqrt(3),kf=Math.tan(30*Dt);K.transition=function(e){var t=Df||++_f,n=jf(e),r=[],i,s,o=Pf||{time:Date.now(),ease:Bo,delay:0,duration:250};for(var u=-1,a=this.length;++u<a;){r.push(i=[]);for(var f=this[u],l=-1,c=f.length;++l<c;)(s=f[l])&&Ff(s,l,n,t,o),i.push(s)}return Of(r,n,t)},K.interrupt=function(e){return this.each(e==null?Lf:Af(jf(e)))};var Lf=Af(jf()),Mf=[],_f=0,Df,Pf;Mf.call=K.call,Mf.empty=K.empty,Mf.node=K.node,Mf.size=K.size,e.transition=function(t,n){return t&&t.transition?Df?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=Mf,Mf.select=function(e){var t=this.id,n=this.namespace,r=[],i,s,o;e=Q(e);for(var u=-1,a=this.length;++u<a;){r.push(i=[]);for(var f=this[u],l=-1,c=f.length;++l<c;)(o=f[l])&&(s=e.call(o,o.__data__,l,u))?("__data__"in o&&(s.__data__=o.__data__),Ff(s,l,n,t,o[n][t]),i.push(s)):i.push(null)}return Of(r,n,t)},Mf.selectAll=function(e){var t=this.id,n=this.namespace,r=[],i,s,o,u,a;e=G(e);for(var f=-1,l=this.length;++f<l;)for(var c=this[f],h=-1,p=c.length;++h<p;)if(o=c[h]){a=o[n][t],s=e.call(o,o.__data__,h,f),r.push(i=[]);for(var d=-1,v=s.length;++d<v;)(u=s[d])&&Ff(u,d,n,t,a),i.push(u)}return Of(r,n,t)},Mf.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=ct(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u,s)&&n.push(i)}return Of(t,this.namespace,this.id)},Mf.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):pt(this,t==null?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Mf.attr=function(t,n){function s(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function u(e){return e==null?s:(e+="",function(){var t=this.getAttribute(i),n;return t!==e&&(n=r(t,e),function(e){this.setAttribute(i,n(e))})})}function a(e){return e==null?o:(e+="",function(){var t=this.getAttributeNS(i.space,i.local),n;return t!==e&&(n=r(t,e),function(e){this.setAttributeNS(i.space,i.local,n(e))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r=t=="transform"?iu:Co,i=e.ns.qualify(t);return Hf(this,"attr."+t,n,i.local?a:u)},Mf.attrTween=function(t,n){function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function s(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?s:i)},Mf.style=function(e,t,n){function i(){this.style.removeProperty(e)}function o(t){return t==null?i:(t+="",function(){var r=s(this).getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=Co(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Hf(this,"style."+e,t,o)},Mf.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Mf.text=function(e){return Hf(this,"text",e,Bf)},Mf.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Mf.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:(typeof t!="function"&&(t=e.ease.apply(e,arguments)),pt(this,function(e){e[r][n].ease=t}))},Mf.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:pt(this,typeof e=="function"?function(r,i,s){r[n][t].delay=+e.call(r,r.__data__,i,s)}:(e=+e,function(r){r[n][t].delay=e}))},Mf.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:pt(this,typeof e=="function"?function(r,i,s){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,s))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Mf.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var s=Pf,o=Df;try{Df=r,pt(this,function(e,n,s){Pf=e[i][r],t.call(e,e.__data__,n,s)})}finally{Pf=s,Df=o}}else pt(this,function(s){var o=s[i][r];(o.event||(o.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},Mf.transition=function(){var e=this.id,t=++_f,n=this.namespace,r=[],i,s,o,u;for(var a=0,f=this.length;a<f;a++){r.push(i=[]);for(var s=this[a],l=0,c=s.length;l<c;l++){if(o=s[l])u=o[n][e],Ff(o,l,n,t,{time:u.time,ease:u.ease,delay:u.delay+u.duration,duration:u.duration});i.push(o)}}return Of(r,n,t)},e.svg.axis=function(){function l(n){n.each(function(){var n=e.select(this),l=this.__chart__||t,c=this.__chart__=t.copy(),h=a==null?c.ticks?c.ticks.apply(c,u):c.domain():a,p=f==null?c.tickFormat?c.tickFormat.apply(c,u):D:f,d=n.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),m=e.transition(d.exit()).style("opacity",kt).remove(),g=e.transition(d.order()).style("opacity",1),y=Math.max(i,0)+o,b,w=ua(c),E=n.selectAll(".domain").data([0]),S=(E.enter().append("path").attr("class","domain"),e.transition(E));v.append("line"),v.append("text");var x=v.select("line"),T=g.select("line"),N=d.select("text").text(p),C=v.select("text"),k=g.select("text"),L=r==="top"||r==="left"?-1:1,A,O,M,_;r==="bottom"||r==="top"?(b=Rf,A="x",M="y",O="x2",_="y2",N.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+w[0]+","+L*s+"V0H"+w[1]+"V"+L*s)):(b=Uf,A="y",M="x",O="y2",_="x2",N.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),S.attr("d","M"+L*s+","+w[0]+"H0V"+w[1]+"H"+L*s)),x.attr(_,L*i),C.attr(M,L*y),T.attr(O,0).attr(_,L*i),k.attr(A,0).attr(M,L*y);if(c.rangeBand){var P=c,H=P.rangeBand()/2;l=c=function(e){return P(e)+H}}else l.rangeBand?l=c:m.call(b,c,l);v.call(b,l,c),g.call(b,c,c)})}var t=e.scale.linear(),r=If,i=6,s=6,o=3,u=[10],a=null,f;return l.scale=function(e){return arguments.length?(t=e,l):t},l.orient=function(e){return arguments.length?(r=e in qf?e+"":If,l):r},l.ticks=function(){return arguments.length?(u=n(arguments),l):u},l.tickValues=function(e){return arguments.length?(a=e,l):a},l.tickFormat=function(e){return arguments.length?(f=e,l):f},l.tickSize=function(e){var t=arguments.length;return t?(i=+e,s=+arguments[t-1],l):i},l.innerTickSize=function(e){return arguments.length?(i=+e,l):i},l.outerTickSize=function(e){return arguments.length?(s=+e,l):s},l.tickPadding=function(e){return arguments.length?(o=+e,l):o},l.tickSubdivide=function(){return arguments.length&&l},l};var If="bottom",qf={top:1,right:1,bottom:1,left:1};e.svg.brush=function(){function h(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(c,D);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return zf[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",h.empty()?"none":null);var o=e.transition(t),u=e.transition(i),a;n&&(a=ua(n),u.attr("x",a[0]).attr("width",a[1]-a[0]),d(o)),r&&(a=ua(r),u.attr("y",a[0]).attr("height",a[1]-a[0]),v(o)),p(o)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)]+","+o[+/^s/.test(e)]+")"})}function d(e){e.select(".extent").attr("x",i[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(e){e.select(".extent").attr("y",o[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function m(){function O(){e.event.keyCode==32&&(S||(T=null,N[0]-=i[1],N[1]-=o[1],S=2),q())}function M(){e.event.keyCode==32&&S==2&&(N[0]+=i[1],N[1]+=o[1],S=0,q())}function _(){var t=e.mouse(c),s=!1;C&&(t[0]+=C[0],t[1]+=C[1]),S||(e.event.altKey?(T||(T=[(i[0]+i[1])/2,(o[0]+o[1])/2]),N[0]=i[+(t[0]<T[0])],N[1]=o[+(t[1]<T[1])]):T=null),w&&D(t,n,0)&&(d(y),s=!0),E&&D(t,r,1)&&(v(y),s=!0),s&&(p(y),g({type:"brush",mode:S?"move":"resize"}))}function D(e,t,n){var r=ua(t),s=r[0],c=r[1],h=N[n],p=n?o:i,d=p[1]-p[0],v,m;S&&(s-=h,c-=d+h),v=(n?l:f)?Math.max(s,Math.min(c,e[n])):e[n],S?m=(v+=h)+d:(T&&(h=Math.max(s,Math.min(c,2*T[n]-v))),h<v?(m=v,v=h):m=h);if(p[0]!=v||p[1]!=m)return n?a=null:u=null,p[0]=v,p[1]=m,!0}function P(){_(),y.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),e.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),g({type:"brushend"})}var c=this,m=e.select(e.event.target),g=t.of(c,arguments),y=e.select(c),b=m.datum(),w=!/^(n|s)$/.test(b)&&n,E=!/^(e|w)$/.test(b)&&r,S=m.classed("extent"),x=xt(c),T,N=e.mouse(c),C,k=e.select(s(c)).on("keydown.brush",O).on("keyup.brush",M);e.event.changedTouches?k.on("touchmove.brush",_).on("touchend.brush",P):k.on("mousemove.brush",_).on("mouseup.brush",P),y.interrupt().selectAll("*").interrupt();if(S)N[0]=i[0]-N[0],N[1]=o[0]-N[1];else if(b){var L=+/w$/.test(b),A=+/^n/.test(b);C=[i[1-L]-N[0],o[1-A]-N[1]],N[0]=i[L],N[1]=o[A]}else e.event.altKey&&(T=N.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",m.style("cursor")),g({type:"brushstart"}),_()}var t=U(h,"brushstart","brush","brushend"),n=null,r=null,i=[0,0],o=[0,0],u,a,f=!0,l=!0,c=Wf[0];return h.event=function(n){n.each(function(){var n=t.of(this,arguments),r={x:i,y:o,i:u,j:a},s=this.__chart__||r;this.__chart__=r,Df?e.select(this).transition().each("start.brush",function(){u=s.i,a=s.j,i=s.x,o=s.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=ko(i,r.x),t=ko(o,r.y);return u=a=null,function(s){i=r.x=e(s),o=r.y=t(s),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=r.i,a=r.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},h.x=function(e){return arguments.length?(n=e,c=Wf[!n<<1|!r],h):n},h.y=function(e){return arguments.length?(r=e,c=Wf[!n<<1|!r],h):r},h.clamp=function(e){return arguments.length?(n&&r?(f=!!e[0],l=!!e[1]):n?f=!!e:r&&(l=!!e),h):n&&r?[f,l]:n?f:r?l:null},h.extent=function(e){var t,s,f,l,c;if(!arguments.length)return n&&(u?(t=u[0],s=u[1]):(t=i[0],s=i[1],n.invert&&(t=n.invert(t),s=n.invert(s)),s<t&&(c=t,t=s,s=c))),r&&(a?(f=a[0],l=a[1]):(f=o[0],l=o[1],r.invert&&(f=r.invert(f),l=r.invert(l)),l<f&&(c=f,f=l,l=c))),n&&r?[[t,f],[s,l]]:n?[t,s]:r&&[f,l];if(n){t=e[0],s=e[1],r&&(t=t[0],s=s[0]),u=[t,s],n.invert&&(t=n(t),s=n(s)),s<t&&(c=t,t=s,s=c);if(t!=i[0]||s!=i[1])i=[t,s]}if(r){f=e[0],l=e[1],n&&(f=f[1],l=l[1]),a=[f,l],r.invert&&(f=r(f),l=r(l)),l<f&&(c=f,f=l,l=c);if(f!=o[0]||l!=o[1])o=[f,l]}return h},h.clear=function(){return h.empty()||(i=[0,0],o=[0,0],u=a=null),h},h.empty=function(){return!!n&&i[0]==i[1]||!!r&&o[0]==o[1]},e.rebind(h,t,"on")};var zf={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xf=Vn.format=Sr.timeFormat,Vf=Xf.utc,$f=Vf("%Y-%m-%dT%H:%M:%S.%LZ");Xf.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?Jf:$f,Jf.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Jf.toString=$f.toString,Vn.second=Qn(function(e){return new $n(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),Vn.seconds=Vn.second.range,Vn.seconds.utc=Vn.second.utc.range,Vn.minute=Qn(function(e){return new $n(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),Vn.minutes=Vn.minute.range,Vn.minutes.utc=Vn.minute.utc.range,Vn.hour=Qn(function(e){var t=e.getTimezoneOffset()/60;return new $n((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),Vn.hours=Vn.hour.range,Vn.hours.utc=Vn.hour.utc.range,Vn.month=Qn(function(e){return e=Vn.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Vn.months=Vn.month.range,Vn.months.utc=Vn.month.utc.range;var Gf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yf=[[Vn.second,1],[Vn.second,5],[Vn.second,15],[Vn.second,30],[Vn.minute,1],[Vn.minute,5],[Vn.minute,15],[Vn.minute,30],[Vn.hour,1],[Vn.hour,3],[Vn.hour,6],[Vn.hour,12],[Vn.day,1],[Vn.day,2],[Vn.week,1],[Vn.month,1],[Vn.month,3],[Vn.year,1]],Zf=Xf.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ui]]),el={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Qf)},floor:D,ceil:D};Yf.year=Vn.year,Vn.scale=function(){return Kf(e.scale.linear(),Yf,Zf)};var tl=Yf.map(function(e){return[e[0].utc,e[1]]}),nl=Vf.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ui]]);tl.year=Vn.year.utc,Vn.scale.utc=function(){return Kf(e.scale.linear(),tl,nl)},e.text=Cn(function(e){return e.responseText}),e.json=function(e,t){return kn(e,"application/json",rl,t)},e.html=function(e,t){return kn(e,"text/html",il,t)},e.xml=Cn(function(e){return e.responseXML}),typeof define=="function"&&define.amd?(this.d3=e,define("d3",e)):typeof module=="object"&&module.exports?module.exports=e:this.d3=e}(),function(){var e={};e.dev=!1,e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.logs={},e.dom={},typeof module!="undefined"&&typeof exports!="undefined"&&typeof d3=="undefined"&&(d3=require("d3")),e.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),e.dev&&(e.dispatch.on("render_start",function(t){e.logs.startTime=+(new Date)}),e.dispatch.on("render_end",function(t){e.logs.endTime=+(new Date),e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log("total",e.logs.totalTime)})),e.log=function(){if(e.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(e.dev&&window.console&&typeof console.log=="function"&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},e.deprecated=function(e,t){console&&console.warn&&console.warn("nvd3 warning: `"+e+"` has been deprecated. ",t||"")},e.render=function(n){n=n||1,e.render.active=!0,e.dispatch.render_start();var r=function(){var t,i;for(var s=0;s<n&&(i=e.render.queue[s]);s++)t=i.generate(),typeof i.callback==typeof Function&&i.callback(t);e.render.queue.splice(0,s),e.render.queue.length?setTimeout(r):(e.dispatch.render_end(),e.render.active=!1)};setTimeout(r)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},typeof module!="undefined"&&typeof exports!="undefined"&&(module.exports=e),typeof window!="undefined"&&(window.nv=e),e.dom.write=function(e){return window.fastdom!==undefined?fastdom.mutate(e):e()},e.dom.read=function(e){return window.fastdom!==undefined?fastdom.measure(e):e()},e.interactiveGuideline=function(){"use strict";function c(h){h.each(function(h){function b(){var n=d3.mouse(this),r=n[0],o=n[1],u=!0,h=!1;f&&(r=d3.event.offsetX,o=d3.event.offsetY,d3.event.target.tagName!=="svg"&&(u=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),u&&(r-=t.left,o-=t.top);if(d3.event.type==="mouseout"||r<0||o<0||r>d||o>v||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||h){if(f&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&(d3.event.relatedTarget.className===undefined||d3.event.relatedTarget.className.match(a.nvPointerEventsClass)))return;s.elementMouseout({mouseX:r,mouseY:o}),c.renderGuideLine(null),a.hidden(!0);return}a.hidden(!1);var p=typeof i.rangeBands=="function",m=undefined;if(p){var g=d3.bisect(i.range(),r)-1;if(!(i.range()[g]+i.rangeBand()>=r)){s.elementMouseout({mouseX:r,mouseY:o}),c.renderGuideLine(null),a.hidden(!0);return}m=i.domain()[d3.bisect(i.range(),r)-1]}else m=i.invert(r);var b=e.getDataPointInfo(y,m,l),w=b.point,E=b.pointIndex;s.elementMousemove({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="dblclick"&&s.elementDblclick({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="click"&&s.elementClick({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="mousedown"&&s.elementMouseDown({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="mouseup"&&s.elementMouseUp({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E})}var p=d3.select(this),d=n||960,v=r||400,m=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([h]),g=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");g.append("g").attr("class","nv-interactiveGuideLine");if(!u)return;var y=h.filter(function(e,t){return e.seriesIndex=t,!e.disabled});u.on("touchmove",b).on("mousemove",b,!0).on("mouseout",b,!0).on("mousedown",b,!0).on("mouseup",b,!0).on("dblclick",b).on("click",b),c.guideLine=null,c.renderGuideLine=function(t){if(!o)return;if(c.guideLine&&c.guideLine.attr("x1")===t)return;e.dom.write(function(){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(t!=null?[e.utils.NaNtoZero(t)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",v).attr("y2",0),n.exit().remove()})}})}var t={left:0,top:0},n=null,r=null,i=d3.scale.linear(),s=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),o=!0,u=null,a=e.models.tooltip(),f="ActiveXObject"in window,l=function(e){return e.x};return a.duration(0).hideDelay(0).hidden(!1),c.dispatch=s,c.tooltip=a,c.margin=function(e){return arguments.length?(t.top=typeof e.top!="undefined"?e.top:t.top,t.left=typeof e.left!="undefined"?e.left:t.left,c):t},c.width=function(e){return arguments.length?(n=e,c):n},c.height=function(e){return arguments.length?(r=e,c):r},c.xScale=function(e){return arguments.length?(i=e,c):i},c.showGuideLine=function(e){return arguments.length?(o=e,c):o},c.svgContainer=function(e){return arguments.length?(u=e,c):u},c.xAccessor=function(e){return arguments.length?(l=e,c):l},c},e.zoomLayer=function(){"use strict";function c(h){h.each(function(h){function b(){var n=d3.mouse(this),r=n[0],o=n[1],u=!0,h=!1;f&&(r=d3.event.offsetX,o=d3.event.offsetY,d3.event.target.tagName!=="svg"&&(u=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),u&&(r-=t.left,o-=t.top);if(d3.event.type==="mouseout"||r<0||o<0||r>d||o>v||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||h){if(f&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&(d3.event.relatedTarget.className===undefined||d3.event.relatedTarget.className.match(a.nvPointerEventsClass)))return;s.elementMouseout({mouseX:r,mouseY:o}),c.removeSelectArea(null),a.hidden(!0);return}a.hidden(!1);var p=typeof i.rangeBands=="function",m=undefined;if(p){var g=d3.bisect(i.range(),r)-1;if(!(i.range()[g]+i.rangeBand()>=r)){s.elementMouseout({mouseX:r,mouseY:o}),c.removeSelectArea(null),a.hidden(!0);return}m=i.domain()[d3.bisect(i.range(),r)-1]}else m=i.invert(r);var b=e.getDataPointInfo(y,m,l),w=b.point,E=b.pointIndex;s.elementMousemove({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="mousedown"&&s.elementDragStart({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="mousemove"&&s.elementMousemove({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E}),d3.event.type==="mouseup"&&s.elementDragEnd({mouseX:r,mouseY:o,pointXValue:m,point:w,pointIndex:E})}var p=d3.select(this),d=n||960,v=r||400,m=p.selectAll("g.nv-wrap.nv-zoomLayer").data([h]),g=m.enter().append("g").attr("class"," nv-wrap nv-zoomLayer");g.append("g").attr("class","nv-zoomGuideArea");if(!u)return;var y=h.filter(function(e,t){return e.seriesIndex=t,!e.disabled});u.on("mousedown.drag",b).on("mousemove.drag",b).on("mouseup.drag",b),c.guideLine=null,c.renderSelectArea=function(t){if(!o)return;if(c.guideLine&&c.guideLine.attr("x1")===t)return;e.dom.write(function(){var e=m.select(".nv-zoomGuideArea");e.append("rect").attr("fill-opacity",.4).attr("fill","#C8D3E2").attr("x",t).attr("y",0).attr("width",1).attr("height",v)})},c.updateSelectArea=function(e,t){m.select(".nv-zoomGuideArea").selectAll("rect").attr("x",d3.min([e,t])).attr("width",Math.abs(t-e))},c.removeSelectArea=function(){m.select(".nv-zoomGuideArea").selectAll("rect").remove()}})}var t={left:0,top:0},n=null,r=null,i=d3.scale.linear(),s=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp","elementDragStart","elementDragEnd"),o=!0,u=null,a=e.models.tooltip(),f="ActiveXObject"in window,l=function(e){return e.x};return c.dispatch=s,c.margin=function(e){return arguments.length?(t.top=typeof e.top!="undefined"?e.top:t.top,t.left=typeof e.left!="undefined"?e.left:t.left,c):t},c.width=function(e){return arguments.length?(n=e,c):n},c.height=function(e){return arguments.length?(r=e,c):r},c.xScale=function(e){return arguments.length?(i=e,c):i},c.svgContainer=function(e){return arguments.length?(u=e,c):u},c.xAccessor=function(e){return arguments.length?(l=e,c):l},c},e.getDataPointInfo=function(t,n,r){var i,s=null;for(var o=0;o<t.length;o++){var u=t[o],i=e.interactiveBisect(u.values,n,r);if(i!=null){s=u.values[i];break}}return{point:s,pointIndex:i}},e.interactiveBisect=function(e,t,n){"use strict";if(e instanceof Array){var r;typeof n!="function"?r=function(e){return e.x}:r=n;var i=function(e,t){return r(e)-t},s=d3.bisector(i).left,o=d3.max([0,s(e,t)-1]),u=r(e[o]);typeof u=="undefined"&&(u=o);if(u===t)return o;var a=d3.min([o+1,e.length-1]),f=r(e[a]);return typeof f=="undefined"&&(f=a),Math.abs(f-t)>=Math.abs(u-t)?o:a}return null},e.nearestValueIndex=function(e,t,n){"use strict";var r=Infinity,i=null;return e.forEach(function(e,s){var o=Math.abs(t-e);e!=null&&o<=r&&o<n&&(r=o,i=s)}),i},e.models.tooltip=function(){"use strict";function T(){if(!l||!l.node()){var e=u?u:document.body,n=[1];l=d3.select(e).selectAll(".nvtooltip").data(n),l.enter().append("div").attr("class","nvtooltip "+(o?o:"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(v,!0).classed(v,!0),l.exit().remove()}}function N(){if(!h)return;if(!E(n))return;return e.dom.write(function(){T();var e=w(n);e&&(l.node().innerHTML=e),x()}),N}var t="nvtooltip-"+Math.floor(Math.random()*1e5),n=null,r="w",i=25,s=0,o=null,u=null,a=!0,f=200,l=null,c={left:null,top:null},h=!0,p=100,d=!0,v="nv-pointer-events-none",m=function(){return{left:d3.event!==null?d3.event.clientX:0,top:d3.event!==null?d3.event.clientY:0}},g=function(e,t){return e},y=function(e){return e},b=function(e,t){return e},w=function(e){if(e===null)return"";var t=d3.select(document.createElement("table"));if(d){var n=t.selectAll("thead").data([e]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(e.value))}var r=t.selectAll("tbody").data([e]).enter().append("tbody"),i=r.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight});i.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(e){return e.color}),i.append("td").classed("key",!0).classed("total",function(e){return!!e.total}).html(function(e,t){return b(e.key,t)}),i.append("td").classed("value",!0).html(function(e,t){return g(e.value,t)}),i.filter(function(e,t){return e.percent!==undefined}).append("td").classed("percent",!0).html(function(e,t){return"("+d3.format("%")(e.percent)+")"}),i.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]),n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}});var s=t.node().outerHTML;return e.footer!==undefined&&(s+="<div class='footer'>"+e.footer+"</div>"),s},E=function(t){if(t&&t.series){if(e.utils.isArray(t.series))return!0;if(e.utils.isObject(t.series))return t.series=[t.series],!0}return!1},S=function(e){var t=l.node().offsetHeight,n=l.node().offsetWidth,s=document.documentElement.clientWidth,o=document.documentElement.clientHeight,u,a,f;switch(r){case"e":u=-n-i,a=-(t/2),e.left+u<0&&(u=i),(f=e.top+a)<0&&(a-=f),(f=e.top+a+t)>o&&(a-=f-o);break;case"w":u=i,a=-(t/2),e.left+u+n>s&&(u=-n-i),(f=e.top+a)<0&&(a-=f),(f=e.top+a+t)>o&&(a-=f-o);break;case"n":u=-(n/2)-5,a=i,e.top+a+t>o&&(a=-t-i),(f=e.left+u)<0&&(u-=f),(f=e.left+u+n)>s&&(u-=f-s);break;case"s":u=-(n/2),a=-t-i,e.top+a<0&&(a=i),(f=e.left+u)<0&&(u-=f),(f=e.left+u+n)>s&&(u-=f-s);break;case"center":u=-(n/2),a=-(t/2);break;default:u=0,a=0}return{left:u,top:a}},x=function(){e.dom.read(function(){var e=m(),t=S(e),n=e.left+t.left,r=e.top+t.top;if(a)l.interrupt().transition().delay(f).duration(0).style("opacity",0);else{var i="translate("+c.left+"px, "+c.top+"px)",s="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",o=d3.interpolateString(i,s),u=l.style("opacity")<.1;l.interrupt().transition().duration(u?0:p).styleTween("transform",function(e){return o},"important").styleTween("-webkit-transform",function(e){return o}).style("-ms-transform",s).style("opacity",1)}c.left=n,c.top=r})};return N.nvPointerEventsClass=v,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{duration:{get:function(){return p},set:function(e){p=e}},gravity:{get:function(){return r},set:function(e){r=e}},distance:{get:function(){return i},set:function(e){i=e}},snapDistance:{get:function(){return s},set:function(e){s=e}},classes:{get:function(){return o},set:function(e){o=e}},chartContainer:{get:function(){return u},set:function(e){u=e}},enabled:{get:function(){return h},set:function(e){h=e}},hideDelay:{get:function(){return f},set:function(e){f=e}},contentGenerator:{get:function(){return w},set:function(e){w=e}},valueFormatter:{get:function(){return g},set:function(e){g=e}},headerFormatter:{get:function(){return y},set:function(e){y=e}},keyFormatter:{get:function(){return b},set:function(e){b=e}},headerEnabled:{get:function(){return d},set:function(e){d=e}},position:{get:function(){return m},set:function(e){m=e}},fixedTop:{get:function(){return null},set:function(t){e.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){e.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return a},set:function(e){a!=e&&(a=!!e,N())}},data:{get:function(){return n},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),n=e}},node:{get:function(){return l.node()},set:function(e){}},id:{get:function(){return t},set:function(e){}}}),e.utils.initOptions(N),N},e.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},e.utils.isArray=Array.isArray,e.utils.isObject=function(e){return e!==null&&typeof e=="object"},e.utils.isFunction=function(e){return typeof e=="function"},e.utils.isDate=function(e){return toString.call(e)==="[object Date]"},e.utils.isNumber=function(e){return!isNaN(e)&&typeof e=="number"},e.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):e.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},e.utils.getColor=function(t){if(t===undefined)return e.utils.defaultColor();if(e.utils.isArray(t)){var n=d3.scale.ordinal().range(t);return function(e,t){var r=t===undefined?e:t;return e.color||n(r)}}return t},e.utils.defaultColor=function(){return e.utils.getColor(d3.scale.category20().range())},e.utils.customTheme=function(t,n,r){n=n||function(e){return e.key},r=r||d3.scale.category20().range();var i=r.length;return function(s,o){var u=n(s);return e.utils.isFunction(t[u])?t[u]():t[u]!==undefined?t[u]:(i||(i=r.length),i-=1,r[i])}},e.utils.pjax=function(t,n){var r=function(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),e.utils.pjax(t,n)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},e.utils.calcApproxTextWidth=function(t){if(e.utils.isFunction(t.style)&&e.utils.isFunction(t.text)){var n=parseInt(t.style("font-size").replace("px",""),10),r=t.text().length;return e.utils.NaNtoZero(r*n*.5)}return 0},e.utils.NaNtoZero=function(t){return!e.utils.isNumber(t)||isNaN(t)||t===null||t===Infinity||t===-Infinity?0:t},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},e.utils.renderWatch=function(t,n){if(!(this instanceof e.utils.renderWatch))return new e.utils.renderWatch(t,n);var r=n!==undefined?n:250,i=[],s=this;this.models=function(e){return e=[].slice.call(arguments,0),e.forEach(function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",function(t){e.__rendered=!0,s.renderEnd("model")})}(e),i.indexOf(e)<0&&i.push(e)}),this},this.reset=function(e){e!==undefined&&(r=e),i=[]},this.transition=function(e,t,n){t=arguments.length>1?[].slice.call(arguments,1):[],t.length>1?n=t.pop():n=r!==undefined?r:250,e.__rendered=!1,i.indexOf(e)<0&&i.push(e);if(n===0)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;e.length===0?e.__rendered=!0:e.every(function(e){return!e.length})?e.__rendered=!0:e.__rendered=!1;var o=0;return e.transition().duration(n).each(function(){++o}).each("end",function(n,r){--o===0&&(e.__rendered=!0,s.renderEnd.apply(this,t))})},this.renderEnd=function(){i.every(function(e){return e.__rendered})&&(i.forEach(function(e){e.__rendered=!1}),t.renderEnd.apply(this,arguments))}},e.utils.deepExtend=function(t){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(var r in n){var i=e.utils.isArray(t[r]),s=e.utils.isObject(t[r]),o=e.utils.isObject(n[r]);s&&!i&&o?e.utils.deepExtend(t[r],n[r]):t[r]=n[r]}})},e.utils.state=function(){if(!(this instanceof e.utils.state))return new e.utils.state;var t={},n=this,r=function(){},i=function(){return{}},s=null,o=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(e){r(e,!0)}),this.getter=function(e){return i=e,this},this.setter=function(e,t){return t||(t=function(){}),r=function(n,r){e(n),r&&t()},this},this.init=function(t){s=s||{},e.utils.deepExtend(s,t)};var u=function(){var e=i();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var n in e)t[n]===undefined&&(t[n]={}),t[n]=e[n],o=!0;return!0};this.update=function(){s&&(r(s,!1),s=null),u.call(this)&&this.dispatch.change(t)}},e.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,n){e.utils.isFunction(this[t])&&this[t](n)}.bind(this)),this},e.utils.calcTicksX=function(t,n){var r=1,i=0;for(i;i<n.length;i+=1){var s=n[i]&&n[i].values?n[i].values.length:0;r=s>r?s:r}return e.log("Requested number of ticks: ",t),e.log("Calculated max values to be: ",r),t=t>r?t=r-1:t,t=t<1?1:t,t=Math.floor(t),e.log("Calculating tick count as: ",t),t},e.utils.calcTicksY=function(t,n){return e.utils.calcTicksX(t,n)},e.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},e.utils.initOptions=function(t){t._overrides=t._overrides||{};var n=Object.getOwnPropertyNames(t._options||{}),r=Object.getOwnPropertyNames(t._calls||{});n=n.concat(r);for(var i in n)e.utils.initOption(t,n[i])},e.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},e.utils.arrayUnique=function(e){return e.sort().filter(function(t,n){return!n||t!=e[n-1]})},e.utils.symbolMap=d3.map(),e.utils.symbol=function(){function r(r,i){var s=t.call(this,r,i),o=n.call(this,r,i);return d3.svg.symbolTypes.indexOf(s)!==-1?d3.svg.symbol().type(s).size(o)():e.utils.symbolMap.get(s)(o)}var t,n=64;return r.type=function(e){return arguments.length?(t=d3.functor(e),r):t},r.size=function(e){return arguments.length?(n=d3.functor(e),r):n},r},e.utils.inheritOptions=function(t,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),s=n._inherited||[],o=n._d3options||[],u=r.concat(i).concat(s).concat(o);u.unshift(n),u.unshift(t),d3.rebind.apply(this,u),t._inherited=e.utils.arrayUnique(r.concat(i).concat(s).concat(r).concat(t._inherited||[])),t._d3options=e.utils.arrayUnique(o.concat(t._d3options||[]))},e.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},e.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},e.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},e.utils.availableHeight=function(t,n,r){return Math.max(0,e.utils.sanitizeHeight(t,n)-r.top-r.bottom)},e.utils.availableWidth=function(t,n,r){return Math.max(0,e.utils.sanitizeWidth(t,n)-r.left-r.right)},e.utils.noData=function(t,n){var r=t.options(),i=r.margin(),s=r.noData(),o=s==null?["No Data Available."]:[s],u=e.utils.availableHeight(null,n,i),a=e.utils.availableWidth(null,n,i),f=i.left+a/2,l=i.top+u/2;n.selectAll("g").remove();if(n.select("text.nv-noData").node()!=null)return;o=o[0].split(/<br.*?>/g);var c=n.append("text").attr("class","nvd3 nv-noData").attr("x",f).attr("y",l).style("text-anchor","middle");c.selectAll("tspan").data(o).enter().append("tspan").attr("x",c.attr("x")).attr("dy",function(e,t){return t>0?"1.2em":""}).text(function(e){return e})},e.utils.wrapTicks=function(e,t){e.each(function(){var e=d3.select(this),n=e.text().split(/\s+/).reverse(),r,i=[],s=0,o=1.1,u=e.attr("y"),a=parseFloat(e.attr("dy")),f=e.text(null).append("tspan").attr("x",0).attr("y",u).attr("dy",a+"em");while(r=n.pop())i.push(r),f.text(i.join(" ")),f.node().getComputedTextLength()>t&&(i.pop(),f.text(i.join(" ")),i=[r],f=e.append("tspan").attr("x",0).attr("y",u).attr("dy",++s*o+a+"em").text(r))})},e.utils.arrayEquals=function(t,n){if(t===n)return!0;if(!t||!n)return!1;if(t.length!=n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(t[r]instanceof Array&&n[r]instanceof Array){if(!e.arrayEquals(t[r],n[r]))return!1}else if(t[r]!=n[r])return!1;return!0},e.models.axis=function(){"use strict";function b(s){return y.reset(),s.each(function(s){var v=d3.select(this);e.utils.initSVG(v);var m=v.selectAll("g.nv-wrap.nv-axis").data([s]),b=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),w=b.append("g"),E=m.select("g");h!==null?t.ticks(h):(t.orient()=="top"||t.orient()=="bottom")&&t.ticks(Math.abs(n.range()[1]-n.range()[0])/100),E.watchTransition(y,"axis").call(t),g=g||t.scale();var S=t.tickFormat();S==null&&(S=g.tickFormat());var x=E.selectAll("text.nv-axislabel").data([o||null]);x.exit().remove(),d!==undefined&&E.selectAll("g").select("text").style("font-size",d);var T,N,C;switch(t.orient()){case"top":x.enter().append("text").attr("class","nv-axislabel"),C=0,n.range().length===1?C=c?n.range()[0]*2+n.rangeBand():0:n.range().length===2?C=c?n.range()[0]+n.range()[1]+n.rangeBand():n.range()[1]:n.range().length>2&&(C=n.range()[n.range().length-1]+(n.range()[1]-n.range()[0])),x.attr("text-anchor","middle").attr("y",0).attr("x",C/2),u&&(N=m.selectAll("g.nv-axisMaxMin").data(n.domain()),N.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",t==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),N.exit().remove(),N.attr("transform",function(t,r){return"translate("+e.utils.NaNtoZero(n(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),N.watchTransition(y,"min-max top").attr("transform",function(t,r){return"translate("+e.utils.NaNtoZero(n.range()[r])+",0)"}));break;case"bottom":T=p+36;var k=30,L=0,A=E.selectAll("g").select("text"),O="";if(a%360){A.attr("transform",""),A.each(function(e,t){var n=this.getBoundingClientRect(),r=n.width;L=n.height,r>k&&(k=r)}),O="rotate("+a+" 0,"+(L/2+t.tickPadding())+")";var M=Math.abs(Math.sin(a*Math.PI/180));T=(M?M*k:k)+30,A.attr("transform",O).style("text-anchor",a%360>0?"start":"end")}else l?A.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"}):A.attr("transform","translate(0,0)");x.enter().append("text").attr("class","nv-axislabel"),C=0,n.range().length===1?C=c?n.range()[0]*2+n.rangeBand():0:n.range().length===2?C=c?n.range()[0]+n.range()[1]+n.rangeBand():n.range()[1]:n.range().length>2&&(C=n.range()[n.range().length-1]+(n.range()[1]-n.range()[0])),x.attr("text-anchor","middle").attr("y",T).attr("x",C/2),u&&(N=m.selectAll("g.nv-axisMaxMin").data([n.domain()[0],n.domain()[n.domain().length-1]]),N.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",t==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),N.exit().remove(),N.attr("transform",function(t,r){return"translate("+e.utils.NaNtoZero(n(t)+(c?n.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",O).style("text-anchor",a?a%360>0?"start":"end":"middle").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),N.watchTransition(y,"min-max bottom").attr("transform",function(t,r){return"translate("+e.utils.NaNtoZero(n(t)+(c?n.rangeBand()/2:0))+",0)"}));break;case"right":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?-Math.max(r.right,i)+12-(p||0):-10).attr("x",f?d3.max(n.range())/2:t.tickPadding()),u&&(N=m.selectAll("g.nv-axisMaxMin").data(n.domain()),N.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",t==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(t,r){return"translate(0,"+e.utils.NaNtoZero(n(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),N.watchTransition(y,"min-max right").attr("transform",function(t,r){return"translate(0,"+e.utils.NaNtoZero(n.range()[r])+")"}).select("text").style("opacity",1));break;case"left":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?-Math.max(r.left,i)+25-(p||0):-10).attr("x",f?-d3.max(n.range())/2:-t.tickPadding()),u&&(N=m.selectAll("g.nv-axisMaxMin").data(n.domain()),N.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",t==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(t,n){return"translate(0,"+e.utils.NaNtoZero(g(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),N.watchTransition(y,"min-max right").attr("transform",function(t,r){return"translate(0,"+e.utils.NaNtoZero(n.range()[r])+")"}).select("text").style("opacity",1))}x.text(function(e){return e}),u&&(t.orient()==="left"||t.orient()==="right")&&(E.selectAll("g").each(function(e,t){d3.select(this).select("text").attr("opacity",1);if(n(e)<n.range()[1]+10||n(e)>n.range()[0]-10)(e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),n.domain()[0]==n.domain()[1]&&n.domain()[0]==0&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return t?0:1}));if(u&&(t.orient()==="top"||t.orient()==="bottom")){var _=[];m.selectAll("g.nv-axisMaxMin").each(function(e,t){try{t?_.push(n(e)-this.getBoundingClientRect().width-4):_.push(n(e)+this.getBoundingClientRect().width+4)}catch(r){t?_.push(n(e)-4):_.push(n(e)+4)}}),E.selectAll("g").each(function(e,t){if(n(e)<_[0]||n(e)>_[1])e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove()})}E.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(e*1e5)/1e6)&&e!==undefined}).classed("zero",!0),g=n.copy()}),y.renderEnd("axis immediate"),b}var t=d3.svg.axis(),n=d3.scale.linear(),r={top:0,right:0,bottom:0,left:0},i=75,s=60,o=null,u=!0,a=0,f=!0,l=!1,c=!1,h=null,p=0,d=undefined,v=250,m=d3.dispatch("renderEnd");t.scale(n).orient("bottom").tickFormat(function(e){return e});var g,y=e.utils.renderWatch(m,v);return b.axis=t,b.dispatch=m,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(e){p=e}},staggerLabels:{get:function(){return l},set:function(e){l=e}},rotateLabels:{get:function(){return a},set:function(e){a=e}},rotateYLabel:{get:function(){return f},set:function(e){f=e}},showMaxMin:{get:function(){return u},set:function(e){u=e}},axisLabel:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return s},set:function(e){s=e}},ticks:{get:function(){return h},set:function(e){h=e}},width:{get:function(){return i},set:function(e){i=e}},fontSize:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return r},set:function(e){r.top=e.top!==undefined?e.top:r.top,r.right=e.right!==undefined?e.right:r.right,r.bottom=e.bottom!==undefined?e.bottom:r.bottom,r.left=e.left!==undefined?e.left:r.left}},duration:{get:function(){return v},set:function(e){v=e,y.reset(v)}},scale:{get:function(){return n},set:function(r){n=r,t.scale(n),c=typeof n.rangeBands=="function",e.utils.inheritOptionsD3(b,n,["domain","range","rangeBand","rangeBands"])}}}),e.utils.initOptions(b),e.utils.inheritOptionsD3(b,t,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),e.utils.inheritOptionsD3(b,n,["domain","range","rangeBand","rangeBands"]),b},e.models.boxPlot=function(){"use strict";function O(i){return A.reset(),i.each(function(i){var O=n-t.left-t.right,M=r-t.top-t.bottom;b=d3.select(this),e.utils.initSVG(b),s.domain(w||i.map(function(e,t){return u(e,t)})).rangeBands(E||[0,O],.1);var _=[];if(!S){var D=[],P,H;i.forEach(function(e,t){var n=a(e),r=l(e),i=c(e),s=h(e),o=d(e);o&&o.forEach(function(e,t){D.push(v(e,t,undefined))}),i&&D.push(i),n&&D.push(n),r&&D.push(r),s&&D.push(s)}),P=d3.min(D),H=d3.max(D),_=[P,H]}o.domain(S||_),o.range(x||[M,0]),k=k||s,L=L||o.copy().range([o(0),o(0)]);var B=b.selectAll("g.nv-wrap").data([i]),j=B.enter().append("g").attr("class","nvd3 nv-wrap");B.attr("transform","translate("+t.left+","+t.top+")");var F=B.selectAll(".nv-boxplot").data(function(e){return e}),I=F.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);F.attr("class","nv-boxplot").attr("transform",function(e,t,n){return"translate("+(s(u(e,t))+s.rangeBand()*.05)+", 0)"}).classed("hover",function(e){return e.hover}),F.watchTransition(A,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(e,t){return t*N/i.length}).attr("transform",function(e,t){return"translate("+(s(u(e,t))+s.rangeBand()*.05)+", 0)"}),F.exit().remove(),I.each(function(e,t){var n=d3.select(this);[c,h].forEach(function(r){if(r(e)){var i=r===c?"low":"high";n.append("line").style("stroke",p(e)||y(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",p(e)||y(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var q=function(){return C===null?s.rangeBand()*.9:Math.min(75,s.rangeBand()*.9)},R=function(){return s.rangeBand()*.45-q()/2},U=function(){return s.rangeBand()*.45+q()/2};[c,h].forEach(function(e){var t=e===c?"low":"high",n=e===c?a:l;F.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(A,"nv-boxplot: boxplots").attr("x1",s.rangeBand()*.45).attr("y1",function(t,n){return o(e(t))}).attr("x2",s.rangeBand()*.45).attr("y2",function(e,t){return o(n(e))}),F.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(A,"nv-boxplot: boxplots").attr("x1",R).attr("y1",function(t,n){return o(e(t))}).attr("x2",U).attr("y2",function(t,n){return o(e(t))})}),[c,h].forEach(function(e){var t=e===c?"low":"high";I.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,n,r){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:e(t),color:p(t)||y(t,r)},e:d3.event})}).on("mouseout",function(t,n,r){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:e(t),color:p(t)||y(t,r)},e:d3.event})}).on("mousemove",function(e,t){T.elementMousemove({e:d3.event})})}),I.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,t){d3.select(this).classed("hover",!0),T.elementMouseover({key:u(e),value:u(e),series:[{key:"Q3",value:l(e),color:p(e)||y(e,t)},{key:"Q2",value:f(e),color:p(e)||y(e,t)},{key:"Q1",value:a(e),color:p(e)||y(e,t)}],data:e,index:t,e:d3.event})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),T.elementMouseout({key:u(e),value:u(e),series:[{key:"Q3",value:l(e),color:p(e)||y(e,t)},{key:"Q2",value:f(e),color:p(e)||y(e,t)},{key:"Q1",value:a(e),color:p(e)||y(e,t)}],data:e,index:t,e:d3.event})}).on("mousemove",function(e,t){T.elementMousemove({e:d3.event})}),F.select("rect.nv-boxplot-box").watchTransition(A,"nv-boxplot: boxes").attr("y",function(e,t){return o(l(e))}).attr("width",q).attr("x",R).attr("height",function(e,t){return Math.abs(o(l(e))-o(a(e)))||1}).style("fill",function(e,t){return p(e)||y(e,t)}).style("stroke",function(e,t){return p(e)||y(e,t)}),I.append("line").attr("class","nv-boxplot-median"),F.select("line.nv-boxplot-median").watchTransition(A,"nv-boxplot: boxplots line").attr("x1",R).attr("y1",function(e,t){return o(f(e))}).attr("x2",U).attr("y2",function(e,t){return o(f(e))});var z=F.selectAll(".nv-boxplot-outlier").data(function(e){return d(e)||[]});z.enter().append("circle").style("fill",function(e,t,n){return g(e,t,n)||y(e,n)}).style("stroke",function(e,t,n){return g(e,t,n)||y(e,n)}).style("z-index",9e3).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:m(e,t,n),color:g(e,t,n)||y(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:m(e,t,n),color:g(e,t,n)||y(e,n)},e:d3.event})}).on("mousemove",function(e,t){T.elementMousemove({e:d3.event})}),z.attr("class","nv-boxplot-outlier"),z.watchTransition(A,"nv-boxplot: nv-boxplot-outlier").attr("cx",s.rangeBand()*.45).attr("cy",function(e,t,n){return o(v(e,t,n))}).attr("r","3"),z.exit().remove(),k=s.copy(),L=o.copy()}),A.renderEnd("nv-boxplot immediate"),O}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=d3.scale.ordinal(),o=d3.scale.linear(),u=function(e){return e.label},a=function(e){return e.values.Q1},f=function(e){return e.values.Q2},l=function(e){return e.values.Q3},c=function(e){return e.values.whisker_low},h=function(e){return e.values.whisker_high},p=function(e){return e.color},d=function(e){return e.values.outliers},v=function(e,t,n){return e},m=function(e,t,n){return e},g=function(e,t,n){return undefined},y=e.utils.defaultColor(),b=null,w,E,S,x,T=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),N=250,C=null,k,L,A=e.utils.renderWatch(T,N);return O.dispatch=T,O.options=e.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},maxBoxWidth:{get:function(){return C},set:function(e){C=e}},x:{get:function(){return u},set:function(e){u=e}},q1:{get:function(){return a},set:function(e){a=e}},q2:{get:function(){return f},set:function(e){f=e}},q3:{get:function(){return l},set:function(e){l=e}},wl:{get:function(){return c},set:function(e){c=e}},wh:{get:function(){return h},set:function(e){h=e}},itemColor:{get:function(){return p},set:function(e){p=e}},outliers:{get:function(){return d},set:function(e){d=e}},outlierValue:{get:function(){return v},set:function(e){v=e}},outlierLabel:{get:function(){return m},set:function(e){m=e}},outlierColor:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return s},set:function(e){s=e}},yScale:{get:function(){return o},set:function(e){o=e}},xDomain:{get:function(){return w},set:function(e){w=e}},yDomain:{get:function(){return S},set:function(e){S=e}},xRange:{get:function(){return E},set:function(e){E=e}},yRange:{get:function(){return x},set:function(e){x=e}},id:{get:function(){return i},set:function(e){i=e}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(e){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t)}},duration:{get:function(){return N},set:function(e){N=e,A.reset(N)}}}),e.utils.initOptions(O),O},e.models.boxPlotChart=function(){"use strict";function b(u){return y.reset(),y.models(t),a&&y.models(n),f&&y.models(r),u.each(function(u){var h=d3.select(this),y=this;e.utils.initSVG(h);var w=(s||parseInt(h.style("width"))||960)-i.left-i.right,E=(o||parseInt(h.style("height"))||400)-i.top-i.bottom;b.update=function(){m.beforeUpdate(),h.transition().duration(g).call(b)},b.container=this;if(!u||!u.length){var S=h.selectAll(".nv-noData").data([v]);return S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),S.attr("x",i.left+w/2).attr("y",i.top+E/2).text(function(e){return e}),b}h.selectAll(".nv-noData").remove(),p=t.xScale(),d=t.yScale().clamp(!0);var T=h.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),N=T.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),C=N.append("defs"),k=T.select("g");N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),k.attr("transform","translate("+i.left+","+i.top+")"),l&&k.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),t.width(w).height(E);var L=k.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));L.transition().call(t),C.append("clipPath").attr("id","nv-x-label-clip-"+t.id()).append("rect"),k.select("#nv-x-label-clip-"+t.id()+" rect").attr("width",p.rangeBand()*(c?2:1)).attr("height",16).attr("x",-p.rangeBand()/(c?1:2));if(a){n.scale(p).ticks(e.utils.calcTicksX(w/100,u)).tickSize(-E,0),k.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),k.select(".nv-x.nv-axis").call(n);var A=k.select(".nv-x.nv-axis").selectAll("g");c&&A.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2===0?"5":"17")+")"})}f&&(r.scale(d).ticks(Math.floor(E/36)).tickSize(-w,0),k.select(".nv-y.nv-axis").call(r)),k.select(".nv-zeroLine line").attr("x1",0).attr("x2",w).attr("y1",d(0)).attr("y2",d(0))}),y.renderEnd("nv-boxplot chart immediate"),b}var t=e.models.boxPlot(),n=e.models.axis(),r=e.models.axis(),i={top:15,right:10,bottom:50,left:60},s=null,o=null,u=e.utils.getColor(),a=!0,f=!0,l=!1,c=!1,h=e.models.tooltip(),p,d,v="No Data Available.",m=d3.dispatch("beforeUpdate","renderEnd"),g=250;n.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),r.orient(l?"right":"left").tickFormat(d3.format(",.1f")),h.duration(0);var y=e.utils.renderWatch(m,g);return t.dispatch.on("elementMouseover.tooltip",function(e){h.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){h.data(e).hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){h()}),b.dispatch=m,b.boxplot=t,b.xAxis=n,b.yAxis=r,b.tooltip=h,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return o},set:function(e){o=e}},staggerLabels:{get:function(){return c},set:function(e){c=e}},showXAxis:{get:function(){return a},set:function(e){a=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},tooltipContent:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return i},set:function(e){i.top=e.top!==undefined?e.top:i.top,i.right=e.right!==undefined?e.right:i.right,i.bottom=e.bottom!==undefined?e.bottom:i.bottom,i.left=e.left!==undefined?e.left:i.left}},duration:{get:function(){return g},set:function(e){g=e,y.reset(g),t.duration(g),n.duration(g),r.duration(g)}},color:{get:function(){return u},set:function(n){u=e.utils.getColor(n),t.color(u)}},rightAlignYAxis:{get:function(){return l},set:function(e){l=e,r.orient(e?"right":"left")}}}),e.utils.inheritOptions(b,t),e.utils.initOptions(b),b},e.models.bullet=function(){"use strict";function b(e,t){var n=e.slice();e.sort(function(e,r){var i=n.indexOf(e),s=n.indexOf(r);return d3.descending(t[i],t[s])})}function w(n){return n.each(function(n,d){var w=c-t.left-t.right,E=h-t.top-t.bottom;p=d3.select(this),e.utils.initSVG(p);var S=i.call(this,n,d).slice(),x=s.call(this,n,d).slice(),T=o.call(this,n,d).slice(),N=u.call(this,n,d).slice(),C=a.call(this,n,d).slice(),k=f.call(this,n,d).slice();b(N,S),b(C,x),b(k,T),S.sort(d3.descending),x.sort(d3.descending),T.sort(d3.descending);var L=d3.scale.linear().domain(d3.extent(d3.merge([l,S]))).range(r?[w,0]:[0,w]),A=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(L.range());this.__chart__=L;var O=d3.min(S),M=d3.max(S),_=S[1],D=p.selectAll("g.nv-wrap.nv-bullet").data([n]),P=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),H=P.append("g"),B=D.select("g");for(var d=0,j=S.length;d<j;d++){var F="nv-range nv-range"+d;d<=2&&(F=F+" nv-range"+y[d]),H.append("rect").attr("class",F)}H.append("rect").attr("class","nv-measure"),D.attr("transform","translate("+t.left+","+t.top+")");var I=function(e){return Math.abs(A(e)-A(0))},q=function(e){return Math.abs(L(e)-L(0))},R=function(e){return e<0?A(e):A(0)},U=function(e){return e<0?L(e):L(0)};for(var d=0,j=S.length;d<j;d++){var z=S[d];B.select("rect.nv-range"+d).attr("height",E).attr("width",q(z)).attr("x",U(z)).datum(z)}B.select("rect.nv-measure").style("fill",v).attr("height",E/3).attr("y",E/3).attr("width",T<0?L(0)-L(T[0]):L(T[0])-L(0)).attr("x",U(T)).on("mouseover",function(){m.elementMouseover({value:T[0],label:k[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){m.elementMousemove({value:T[0],label:k[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){m.elementMouseout({value:T[0],label:k[0]||"Current",color:d3.select(this).style("fill")})});var W=E/6,X=x.map(function(e,t){return{value:e,label:C[t]}});H.selectAll("path.nv-markerTriangle").data(X).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+W+"L"+W+","+ -W+" "+ -W+","+ -W+"Z").on("mouseover",function(e){m.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[L(e.value),E/2]})}).on("mousemove",function(e){m.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){m.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}),B.selectAll("path.nv-markerTriangle").data(X).attr("transform",function(e){return"translate("+L(e.value)+","+E/2+")"}),D.selectAll(".nv-range").on("mouseover",function(e,t){var n=N[t]||g[t];m.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){m.elementMousemove({value:T[0],label:k[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){var n=N[t]||g[t];m.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})})}),w}var t={top:0,right:0,bottom:0,left:0},n="left",r=!1,i=function(e){return e.ranges},s=function(e){return e.markers?e.markers:[]},o=function(e){return e.measures},u=function(e){return e.rangeLabels?e.rangeLabels:[]},a=function(e){return e.markerLabels?e.markerLabels:[]},f=function(e){return e.measureLabels?e.measureLabels:[]},l=[0],c=380,h=30,p=null,d=null,v=e.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),g=["Maximum","Mean","Minimum"],y=["Max","Avg","Min"];return w.dispatch=m,w.options=e.utils.optionsFunc.bind(w),w._options=Object.create({},{ranges:{get:function(){return i},set:function(e){i=e}},markers:{get:function(){return s},set:function(e){s=e}},measures:{get:function(){return o},set:function(e){o=e}},forceX:{get:function(){return l},set:function(e){l=e}},width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return h},set:function(e){h=e}},tickFormat:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},orient:{get:function(){return n},set:function(e){n=e,r=n=="right"||n=="bottom"}},color:{get:function(){return v},set:function(t){v=e.utils.getColor(t)}}}),e.utils.initOptions(w),w},e.models.bulletChart=function(){"use strict";function v(n){return n.each(function(r,p){var d=d3.select(this);e.utils.initSVG(d);var m=e.utils.availableWidth(f,d,s),g=l-s.top-s.bottom,y=this;v.update=function(){v(n)},v.container=this;if(!r||!o.call(this,r,p))return e.utils.noData(v,d),v;d.selectAll(".nv-noData").remove();var b=o.call(this,r,p).slice().sort(d3.descending),w=u.call(this,r,p).slice().sort(d3.descending),E=a.call(this,r,p).slice().sort(d3.descending),S=d.selectAll("g.nv-wrap.nv-bulletChart").data([r]),x=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),T=x.append("g"),N=S.select("g");T.append("g").attr("class","nv-bulletWrap"),T.append("g").attr("class","nv-titles"),S.attr("transform","translate("+s.left+","+s.top+")");var C=d3.scale.linear().domain([0,Math.max(b[0],w[0]||0,E[0])]).range(i?[m,0]:[0,m]),k=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(C.range());this.__chart__=C;var L=function(e){return Math.abs(k(e)-k(0))},A=function(e){return Math.abs(C(e)-C(0))},O=T.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(l-s.top-s.bottom)/2+")");O.append("text").attr("class","nv-title").text(function(e){return e.title}),O.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(e){return e.subtitle}),t.width(m).height(g);var M=N.select(".nv-bulletWrap");d3.transition(M).call(t);var _=c||C.tickFormat(m/100),D=N.selectAll("g.nv-tick").data(C.ticks(h?h:m/50),function(e){return this.textContent||_(e)}),P=D.enter().append("g").attr("class","nv-tick").attr("transform",function(e){return"translate("+k(e)+",0)"}).style("opacity",1e-6);P.append("line").attr("y1",g).attr("y2",g*7/6),P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",g*7/6).text(_);var H=d3.transition(D).attr("transform",function(e){return"translate("+C(e)+",0)"}).style("opacity",1);H.select("line").attr("y1",g).attr("y2",g*7/6),H.select("text").attr("y",g*7/6),d3.transition(D.exit()).attr("transform",function(e){return"translate("+C(e)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),v}var t=e.models.bullet(),n=e.models.tooltip(),r="left",i=!1,s={top:5,right:40,bottom:20,left:120},o=function(e){return e.ranges},u=function(e){return e.markers?e.markers:[]},a=function(e){return e.measures},f=null,l=55,c=null,h=null,p=null,d=d3.dispatch();return n.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.label,value:e.value,color:e.color},n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){n()}),v.bullet=t,v.dispatch=d,v.tooltip=n,v.options=e.utils.optionsFunc.bind(v),v._options=Object.create({},{ranges:{get:function(){return o},set:function(e){o=e}},markers:{get:function(){return u},set:function(e){u=e}},measures:{get:function(){return a},set:function(e){a=e}},width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return l},set:function(e){l=e}},tickFormat:{get:function(){return c},set:function(e){c=e}},ticks:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==undefined?e.top:s.top,s.right=e.right!==undefined?e.right:s.right,s.bottom=e.bottom!==undefined?e.bottom:s.bottom,s.left=e.left!==undefined?e.left:s.left}},orient:{get:function(){return r},set:function(e){r=e,i=r=="right"||r=="bottom"}}}),e.utils.inheritOptions(v,t),e.utils.initOptions(v),v},e.models.candlestickBar=function(){"use strict";function N(y){return y.each(function(y){s=d3.select(this);var b=e.utils.availableWidth(n,s,t),N=e.utils.availableHeight(r,s,t);e.utils.initSVG(s);var C=b/y[0].values.length*.45;o.domain(w||d3.extent(y[0].values.map(a).concat(d))),m?o.range(S||[b*.5/y[0].values.length,b*(y[0].values.length-.5)/y[0].values.length]):o.range(S||[5+C/2,b-C/2-5]),u.domain(E||[d3.min(y[0].values.map(p).concat(v)),d3.max(y[0].values.map(h).concat(v))]).range(x||[N,0]),o.domain()[0]===o.domain()[1]&&(o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+u.domain()[0]*.01,u.domain()[1]-u.domain()[1]*.01]):u.domain([-1,1]));var k=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([y[0].values]),L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),A=L.append("defs"),O=L.append("g"),M=k.select("g");O.append("g").attr("class","nv-ticks"),k.attr("transform","translate("+t.left+","+t.top+")"),s.on("click",function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:i})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+i).append("rect"),k.select("#nv-chart-clip-path-"+i+" rect").attr("width",b).attr("height",N),M.attr("clip-path",g?"url(#nv-chart-clip-path-"+i+")":"");var _=k.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});_.exit().remove();var D=_.enter().append("g");_.attr("class",function(e,t,n){return(l(e,t)>c(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t});var P=D.append("line").attr("class","nv-candlestick-lines").attr("transform",function(e,t){return"translate("+o(a(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return u(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return u(p(e,t))}),H=D.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(e,t){return"translate("+(o(a(e,t))-C/2)+","+(u(f(e,t))-(l(e,t)>c(e,t)?u(c(e,t))-u(l(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",C).attr("height",function(e,t){var n=l(e,t),r=c(e,t);return n>r?u(r)-u(n):u(n)-u(r)});_.select(".nv-candlestick-lines").transition().attr("transform",function(e,t){return"translate("+o(a(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return u(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return u(p(e,t))}),_.select(".nv-candlestick-rects").transition().attr("transform",function(e,t){return"translate("+(o(a(e,t))-C/2)+","+(u(f(e,t))-(l(e,t)>c(e,t)?u(c(e,t))-u(l(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",C).attr("height",function(e,t){var n=l(e,t),r=c(e,t);return n>r?u(r)-u(n):u(n)-u(r)})}),N}var t={top:0,right:0,bottom:0,left:0},n=null,r=null,i=Math.floor(Math.random()*1e4),s,o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=function(e){return e.open},c=function(e){return e.close},h=function(e){return e.high},p=function(e){return e.low},d=[],v=[],m=!1,g=!0,y=e.utils.defaultColor(),b=!1,w,E,S,x,T=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return N.highlightPoint=function(e,t){N.clearHighlights(),s.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",t)},N.clearHighlights=function(){s.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},N.dispatch=T,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return w},set:function(e){w=e}},yDomain:{get:function(){return E},set:function(e){E=e}},xRange:{get:function(){return S},set:function(e){S=e}},yRange:{get:function(){return x},set:function(e){x=e}},forceX:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return v},set:function(e){v=e}},padData:{get:function(){return m},set:function(e){m=e}},clipEdge:{get:function(){return g},set:function(e){g=e}},id:{get:function(){return i},set:function(e){i=e}},interactive:{get:function(){return b},set:function(e){b=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},open:{get:function(){return l()},set:function(e){l=e}},close:{get:function(){return c()},set:function(e){c=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!=undefined?e.top:t.top,t.right=e.right!=undefined?e.right:t.right,t.bottom=e.bottom!=undefined?e.bottom:t.bottom,t.left=e.left!=undefined?e.left:t.left}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t)}}}),e.utils.initOptions(N),N},e.models.cumulativeLineChart=function(){"use strict";function H(u){return _.reset(),_.models(t),p&&_.models(n),d&&_.models(r),u.each(function(u){function I(e,t){d3.select(H.container).style("cursor","ew-resize")}function q(e,t){M.x=d3.event.x,M.i=Math.round(O.invert(M.x)),tt()}function R(e,t){d3.select(H.container).style("cursor","auto"),S.index=M.i,C.stateChange(S)}function tt(){et.data([M]);var e=H.duration();H.duration(0),H.update(),H.duration(e)}var T=d3.select(this);e.utils.initSVG(T),T.classed("nv-chart-"+E,!0);var k=this,A=e.utils.availableWidth(l,T,a),_=e.utils.availableHeight(c,T,a);H.update=function(){L===0?T.call(H):T.transition().duration(L).call(H)},H.container=this,S.setter(P(u),H.update).getter(D(u)).update(),S.disabled=u.map(function(e){return!!e.disabled});if(!x){var B;x={};for(B in S)S[B]instanceof Array?x[B]=S[B].slice(0):x[B]=S[B]}var F=d3.behavior.drag().on("dragstart",I).on("drag",q).on("dragend",R);if(!u||!u.length||!u.filter(function(e){return e.values.length}).length)return e.utils.noData(H,T),H;T.selectAll(".nv-noData").remove(),b=t.xScale(),w=t.yScale();if(!y){var U=u.filter(function(e){return!e.disabled}).map(function(e,n){var r=d3.extent(e.values,t.y());return r[0]<-0.95&&(r[0]=-0.95),[(r[0]-r[1])/(1+r[1]),(r[1]-r[0])/(1+r[0])]}),z=[d3.min(U,function(e){return e[0]}),d3.max(U,function(e){return e[1]})];t.yDomain(z)}else t.yDomain(null);O.domain([0,u[0].values.length-1]).range([0,A]).clamp(!0);var u=j(M.i,u),W=g?"none":"all",X=T.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),V=X.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),$=X.select("g");V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",W),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),h?(i.width(A),$.select(".nv-legendWrap").datum(u).call(i),a.top!=i.height()&&(a.top=i.height(),_=e.utils.availableHeight(c,T,a)),$.select(".nv-legendWrap").attr("transform","translate(0,"+ -a.top+")")):$.select(".nv-legendWrap").selectAll("*").remove();if(!m)$.select(".nv-controlsWrap").selectAll("*").remove();else{var J=[{key:"Re-scale y-axis",disabled:!y}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),$.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+ -a.top+")").call(s)}X.attr("transform","translate("+a.left+","+a.top+")"),v&&$.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)");var K=u.filter(function(e){return e.tempDisabled});X.select(".tempDisabled").remove(),K.length&&X.append("text").attr("class","tempDisabled").attr("x",A/2).attr("y","-.71em").style("text-anchor","end").text(K.map(function(e){return e.key}).join(", ")+" values cannot be calculated for this time period."),g&&(o.width(A).height(_).margin({left:a.left,top:a.top}).svgContainer(T).xScale(b),X.select(".nv-interactive").call(o)),V.select(".nv-background").append("rect"),$.select(".nv-background rect").attr("width",A).attr("height",_),t.y(function(e){return e.display.y}).width(A).height(_).color(u.map(function(e,t){return e.color||f(e,t)}).filter(function(e,t){return!u[t].disabled&&!u[t].tempDisabled}));var Q=$.select(".nv-linesWrap").datum(u.filter(function(e){return!e.disabled&&!e.tempDisabled}));Q.call(t),u.forEach(function(e,t){e.seriesIndex=t});var G=u.filter(function(e){return!e.disabled&&!!N(e)}),Y=$.select(".nv-avgLinesWrap").selectAll("line").data(G,function(e){return e.key}),Z=function(e){var t=w(N(e));return t<0?0:t>_?_:t};Y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(e,n){return t.color()(e,e.seriesIndex)}).attr("x1",0).attr("x2",A).attr("y1",Z).attr("y2",Z),Y.style("stroke-opacity",function(e){var t=w(N(e));return t<0||t>_?0:1}).attr("x1",0).attr("x2",A).attr("y1",Z).attr("y2",Z),Y.exit().remove();var et=Q.selectAll(".nv-indexLine").data([M]);et.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(F),et.attr("transform",function(e){return"translate("+O(e.i)+",0)"}).attr("height",_),p&&(n.scale(b)._ticks(e.utils.calcTicksX(A/70,u)).tickSize(-_,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),$.select(".nv-x.nv-axis").call(n)),d&&(r.scale(w)._ticks(e.utils.calcTicksY(_/36,u)).tickSize(-A,0),$.select(".nv-y.nv-axis").call(r)),$.select(".nv-background rect").on("click",function(){M.x=d3.mouse(this)[0],M.i=Math.round(O.invert(M.x)),S.index=M.i,C.stateChange(S),tt()}),t.dispatch.on("elementClick",function(e){M.i=e.pointIndex,M.x=O(M.i),S.index=M.i,C.stateChange(S),tt()}),s.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled,y=!e.disabled,S.rescaleY=y,C.stateChange(S),H.update()}),i.dispatch.on("stateChange",function(e){for(var t in e)S[t]=e[t];C.stateChange(S),H.update()}),o.dispatch.on("elementMousemove",function(i){t.clearHighlights();var s,a,l,c=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,r){a=e.interactiveBisect(n.values,i.pointXValue,H.x()),t.highlightPoint(r,a,!0);var o=n.values[a];if(typeof o=="undefined")return;typeof s=="undefined"&&(s=o),typeof l=="undefined"&&(l=H.xScale()(H.x()(o,a))),c.push({key:n.key,value:H.y()(o,a),color:f(n,n.seriesIndex)})});if(c.length>2){var h=H.yScale().invert(i.mouseY),p=Math.abs(H.yScale().domain()[0]-H.yScale().domain()[1]),d=.03*p,v=e.nearestValueIndex(c.map(function(e){return e.value}),h,d);v!==null&&(c[v].highlight=!0)}var m=n.tickFormat()(H.x()(s,a),a);o.tooltip.chartContainer(k.parentNode).valueFormatter(function(e,t){return r.tickFormat()(e)}).data({value:m,series:c})(),o.renderGuideLine(l)}),o.dispatch.on("elementMouseout",function(e){t.clearHighlights()}),C.on("changeState",function(e){typeof e.disabled!="undefined"&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),typeof e.index!="undefined"&&(M.i=e.index,M.x=O(M.i),S.index=e.index,et.data([M])),typeof e.rescaleY!="undefined"&&(y=e.rescaleY),H.update()})}),_.renderEnd("cumulativeLineChart immediate"),H}function j(e,n){return B||(B=t.y()),n.map(function(t,n){if(!t.values)return t;var r=t.values[e];if(r==null)return t;var i=B(r,e);return i<-0.95&&!A?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(e,t){return e.display={y:(B(e,t)-i)/(1+i)},e}),t)})}var t=e.models.line(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.interactiveGuideline(),u=e.models.tooltip(),a={top:30,right:30,bottom:50,left:60},f=e.utils.defaultColor(),l=null,c=null,h=!0,p=!0,d=!0,v=!1,m=!0,g=!1,y=!0,b,w,E=t.id(),S=e.utils.state(),x=null,T=null,N=function(e){return e.average},C=d3.dispatch("stateChange","changeState","renderEnd"),k=250,L=250,A=!1;S.index=0,S.rescaleY=y,n.orient("bottom").tickPadding(7),r.orient(v?"right":"left"),u.valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return n.tickFormat()(e,t)}),s.updateState(!1);var O=d3.scale.linear(),M={i:0,x:0},_=e.utils.renderWatch(C,L),D=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),index:M.i,rescaleY:y}}},P=function(e){return function(t){t.index!==undefined&&(M.i=t.index),t.rescaleY!==undefined&&(y=t.rescaleY),t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};t.dispatch.on("elementMouseover.tooltip",function(e){var t={x:H.x()(e.point),y:H.y()(e.point),color:e.point.color};e.point=t,u.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)});var B=null;return H.dispatch=C,H.lines=t,H.legend=i,H.controls=s,H.xAxis=n,H.yAxis=r,H.interactiveLayer=o,H.state=S,H.tooltip=u,H.options=e.utils.optionsFunc.bind(H),H._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},rescaleY:{get:function(){return y},set:function(e){y=e}},showControls:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return h},set:function(e){h=e}},average:{get:function(){return N},set:function(e){N=e}},defaultState:{get:function(){return x},set:function(e){x=e}},noData:{get:function(){return T},set:function(e){T=e}},showXAxis:{get:function(){return p},set:function(e){p=e}},showYAxis:{get:function(){return d},set:function(e){d=e}},noErrorCheck:{get:function(){return A},set:function(e){A=e}},margin:{get:function(){return a},set:function(e){a.top=e.top!==undefined?e.top:a.top,a.right=e.right!==undefined?e.right:a.right,a.bottom=e.bottom!==undefined?e.bottom:a.bottom,a.left=e.left!==undefined?e.left:a.left}},color:{get:function(){return f},set:function(t){f=e.utils.getColor(t),i.color(f)}},useInteractiveGuideline:{get:function(){return g},set:function(e){g=e,e===!0&&(H.interactive(!1),H.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return v},set:function(e){v=e,r.orient(e?"right":"left")}},duration:{get:function(){return L},set:function(e){L=e,t.duration(L),n.duration(L),r.duration(L),_.reset(L)}}}),e.utils.inheritOptions(H,t),e.utils.initOptions(H),H},e.models.discreteBar=function(){"use strict";function T(i){return x.reset(),i.each(function(i){var w=n-t.left-t.right,T=r-t.top-t.bottom;s=d3.select(this),e.utils.initSVG(s),i.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var N=d&&v?[]:i.map(function(e){return e.values.map(function(e,t){return{x:a(e,t),y:f(e,t),y0:e.y0}})});o.domain(d||d3.merge(N).map(function(e){return e.x})).rangeBands(m||[0,w],.1),u.domain(v||d3.extent(d3.merge(N).map(function(e){return e.y}).concat(l))),h?u.range(g||[T-(u.domain()[0]<0?12:0),u.domain()[1]>0?12:0]):u.range(g||[T,0]),E=E||o,S=S||u.copy().range([u(0),u(0)]);var C=s.selectAll("g.nv-wrap.nv-discretebar").data([i]),k=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),L=k.append("g"),A=C.select("g");L.append("g").attr("class","nv-groups"),C.attr("transform","translate("+t.left+","+t.top+")");var O=C.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().watchTransition(x,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),O.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),O.watchTransition(x,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var M=O.selectAll("g.nv-bar").data(function(e){return e.values});M.exit().remove();var _=M.enter().append("g").attr("transform",function(e,t,n){return"translate("+(o(a(e,t))+o.rangeBand()*.05)+", "+u(0)+")"}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),y.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),y.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){y.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){var n=this;y.elementClick({data:e,index:t,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(e,t){y.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});_.append("rect").attr("height",0).attr("width",o.rangeBand()*.9/i.length),h?(_.append("text").attr("text-anchor","middle"),M.select("text").text(function(e,t){return p(f(e,t))}).watchTransition(x,"discreteBar: bars text").attr("x",o.rangeBand()*.9/2).attr("y",function(e,t){return f(e,t)<0?u(f(e,t))-u(0)+12:-4})):M.selectAll("text").remove(),M.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(e,t){return e.color||c(e,t)}).style("stroke",function(e,t){return e.color||c(e,t)}).select("rect").attr("class",b).watchTransition(x,"discreteBar: bars rect").attr("width",o.rangeBand()*.9/i.length),M.watchTransition(x,"discreteBar: bars").attr("transform",function(e,t){var n=o(a(e,t))+o.rangeBand()*.05,r=f(e,t)<0?u(0):u(0)-u(f(e,t))<1?u(0)-1:u(f(e,t));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(e,t){return Math.max(Math.abs(u(f(e,t))-u(0)),1)}),E=o.copy(),S=u.copy()}),x.renderEnd("discreteBar immediate"),T}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s,o=d3.scale.ordinal(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=[0],c=e.utils.defaultColor(),h=!1,p=d3.format(",.2f"),d,v,m,g,y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b="discreteBar",w=250,E,S,x=e.utils.renderWatch(y,w);return T.dispatch=y,T.options=e.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},forceY:{get:function(){return l},set:function(e){l=e}},showValues:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return d},set:function(e){d=e}},yDomain:{get:function(){return v},set:function(e){v=e}},xRange:{get:function(){return m},set:function(e){m=e}},yRange:{get:function(){return g},set:function(e){g=e}},valueFormat:{get:function(){return p},set:function(e){p=e}},id:{get:function(){return i},set:function(e){i=e}},rectClass:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return c},set:function(t){c=e.utils.getColor(t)}},duration:{get:function(){return w},set:function(e){w=e,x.reset(w)}}}),e.utils.initOptions(T),T},e.models.discreteBarChart=function(){"use strict";function x(s){return S.reset(),S.models(t),c&&S.models(n),h&&S.models(r),s.each(function(s){var f=d3.select(this),b=this;e.utils.initSVG(f);var S=e.utils.availableWidth(u,f,o),T=e.utils.availableHeight(a,f,o);x.update=function(){w.beforeUpdate(),f.transition().duration(E).call(x)},x.container=this;if(!s||!s.length||!s.filter(function(e){return e.values.length}).length)return e.utils.noData(x,f),x;f.selectAll(".nv-noData").remove(),g=t.xScale(),y=t.yScale().clamp(!0);var N=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),C=N.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),k=C.append("defs"),L=N.select("g");C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),L.attr("transform","translate("+o.left+","+o.top+")"),l?(i.width(S),L.select(".nv-legendWrap").datum(s).call(i),o.top!=i.height()&&(o.top=i.height(),T=e.utils.availableHeight(a,f,o)),N.select(".nv-legendWrap").attr("transform","translate(0,"+ -o.top+")")):L.select(".nv-legendWrap").selectAll("*").remove(),p&&L.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),t.width(S).height(T);var A=L.select(".nv-barsWrap").datum(s.filter(function(e){return!e.disabled}));A.transition().call(t),k.append("clipPath").attr("id","nv-x-label-clip-"+t.id()).append("rect"),L.select("#nv-x-label-clip-"+t.id()+" rect").attr("width",g.rangeBand()*(d?2:1)).attr("height",16).attr("x",-g.rangeBand()/(d?1:2));if(c){n.scale(g)._ticks(e.utils.calcTicksX(S/100,s)).tickSize(-T,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+(y.range()[0]+(t.showValues()&&y.domain()[0]<0?16:0))+")"),L.select(".nv-x.nv-axis").call(n);var O=L.select(".nv-x.nv-axis").selectAll("g");d&&O.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),m&&O.selectAll(".tick text").attr("transform","rotate("+m+" 0,0)").style("text-anchor",m>0?"start":"end"),v&&L.selectAll(".tick text").call(e.utils.wrapTicks,x.xAxis.rangeBand())}h&&(r.scale(y)._ticks(e.utils.calcTicksY(T/36,s)).tickSize(-S,0),L.select(".nv-y.nv-axis").call(r)),L.select(".nv-zeroLine line").attr("x1",0).attr("x2",p?-S:S).attr("y1",y(0)).attr("y2",y(0))}),S.renderEnd("discreteBar chart immediate"),x}var t=e.models.discreteBar(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.tooltip(),o={top:15,right:10,bottom:50,left:60},u=null,a=null,f=e.utils.getColor(),l=!1,c=!0,h=!0,p=!1,d=!1,v=!1,m=0,g,y,b=null,w=d3.dispatch("beforeUpdate","renderEnd"),E=250;n.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),r.orient(p?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return r.tickFormat()(e,t)}).keyFormatter(function(e,t){return n.tickFormat()(e,t)});var S=e.utils.renderWatch(w,E);return t.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:x.x()(e.data),value:x.y()(e.data),color:e.color},s.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){s.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){s()}),x.dispatch=w,x.discretebar=t,x.legend=i,x.xAxis=n,x.yAxis=r,x.tooltip=s,x.options=e.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return a},set:function(e){a=e}},showLegend:{get:function(){return l},set:function(e){l=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},rotateLabels:{get:function(){return m},set:function(e){m=e}},wrapLabels:{get:function(){return v},set:function(e){v=!!e}},showXAxis:{get:function(){return c},set:function(e){c=e}},showYAxis:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return o},set:function(e){o.top=e.top!==undefined?e.top:o.top,o.right=e.right!==undefined?e.right:o.right,o.bottom=e.bottom!==undefined?e.bottom:o.bottom,o.left=e.left!==undefined?e.left:o.left}},duration:{get:function(){return E},set:function(e){E=e,S.reset(E),t.duration(E),n.duration(E),r.duration(E)}},color:{get:function(){return f},set:function(n){f=e.utils.getColor(n),t.color(f),i.color(f)}},rightAlignYAxis:{get:function(){return p},set:function(e){p=e,r.orient(e?"right":"left")}}}),e.utils.inheritOptions(x,t),e.utils.initOptions(x),x},e.models.distribution=function(){"use strict";function p(a){return h.reset(),a.each(function(a){var f=n-(i==="x"?t.left+t.right:t.top+t.bottom),l=i=="x"?"y":"x",p=d3.select(this);e.utils.initSVG(p),c=c||u;var d=p.selectAll("g.nv-distribution").data([a]),v=d.enter().append("g").attr("class","nvd3 nv-distribution"),m=v.append("g"),g=d.select("g");d.attr("transform","translate("+t.left+","+t.top+")");var y=g.selectAll("g.nv-dist").data(function(e){return e},function(e){return e.key});y.enter().append("g"),y.attr("class",function(e,t){return"nv-dist nv-series-"+t}).style("stroke",function(e,t){return o(e,t)});var b=y.selectAll("line.nv-dist"+i).data(function(e){return e.values});b.enter().append("line").attr(i+"1",function(e,t){return c(s(e,t))}).attr(i+"2",function(e,t){return c(s(e,t))}),h.transition(y.exit().selectAll("line.nv-dist"+i),"dist exit").attr(i+"1",function(e,t){return u(s(e,t))}).attr(i+"2",function(e,t){return u(s(e,t))}).style("stroke-opacity",0).remove(),b.attr("class",function(e,t){return"nv-dist"+i+" nv-dist"+i+"-"+t}).attr(l+"1",0).attr(l+"2",r),h.transition(b,"dist").attr(i+"1",function(e,t){return u(s(e,t))}).attr(i+"2",function(e,t){return u(s(e,t))}),c=u.copy()}),h.renderEnd("distribution immediate"),p}var t={top:0,right:0,bottom:0,left:0},n=400,r=8,i="x",s=function(e){return e[i]},o=e.utils.defaultColor(),u=d3.scale.linear(),a,f=250,l=d3.dispatch("renderEnd"),c,h=e.utils.renderWatch(l,f);return p.options=e.utils.optionsFunc.bind(p),p.dispatch=l,p.margin=function(e){return arguments.length?(t.top=typeof e.top!="undefined"?e.top:t.top,t.right=typeof e.right!="undefined"?e.right:t.right,t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom,t.left=typeof e.left!="undefined"?e.left:t.left,p):t},p.width=function(e){return arguments.length?(n=e,p):n},p.axis=function(e){return arguments.length?(i=e,p):i},p.size=function(e){return arguments.length?(r=e,p):r},p.getData=function(e){return arguments.length?(s=d3.functor(e),p):s},p.scale=function(e){return arguments.length?(u=e,p):u},p.color=function(t){return arguments.length?(o=e.utils.getColor(t),p):o},p.duration=function(e){return arguments.length?(f=e,h.reset(f),p):f},p},e.models.focus=function(t){"use strict";function b(h){return y.reset(),y.models(t),f&&y.models(n),l&&y.models(r),h.each(function(h){function O(e){var t=+(e=="e"),n=t?1:-1,r=E/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function M(){i.empty()||i.extent(v),k.data([i.empty()?p.domain():v]).each(function(e,t){var n=p(e[0])-p.range()[0],r=w-p(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",p(e[1])).attr("width",r<0?0:r)})}function _(){v=i.empty()?null:i.extent();var e=i.empty()?p.domain():i.extent();if(Math.abs(e[0]-e[1])<=1)return;g.brush({extent:e,brush:i}),M(),g.onBrush(e)}var y=d3.select(this);e.utils.initSVG(y);var w=e.utils.availableWidth(u,y,s),E=a-s.top-s.bottom;b.update=function(){m===0?y.call(b):y.transition().duration(m).call(b)},b.container=this,p=t.xScale(),d=t.yScale();var S=y.selectAll("g.nv-focus").data([h]),T=S.enter().append("g").attr("class","nvd3 nv-focus").append("g"),N=S.select("g");S.attr("transform","translate("+s.left+","+s.top+")"),T.append("g").attr("class","nv-background").append("rect"),T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-contentWrap"),T.append("g").attr("class","nv-brushBackground"),T.append("g").attr("class","nv-x nv-brush"),c&&N.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),N.select(".nv-background rect").attr("width",w).attr("height",E),t.width(w).height(E).color(h.map(function(e,t){return e.color||o(e,t)}).filter(function(e,t){return!h[t].disabled}));var C=N.select(".nv-contentWrap").datum(h.filter(function(e){return!e.disabled}));d3.transition(C).call(t),i.x(p).on("brush",function(){_()}),v&&i.extent(v);var k=N.select(".nv-brushBackground").selectAll("g").data([v||i.extent()]),L=k.enter().append("g");L.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",E),L.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",E);var A=N.select(".nv-x.nv-brush").call(i);A.selectAll("rect").attr("height",E),A.selectAll(".resize").append("path").attr("d",O),_(),N.select(".nv-background rect").attr("width",w).attr("height",E),f&&(n.scale(p)._ticks(e.utils.calcTicksX(w/100,h)).tickSize(-E,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),d3.transition(N.select(".nv-x.nv-axis")).call(n)),l&&(r.scale(d)._ticks(e.utils.calcTicksY(E/36,h)).tickSize(-w,0),d3.transition(N.select(".nv-y.nv-axis")).call(r)),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")")}),y.renderEnd("focus immediate"),b}var t=t||e.models.line(),n=e.models.axis(),r=e.models.axis(),i=d3.svg.brush(),s={top:10,right:0,bottom:30,left:0},o=e.utils.defaultColor(),u=null,a=70,f=!0,l=!1,c=!1,h=null,p,d,v=null,m=250,g=d3.dispatch("brush","onBrush","renderEnd");t.interactive(!1),t.pointActive(function(e){return!1});var y=e.utils.renderWatch(g,m);return b.dispatch=g,b.content=t,b.brush=i,b.xAxis=n,b.yAxis=r,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return a},set:function(e){a=e}},showXAxis:{get:function(){return f},set:function(e){f=e}},showYAxis:{get:function(){return l},set:function(e){l=e}},brushExtent:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==undefined?e.top:s.top,s.right=e.right!==undefined?e.right:s.right,s.bottom=e.bottom!==undefined?e.bottom:s.bottom,s.left=e.left!==undefined?e.left:s.left}},duration:{get:function(){return m},set:function(e){m=e,y.reset(m),t.duration(m),n.duration(m),r.duration(m)}},color:{get:function(){return o},set:function(n){o=e.utils.getColor(n),t.color(o)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return n.tickFormat()},set:function(e){n.tickFormat(e)}},yTickFormat:{get:function(){return r.tickFormat()},set:function(e){r.tickFormat(e)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return c},set:function(e){c=e,r.orient(c?"right":"left")}}}),e.utils.inheritOptions(b,t),e.utils.initOptions(b),b},e.models.forceDirectedGraph=function(){"use strict";function w(s){return b.reset(),s.each(function(s){i=d3.select(this),e.utils.initSVG(i);var a=e.utils.availableWidth(n,i,t),b=e.utils.availableHeight(r,i,t);i.attr("width",a).attr("height",b);if(!s||!s.links||!s.nodes)return e.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var E=new Set;s.nodes.forEach(function(e){var t=Object.keys(e);t.forEach(function(e){E.add(e)})});var S=d3.layout.force().nodes(s.nodes).links(s.links).size([a,b]).linkStrength(f).friction(l).linkDistance(c).charge(h).gravity(p).theta(d).alpha(v).start(),x=i.selectAll(".link").data(s.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(e){return Math.sqrt(e.value)}),T=i.selectAll(".node").data(s.nodes).enter().append("g").attr("class","nv-force-node").call(S.drag);T.append("circle").attr("r",m).style("fill",function(e){return o(e)}).on("mouseover",function(e){i.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),i.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var t=o(e);e.series=[],E.forEach(function(n){e.series.push({color:t,key:n,value:e[n]})}),u.data(e).hidden(!1)}).on("mouseout",function(e){u.hidden(!0)}),u.headerFormatter(function(e){return"Node"}),y(x),g(T),S.on("tick",function(){x.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),T.attr("transform",function(e){return"translate("+e.x+", "+e.y+")"})})}),w}var t={top:2,right:0,bottom:2,left:0},n=400,r=32,i=null,s=d3.dispatch("renderEnd"),o=e.utils.getColor(["#000"]),u=e.models.tooltip(),a=null,f=.1,l=.9,c=30,h=-120,p=.1,d=.8,v=.1,m=5,g=function(e){},y=function(e){},b=e.utils.renderWatch(s);return w.options=e.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},linkStrength:{get:function(){return f},set:function(e){f=e}},friction:{get:function(){return l},set:function(e){l=e}},linkDist:{get:function(){return c},set:function(e){c=e}},charge:{get:function(){return h},set:function(e){h=e}},gravity:{get:function(){return p},set:function(e){p=e}},theta:{get:function(){return d},set:function(e){d=e}},alpha:{get:function(){return v},set:function(e){v=e}},radius:{get:function(){return m},set:function(e){m=e}},x:{get:function(){return getX},set:function(e){getX=d3.functor(e)}},y:{get:function(){return getY},set:function(e){getY=d3.functor(e)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return o},set:function(t){o=e.utils.getColor(t)}},noData:{get:function(){return a},set:function(e){a=e}},nodeExtras:{get:function(){return g},set:function(e){g=e}},linkExtras:{get:function(){return y},set:function(e){y=e}}}),w.dispatch=s,w.tooltip=u,e.utils.initOptions(w),w},e.models.furiousLegend=function(){"use strict";function v(m){function g(e,t){if(d!="furious")return"#000";if(h)return e.disengaged?s(e,t):"#fff";if(!h)return e.disabled?s(e,t):"#fff"}function y(e,t){return h&&d=="furious"?e.disengaged?"#fff":s(e,t):e.disabled?"#fff":s(e,t)}return m.each(function(v){var m=n-t.left-t.right,b=d3.select(this);e.utils.initSVG(b);var w=b.selectAll("g.nv-legend").data([v]),E=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),S=w.select("g");w.attr("transform","translate("+t.left+","+t.top+")");var x=S.selectAll(".nv-series").data(function(e){return d!="furious"?e:e.filter(function(e){return h?!0:!e.disengaged})}),T=x.enter().append("g").attr("class","nv-series"),N;if(d=="classic")T.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),N=x.select("circle");else if(d=="furious"){T.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),N=x.select("rect"),T.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var C=x.select(".nv-check-box");C.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",g(e,t))})}T.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var k=x.select("text.nv-legend-text");x.on("mouseover",function(e,t){p.legendMouseover(e,t)}).on("mouseout",function(e,t){p.legendMouseout(e,t)}).on("click",function(e,t){p.legendClick(e,t);var n=x.data();if(l){if(d=="classic")c?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if(d=="furious")if(h)e.disengaged=!e.disengaged,e.userDisabled=e.userDisabled==undefined?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!h){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}p.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(d=="furious"&&h)return;p.legendDblclick(e,t);if(l){var n=x.data();n.forEach(function(e){e.disabled=!0,d=="furious"&&(e.userDisabled=e.disabled)}),e.disabled=!1,d=="furious"&&(e.userDisabled=e.disabled),p.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),x.classed("nv-disabled",function(e){return e.userDisabled}),x.exit().remove(),k.attr("fill",g).text(i);var L;switch(d){case"furious":L=23;break;case"classic":L=20}if(u){var A=[];x.each(function(t,n){var r;if(i(t)&&i(t).length>o){var s=i(t).substring(0,o);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(i(t))}else r=d3.select(this).select("text");var u;try{u=r.node().getComputedTextLength();if(u<=0)throw Error()}catch(f){u=e.utils.calcApproxTextWidth(r)}A.push(u+a)});var O=0,M=0,_=[];while(M<m&&O<A.length)_[O]=A[O],M+=A[O++];O===0&&(O=1);while(M>m&&O>1){_=[],O--;for(var D=0;D<A.length;D++)A[D]>(_[D%O]||0)&&(_[D%O]=A[D]);M=_.reduce(function(e,t,n,r){return e+t})}var P=[];for(var H=0,B=0;H<O;H++)P[H]=B,B+=_[H];x.attr("transform",function(e,t){return"translate("+P[t%O]+","+(5+Math.floor(t/O)*L)+")"}),f?S.attr("transform","translate("+(n-t.right-M)+","+t.top+")"):S.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(A.length/O)*L}else{var j=5,F=5,I=0,q;x.attr("transform",function(e,r){var i=d3.select(this).select("text").node().getComputedTextLength()+a;return q=F,n<t.left+t.right+q+i&&(F=q=5,j+=L),F+=i,F>I&&(I=F),"translate("+q+","+j+")"}),S.attr("transform","translate("+(n-t.right-I)+","+t.top+")"),r=t.top+t.bottom+j+15}d=="furious"&&N.attr("width",function(e,t){return k[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),N.style("fill",y).style("stroke",function(e,t){return e.color||s(e,t)})}),v}var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(e){return e.key},s=e.utils.getColor(),o=20,u=!0,a=28,f=!0,l=!0,c=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),d="classic";return v.dispatch=p,v.options=e.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},key:{get:function(){return i},set:function(e){i=e}},align:{get:function(){return u},set:function(e){u=e}},rightAlign:{get:function(){return f},set:function(e){f=e}},maxKeyLength:{get:function(){return o},set:function(e){o=e}},padding:{get:function(){return a},set:function(e){a=e}},updateState:{get:function(){return l},set:function(e){l=e}},radioButtonMode:{get:function(){return c},set:function(e){c=e}},expanded:{get:function(){return h},set:function(e){h=e}},vers:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return s},set:function(t){s=e.utils.getColor(t)}}}),e.utils.initOptions(v),v},e.models.historicalBar=function(){"use strict";function S(T){return T.each(function(S){E.reset(),s=d3.select(this);var T=e.utils.availableWidth(n,s,t),N=e.utils.availableHeight(r,s,t);e.utils.initSVG(s),o.domain(v||d3.extent(S[0].values.map(a).concat(l))),h?o.range(g||[T*.5/S[0].values.length,T*(S[0].values.length-.5)/S[0].values.length]):o.range(g||[0,T]),u.domain(m||d3.extent(S[0].values.map(f).concat(c))).range(y||[N,0]),o.domain()[0]===o.domain()[1]&&(o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+u.domain()[0]*.01,u.domain()[1]-u.domain()[1]*.01]):u.domain([-1,1]));var C=s.selectAll("g.nv-wrap.nv-historicalBar-"+i).data([S[0].values]),k=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+i),L=k.append("defs"),A=k.append("g"),O=C.select("g");A.append("g").attr("class","nv-bars"),C.attr("transform","translate("+t.left+","+t.top+")"),s.on("click",function(e,t){b.chartClick({data:e,index:t,pos:d3.event,id:i})}),L.append("clipPath").attr("id","nv-chart-clip-path-"+i).append("rect"),C.select("#nv-chart-clip-path-"+i+" rect").attr("width",T).attr("height",N),O.attr("clip-path",p?"url(#nv-chart-clip-path-"+i+")":"");var M=C.select(".nv-bars").selectAll(".nv-bar").data(function(e){return e},function(e,t){return a(e,t)});M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",function(t,n){return e.utils.NaNtoZero(u(Math.max(0,f(t,n))))}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.abs(u(f(t,n))-u(0)))}).attr("transform",function(e,t){return"translate("+(o(a(e,t))-T/S[0].values.length*.45)+",0)"}).on("mouseover",function(e,t){if(!w)return;d3.select(this).classed("hover",!0),b.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){if(!w)return;d3.select(this).classed("hover",!1),b.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){if(!w)return;b.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){if(!w)return;b.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){if(!w)return;b.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),M.attr("fill",function(e,t){return d(e,t)}).attr("class",function(e,t,n){return(f(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t}).watchTransition(E,"bars").attr("transform",function(e,t){return"translate("+(o(a(e,t))-T/S[0].values.length*.45)+",0)"}).attr("width",T/S[0].values.length*.7),M.watchTransition(E,"bars").attr("y",function(t,n){var r=f(t,n)<0?u(0):u(0)-u(f(t,n))<1?u(0)-1:u(f(t,n));return e.utils.NaNtoZero(r)}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.max(Math.abs(u(f(t,n))-u(0)),0))})}),E.renderEnd("historicalBar immediate"),S}var t={top:0,right:0,bottom:0,left:0},n=null,r=null,i=Math.floor(Math.random()*1e4),s=null,o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=[],c=[0],h=!1,p=!0,d=e.utils.defaultColor(),v,m,g,y,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=!0,E=e.utils.renderWatch(b,0);return S.highlightPoint=function(e,t){s.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},S.clearHighlights=function(){s.select(".nv-bars .nv-bar.hover").classed("hover",!1)},S.dispatch=b,S.options=e.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},forceX:{get:function(){return l},set:function(e){l=e}},forceY:{get:function(){return c},set:function(e){c=e}},padData:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return v},set:function(e){v=e}},yDomain:{get:function(){return m},set:function(e){m=e}},xRange:{get:function(){return g},set:function(e){g=e}},yRange:{get:function(){return y},set:function(e){y=e}},clipEdge:{get:function(){return p},set:function(e){p=e}},id:{get:function(){return i},set:function(e){i=e}},interactive:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t)}}}),e.utils.initOptions(S),S},e.models.historicalBarChart=function(t){"use strict";function C(t){return t.each(function(u){N.reset(),N.models(n),d&&N.models(r),v&&N.models(i);var S=d3.select(this),k=this;e.utils.initSVG(S);var L=e.utils.availableWidth(l,S,a),A=e.utils.availableHeight(c,S,a);C.update=function(){S.transition().duration(T).call(C)},C.container=this,w.disabled=u.map(function(e){return!!e.disabled});if(!E){var O;E={};for(O in w)w[O]instanceof Array?E[O]=w[O].slice(0):E[O]=w[O]}if(!u||!u.length||!u.filter(function(e){return e.values.length}).length)return e.utils.noData(C,S),C;S.selectAll(".nv-noData").remove(),y=n.xScale(),b=n.yScale();var M=S.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),_=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),D=M.select("g");_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis"),_.append("g").attr("class","nv-barsWrap"),_.append("g").attr("class","nv-legendWrap"),_.append("g").attr("class","nv-interactive"),h?(s.width(L+a.left/2),D.select(".nv-legendWrap").datum(u).call(s),p==="bottom"?(A=e.utils.availableHeight(c,S,a),A-=s.height(),M.select(".nv-legendWrap").attr("transform","translate(0,"+(A+r.orient("bottom").tickPadding()+20)+")")):p==="top"&&(a.top!=s.height()&&(a.top=s.height(),A=e.utils.availableHeight(c,S,a)),M.select(".nv-legendWrap").attr("transform","translate("+ -a.left/2+","+ -a.top+")"))):D.select(".nv-legendWrap").selectAll("*").remove(),M.attr("transform","translate("+a.left+","+a.top+")"),m&&D.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),g&&(o.width(L).height(A).margin({left:a.left,top:a.top}).svgContainer(S).xScale(y),M.select(".nv-interactive").call(o)),n.width(L).height(A).color(u.map(function(e,t){return e.color||f(e,t)}).filter(function(e,t){return!u[t].disabled}));var P=D.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));P.transition().call(n),d&&(r.scale(y)._ticks(e.utils.calcTicksX(L/100,u)).tickSize(-A,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")"),D.select(".nv-x.nv-axis").transition().call(r)),v&&(i.scale(b)._ticks(e.utils.calcTicksY(A/36,u)).tickSize(-L,0),D.select(".nv-y.nv-axis").transition().call(i)),o.dispatch.on("elementMousemove",function(t){n.clearHighlights();var s,a,l,c=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(r,i){a=e.interactiveBisect(r.values,t.pointXValue,C.x()),n.highlightPoint(a,!0);var o=r.values[a];if(o===undefined)return;s===undefined&&(s=o),l===undefined&&(l=C.xScale()(C.x()(o,a))),c.push({key:r.key,value:C.y()(o,a),color:f(r,r.seriesIndex),data:r.values[a]})});var h=r.tickFormat()(C.x()(s,a));o.tooltip.chartContainer(k.parentNode).valueFormatter(function(e,t){return i.tickFormat()(e)}).data({value:h,index:a,series:c})(),o.renderGuideLine(l)}),o.dispatch.on("elementMouseout",function(e){x.tooltipHide(),n.clearHighlights()}),s.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(e){return!e.disabled}).length||u.map(function(e){return e.disabled=!1,M.selectAll(".nv-series").classed("disabled",!1),e}),w.disabled=u.map(function(e){return!!e.disabled}),x.stateChange(w),t.transition().call(C)}),s.dispatch.on("legendDblclick",function(e){u.forEach(function(e){e.disabled=!0}),e.disabled=!1,w.disabled=u.map(function(e){return!!e.disabled}),x.stateChange(w),C.update()}),x.on("changeState",function(e){typeof e.disabled!="undefined"&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),w.disabled=e.disabled),C.update()})}),N.renderEnd("historicalBarChart immediate"),C}var n=t||e.models.historicalBar(),r=e.models.axis(),i=e.models.axis(),s=e.models.legend(),o=e.interactiveGuideline(),u=e.models.tooltip(),a={top:30,right:90,bottom:50,left:90},f=e.utils.defaultColor(),l=null,c=null,h=!1,p="bottom",d=!0,v=!0,m=!1,g=!1,y,b,w={},E=null,S=null,x=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),T=250;r.orient("bottom").tickPadding(7),i.orient(m?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return i.tickFormat()(e,t)}).headerFormatter(function(e,t){return r.tickFormat()(e,t)});var N=e.utils.renderWatch(x,0);return n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:C.x()(e.data),value:C.y()(e.data),color:e.color},u.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){u()}),C.dispatch=x,C.bars=n,C.legend=s,C.xAxis=r,C.yAxis=i,C.interactiveLayer=o,C.tooltip=u,C.options=e.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},showLegend:{get:function(){return h},set:function(e){h=e}},legendPosition:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return d},set:function(e){d=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return E},set:function(e){E=e}},noData:{get:function(){return S},set:function(e){S=e}},margin:{get:function(){return a},set:function(e){a.top=e.top!==undefined?e.top:a.top,a.right=e.right!==undefined?e.right:a.right,a.bottom=e.bottom!==undefined?e.bottom:a.bottom,a.left=e.left!==undefined?e.left:a.left}},color:{get:function(){return f},set:function(t){f=e.utils.getColor(t),s.color(f),n.color(f)}},duration:{get:function(){return T},set:function(e){T=e,N.reset(T),i.duration(T),r.duration(T)}},rightAlignYAxis:{get:function(){return m},set:function(e){m=e,i.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return g},set:function(e){g=e,e===!0&&C.interactive(!1)}}}),e.utils.inheritOptions(C,n),e.utils.initOptions(C),C},e.models.ohlcBarChart=function(){var t=e.models.historicalBarChart(e.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+e.value+"</h3>"+"<table>"+"<tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr>"+"<tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr>"+"<tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr>"+"<tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr>"+"</table>"}),t},e.models.candlestickBarChart=function(){var t=e.models.historicalBarChart(e.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+e.value+"</h3>"+"<table>"+"<tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr>"+"<tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr>"+"<tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr>"+"<tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr>"+"</table>"}),t},e.models.legend=function(){"use strict";function y(b){function w(e,t){if(d!="furious")return"#000";if(h)return e.disengaged?"#000":"#fff";if(!h)return e.color||(e.color=s(e,t)),e.disabled?e.color:"#fff"}function E(e,t){return h&&d=="furious"?e.disengaged?"#eee":e.color||s(e,t):e.color||s(e,t)}function S(e,t){return h&&d=="furious"?1:e.disabled?0:1}return b.each(function(s){function V(){function f(){return m>=W}function l(){return m<=1}function c(){m>=W?s.attr("fill","#CCC").style("cursor","default"):s.attr("fill","#274b6d").style("cursor","pointer"),m>1?i.attr("fill","#274b6d").style("cursor","pointer"):i.attr("fill","#CCC").style("cursor","default")}function h(){u.text(m+"/"+Math.ceil(W))}function d(e){if(p)return;p=!0,e.attr("transform","translate(0,0)"),m=1,h(),c()}function y(e,n){if(p)return;p=!0;var r=w(e),i=r&&r[0]||t.left,s=r&&r[1]||t.top;s-=0;var o;n?(m-=1,W-m>1?o=s+v:o=s+v*(W-m)):(W-m>1?o=s-v:o=s-v*(W-m),m+=1),e.transition().duration(500).attr("transform","translate("+i+","+o+")").each("end",function(){p=!1}),h(),c()}function w(e){var t=e.attr("transform").match(/translate\(([^,]*),([^\)]*)/);return[t[1],t[2]]}x.enter().append("defs").append("clipPath").attr("id","nvLegendClipPath").append("rect").attr("x",0).attr("y",0).attr("width","1000000").attr("height",v);var n=w(N);x.enter().append("g").attr("id","pagination").html('                    <g zIndex="1" visibility="visible" transform="translate('+n[0]+","+(v+10)+')">                      <path id="previousButton" fill="#CCC" d="M 6 0 L 12 12 0 12 Z" style="cursor:default;"></path>                      <text x="15" y="10" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:12px;">                        <tspan id="page" x="15">1/5</tspan>                      </text>                      <path id="nextButton" fill="#274b6d" d="M 39.46875 0 L 51.46875 0 45.46875 12 Z" style="cursor:pointer;"></path>                    </g>');var i=b.select("path#previousButton"),s=b.select("path#nextButton"),o=b.select(".nv-legend-list-wrapper"),u=b.select("tspan#page"),a=r;h(),r=v+t.top+t.bottom+20,i.on("click",function(){!l()&&y(o,!0)}),s.on("click",function(){!f()&&y(o,!1)}),g&&g.clear(),g=e.utils.windowResize(function(){d(o)});var p=!1}var y=n-t.left-t.right,b=d3.select(this);e.utils.initSVG(b);var x=b.selectAll("g.nv-legend").data([s]),T=x.enter().append("g").attr("class","nvd3 nv-legend").append("g").attr("clip-path","url(#nvLegendClipPath)").append("g").attr("class","nv-legend-list-wrapper").attr("transform","translate(0,0)").append("g"),N=x.select("g.nv-legend-list-wrapper g");x.attr("transform","translate("+t.left+","+t.top+")");var C=N.selectAll(".nv-series").data(function(e){return d!="furious"?e:e.filter(function(e){return h?!0:!e.disengaged})}),k=C.enter().append("g").attr("class","nv-series"),L,A;switch(d){case"furious":A=23;break;case"classic":A=16}if(d=="classic")k.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",4),L=C.select(".nv-legend-symbol");else if(d=="furious"){k.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),L=C.select(".nv-legend-symbol"),k.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var O=C.select(".nv-check-box");O.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",w(e,t))})}k.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var M=C.select("text.nv-legend-text");C.on("mouseover",function(e,t){p.legendMouseover(e,t)}).on("mouseout",function(e,t){p.legendMouseout(e,t)}).on("click",function(e,t){p.legendClick(e,t);var n=C.data();if(l){if(d=="classic")c?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if(d=="furious")if(h)e.disengaged=!e.disengaged,e.userDisabled=e.userDisabled==undefined?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!h){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}p.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(d=="furious"&&h)return;p.legendDblclick(e,t);if(l){var n=C.data();n.forEach(function(e){e.disabled=!0,d=="furious"&&(e.userDisabled=e.disabled)}),e.disabled=!1,d=="furious"&&(e.userDisabled=e.disabled),p.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),C.classed("nv-disabled",function(e){return e.userDisabled}),C.exit().remove(),M.attr("fill",w).text(i);var _=0;if(u){var D=[];C.each(function(t,n){var r;if(i(t)&&i(t).length>o){var s=i(t).substring(0,o);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(i(t))}else r=d3.select(this).select("text");var u;try{u=r.node().getComputedTextLength();if(u<=0)throw Error()}catch(f){u=e.utils.calcApproxTextWidth(r)}D.push(u+a)});var P=0,H=[];_=0;while(_<y&&P<D.length)H[P]=D[P],_+=D[P++];P===0&&(P=1);while(_>y&&P>1){H=[],P--;for(var B=0;B<D.length;B++)D[B]>(H[B%P]||0)&&(H[B%P]=D[B]);_=H.reduce(function(e,t,n,r){return e+t})}var j=[];for(var F=0,I=0;F<P;F++)j[F]=I,I+=H[F];C.attr("transform",function(e,t){return"translate("+j[t%P]+","+(5+Math.floor(t/P)*A)+")"}),f?N.attr("transform","translate("+(n-t.right-_)+","+t.top+")"):N.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(D.length/P)*A}else{var q=5,R=5,U=0,z;C.attr("transform",function(e,r){var i=d3.select(this).select("text").node().getComputedTextLength()+a;return z=R,n<t.left+t.right+z+i&&(R=z=5,q+=A),R+=i,R>U&&(U=R),_<z+U&&(_=z+U),"translate("+z+","+q+")"}),N.attr("transform","translate("+(n-t.right-U)/2+","+t.top+")"),r=t.top+t.bottom+q+15}var W=r/v;v&&W>1&&V();if(d=="furious"){L.attr("width",function(e,t){return M[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),T.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var X=N.select(".nv-legend-bg");X.transition().duration(300).attr("x",-A).attr("width",_+A-12).attr("height",r+10).attr("y",-t.top-10).attr("opacity",h?1:0)}L.style("fill",E).style("fill-opacity",S).style("stroke",E)}),y}var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(e){return e.key},s=e.utils.getColor(),o=20,u=!0,a=32,f=!0,l=!0,c=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),d="classic",v=undefined,m=1,g;return y.dispatch=p,y.options=e.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},key:{get:function(){return i},set:function(e){i=e}},align:{get:function(){return u},set:function(e){u=e}},maxKeyLength:{get:function(){return o},set:function(e){o=e}},rightAlign:{get:function(){return f},set:function(e){f=e}},padding:{get:function(){return a},set:function(e){a=e}},updateState:{get:function(){return l},set:function(e){l=e}},radioButtonMode:{get:function(){return c},set:function(e){c=e}},expanded:{get:function(){return h},set:function(e){h=e}},vers:{get:function(){return d},set:function(e){d=e}},maxHeight:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return s},set:function(t){s=e.utils.getColor(t)}}}),e.utils.initOptions(y),y},e.models.line=function(){"use strict";function E(m){return w.reset(),w.models(t),m.each(function(m){s=d3.select(this);var g=e.utils.availableWidth(r,s,n),E=e.utils.availableHeight(i,s,n);e.utils.initSVG(s),p=t.xScale(),d=t.yScale(),y=y||p,b=b||d;var S=s.selectAll("g.nv-wrap.nv-line").data([m]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),N=T.append("defs"),C=T.append("g"),k=S.select("g");C.append("g").attr("class","nv-groups"),C.append("g").attr("class","nv-scatterWrap"),S.attr("transform","translate("+n.left+","+n.top+")"),t.width(g).height(E);var L=S.select(".nv-scatterWrap");L.call(t),N.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect"),S.select("#nv-edge-clip-"+t.id()+" rect").attr("width",g).attr("height",E>0?E:0),k.attr("clip-path",h?"url(#nv-edge-clip-"+t.id()+")":""),L.attr("clip-path",h?"url(#nv-edge-clip-"+t.id()+")":"");var A=S.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});A.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(e){return e.strokeWidth||o}).style("fill-opacity",1e-6),A.exit().remove(),A.attr("class",function(e,t){return(e.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return u(e,t)}).style("stroke",function(e,t){return u(e,t)}),A.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(e){return e.fillOpacity||.5});var O=A.selectAll("path.nv-area").data(function(e){return c(e)?[e]:[]});O.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(v).defined(l).x(function(t,n){return e.utils.NaNtoZero(y(a(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(b(f(t,n)))}).y1(function(e,t){return b(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[t.values])}),A.exit().selectAll("path.nv-area").remove(),O.watchTransition(w,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(v).defined(l).x(function(t,n){return e.utils.NaNtoZero(p(a(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(d(f(t,n)))}).y1(function(e,t){return d(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[t.values])});var M=A.selectAll("path.nv-line").data(function(e){return[e.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(v).defined(l).x(function(t,n){return e.utils.NaNtoZero(y(a(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(b(f(t,n)))})),M.watchTransition(w,"line: linePaths").attr("d",d3.svg.line().interpolate(v).defined(l).x(function(t,n){return e.utils.NaNtoZero(p(a(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(d(f(t,n)))})),y=p.copy(),b=d.copy()}),w.renderEnd("line immediate"),E}var t=e.models.scatter(),n={top:0,right:0,bottom:0,left:0},r=960,i=500,s=null,o=1.5,u=e.utils.defaultColor(),a=function(e){return e.x},f=function(e){return e.y},l=function(e,t){return!isNaN(f(e,t))&&f(e,t)!==null},c=function(e){return e.area},h=!1,p,d,v="linear",m=250,g=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");t.pointSize(16).pointDomain([16,256]);var y,b,w=e.utils.renderWatch(g,m);return E.dispatch=g,E.scatter=t,t.dispatch.on("elementClick",function(){g.elementClick.apply(this,arguments)}),t.dispatch.on("elementMouseover",function(){g.elementMouseover.apply(this,arguments)}),t.dispatch.on("elementMouseout",function(){g.elementMouseout.apply(this,arguments)}),E.options=e.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},defined:{get:function(){return l},set:function(e){l=e}},interpolate:{get:function(){return v},set:function(e){v=e}},clipEdge:{get:function(){return h},set:function(e){h=e}},margin:{get:function(){return n},set:function(e){n.top=e.top!==undefined?e.top:n.top,n.right=e.right!==undefined?e.right:n.right,n.bottom=e.bottom!==undefined?e.bottom:n.bottom,n.left=e.left!==undefined?e.left:n.left}},duration:{get:function(){return m},set:function(e){m=e,w.reset(m),t.duration(m)}},isArea:{get:function(){return c},set:function(e){c=d3.functor(e)}},x:{get:function(){return a},set:function(e){a=e,t.x(e)}},y:{get:function(){return f},set:function(e){f=e,t.y(e)}},color:{get:function(){return u},set:function(n){u=e.utils.getColor(n),t.color(u)}}}),e.utils.inheritOptions(E,t),e.utils.initOptions(E),E},e.models.lineChart=function(){"use strict";function D(u,C){return A.reset(),A.models(t),v&&A.models(n),m&&A.models(r),u.each(function(u){function z(){v&&I.select(".nv-focus .nv-x.nv-axis").transition().duration(L).call(n)}function W(){m&&I.select(".nv-focus .nv-y.nv-axis").transition().duration(L).call(r)}function Z(e){var t=+(e=="e"),n=t?1:-1,r=H/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function et(e){var n=I.select(".nv-focus .nv-linesWrap").datum(u.filter(function(e){return!e.disabled}).map(function(n,r){return{key:n.key,area:n.area,classed:n.classed,values:n.values.filter(function(n,r){return t.x()(n,r)>=e[0]&&t.x()(n,r)<=e[1]}),disableTooltip:n.disableTooltip}}));n.transition().duration(L).call(t),z(),W()}var A=d3.select(this);e.utils.initSVG(A);var P=e.utils.availableWidth(c,A,f),H=e.utils.availableHeight(h,A,f)-(x?a.height():0);D.update=function(e){L===0?A.call(D,e):A.transition().duration(L).call(D,e)},D.container=this,T.setter(M(u),D.update).getter(O(u)).update(),T.disabled=u.map(function(e){return!!e.disabled});if(!N){var B;N={};for(B in T)T[B]instanceof Array?N[B]=T[B].slice(0):N[B]=T[B]}if(!u||!u.length||!u.filter(function(e){return e.values.length}).length)return e.utils.noData(D,A),D;A.selectAll(".nv-noData").remove(),b=t.xScale(),w=t.yScale();var j=A.selectAll("g.nv-wrap.nv-lineChart").data([u]),F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),I=j.select("g");F.append("g").attr("class","nv-legendWrap");var q=F.append("g").attr("class","nv-focus");q.append("g").attr("class","nv-background").append("rect"),q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-linesWrap"),q.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-zoomLayer");var R=F.append("g").attr("class","nv-focusWrap");p?(i.width(P+f.left/2),I.select(".nv-legendWrap").datum(u).call(i),d==="bottom"?(H-=i.height(),j.select(".nv-legendWrap").attr("transform","translate(0,"+(H+n.orient("bottom").tickPadding()+20)+")")):d==="top"&&(f.top!=i.height()&&(f.top=i.height(),H=e.utils.availableHeight(h,A,f)-(x?a.height():0)),j.select(".nv-legendWrap").attr("transform","translate("+ -f.left/2+","+ -f.top+")"))):I.select(".nv-legendWrap").selectAll("*").remove(),j.attr("transform","translate("+f.left+","+f.top+")"),g&&I.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),y&&(s.width(P).height(H).margin({left:f.left,top:f.top}).svgContainer(A).xScale(b).xAccessor(D.x()),j.select(".nv-interactive").call(s),o.width(P).height(H).margin({left:f.left,top:f.top}).svgContainer(A).xScale(b).xAccessor(D.x()),j.select(".nv-zoomLayer").call(o)),C||(j.selectAll(".nv-zoomLayer g.button").on("click",null),j.selectAll(".nv-zoomLayer g.button").remove()),E&&E=="x"&&(j.selectAll(".nv-zoomLayer g.button").node()==null?(_=j.select(".nv-zoomLayer").append("g").attr("class","button").attr("cursor","pointer"),_.append("rect").attr("x",P-72-20).attr("y",4).attr("rx",2).attr("ry",2).attr("width",78).attr("height",25).attr("fill","#fff").attr("stroke","#999").attr("strokeWidth",1),_.append("text").attr("x",P-72-14).attr("y",21).text("Reset Zoom"),_.on("click",function(){_.style("display","none");var e=d3.min(A.data()[0],function(e){return d3.min(e.values,function(e){return D.x()(e)})}),t=d3.max(A.data()[0],function(e){return d3.max(e.values,function(e){return D.x()(e)})});D.options({xDomain:[e,t]}),k.zoom({type:"reset",xDomain:[e,t]}),D.update()}),_.style("display","none")):(_=j.select(".nv-zoomLayer g.button"),j.select(".nv-zoomLayer g.button rect").attr("x",P-72-20),j.select(".nv-zoomLayer g.button text").attr("x",P-72-14)),_.on("click",null),_.on("click",function(){_.style("display","none");var e=d3.min(A.data()[0],function(e){return d3.min(e.values,function(e){return D.x()(e)})}),t=d3.max(A.data()[0],function(e){return d3.max(e.values,function(e){return D.x()(e)})});D.options({xDomain:[e,t]}),k.zoom({type:"reset",xDomain:[e,t]}),D.update()})),I.select(".nv-focus .nv-background rect").attr("width",P).attr("height",H),t.width(P).height(H).color(u.map(function(e,t){return e.color||l(e,t)}).filter(function(e,t){return!u[t].disabled}));var U=I.select(".nv-linesWrap").datum(u.filter(function(e){return!e.disabled}));v&&n.scale(b)._ticks(e.utils.calcTicksX(P/100,u)).tickSize(-H,0),m&&r.scale(w)._ticks(e.utils.calcTicksY(H/36,u)).tickSize(-P,0),I.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")");if(!x)U.call(t),z(),W();else{a.width(P),I.select(".nv-focusWrap").attr("transform","translate(0,"+(H+f.bottom+a.margin().top)+")").datum(u.filter(function(e){return!e.disabled})).call(a);var X=a.brush.empty()?a.xDomain():a.brush.extent();X!==null&&et(X)}var V=A.selectAll(".nv-groups .nv-group path.nv-line");!e.utils.isNumber(V.attr("stroke-dashoffset"))&&!V.attr("stroke-dashoffset")?V.each(function(){var e=d3.select(this);if(!e.node()||!e.node().getTotalLength)return;var t=e.node().getTotalLength();e.attr("stroke-dasharray",t+" "+t).attr("stroke-dashoffset",t).transition().duration(1e3).ease("linear").attr("stroke-dashoffset",0).transition().attr("stroke-dasharray","")}):V.attr("stroke-dasharray",""),i.dispatch.on("stateChange",function(e){for(var t in e)T[t]=e[t];k.stateChange(T),D.update()}),s.dispatch.on("elementMousemove",function(n){t.clearHighlights();var i,o,f,c=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled&&!e.disableTooltip}).forEach(function(r,s){var u=x?a.brush.empty()?a.xScale().domain():a.brush.extent():b.domain(),h=r.values.filter(function(e,n){return t.x()(e,n)>=u[0]&&t.x()(e,n)<=u[1]});h&&h[0]&&h[h.length-1]&&(n.pointXValue<h[0][0]&&(n.pointXValue=h[0][0]),n.pointXValue>h[h.length-1][0]&&(n.pointXValue=h[h.length-1][0])),o=e.interactiveBisect(h,n.pointXValue,t.x());var p=h[o],d=D.y()(p,o);d!==null&&t.highlightPoint(r.seriesIndex,n.pointIndex,!0);if(p===undefined)return;i===undefined&&(i=p),f===undefined&&(f=D.xScale()(D.x()(p,o))),c.push({key:r.key,value:d,color:l(r,r.seriesIndex),data:p})});if(c.length>2){var h=D.yScale().invert(n.mouseY),p=Math.abs(D.yScale().domain()[0]-D.yScale().domain()[1]),d=.03*p,v=e.nearestValueIndex(c.map(function(e){return e.value}),h,d);v!==null&&(c[v].highlight=!0)}var m=function(e,t){return e==null?"N/A":r.tickFormat()(e)};s.tooltip.chartContainer(D.container.parentNode).valueFormatter(s.tooltip.valueFormatter()||m).data({value:D.x()(i,o),index:o,series:c})(),s.renderGuideLine(f)}),s.dispatch.on("elementClick",function(n){var r,i=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(t){var s=e.interactiveBisect(t.values,n.pointXValue,D.x()),o=t.values[s];if(typeof o=="undefined")return;typeof r=="undefined"&&(r=D.xScale()(D.x()(o,s)));var u=D.yScale()(D.y()(o,s));i.push({point:o,pointIndex:s,pos:[r,u],seriesIndex:t.seriesIndex,series:t})}),t.dispatch.elementClick(i)}),s.dispatch.on("elementMouseout",function(e){t.clearHighlights()});if(E=="x"){var $=D.x(),J=null,K=null,Q=null,G=null,Y=0;o.dispatch.on("elementMousemove",function(e){if(Q===null)return;var t=D.xScale()(D.x()(e.point,e.pointIndex));J=$(e.point),o.updateSelectArea(K,t)}),o.dispatch.on("elementDragStart",function(e){var t=D.xScale()(D.x()(e.point,e.pointIndex));Q=e.pointXValue,G=e.point,Y=e.pointIndex,K=t,o.renderSelectArea(t)}),o.dispatch.on("elementDragEnd",function(e){if(Math.abs(e.pointIndex-Y)<=1){Q=null,K=null,o.removeSelectArea();return}if(S&&Math.abs($(e.point)-$(G))<S){Q=null,K=null,o.removeSelectArea();return}if(Q&&Q.toString()!=J.toString()){var t=[d3.min([Q,J]),d3.max([Q,J])];D.options({xDomain:t}),D.update(!0),k.zoom({type:"zoom",xDomain:t})}Q=null,K=null,o.removeSelectArea(),_&&_.style("display","block")})}a.dispatch.on("onBrush",function(e){et(e)}),k.on("changeState",function(e){typeof e.disabled!="undefined"&&u.length===e.disabled.length&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),T.disabled=e.disabled),D.update()})}),A.renderEnd("lineChart immediate"),D}var t=e.models.line(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.interactiveGuideline(),o=e.zoomLayer(),u=e.models.tooltip(),a=e.models.focus(e.models.line()),f={top:30,right:20,bottom:50,left:60},l=e.utils.defaultColor(),c=null,h=null,p=!0,d="top",v=!0,m=!0,g=!1,y=!1,b,w,E=null,S=0,x=!1,T=e.utils.state(),N=null,C=null,k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","zoom"),L=250;n.orient("bottom").tickPadding(7),r.orient(g?"right":"left"),t.clipEdge(!0).duration(0),u.valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return n.tickFormat()(e,t)}),s.tooltip.valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return n.tickFormat()(e,t)});var A=e.utils.renderWatch(k,L),O=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},M=function(e){return function(t){t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},_;return t.dispatch.on("elementMouseover.tooltip",function(e){e.series.disableTooltip||u.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),D.dispatch=k,D.lines=t,D.legend=i,D.focus=a,D.xAxis=n,D.x2Axis=a.xAxis,D.yAxis=r,D.y2Axis=a.yAxis,D.interactiveLayer=s,D.tooltip=u,D.state=T,D.dispatch=k,D.options=e.utils.optionsFunc.bind(D),D._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return p},set:function(e){p=e}},legendPosition:{get:function(){return d},set:function(e){d=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},zoomType:{get:function(){return E},set:function(e){E=e}},minZoom:{get:function(){return S},set:function(e){S=e}},defaultState:{get:function(){return N},set:function(e){N=e}},noData:{get:function(){return C},set:function(e){C=e}},focusEnable:{get:function(){return x},set:function(e){x=e}},focusHeight:{get:function(){return a.height()},set:function(e){a.height(e)}},focusShowAxisX:{get:function(){return a.showXAxis()},set:function(e){a.showXAxis(e)}},focusShowAxisY:{get:function(){return a.showYAxis()},set:function(e){a.showYAxis(e)}},brushExtent:{get:function(){return a.brushExtent()},set:function(e){a.brushExtent(e)}},focusMargin:{get:function(){return a.margin},set:function(e){a.margin.top=e.top!==undefined?e.top:a.margin.top,a.margin.right=e.right!==undefined?e.right:a.margin.right,a.margin.bottom=e.bottom!==undefined?e.bottom:a.margin.bottom,a.margin.left=e.left!==undefined?e.left:a.margin.left}},margin:{get:function(){return f},set:function(e){f.top=e.top!==undefined?e.top:f.top,f.right=e.right!==undefined?e.right:f.right,f.bottom=e.bottom!==undefined?e.bottom:f.bottom,f.left=e.left!==undefined?e.left:f.left}},duration:{get:function(){return L},set:function(e){L=e,A.reset(L),t.duration(L),a.duration(L),n.duration(L),r.duration(L)}},color:{get:function(){return l},set:function(n){l=e.utils.getColor(n),i.color(l),t.color(l),a.color(l)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e),a.interpolate(e)}},xTickFormat:{get:function(){return n.tickFormat()},set:function(e){n.tickFormat(e),a.xTickFormat(e)}},yTickFormat:{get:function(){return r.tickFormat()},set:function(e){r.tickFormat(e),a.yTickFormat(e)}},x:{get:function(){return t.x()},set:function(e){t.x(e),a.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e),a.y(e)}},rightAlignYAxis:{get:function(){return g},set:function(e){g=e,r.orient(g?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,y&&(t.interactive(!1),t.useVoronoi(!1))}}}),e.utils.inheritOptions(D,t),e.utils.initOptions(D),D},e.models.lineWithFocusChart=function(){return e.models.lineChart().margin({bottom:30}).focusEnable(!0)},e.models.linePlusBarChart=function(){"use strict";function $(p){return p.each(function(p){function pt(e){var t=+(e=="e"),n=t?1:-1,r=K/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function dt(){h.empty()||h.extent(k),lt.data([h.empty()?A.domain():k]).each(function(e,t){var n=A(e[0])-A.range()[0],r=A.range()[1]-A(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",A(e[1])).attr("width",r<0?0:r)})}function vt(){k=h.empty()?null:h.extent(),C=h.empty()?A.domain():h.extent(),H.brush({extent:C,brush:h}),dt(),r.width(z).height(J).color(p.map(function(e,t){return e.color||w(e,t)}).filter(function(e,t){return!p[t].disabled&&p[t].bar})),t.width(z).height(J).color(p.map(function(e,t){return e.color||w(e,t)}).filter(function(e,t){return!p[t].disabled&&!p[t].bar}));var n=rt.select(".nv-focus .nv-barsWrap").datum(G.length?G.map(function(e,t){return{key:e.key,values:e.values.filter(function(e,t){return r.x()(e,t)>=C[0]&&r.x()(e,t)<=C[1]})}}):[{values:[]}]),i=rt.select(".nv-focus .nv-linesWrap").datum(V(Y)?[{values:[]}]:Y.filter(function(e){return!e.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,key:e.key,values:e.values.filter(function(e,n){return t.x()(e,n)>=C[0]&&t.x()(e,n)<=C[1]})}}));G.length&&!R?L=r.xScale():L=t.xScale(),s.scale(L)._ticks(e.utils.calcTicksX(z/100,p)).tickSize(-J,0),s.domain([Math.ceil(C[0]),Math.floor(C[1])]),rt.select(".nv-x.nv-axis").transition().duration(B).call(s),n.transition().duration(B).call(r),i.transition().duration(B).call(t),rt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),u.scale(O)._ticks(e.utils.calcTicksY(J/36,p)).tickSize(-z,0),a.scale(M)._ticks(e.utils.calcTicksY(J/36,p)),R?a.tickSize(Y.length?0:-z,0):a.tickSize(G.length?0:-z,0);var o=G.length?1:0,f=Y.length&&!V(Y)?1:0,l=R?f:o,c=R?o:f;rt.select(".nv-focus .nv-y1.nv-axis").style("opacity",l),rt.select(".nv-focus .nv-y2.nv-axis").style("opacity",c).attr("transform","translate("+L.range()[1]+",0)"),rt.select(".nv-focus .nv-y1.nv-axis").transition().duration(B).call(u),rt.select(".nv-focus .nv-y2.nv-axis").transition().duration(B).call(a)}var P=d3.select(this),U=this;e.utils.initSVG(P);var z=e.utils.availableWidth(m,P,d),J=e.utils.availableHeight(g,P,d)-(S?N:0),K=N-v.top-v.bottom;$.update=function(){P.transition().duration(B).call($)},$.container=this,j.setter(X(p),$.update).getter(W(p)).update(),j.disabled=p.map(function(e){return!!e.disabled});if(!F){var Q;F={};for(Q in j)j[Q]instanceof Array?F[Q]=j[Q].slice(0):F[Q]=j[Q]}if(!p||!p.length||!p.filter(function(e){return e.values.length}).length)return e.utils.noData($,P),$;P.selectAll(".nv-noData").remove();var G=p.filter(function(e){return!e.disabled&&e.bar}),Y=p.filter(function(e){return!e.bar});G.length&&!R?L=r.xScale():L=t.xScale(),A=o.scale(),O=R?t.yScale():r.yScale(),M=R?r.yScale():t.yScale(),_=R?n.yScale():i.yScale(),D=R?i.yScale():n.yScale();var Z=p.filter(function(e){return!e.disabled&&(R?!e.bar:e.bar)}).map(function(e){return e.values.map(function(e,t){return{x:y(e,t),y:b(e,t)}})}),et=p.filter(function(e){return!e.disabled&&(R?e.bar:!e.bar)}).map(function(e){return e.values.map(function(e,t){return{x:y(e,t),y:b(e,t)}})});L.range([0,z]),A.domain(d3.extent(d3.merge(Z.concat(et)),function(e){return e.x})).range([0,z]);var tt=P.selectAll("g.nv-wrap.nv-linePlusBar").data([p]),nt=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),rt=tt.select("g");nt.append("g").attr("class","nv-legendWrap");var it=nt.append("g").attr("class","nv-focus");it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap");var st=nt.append("g").attr("class","nv-context");st.append("g").attr("class","nv-x nv-axis"),st.append("g").attr("class","nv-y1 nv-axis"),st.append("g").attr("class","nv-y2 nv-axis"),st.append("g").attr("class","nv-barsWrap"),st.append("g").attr("class","nv-linesWrap"),st.append("g").attr("class","nv-brushBackground"),st.append("g").attr("class","nv-x nv-brush");if(!E)rt.select(".nv-legendWrap").selectAll("*").remove();else{var ot=c.align()?z/2:z,ut=c.align()?ot:0;c.width(ot),rt.select(".nv-legendWrap").datum(p.map(function(e){return e.originalKey=e.originalKey===undefined?e.key:e.originalKey,R?e.key=e.originalKey+(e.bar?q:I):e.key=e.originalKey+(e.bar?I:q),e})).call(c),d.top!=c.height()&&(d.top=c.height(),J=e.utils.availableHeight(g,P,d)-N),rt.select(".nv-legendWrap").attr("transform","translate("+ut+","+ -d.top+")")}tt.attr("transform","translate("+d.left+","+d.top+")"),rt.select(".nv-context").style("display",S?"initial":"none"),i.width(z).height(K).color(p.map(function(e,t){return e.color||w(e,t)}).filter(function(e,t){return!p[t].disabled&&p[t].bar})),n.width(z).height(K).color(p.map(function(e,t){return e.color||w(e,t)}).filter(function(e,t){return!p[t].disabled&&!p[t].bar}));var at=rt.select(".nv-context .nv-barsWrap").datum(G.length?G:[{values:[]}]),ft=rt.select(".nv-context .nv-linesWrap").datum(V(Y)?[{values:[]}]:Y.filter(function(e){return!e.disabled}));rt.select(".nv-context").attr("transform","translate(0,"+(J+d.bottom+v.top)+")"),at.transition().call(i),ft.transition().call(n),T&&(o._ticks(e.utils.calcTicksX(z/100,p)).tickSize(-K,0),rt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+_.range()[0]+")"),rt.select(".nv-context .nv-x.nv-axis").transition().call(o)),x&&(f.scale(_)._ticks(K/36).tickSize(-z,0),l.scale(D)._ticks(K/36).tickSize(G.length?0:-z,0),rt.select(".nv-context .nv-y3.nv-axis").style("opacity",G.length?1:0).attr("transform","translate(0,"+A.range()[0]+")"),rt.select(".nv-context .nv-y2.nv-axis").style("opacity",Y.length?1:0).attr("transform","translate("+A.range()[1]+",0)"),rt.select(".nv-context .nv-y1.nv-axis").transition().call(f),rt.select(".nv-context .nv-y2.nv-axis").transition().call(l)),h.x(A).on("brush",vt),k&&h.extent(k);var lt=rt.select(".nv-brushBackground").selectAll("g").data([k||h.extent()]),ct=lt.enter().append("g");ct.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),ct.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K);var ht=rt.select(".nv-x.nv-brush").call(h);ht.selectAll("rect").attr("height",K),ht.selectAll(".resize").append("path").attr("d",pt),c.dispatch.on("stateChange",function(e){for(var t in e)j[t]=e[t];H.stateChange(j),$.update()}),H.on("changeState",function(e){typeof e.disabled!="undefined"&&(p.forEach(function(t,n){t.disabled=e.disabled[n]}),j.disabled=e.disabled),$.update()}),vt()}),$}var t=e.models.line(),n=e.models.line(),r=e.models.historicalBar(),i=e.models.historicalBar(),s=e.models.axis(),o=e.models.axis(),u=e.models.axis(),a=e.models.axis(),f=e.models.axis(),l=e.models.axis(),c=e.models.legend(),h=d3.svg.brush(),p=e.models.tooltip(),d={top:30,right:30,bottom:30,left:60},v={top:0,right:30,bottom:20,left:60},m=null,g=null,y=function(e){return e.x},b=function(e){return e.y},w=e.utils.defaultColor(),E=!0,S=!0,x=!1,T=!0,N=50,C,k=null,L,A,O,M,_,D,P=null,H=d3.dispatch("brush","stateChange","changeState"),B=0,j=e.utils.state(),F=null,I=" (left axis)",q=" (right axis)",R=!1;t.clipEdge(!0),n.interactive(!1),n.pointActive(function(e){return!1}),s.orient("bottom").tickPadding(5),u.orient("left"),a.orient("right"),o.orient("bottom").tickPadding(5),f.orient("left"),l.orient("right"),p.headerEnabled(!0).headerFormatter(function(e,t){return s.tickFormat()(e,t)});var U=function(){return R?{main:u,focus:f}:{main:a,focus:l}},z=function(){return R?{main:a,focus:l}:{main:u,focus:f}},W=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},X=function(e){return function(t){t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},V=function(e){return e.every(function(e){return e.disabled})};return t.dispatch.on("elementMouseover.tooltip",function(e){p.duration(100).valueFormatter(function(e,t){return z().main.tickFormat()(e,t)}).data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){p.hidden(!0)}),r.dispatch.on("elementMouseover.tooltip",function(e){e.value=$.x()(e.data),e.series={value:$.y()(e.data),color:e.color},p.duration(0).valueFormatter(function(e,t){return U().main.tickFormat()(e,t)}).data(e).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(e){p.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(e){p()}),$.dispatch=H,$.legend=c,$.lines=t,$.lines2=n,$.bars=r,$.bars2=i,$.xAxis=s,$.x2Axis=o,$.y1Axis=u,$.y2Axis=a,$.y3Axis=f,$.y4Axis=l,$.tooltip=p,$.options=e.utils.optionsFunc.bind($),$._options=Object.create({},{width:{get:function(){return m},set:function(e){m=e}},height:{get:function(){return g},set:function(e){g=e}},showLegend:{get:function(){return E},set:function(e){E=e}},brushExtent:{get:function(){return k},set:function(e){k=e}},noData:{get:function(){return P},set:function(e){P=e}},focusEnable:{get:function(){return S},set:function(e){S=e}},focusHeight:{get:function(){return N},set:function(e){N=e}},focusShowAxisX:{get:function(){return T},set:function(e){T=e}},focusShowAxisY:{get:function(){return x},set:function(e){x=e}},legendLeftAxisHint:{get:function(){return I},set:function(e){I=e}},legendRightAxisHint:{get:function(){return q},set:function(e){q=e}},margin:{get:function(){return d},set:function(e){d.top=e.top!==undefined?e.top:d.top,d.right=e.right!==undefined?e.right:d.right,d.bottom=e.bottom!==undefined?e.bottom:d.bottom,d.left=e.left!==undefined?e.left:d.left}},focusMargin:{get:function(){return v},set:function(e){v.top=e.top!==undefined?e.top:v.top,v.right=e.right!==undefined?e.right:v.right,v.bottom=e.bottom!==undefined?e.bottom:v.bottom,v.left=e.left!==undefined?e.left:v.left}},duration:{get:function(){return B},set:function(e){B=e}},color:{get:function(){return w},set:function(t){w=e.utils.getColor(t),c.color(w)}},x:{get:function(){return y},set:function(e){y=e,t.x(e),n.x(e),r.x(e),i.x(e)}},y:{get:function(){return b},set:function(e){b=e,t.y(e),n.y(e),r.y(e),i.y(e)}},switchYAxisOrder:{get:function(){return R},set:function(e){if(R!==e){var t=u;u=a,a=t;var n=f;f=l,l=n}R=e,u.orient("left"),a.orient("right"),f.orient("left"),l.orient("right")}}}),e.utils.inheritOptions($,t),e.utils.initOptions($),$},e.models.multiBar=function(){"use strict";function O(M){return L.reset(),M.each(function(O){var M=n-t.left-t.right,_=r-t.top-t.bottom;u=d3.select(this),e.utils.initSVG(u);var D=0,P=function(e,t){return e.series===O.length-1&&t===O[0].values.length-1?!0:!1};v&&O.length&&(v=[{values:O[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}]);if(h){var H=d3.layout.stack().offset(p).values(function(e){return e.values}).y(f)(!O.length&&v?v:O);H.forEach(function(e,t){e.nonStackable?(O[t].nonStackableSeries=D++,H[t]=O[t]):t>0&&H[t-1].nonStackable&&H[t].values.map(function(e,n){e.y0-=H[t-1].values[n].y,e.y1=e.y0+e.y})}),O=H}O.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),h&&O.length>0&&O[0].values.map(function(e,t){var n=0,r=0;O.map(function(e,i){if(!O[i].nonStackable){var s=e.values[t];s.size=Math.abs(s.y),s.y<0?(s.y1=r,r-=s.size):(s.y1=s.size+n,n+=s.size)}})});var B=b&&w?[]:O.map(function(e,t){return e.values.map(function(e,n){return{x:a(e,n),y:f(e,n),y0:e.y0,y1:e.y1,idx:t}})});i.domain(b||d3.merge(B).map(function(e){return e.x})).rangeBands(E||[0,M],x),s.domain(w||d3.extent(d3.merge(B).map(function(e){var t=e.y;return h&&!O[e.idx].nonStackable&&(e.y>0?t=e.y1:t=e.y1+e.y),t}).concat(l))).range(S||[_,0]),i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*.01,i.domain()[1]+i.domain()[1]*.01]):i.domain([-1,1])),s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]+s.domain()[0]*.01,s.domain()[1]-s.domain()[1]*.01]):s.domain([-1,1])),C=C||i,k=k||s;var j=u.selectAll("g.nv-wrap.nv-multibar").data([O]),F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=F.append("defs"),q=F.append("g"),R=j.select("g");q.append("g").attr("class","nv-groups"),j.attr("transform","translate("+t.left+","+t.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect"),j.select("#nv-edge-clip-"+o+" rect").attr("width",M).attr("height",_),R.attr("clip-path",c?"url(#nv-edge-clip-"+o+")":"");var U=j.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});U.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var z=L.transition(U.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,y)).attr("y",function(e,t,n){var r=k(0)||0;return h&&O[e.series]&&!O[e.series].nonStackable&&(r=k(e.y0)),r}).attr("height",0).remove();z.delay&&z.delay(function(e,t){var n=t*(y/(A+1))-t;return n}),U.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return d(e,t)}).style("stroke",function(e,t){return d(e,t)}),U.style("stroke-opacity",1).style("fill-opacity",T);var W=U.selectAll("rect.nv-bar").data(function(e){return v&&!O.length?v.values:e.values});W.exit().remove();var X=W.enter().append("rect").attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,t,n){return h&&!O[n].nonStackable?0:n*i.rangeBand()/O.length}).attr("y",function(e,t,n){return k(h&&!O[n].nonStackable?e.y0:0)||0}).attr("height",0).attr("width",function(e,t,n){return i.rangeBand()/(h&&!O[n].nonStackable?1:O.length)}).attr("transform",function(e,t){return"translate("+i(a(e,t))+",0)"});W.style("fill",function(e,t,n){return d(e,n,t)}).style("stroke",function(e,t,n){return d(e,n,t)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),N.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),N.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){N.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){var n=this;N.elementClick({data:e,index:t,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(e,t){N.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),W.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(e,t){return"translate("+i(a(e,t))+",0)"}),m&&(g||(g=O.map(function(){return!0})),W.style("fill",function(e,t,n){return d3.rgb(m(e,t)).darker(g.map(function(e,t){return t}).filter(function(e,t){return!g[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(m(e,t)).darker(g.map(function(e,t){return t}).filter(function(e,t){return!g[t]})[n]).toString()}));var V=W.watchTransition(L,"multibar",Math.min(250,y)).delay(function(e,t){return t*y/O[0].values.length});h?V.attr("y",function(e,t,n){var r=0;return O[n].nonStackable?f(e,t)<0?r=s(0):s(0)-s(f(e,t))<-1?r=s(0)-1:r=s(f(e,t))||0:r=s(e.y1),r}).attr("height",function(e,t,n){return O[n].nonStackable?Math.max(Math.abs(s(f(e,t))-s(0)),0)||0:Math.max(Math.abs(s(e.y+e.y0)-s(e.y0)),0)}).attr("x",function(e,t,n){var r=0;return O[n].nonStackable&&(r=e.series*i.rangeBand()/O.length,O.length!==D&&(r=O[n].nonStackableSeries*i.rangeBand()/(D*2))),r}).attr("width",function(e,t,n){if(!O[n].nonStackable)return i.rangeBand();var r=i.rangeBand()/D;return O.length!==D&&(r=i.rangeBand()/(D*2)),r}):V.attr("x",function(e,t){return e.series*i.rangeBand()/O.length}).attr("width",i.rangeBand()/O.length).attr("y",function(e,t){return f(e,t)<0?s(0):s(0)-s(f(e,t))<1?s(0)-1:s(f(e,t))||0}).attr("height",function(e,t){return Math.max(Math.abs(s(f(e,t))-s(0)),1)||0}),C=i.copy(),k=s.copy(),O[0]&&O[0].values&&(A=O[0].values.length)}),L.renderEnd("multibar immediate"),O}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=d3.scale.ordinal(),s=d3.scale.linear(),o=Math.floor(Math.random()*1e4),u=null,a=function(e){return e.x},f=function(e){return e.y},l=[0],c=!0,h=!1,p="zero",d=e.utils.defaultColor(),v=!1,m=null,g,y=500,b,w,E,S,x=.1,T=.75,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C,k,L=e.utils.renderWatch(N,y),A=0;return O.dispatch=N,O.options=e.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},xScale:{get:function(){return i},set:function(e){i=e}},yScale:{get:function(){return s},set:function(e){s=e}},xDomain:{get:function(){return b},set:function(e){b=e}},yDomain:{get:function(){return w},set:function(e){w=e}},xRange:{get:function(){return E},set:function(e){E=e}},yRange:{get:function(){return S},set:function(e){S=e}},forceY:{get:function(){return l},set:function(e){l=e}},stacked:{get:function(){return h},set:function(e){h=e}},stackOffset:{get:function(){return p},set:function(e){p=e}},clipEdge:{get:function(){return c},set:function(e){c=e}},disabled:{get:function(){return g},set:function(e){g=e}},id:{get:function(){return o},set:function(e){o=e}},hideable:{get:function(){return v},set:function(e){v=e}},groupSpacing:{get:function(){return x},set:function(e){x=e}},fillOpacity:{get:function(){return T},set:function(e){T=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},duration:{get:function(){return y},set:function(e){y=e,L.reset(y)}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t)}},barColor:{get:function(){return m},set:function(t){m=t?e.utils.getColor(t):null}}}),e.utils.initOptions(O),O},e.models.multiBarChart=function(){"use strict";function H(C){return M.reset(),M.models(t),v&&M.models(n),m&&M.models(r),C.each(function(C){var M=d3.select(this),B=this;e.utils.initSVG(M);var j=e.utils.availableWidth(f,M,a),F=e.utils.availableHeight(l,M,a);H.update=function(){A===0?M.call(H):M.transition().duration(A).call(H)},H.container=this,T.setter(P(C),H.update).getter(D(C)).update(),T.disabled=C.map(function(e){return!!e.disabled});if(!N){var I;N={};for(I in T)T[I]instanceof Array?N[I]=T[I].slice(0):N[I]=T[I]}if(!C||!C.length||!C.filter(function(e){return e.values.length}).length)return e.utils.noData(H,M),H;M.selectAll(".nv-noData").remove(),S=t.xScale(),x=t.yScale();var q=M.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),R=q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),U=q.select("g");R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),R.append("g").attr("class","nv-interactive"),d?(s.width(j-L()),U.select(".nv-legendWrap").datum(C).call(s),a.top!=s.height()&&(a.top=s.height(),F=e.utils.availableHeight(l,M,a)),U.select(".nv-legendWrap").attr("transform","translate("+L()+","+ -a.top+")")):U.select(".nv-legendWrap").selectAll("*").remove();if(!h)U.select(".nv-controlsWrap").selectAll("*").remove();else{var z=[{key:p.grouped||"Grouped",disabled:t.stacked()},{key:p.stacked||"Stacked",disabled:!t.stacked()}];o.width(L()).color(["#444","#444","#444"]),U.select(".nv-controlsWrap").datum(z).attr("transform","translate(0,"+ -a.top+")").call(o)}q.attr("transform","translate("+a.left+","+a.top+")"),g&&U.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),t.disabled(C.map(function(e){return e.disabled})).width(j).height(F).color(C.map(function(e,t){return e.color||c(e,t)}).filter(function(e,t){return!C[t].disabled}));var W=U.select(".nv-barsWrap").datum(C.filter(function(e){return!e.disabled}));W.call(t);if(v){n.scale(S)._ticks(e.utils.calcTicksX(j/100,C)).tickSize(-F,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")"),U.select(".nv-x.nv-axis").call(n);var X=U.select(".nv-x.nv-axis > g").selectAll("g");X.selectAll("line, text").style("opacity",1);if(b){var V=function(e,t){return"translate("+e+","+t+")"},$=5,J=17;X.selectAll("text").attr("transform",function(e,t,n){return V(0,n%2==0?$:J)});var K=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;U.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(e,t){return V(0,t===0||K%2!==0?J:$)})}w&&U.selectAll(".tick text").call(e.utils.wrapTicks,H.xAxis.rangeBand()),y&&X.filter(function(e,t){return t%Math.ceil(C[0].values.length/(j/100))!==0}).selectAll("text, line").style("opacity",0),E&&X.selectAll(".tick text").attr("transform","rotate("+E+" 0,0)").style("text-anchor",E>0?"start":"end"),U.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}m&&(r.scale(x)._ticks(e.utils.calcTicksY(F/36,C)).tickSize(-j,0),U.select(".nv-y.nv-axis").call(r)),O&&(i.width(j).height(F).margin({left:a.left,top:a.top}).svgContainer(M).xScale(S),q.select(".nv-interactive").call(i)),s.dispatch.on("stateChange",function(e){for(var t in e)T[t]=e[t];k.stateChange(T),H.update()}),o.dispatch.on("legendClick",function(e,n){if(!e.disabled)return;z=z.map(function(e){return e.disabled=!0,e}),e.disabled=!1;switch(e.key){case"Grouped":case p.grouped:t.stacked(!1);break;case"Stacked":case p.stacked:t.stacked(!0)}T.stacked=t.stacked(),k.stateChange(T),H.update()}),k.on("changeState",function(e){typeof e.disabled!="undefined"&&(C.forEach(function(t,n){t.disabled=e.disabled[n]}),T.disabled=e.disabled),typeof e.stacked!="undefined"&&(t.stacked(e.stacked),T.stacked=e.stacked,_=e.stacked),H.update()}),O?(i.dispatch.on("elementMousemove",function(e){if(e.pointXValue==undefined)return;var t,n,r,s,o=[];C.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(i,u){n=S.domain().indexOf(e.pointXValue);var a=i.values[n];if(a===undefined)return;s=a.x,t===undefined&&(t=a),r===undefined&&(r=e.mouseX),o.push({key:i.key,value:H.y()(a,n),color:c(i,i.seriesIndex),data:i.values[n]})}),i.tooltip.chartContainer(B.parentNode).data({value:s,index:n,series:o})(),i.renderGuideLine(r)}),i.dispatch.on("elementMouseout",function(e){i.tooltip.hidden(!0)})):(t.dispatch.on("elementMouseover.tooltip",function(e){e.value=H.x()(e.data),e.series={key:e.data.key,value:H.y()(e.data),color:e.color},u.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){u()}))}),M.renderEnd("multibarchart immediate"),H}var t=e.models.multiBar(),n=e.models.axis(),r=e.models.axis(),i=e.interactiveGuideline(),s=e.models.legend(),o=e.models.legend(),u=e.models.tooltip(),a={top:30,right:20,bottom:50,left:60},f=null,l=null,c=e.utils.defaultColor(),h=!0,p={},d=!0,v=!0,m=!0,g=!1,y=!0,b=!1,w=!1,E=0,S,x,T=e.utils.state(),N=null,C=null,k=d3.dispatch("stateChange","changeState","renderEnd"),L=function(){return h?180:0},A=250,O=!1;T.stacked=!1,t.stacked(!1),n.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(e){return e}),r.orient(g?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return n.tickFormat()(e,t)}),o.updateState(!1);var M=e.utils.renderWatch(k),_=!1,D=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:_}}},P=function(e){return function(t){t.stacked!==undefined&&(_=t.stacked),t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return H.dispatch=k,H.multibar=t,H.legend=s,H.controls=o,H.xAxis=n,H.yAxis=r,H.state=T,H.tooltip=u,H.interactiveLayer=i,H.options=e.utils.optionsFunc.bind(H),H._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return l},set:function(e){l=e}},showLegend:{get:function(){return d},set:function(e){d=e}},showControls:{get:function(){return h},set:function(e){h=e}},controlLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},defaultState:{get:function(){return N},set:function(e){N=e}},noData:{get:function(){return C},set:function(e){C=e}},reduceXTicks:{get:function(){return y},set:function(e){y=e}},rotateLabels:{get:function(){return E},set:function(e){E=e}},staggerLabels:{get:function(){return b},set:function(e){b=e}},wrapLabels:{get:function(){return w},set:function(e){w=!!e}},margin:{get:function(){return a},set:function(e){a.top=e.top!==undefined?e.top:a.top,a.right=e.right!==undefined?e.right:a.right,a.bottom=e.bottom!==undefined?e.bottom:a.bottom,a.left=e.left!==undefined?e.left:a.left}},duration:{get:function(){return A},set:function(e){A=e,t.duration(A),n.duration(A),r.duration(A),M.reset(A)}},color:{get:function(){return c},set:function(t){c=e.utils.getColor(t),s.color(c)}},rightAlignYAxis:{get:function(){return g},set:function(e){g=e,r.orient(g?"right":"left")}},useInteractiveGuideline:{get:function(){return O},set:function(e){O=e}},barColor:{get:function(){return t.barColor},set:function(e){t.barColor(e),s.color(function(e,t){return d3.rgb("#ccc").darker(t*1.5).toString()})}}}),e.utils.inheritOptions(H,t),e.utils.initOptions(H),H},e.models.multiBarHorizontal=function(){"use strict";function _(i){return M.reset(),i.each(function(i){var S=n-t.left-t.right,k=r-t.top-t.bottom;s=d3.select(this),e.utils.initSVG(s),v&&(i=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(f)(i)),i.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),v&&i[0].values.map(function(e,t){var n=0,r=0;i.map(function(e){var i=e.values[t];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var _=x&&T?[]:i.map(function(e){return e.values.map(function(e,t){return{x:a(e,t),y:f(e,t),y0:e.y0,y1:e.y1}})});o.domain(x||d3.merge(_).map(function(e){return e.x})).rangeBands(N||[0,k],b),u.domain(T||d3.extent(d3.merge(_).map(function(e){return v?e.y>0?e.y1+e.y:e.y1:e.y}).concat(c))),m&&!v?u.range(C||[u.domain()[0]<0?y:0,S-(u.domain()[1]>0?y:0)]):u.range(C||[0,S]),A=A||o,O=O||d3.scale.linear().domain(u.domain()).range([u(0),u(0)]);var D=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([i]),P=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),H=P.append("defs"),B=P.append("g"),j=D.select("g");B.append("g").attr("class","nv-groups"),D.attr("transform","translate("+t.left+","+t.top+")");var F=D.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});F.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),F.exit().watchTransition(M,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),F.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return h(e,t)}).style("stroke",function(e,t){return h(e,t)}),F.watchTransition(M,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",w);var I=F.selectAll("g.nv-bar").data(function(e){return e.values});I.exit().remove();var q=I.enter().append("g").attr("transform",function(e,t,n){return"translate("+O(v?e.y0:0)+","+(v?0:n*o.rangeBand()/i.length+o(a(e,t)))+")"});q.append("rect").attr("width",0).attr("height",o.rangeBand()/(v?1:i.length)),I.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),L.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),L.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){L.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){L.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){var n=this;L.elementClick({data:e,index:t,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(e,t){L.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),l(i[0],0)&&(q.append("polyline"),I.select("polyline").attr("fill","none").attr("points",function(e,t){var n=l(e,t),r=.8*o.rangeBand()/((v?1:i.length)*2);n=n.length?n:[-Math.abs(n),Math.abs(n)],n=n.map(function(e){return u(e)-u(0)});var s=[[n[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]];return s.map(function(e){return e.join(",")}).join(" ")}).attr("transform",function(e,t){var n=o.rangeBand()/((v?1:i.length)*2);return"translate("+(f(e,t)<0?0:u(f(e,t))-u(0))+", "+n+")"})),q.append("text"),m&&!v?(I.select("text").attr("text-anchor",function(e,t){return f(e,t)<0?"end":"start"}).attr("y",o.rangeBand()/(i.length*2)).attr("dy",".32em").text(function(e,t){var n=E(f(e,t)),r=l(e,t);return r===undefined?n:r.length?n+"+"+E(Math.abs(r[1]))+"-"+E(Math.abs(r[0])):n+"±"+E(Math.abs(r))}),I.watchTransition(M,"multibarhorizontal: bars").select("text").attr("x",function(e,t){return f(e,t)<0?-4:u(f(e,t))-u(0)+4})):I.selectAll("text").text(""),g&&!v?(q.append("text").classed("nv-bar-label",!0),I.select("text.nv-bar-label").attr("text-anchor",function(e,t){return f(e,t)<0?"start":"end"}).attr("y",o.rangeBand()/(i.length*2)).attr("dy",".32em").text(function(e,t){return a(e,t)}),I.watchTransition(M,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(e,t){return f(e,t)<0?u(0)-u(f(e,t))+4:-4})):I.selectAll("text.nv-bar-label").text(""),I.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}),p&&(d||(d=i.map(function(){return!0})),I.style("fill",function(e,t,n){return d3.rgb(p(e,t)).darker(d.map(function(e,t){return t}).filter(function(e,t){return!d[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(p(e,t)).darker(d.map(function(e,t){return t}).filter(function(e,t){return!d[t]})[n]).toString()}));if(v)I.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(e,t){return"translate("+u(e.y1)+","+o(a(e,t))+")"}).select("rect").attr("width",function(e,t){return Math.abs(u(f(e,t)+e.y0)-u(e.y0))||0}).attr("height",o.rangeBand());else{var R;i.length==1?R=o.rangeBand()/2:R=o.rangeBand()/i.length,I.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(e,t){return"translate("+(f(e,t)<0?u(f(e,t)):u(0))+","+(e.series*o.rangeBand()/i.length+(i.length==1?o.rangeBand()/4:0)+o(a(e,t)))+")"}).select("rect").attr("height",R).attr("width",function(e,t){return Math.max(Math.abs(u(f(e,t))-u(0)),1)||0})}A=o.copy(),O=u.copy()}),M.renderEnd("multibarHorizontal immediate"),_}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=null,o=d3.scale.ordinal(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=function(e){return e.yErr},c=[0],h=e.utils.defaultColor(),p=null,d,v=!1,m=!1,g=!1,y=60,b=.1,w=.75,E=d3.format(",.2f"),S=1200,x,T,N,C,k=250,L=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),A,O,M=e.utils.renderWatch(L,k);return _.dispatch=L,_.options=e.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},yErr:{get:function(){return l},set:function(e){l=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return x},set:function(e){x=e}},yDomain:{get:function(){return T},set:function(e){T=e}},xRange:{get:function(){return N},set:function(e){N=e}},yRange:{get:function(){return C},set:function(e){C=e}},forceY:{get:function(){return c},set:function(e){c=e}},stacked:{get:function(){return v},set:function(e){v=e}},showValues:{get:function(){return m},set:function(e){m=e}},disabled:{get:function(){return d},set:function(e){d=e}},id:{get:function(){return i},set:function(e){i=e}},valueFormat:{get:function(){return E},set:function(e){E=e}},valuePadding:{get:function(){return y},set:function(e){y=e}},groupSpacing:{get:function(){return b},set:function(e){b=e}},fillOpacity:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},duration:{get:function(){return k},set:function(e){k=e,M.reset(k)}},color:{get:function(){return h},set:function(t){h=e.utils.getColor(t)}},barColor:{get:function(){return p},set:function(t){p=t?e.utils.getColor(t):null}}}),e.utils.initOptions(_),_},e.models.multiBarHorizontalChart=function(){"use strict";function L(o){return k.reset(),k.models(t),d&&k.models(n),v&&k.models(r),o.each(function(o){var E=d3.select(this),k=this;e.utils.initSVG(E);var A=e.utils.availableWidth(a,E,u),O=e.utils.availableHeight(f,E,u);L.update=function(){E.transition().duration(T).call(L)},L.container=this,m=t.stacked(),b.setter(C(o),L.update).getter(N(o)).update(),b.disabled=o.map(function(e){return!!e.disabled});if(!w){var M;w={};for(M in b)b[M]instanceof Array?w[M]=b[M].slice(0):w[M]=b[M]}if(!o||!o.length||!o.filter(function(e){return e.values.length}).length)return e.utils.noData(L,E),L;E.selectAll(".nv-noData").remove(),g=t.xScale(),y=t.yScale().clamp(!0);var _=E.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([o]),D=_.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),P=_.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-controlsWrap"),p?(i.width(A-x()),P.select(".nv-legendWrap").datum(o).call(i),u.top!=i.height()&&(u.top=i.height(),O=e.utils.availableHeight(f,E,u)),P.select(".nv-legendWrap").attr("transform","translate("+x()+","+ -u.top+")")):P.select(".nv-legendWrap").selectAll("*").remove();if(!c)P.select(".nv-controlsWrap").selectAll("*").remove();else{var H=[{key:h.grouped||"Grouped",disabled:t.stacked()},{key:h.stacked||"Stacked",disabled:!t.stacked()}];s.width(x()).color(["#444","#444","#444"]),P.select(".nv-controlsWrap").datum(H).attr("transform","translate(0,"+ -u.top+")").call(s)}_.attr("transform","translate("+u.left+","+u.top+")"),t.disabled(o.map(function(e){return e.disabled})).width(A).height(O).color(o.map(function(e,t){return e.color||l(e,t)}).filter(function(e,t){return!o[t].disabled}));var B=P.select(".nv-barsWrap").datum(o.filter(function(e){return!e.disabled}));B.transition().call(t);if(d){n.scale(g)._ticks(e.utils.calcTicksY(O/24,o)).tickSize(-A,0),P.select(".nv-x.nv-axis").call(n);var j=P.select(".nv-x.nv-axis").selectAll("g");j.selectAll("line, text")}v&&(r.scale(y)._ticks(e.utils.calcTicksX(A/100,o)).tickSize(-O,0),P.select(".nv-y.nv-axis").attr("transform","translate(0,"+O+")"),P.select(".nv-y.nv-axis").call(r)),P.select(".nv-zeroLine line").attr("x1",y(0)).attr("x2",y(0)).attr("y1",0).attr("y2",-O),i.dispatch.on("stateChange",function(e){for(var t in e)b[t]=e[t];S.stateChange(b),L.update()}),s.dispatch.on("legendClick",function(e,n){if(!e.disabled)return;H=H.map(function(e){return e.disabled=!0,e}),e.disabled=!1;switch(e.key){case"Grouped":case h.grouped:t.stacked(!1);break;case"Stacked":case h.stacked:t.stacked(!0)}b.stacked=t.stacked(),S.stateChange(b),m=t.stacked(),L.update()}),S.on("changeState",function(e){typeof e.disabled!="undefined"&&(o.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),typeof e.stacked!="undefined"&&(t.stacked(e.stacked),b.stacked=e.stacked,m=e.stacked),L.update()})}),k.renderEnd("multibar horizontal chart immediate"),L}var t=e.models.multiBarHorizontal(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend().height(30),s=e.models.legend().height(30),o=e.models.tooltip(),u={top:30,right:20,bottom:50,left:60},a=null,f=null,l=e.utils.defaultColor(),c=!0,h={},p=!0,d=!0,v=!0,m=!1,g,y,b=e.utils.state(),w=null,E=null,S=d3.dispatch("stateChange","changeState","renderEnd"),x=function(){return c?180:0},T=250;b.stacked=!1,t.stacked(m),n.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(e){return e}),r.orient("bottom").tickFormat(d3.format(",.1f")),o.duration(0).valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return n.tickFormat()(e,t)}),s.updateState(!1);var N=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:m}}},C=function(e){return function(t){t.stacked!==undefined&&(m=t.stacked),t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},k=e.utils.renderWatch(S,T);return t.dispatch.on("elementMouseover.tooltip",function(e){e.value=L.x()(e.data),e.series={key:e.data.key,value:L.y()(e.data),color:e.color},o.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){o.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){o()}),L.dispatch=S,L.multibar=t,L.legend=i,L.controls=s,L.xAxis=n,L.yAxis=r,L.state=b,L.tooltip=o,L.options=e.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return p},set:function(e){p=e}},showControls:{get:function(){return c},set:function(e){c=e}},controlLabels:{get:function(){return h},set:function(e){h=e}},showXAxis:{get:function(){return d},set:function(e){d=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return w},set:function(e){w=e}},noData:{get:function(){return E},set:function(e){E=e}},margin:{get:function(){return u},set:function(e){u.top=e.top!==undefined?e.top:u.top,u.right=e.right!==undefined?e.right:u.right,u.bottom=e.bottom!==undefined?e.bottom:u.bottom,u.left=e.left!==undefined?e.left:u.left}},duration:{get:function(){return T},set:function(e){T=e,k.reset(T),t.duration(T),n.duration(T),r.duration(T)}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t),i.color(l)}},barColor:{get:function(){return t.barColor},set:function(e){t.barColor(e),i.color(function(e,t){return d3.rgb("#ccc").darker(t*1.5).toString()})}}}),e.utils.inheritOptions(L,t),e.utils.initOptions(L),L},e.models.multiChart=function(){"use strict";function P(o){return o.each(function(o){function ft(e){var t=o[e.seriesIndex].yAxis===2?A:L;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color,key:e.series.key},M.duration(0).headerFormatter(function(e,t){return k.tickFormat()(e,t)}).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}function lt(e){var t=o[e.seriesIndex].yAxis===2?A:L;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color,key:e.series.key},M.duration(100).headerFormatter(function(e,t){return k.tickFormat()(e,t)}).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}function ct(e){var t=o[e.seriesIndex].yAxis===2?A:L;e.point.x=N.x()(e.point),e.point.y=N.y()(e.point),M.duration(0).headerFormatter(function(e,t){return k.tickFormat()(e,t)}).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}function ht(e){var t=o[e.data.series].yAxis===2?A:L;e.value=x.x()(e.data),e.series={value:x.y()(e.data),color:e.color,key:e.data.key},M.duration(0).headerFormatter(function(e,t){return k.tickFormat()(e,t)}).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}function pt(){for(var e=0,t=D.length;e<t;e++){var n=D[e];try{n.clearHighlights()}catch(r){}}}function dt(e,t,n){for(var r=0,i=D.length;r<i;r++){var s=D[r];try{s.highlightPoint(e,t,n)}catch(o){}}}var h=d3.select(this),_=this;e.utils.initSVG(h),P.update=function(){h.transition().call(P)},P.container=this;var H=e.utils.availableWidth(r,h,t),B=e.utils.availableHeight(i,h,t),j=o.filter(function(e){return e.type=="line"&&e.yAxis==1}),F=o.filter(function(e){return e.type=="line"&&e.yAxis==2}),I=o.filter(function(e){return e.type=="scatter"&&e.yAxis==1}),q=o.filter(function(e){return e.type=="scatter"&&e.yAxis==2}),R=o.filter(function(e){return e.type=="bar"&&e.yAxis==1}),U=o.filter(function(e){return e.type=="bar"&&e.yAxis==2}),z=o.filter(function(e){return e.type=="area"&&e.yAxis==1}),W=o.filter(function(e){return e.type=="area"&&e.yAxis==2});if(!o||!o.length||!o.filter(function(e){return e.values.length}).length)return e.utils.noData(P,h),P;h.selectAll(".nv-noData").remove();var X=o.filter(function(e){return!e.disabled&&e.yAxis==1}).map(function(e){return e.values.map(function(e,t){return{x:f(e),y:l(e)}})}),V=o.filter(function(e){return!e.disabled&&e.yAxis==2}).map(function(e){return e.values.map(function(e,t){return{x:f(e),y:l(e)}})});m.domain(d3.extent(d3.merge(X.concat(V)),function(e){return e.x})).range([0,H]);var $=h.selectAll("g.wrap.multiChart").data([o]),J=$.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");J.append("g").attr("class","nv-x nv-axis"),J.append("g").attr("class","nv-y1 nv-axis"),J.append("g").attr("class","nv-y2 nv-axis"),J.append("g").attr("class","stack1Wrap"),J.append("g").attr("class","stack2Wrap"),J.append("g").attr("class","bars1Wrap"),J.append("g").attr("class","bars2Wrap"),J.append("g").attr("class","scatters1Wrap"),J.append("g").attr("class","scatters2Wrap"),J.append("g").attr("class","lines1Wrap"),J.append("g").attr("class","lines2Wrap"),J.append("g").attr("class","legendWrap"),J.append("g").attr("class","nv-interactive");var K=$.select("g"),Q=o.map(function(e,t){return o[t].color||n(e,t)});if(!s)K.select(".legendWrap").selectAll("*").remove();else{var G=O.align()?H/2:H,Y=O.align()?G:0;O.width(G),O.color(Q),K.select(".legendWrap").datum(o.map(function(e){return e.originalKey=e.originalKey===undefined?e.key:e.originalKey,e.key=e.originalKey+(e.yAxis==1?"":v),e})).call(O),t.top!=O.height()&&(t.top=O.height(),B=e.utils.availableHeight(i,h,t)),K.select(".legendWrap").attr("transform","translate("+Y+","+ -t.top+")")}b.width(H).height(B).interpolate(c).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==1&&o[t].type=="line"})),w.width(H).height(B).interpolate(c).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==2&&o[t].type=="line"})),E.width(H).height(B).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==1&&o[t].type=="scatter"})),S.width(H).height(B).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==2&&o[t].type=="scatter"})),x.width(H).height(B).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==1&&o[t].type=="bar"})),T.width(H).height(B).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==2&&o[t].type=="bar"})),N.width(H).height(B).interpolate(c).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==1&&o[t].type=="area"})),C.width(H).height(B).interpolate(c).color(Q.filter(function(e,t){return!o[t].disabled&&o[t].yAxis==2&&o[t].type=="area"})),K.attr("transform","translate("+t.left+","+t.top+")");var Z=K.select(".lines1Wrap").datum(j.filter(function(e){return!e.disabled})),et=K.select(".scatters1Wrap").datum(I.filter(function(e){return!e.disabled})),tt=K.select(".bars1Wrap").datum(R.filter(function(e){return!e.disabled})),nt=K.select(".stack1Wrap").datum(z.filter(function(e){return!e.disabled})),rt=K.select(".lines2Wrap").datum(F.filter(function(e){return!e.disabled})),it=K.select(".scatters2Wrap").datum(q.filter(function(e){return!e.disabled})),st=K.select(".bars2Wrap").datum(U.filter(function(e){return!e.disabled})),ot=K.select(".stack2Wrap").datum(W.filter(function(e){return!e.disabled})),ut=z.length?z.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],at=W.length?W.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];g.domain(u||d3.extent(d3.merge(X).concat(ut),function(e){return e.y})).range([0,B]),y.domain(a||d3.extent(d3.merge(V).concat(at),function(e){return e.y})).range([0,B]),b.yDomain(g.domain()),E.yDomain(g.domain()),x.yDomain(g.domain()),N.yDomain(g.domain()),w.yDomain(y.domain()),S.yDomain(y.domain()),T.yDomain(y.domain()),C.yDomain(y.domain()),z.length&&d3.transition(nt).call(N),W.length&&d3.transition(ot).call(C),R.length&&d3.transition(tt).call(x),U.length&&d3.transition(st).call(T),j.length&&d3.transition(Z).call(b),F.length&&d3.transition(rt).call(w),I.length&&d3.transition(et).call(E),q.length&&d3.transition(it).call(S),k._ticks(e.utils.calcTicksX(H/100,o)).tickSize(-B,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+B+")"),d3.transition(K.select(".nv-x.nv-axis")).call(k),L._ticks(e.utils.calcTicksY(B/36,o)).tickSize(-H,0),d3.transition(K.select(".nv-y1.nv-axis")).call(L),A._ticks(e.utils.calcTicksY(B/36,o)).tickSize(-H,0),d3.transition(K.select(".nv-y2.nv-axis")).call(A),K.select(".nv-y1.nv-axis").classed("nv-disabled",X.length?!1:!0).attr("transform","translate("+m.range()[0]+",0)"),K.select(".nv-y2.nv-axis").classed("nv-disabled",V.length?!1:!0).attr("transform","translate("+m.range()[1]+",0)"),O.dispatch.on("stateChange",function(e){P.update()}),d&&(p.width(H).height(B).margin({left:t.left,top:t.top}).svgContainer(h).xScale(m),$.select(".nv-interactive").call(p)),d?(p.dispatch.on("elementMousemove",function(t){pt();var r,i,s,u=[];o.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(o,a){var f=m.domain(),l=o.values.filter(function(e,t){return P.x()(e,t)>=f[0]&&P.x()(e,t)<=f[1]});i=e.interactiveBisect(l,t.pointXValue,P.x());var c=l[i],h=P.y()(c,i);h!==null&&dt(a,i,!0);if(c===undefined)return;r===undefined&&(r=c),s===undefined&&(s=m(P.x()(c,i))),u.push({key:o.key,value:h,color:n(o,o.seriesIndex),data:c,yAxis:o.yAxis==2?A:L})});var a=function(e,t){var n=u[t].yAxis;return e==null?"N/A":n.tickFormat()(e)};p.tooltip.chartContainer(P.container.parentNode).headerFormatter(function(e,t){return k.tickFormat()(e,t)}).valueFormatter(p.tooltip.valueFormatter()||a).data({value:P.x()(r,i),index:i,series:u})(),p.renderGuideLine(s)}),p.dispatch.on("elementMouseout",function(e){pt()})):(b.dispatch.on("elementMouseover.tooltip",ft),w.dispatch.on("elementMouseover.tooltip",ft),b.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),E.dispatch.on("elementMouseover.tooltip",lt),S.dispatch.on("elementMouseover.tooltip",lt),E.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),N.dispatch.on("elementMouseover.tooltip",ct),C.dispatch.on("elementMouseover.tooltip",ct),N.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),x.dispatch.on("elementMouseover.tooltip",ht),T.dispatch.on("elementMouseover.tooltip",ht),x.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),T.dispatch.on("elementMouseout.tooltip",function(e){M.hidden(!0)}),x.dispatch.on("elementMousemove.tooltip",function(e){M()}),T.dispatch.on("elementMousemove.tooltip",function(e){M()}))}),P}var t={top:30,right:20,bottom:50,left:60},n=e.utils.defaultColor(),r=null,i=null,s=!0,o=null,u,a,f=function(e){return e.x},l=function(e){return e.y},c="linear",h=!0,p=e.interactiveGuideline(),d=!1,v=" (right axis)",m=d3.scale.linear(),g=d3.scale.linear(),y=d3.scale.linear(),b=e.models.line().yScale(g),w=e.models.line().yScale(y),E=e.models.scatter().yScale(g),S=e.models.scatter().yScale(y),x=e.models.multiBar().stacked(!1).yScale(g),T=e.models.multiBar().stacked(!1).yScale(y),N=e.models.stackedArea().yScale(g),C=e.models.stackedArea().yScale(y),k=e.models.axis().scale(m).orient("bottom").tickPadding(5),L=e.models.axis().scale(g).orient("left"),A=e.models.axis().scale(y).orient("right"),O=e.models.legend().height(30),M=e.models.tooltip(),_=d3.dispatch(),D=[b,w,E,S,x,T,N,C];return P.dispatch=_,P.legend=O,P.lines1=b,P.lines2=w,P.scatters1=E,P.scatters2=S,P.bars1=x,P.bars2=T,P.stack1=N,P.stack2=C,P.xAxis=k,P.yAxis1=L,P.yAxis2=A,P.tooltip=M,P.interactiveLayer=p,P.options=e.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},showLegend:{get:function(){return s},set:function(e){s=e}},yDomain1:{get:function(){return u},set:function(e){u=e}},yDomain2:{get:function(){return a},set:function(e){a=e}},noData:{get:function(){return o},set:function(e){o=e}},interpolate:{get:function(){return c},set:function(e){c=e}},legendRightAxisHint:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return n},set:function(t){n=e.utils.getColor(t)}},x:{get:function(){return f},set:function(e){f=e,b.x(e),w.x(e),E.x(e),S.x(e),x.x(e),T.x(e),N.x(e),C.x(e)}},y:{get:function(){return l},set:function(e){l=e,b.y(e),w.y(e),E.y(e),S.y(e),N.y(e),C.y(e),x.y(e),T.y(e)}},useVoronoi:{get:function(){return h},set:function(e){h=e,b.useVoronoi(e),w.useVoronoi(e),N.useVoronoi(e),C.useVoronoi(e)}},useInteractiveGuideline:{get:function(){return d},set:function(e){d=e,d&&(b.interactive(!1),b.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),N.interactive(!1),N.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),E.interactive(!1),S.interactive(!1))}}}),e.utils.initOptions(P),P},e.models.ohlcBar=function(){"use strict";function N(b){return b.each(function(b){s=d3.select(this);var N=e.utils.availableWidth(n,s,t),C=e.utils.availableHeight(r,s,t);e.utils.initSVG(s);var k=N/b[0].values.length*.9;o.domain(w||d3.extent(b[0].values.map(a).concat(d))),m?o.range(S||[N*.5/b[0].values.length,N*(b[0].values.length-.5)/b[0].values.length]):o.range(S||[5+k/2,N-k/2-5]),u.domain(E||[d3.min(b[0].values.map(p).concat(v)),d3.max(b[0].values.map(h).concat(v))]).range(x||[C,0]),o.domain()[0]===o.domain()[1]&&(o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+u.domain()[0]*.01,u.domain()[1]-u.domain()[1]*.01]):u.domain([-1,1]));var L=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([b[0].values]),A=L.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),O=A.append("defs"),M=A.append("g"),_=L.select("g");M.append("g").attr("class","nv-ticks"),L.attr("transform","translate("+t.left+","+t.top+")"),s.on("click",function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:i})}),O.append("clipPath").attr("id","nv-chart-clip-path-"+i).append("rect"),L.select("#nv-chart-clip-path-"+i+" rect").attr("width",N).attr("height",C),_.attr("clip-path",g?"url(#nv-chart-clip-path-"+i+")":"");var D=L.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});D.exit().remove(),D.enter().append("path").attr("class",function(e,t,n){return(l(e,t)>c(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}).attr("d",function(e,t){return"m0,0l0,"+(u(l(e,t))-u(h(e,t)))+"l"+ -k/2+",0l"+k/2+",0l0,"+(u(p(e,t))-u(l(e,t)))+"l0,"+(u(c(e,t))-u(p(e,t)))+"l"+k/2+",0l"+ -k/2+",0z"}).attr("transform",function(e,t){return"translate("+o(a(e,t))+","+u(h(e,t))+")"}).attr("fill",function(e,t){return y[0]}).attr("stroke",function(e,t){return y[0]}).attr("x",0).attr("y",function(e,t){return u(Math.max(0,f(e,t)))}).attr("height",function(e,t){return Math.abs(u(f(e,t))-u(0))}),D.attr("class",function(e,t,n){return(l(e,t)>c(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}),d3.transition(D).attr("transform",function(e,t){return"translate("+o(a(e,t))+","+u(h(e,t))+")"}).attr("d",function(e,t){var n=N/b[0].values.length*.9;return"m0,0l0,"+(u(l(e,t))-u(h(e,t)))+"l"+ -n/2+",0l"+n/2+",0l0,"+(u(p(e,t))-u(l(e,t)))+"l0,"+(u(c(e,t))-u(p(e,t)))+"l"+n/2+",0l"+ -n/2+",0z"})}),N}var t={top:0,right:0,bottom:0,left:0},n=null,r=null,i=Math.floor(Math.random()*1e4),s=null,o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=function(e){return e.open},c=function(e){return e.close},h=function(e){return e.high},p=function(e){return e.low},d=[],v=[],m=!1,g=!0,y=e.utils.defaultColor(),b=!1,w,E,S,x,T=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return N.highlightPoint=function(e,t){N.clearHighlights(),s.select(".nv-ohlcBar .nv-tick-0-"+e).classed("hover",t)},N.clearHighlights=function(){s.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},N.dispatch=T,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return w},set:function(e){w=e}},yDomain:{get:function(){return E},set:function(e){E=e}},xRange:{get:function(){return S},set:function(e){S=e}},yRange:{get:function(){return x},set:function(e){x=e}},forceX:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return v},set:function(e){v=e}},padData:{get:function(){return m},set:function(e){m=e}},clipEdge:{get:function(){return g},set:function(e){g=e}},id:{get:function(){return i},set:function(e){i=e}},interactive:{get:function(){return b},set:function(e){b=e}},x:{get:function(){return a},set:function(e){a=e}},y:{get:function(){return f},set:function(e){f=e}},open:{get:function(){return l()},set:function(e){l=e}},close:{get:function(){return c()},set:function(e){c=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!=undefined?e.top:t.top,t.right=e.right!=undefined?e.right:t.right,t.bottom=e.bottom!=undefined?e.bottom:t.bottom,t.left=e.left!=undefined?e.left:t.left}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t)}}}),e.utils.initOptions(N),N},e.models.parallelCoordinates=function(){"use strict";function C(k){return N.reset(),k.each(function(N){function X(e){return S(l.map(function(t){if(isNaN(e.values[t.key])||isNaN(parseFloat(e.values[t.key]))||O){var n=u[t.key].domain(),r=u[t.key].range(),i=n[0]-(n[1]-n[0])/9;if(g.indexOf(t.key)<0){var a=d3.scale.linear().domain([i,n[1]]).range([s-12,r[1]]);u[t.key].brush.y(a),g.push(t.key)}if(isNaN(e.values[t.key])||isNaN(parseFloat(e.values[t.key])))return[o(t.key),u[t.key](i)]}return j!==undefined&&(g.length>0||O?(j.style("display","inline"),F.style("display","inline")):(j.style("display","none"),F.style("display","none"))),[o(t.key),u[t.key](e.values[t.key])]}))}function V(e){d.forEach(function(t){var n=u[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(u[t.dimension].domain()[1]-n[0])*(t.extent[1]-t.extent[0])/(A[t.dimension]-t.extent[0])+n[0]),t.hasNaN&&(t.extent[0]=n[0]),e&&u[t.dimension].brush.extent(t.extent)}),E.select(".nv-brushBackground").each(function(e){d3.select(this).call(u[e.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Q()}function $(){h===!1&&(h=!0,V(!0))}function J(){U=c.filter(function(e){return!u[e].brush.empty()}),z=U.map(function(e){return u[e].brush.extent()}),d=[],U.forEach(function(e,t){d[t]={dimension:e,extent:z[t],hasNaN:!1,hasOnlyNaN:!1}}),v=[],b.style("display",function(e){var t=U.every(function(t,n){return(isNaN(e.values[t])||isNaN(parseFloat(e.values[t])))&&z[n][0]==u[t].brush.y().domain()[0]?!0:z[n][0]<=e.values[t]&&e.values[t]<=z[n][1]&&!isNaN(parseFloat(e.values[t]))});return t&&v.push(e),t?null:"none"}),Q(),T.brush({filters:d,active:v})}function K(){var e=U.length>0?!0:!1;d.forEach(function(e){e.extent[0]===u[e.dimension].brush.y().domain()[0]&&g.indexOf(e.dimension)>=0&&(e.hasNaN=!0),e.extent[1]<u[e.dimension].domain()[0]&&(e.hasOnlyNaN=!0)}),T.brushEnd(v,e)}function Q(){E.select(".nv-axis").each(function(e,t){var n=d.filter(function(t){return t.dimension==e.key});M[e.key]=u[e.key].domain(),n.length!=0&&h&&(M[e.key]=[],n[0].extent[1]>u[e.key].domain()[0]&&(M[e.key]=[n[0].extent[1]]),n[0].extent[0]>=u[e.key].domain()[0]&&M[e.key].push(n[0].extent[0])),d3.select(this).call(x.scale(u[e.key]).tickFormat(e.format).tickValues(M[e.key]))})}function G(e){m[e.key]=this.parentNode.__origin__=o(e.key),w.attr("visibility","hidden")}function Y(e){m[e.key]=Math.min(i,Math.max(0,this.parentNode.__origin__+=d3.event.x)),b.attr("d",X),l.sort(function(e,t){return et(e.key)-et(t.key)}),l.forEach(function(e,t){return e.currentPosition=t}),o.domain(l.map(function(e){return e.key})),E.attr("transform",function(e){return"translate("+et(e.key)+")"})}function Z(e,t){delete this.parentNode.__origin__,delete m[e.key],d3.select(this.parentNode).attr("transform","translate("+o(e.key)+")"),b.attr("d",X),w.attr("d",X).attr("visibility",null),T.dimensionsOrder(l)}function et(e){var t=m[e];return t==null?o(e):t}var C=d3.select(this);i=e.utils.availableWidth(n,C,t),s=e.utils.availableHeight(r,C,t),e.utils.initSVG(C);if(N[0].values===undefined){var k=[];N.forEach(function(e){var t={},n=Object.keys(e);n.forEach(function(n){n!=="name"&&(t[n]=e[n])}),k.push({key:e.name,values:t})}),N=k}var L=N.map(function(e){return e.values});v.length===0&&(v=N),c=f.sort(function(e,t){return e.currentPosition-t.currentPosition}).map(function(e){return e.key}),l=f.filter(function(e){return!e.disabled}),o.rangePoints([0,i],1).domain(l.map(function(e){return e.key}));var A={},O=!1,M=[];c.forEach(function(e){var t=d3.extent(L,function(t){return+t[e]}),n=t[0],r=t[1],i=!1;if(isNaN(n)||isNaN(r))i=!0,n=0,r=0;n===r&&(n-=1,r+=1);var o=d.filter(function(t){return t.dimension==e});o.length!==0&&(i?(n=u[e].domain()[0],r=u[e].domain()[1]):!o[0].hasOnlyNaN&&h?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,A[e]=u[e].domain()[1],O=!0)),u[e]=d3.scale.linear().domain([n,r]).range([(s-12)*.9,0]),g=[],u[e].brush=d3.svg.brush().y(u[e]).on("brushstart",$).on("brush",J).on("brushend",K)});var _=C.selectAll("g.nv-wrap.nv-parallelCoordinates").data([N]),D=_.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),P=D.append("g"),H=_.select("g");P.append("g").attr("class","nv-parallelCoordinates background"),P.append("g").attr("class","nv-parallelCoordinates foreground"),P.append("g").attr("class","nv-parallelCoordinates missingValuesline"),_.attr("transform","translate("+t.left+","+t.top+")"),S.interpolate("cardinal").tension(y),x.orient("left");var B=d3.behavior.drag().on("dragstart",G).on("drag",Y).on("dragend",Z),j,F,I=o.range()[1]-o.range()[0];if(!isNaN(I)){var q=[0+I/2,s-12,i-I/2,s-12];j=_.select(".missingValuesline").selectAll("line").data([q]),j.enter().append("line"),j.exit().remove(),j.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}),F=_.select(".missingValuesline").selectAll("text").data([a]),F.append("text").data([a]),F.enter().append("text"),F.exit().remove(),F.attr("y",s).attr("x",i-92-I/2).text(function(e){return e})}w=_.select(".background").selectAll("path").data(N),w.enter().append("path"),w.exit().remove(),w.attr("d",X),b=_.select(".foreground").selectAll("path").data(N),b.enter().append("path"),b.exit().remove(),b.attr("d",X).style("stroke-width",function(e,t){return isNaN(e.strokeWidth)&&(e.strokeWidth=1),e.strokeWidth}).attr("stroke",function(e,t){return e.color||p(e,t)}),b.on("mouseover",function(e,t){d3.select(this).classed("hover",!0).style("stroke-width",e.strokeWidth+2+"px").style("stroke-opacity",1),T.elementMouseover({label:e.name,color:e.color||p(e,t),values:e.values,dimensions:l})}),b.on("mouseout",function(e,t){d3.select(this).classed("hover",!1).style("stroke-width",e.strokeWidth+"px").style("stroke-opacity",.7),T.elementMouseout({label:e.name,index:t})}),b.on("mousemove",function(e,t){T.elementMousemove()}),b.on("click",function(e){T.elementClick({id:e.id})}),E=H.selectAll(".dimension").data(l);var R=E.enter().append("g").attr("class","nv-parallelCoordinates dimension");E.attr("transform",function(e){return"translate("+o(e.key)+",0)"}),R.append("g").attr("class","nv-axis"),R.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(e,t){T.elementMouseover({label:e.tooltip||e.key,color:e.color})}).on("mouseout",function(e,t){T.elementMouseout({label:e.tooltip})}).on("mousemove",function(e,t){T.elementMousemove()}).call(B),R.append("g").attr("class","nv-brushBackground"),E.exit().remove(),E.select(".nv-label").text(function(e){return e.key}),V(h);var U=c.filter(function(e){return!u[e].brush.empty()}),z=U.map(function(e){return u[e].brush.extent()}),W=v.slice(0);v=[],b.style("display",function(e){var t=U.every(function(t,n){return(isNaN(e.values[t])||isNaN(parseFloat(e.values[t])))&&z[n][0]==u[t].brush.y().domain()[0]?!0:z[n][0]<=e.values[t]&&e.values[t]<=z[n][1]&&!isNaN(parseFloat(e.values[t]))});return t&&v.push(e),t?null:"none"}),(d.length>0||!e.utils.arrayEquals(v,W))&&T.activeChanged(v)}),C}var t={top:30,right:0,bottom:10,left:0},n=null,r=null,i=null,s=null,o=d3.scale.ordinal(),u={},a="undefined values",f=[],l=[],c=[],h=!0,p=e.utils.defaultColor(),d=[],v=[],m=[],g=[],y=1,b,w,E,S=d3.svg.line(),x=d3.svg.axis(),T=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),N=e.utils.renderWatch(T);return C.dispatch=T,C.options=e.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},dimensionData:{get:function(){return f},set:function(e){f=e}},displayBrush:{get:function(){return h},set:function(e){h=e}},filters:{get:function(){return d},set:function(e){d=e}},active:{get:function(){return v},set:function(e){v=e}},lineTension:{get:function(){return y},set:function(e){y=e}},undefinedValuesLabel:{get:function(){return a},set:function(e){a=e}},dimensions:{get:function(){return f.map(function(e){return e.key})},set:function(t){e.deprecated("dimensions","use dimensionData instead"),f.length===0?t.forEach(function(e){f.push({key:e})}):t.forEach(function(e,t){f[t].key=e})}},dimensionNames:{get:function(){return f.map(function(e){return e.key})},set:function(t){e.deprecated("dimensionNames","use dimensionData instead"),c=[],f.length===0?t.forEach(function(e){f.push({key:e})}):t.forEach(function(e,t){f[t].key=e})}},dimensionFormats:{get:function(){return f.map(function(e){return e.format})},set:function(t){e.deprecated("dimensionFormats","use dimensionData instead"),f.length===0?t.forEach(function(e){f.push({format:e})}):t.forEach(function(e,t){f[t].format=e})}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return p},set:function(t){p=e.utils.getColor(t)}}}),e.utils.initOptions(C),C},e.models.parallelCoordinatesChart=function(){"use strict";function E(r){return y.reset(),y.models(t),r.each(function(r){var i=d3.select(this);e.utils.initSVG(i);var f=this,d=e.utils.availableWidth(o,i,s),v=e.utils.availableHeight(u,i,s);E.update=function(){i.call(E)},E.container=this,l.setter(w(c),E.update).getter(b(c)).update(),l.disabled=c.map(function(e){return!!e.disabled}),c=c.map(function(e){return e.disabled=!!e.disabled,e}),c.forEach(function(e,t){e.originalPosition=isNaN(e.originalPosition)?t:e.originalPosition,e.currentPosition=isNaN(e.currentPosition)?t:e.currentPosition});if(!p){var g;p={};for(g in l)l[g]instanceof Array?p[g]=l[g].slice(0):p[g]=l[g]}if(!r||!r.length)return e.utils.noData(E,i),E;i.selectAll(".nv-noData").remove();var y=i.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([r]),S=y.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),x=y.select("g");S.append("g").attr("class","nv-parallelCoordinatesWrap"),S.append("g").attr("class","nv-legendWrap"),x.select("rect").attr("width",d).attr("height",v>0?v:0),a?(n.width(d).color(function(e){return"rgb(188,190,192)"}),x.select(".nv-legendWrap").datum(c.sort(function(e,t){return e.originalPosition-t.originalPosition})).call(n),s.top!=n.height()&&(s.top=n.height(),v=e.utils.availableHeight(u,i,s)),y.select(".nv-legendWrap").attr("transform","translate( 0 ,"+ -s.top+")")):x.select(".nv-legendWrap").selectAll("*").remove(),y.attr("transform","translate("+s.left+","+s.top+")"),t.width(d).height(v).dimensionData(c).displayBrush(h);var T=x.select(".nv-parallelCoordinatesWrap ").datum(r);T.transition().call(t),t.dispatch.on("brushEnd",function(e,t){t?(h=!0,m.brushEnd(e)):h=!1}),n.dispatch.on("stateChange",function(e){for(var t in e)l[t]=e[t];m.stateChange(l),E.update()}),t.dispatch.on("dimensionsOrder",function(e){c.sort(function(e,t){return e.currentPosition-t.currentPosition});var t=!1;c.forEach(function(e,n){e.currentPosition=n,e.currentPosition!==e.originalPosition&&(t=!0)}),m.dimensionsOrder(c,t)}),m.on("changeState",function(e){typeof e.disabled!="undefined"&&(c.forEach(function(t,n){t.disabled=e.disabled[n]}),l.disabled=e.disabled),E.update()})}),y.renderEnd("parraleleCoordinateChart immediate"),E}var t=e.models.parallelCoordinates(),n=e.models.legend(),r=e.models.tooltip(),i=e.models.tooltip(),s={top:0,right:0,bottom:0,left:0},o=null,u=null,a=!0,f=e.utils.defaultColor(),l=e.utils.state(),c=[],h=!0,p=null,d=null,v="undefined",m=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),g=function(){return showControls?180:0},y=e.utils.renderWatch(m),b=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},w=function(e){return function(t){t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return r.contentGenerator(function(e){var t='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+e.color+'"></div></td><td><strong>'+e.key+"</strong></td></tr></thead>";return e.series.length!==0&&(t+='<tbody><tr><td height ="10px"></td></tr>',e.series.forEach(function(e){t=t+'<tr><td class="legend-color-guide"><div style="background-color:'+e.color+'"></div></td><td class="key">'+e.key+'</td><td class="value">'+e.value+"</td></tr>"}),t+="</tbody>"),t+="</table>",t}),t.dispatch.on("elementMouseover.tooltip",function(e){var t={key:e.label,color:e.color,series:[]};e.values&&(Object.keys(e.values).forEach(function(n){var r=e.dimensions.filter(function(e){return e.key===n})[0];if(r){var i;isNaN(e.values[n])||isNaN(parseFloat(e.values[n]))?i=v:i=r.format(e.values[n]),t.series.push({idx:r.currentPosition,key:n,value:i,color:r.color})}}),t.series.sort(function(e,t){return e.idx-t.idx})),r.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){r()}),E.dispatch=m,E.parallelCoordinates=t,E.legend=n,E.tooltip=r,E.options=e.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return u},set:function(e){u=e}},showLegend:{get:function(){return a},set:function(e){a=e}},defaultState:{get:function(){return p},set:function(e){p=e}},dimensionData:{get:function(){return c},set:function(e){c=e}},displayBrush:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return d},set:function(e){d=e}},nanValue:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==undefined?e.top:s.top,s.right=e.right!==undefined?e.right:s.right,s.bottom=e.bottom!==undefined?e.bottom:s.bottom,s.left=e.left!==undefined?e.left:s.left}},color:{get:function(){return f},set:function(r){f=e.utils.getColor(r),n.color(f),t.color(f)}}}),e.utils.inheritOptions(E,t),e.utils.initOptions(E),E},e.models.pie=function(){"use strict";function M(_){return O.reset(),_.each(function(M){function wt(e){var t=(e.startAngle+e.endAngle)*90/Math.PI-90;return t>90?t-180:t}function Et(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,v||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return k[t](n(e))}}if(c){var _=Math.floor(8+3*(r-150)/100);_=d3.min([_,M[0].length]);var D=0,P=M[0].map(function(e){return D+=s(e),e}),H=P.sort(function(e,t){return s(t)-s(e)}).slice(0,_)[_-1];d=s(H)/D-1e-4,A=25+(r-350)/350*10}var B=n-t.left-t.right,j=r-t.top-t.bottom,F=Math.min(B,j)/2,I=[],q=[];u=d3.select(this);if(N.length===0){var R=F-F/5,U=T*F;for(var z=0;z<M[0].length;z++)I.push(R),q.push(U)}else g?(I=N.map(function(e){return(e.outer-e.outer/5)*F}),q=N.map(function(e){return(e.inner-e.inner/5)*F}),T=d3.min(N.map(function(e){return e.inner-e.inner/5}))):(I=N.map(function(e){return e.outer*F}),q=N.map(function(e){return e.inner*F}),T=d3.min(N.map(function(e){return e.inner})));e.utils.initSVG(u);var W=u.selectAll(".nv-wrap.nv-pie").data(M),X=W.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+o),V=X.append("g"),$=W.select("g"),J=V.append("g").attr("class","nv-pie");V.append("g").attr("class","nv-pieLabels"),W.attr("transform","translate("+t.left+","+t.top+")"),$.select(".nv-pie").attr("transform","translate("+B/2+","+j/2+")"),$.select(".nv-pieLabels").attr("transform","translate("+B/2+","+j/2+")"),u.on("click",function(e,t){C.chartClick({data:e,index:t,pos:d3.event,id:o})}),k=[],L=[];for(var z=0;z<M[0].length;z++){var K=d3.svg.arc().outerRadius(I[z]),Q=d3.svg.arc().outerRadius(I[z]+5);w!==!1&&(K.startAngle(w),Q.startAngle(w)),S!==!1&&(K.endAngle(S),Q.endAngle(S)),v&&(K.innerRadius(q[z]),Q.innerRadius(q[z])),K.cornerRadius&&x&&(K.cornerRadius(x),Q.cornerRadius(x)),k.push(K),L.push(Q)}var G=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:s(e)});G.padAngle&&E&&G.padAngle(E),v&&m&&(J.append("text").attr("class","nv-pie-title"),W.select(".nv-pie-title").style("text-anchor","middle").text(function(e){return m}).style("font-size",Math.min(B,j)*T*2/(m.length+2)+"px").attr("dy","0.35em").attr("transform",function(e,t){return"translate(0, "+y+")"}));var Y=W.select(".nv-pie").selectAll(".nv-slice").data(G),Z=W.select(".nv-pieLabels").selectAll(".nv-label").data(G),et=W.select(".nv-pieLabels").selectAll(".label").data(G),tt=W.select(".nv-pieLabels").selectAll(".label-polyline").data(G);Y.exit().remove(),Z.exit().remove(),et.exit().remove(),tt.exit().remove();var nt=Y.enter().append("g");nt.attr("class","nv-slice"),nt.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),g&&d3.select(this).select("path").transition().duration(70).attr("d",L[t]),C.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill"),percent:(e.endAngle-e.startAngle)/(2*Math.PI)})}),nt.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),g&&d3.select(this).select("path").transition().duration(50).attr("d",k[t]),C.elementMouseout({data:e.data,index:t})}),nt.on("mousemove",function(e,t){C.elementMousemove({data:e.data,index:t})}),nt.on("click",function(e,t){var n=this;C.elementClick({data:e.data,index:t,color:d3.select(this).style("fill"),event:d3.event,element:n})}),nt.on("dblclick",function(e,t){C.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),Y.attr("fill",function(e,t){return a(e.data,t)}),Y.attr("stroke",function(e,t){return a(e.data,t)});var rt=nt.append("path").each(function(e){this._current=e});Y.select("path").transition().attr("d",function(e,t){return k[t](e)}).attrTween("d",Et);if(c){var it=[],st=function(e){if(!it[e])return!1;var t=it[e].d,n=ht(t);return!t.value||n<d?!0:!1},ot=function(e,t){var n=t.x>e.x+e.w||t.x+t.w<e.x||t.y+t.h<e.y||t.y>e.y+e.h;return!n},ut=function(e,t,n,r,i){var s=Math.cos,o=Math.sin,u=(e-n)*s(i)-(t-r)*o(i)+n,a=(e-n)*o(i)+(t-r)*s(i)+r;return{x:u,y:a}},at=function(){var e=[];return it.forEach(function(t,n){var r=ht(t.d);if(t.d.value&&r>d){var i=pt(t.d),s={x:0,y:0,radius:F*.8},o=ut(s.x,s.y-s.radius,s.x,s.y,i),u=t.h/10,f=2,l=Math.floor(i/(Math.PI/2)),c=4,h,p,v,m;l===2&&i===Math.PI&&(l=1);switch(l){case 0:h=t.x-f-(t.x-f-o.x)/2,p=t.y+(o.y-t.y)/c,v=t.x-f,m=t.y-u;break;case 1:h=o.x+(t.x-o.x)/c,p=o.y+(t.y-o.y)/c,v=t.x-f,m=t.y-u;break;case 2:var g=t.x+t.w+f;h=o.x-(o.x-g)/c,p=o.y+(t.y-o.y)/c,v=t.x+t.w+f,m=t.y-u;break;case 3:var y=t.x+t.w+f;h=y+(o.x-y)/c,p=t.y+(o.y-t.y)/c,v=t.x+t.w+f,m=t.y-u}var b=[{x:o.x,y:o.y},{x:h,y:p},{x:v,y:m}];b.color=a(t.d,n),e.push(b)}else{var b=[{x:0,y:0},{x:0,y:0},{x:0,y:0}];b.color=a(t.d,n),e.push(b)}}),e},ft=function(e,t,n){var r,i,s,o;o=t.y+n.heightChange,i=n.center.y-o,Math.abs(n.lineLength)>Math.abs(i)?r=Math.sqrt(n.lineLength*n.lineLength-i*i):r=Math.sqrt(i*i-n.lineLength*n.lineLength),t.hs==="right"?s=n.center.x+r:s=n.center.x-r-it[e].w,it[e].x=s,it[e].y=o},lt,ct=function(e,t,n){var r,i;if(n<=1)return;var s=it[e].hs;if(t==="clockwise"&&s!=="right")return;if(t==="anticlockwise"&&s!=="left")return;var o=t==="clockwise"?e+1:e-1,u=it[e],a=it[o],f={center:{x:0,y:0},lineLength:F*.8+A,heightChange:it[0].h||lt+1};if(t==="clockwise"){r=0;for(;r<=e;r++)i=it[r],!st(o)&&!st(r)&&ot(i,a)&&ft(o,i,f)}else{r=n-1;for(;r>=e;r--)i=it[r],!st(o)&&!st(r)&&ot(i,a)&&ft(o,i,f)}ct(o,t,n)},ht=function(e){return(e.endAngle-e.startAngle)/(2*Math.PI)},pt=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},K=d3.svg.arc().outerRadius(F*.8).innerRadius(F*.8),dt=d3.svg.arc().innerRadius(F*.9).outerRadius(F*.9);et.enter().append("text").classed("label",!0).attr("dy",".35em"),et.transition().duration(300).text(function(e){var t=ht(e);if(!e.value||t<d)return"";var n="";if(typeof p=="function")n=p(e,z,{key:i(e.data),value:s(e.data),percent:f(t)});else switch(p){case"key":n=i(e.data);break;case"value":n=f(s(e.data));break;case"percent":n=d3.format("%")(t)}return n}),et.each(function(e,t){var n=d3.select(this).node(),r=pt(e),i={x:0,y:0},s=0,o=0-(F*.8+A),u=ut(s,o,i.x,i.y,r);it[t]={d:e,x:u.x,y:u.y}}),et.attr("transform",function(e,t){return"translate("+[it[t].x,it[t].y]+")"}),setTimeout(function(){et.each(function(e,t){var n=d3.select(this).node(),r=n.getBBox(),i=pt(e),s="right";i>Math.PI?(it[t].x-=r.width+8,s="left"):it[t].x+=8,it[t].hs=s,it[t].w=r.width,it[t].width=r.width,it[t].h=r.height,it[t].height=r.height}),lt=d3.max(it,function(e){return e.h}),et.attr("transform",function(e,t){return"translate("+[it[t].x,it[t].y]+")"});var e=it.length;ct(0,"clockwise",e),ct(e-1,"anticlockwise",e),setTimeout(function(){et.attr("transform",function(e,t){return"translate("+[it[t].x,it[t].y]+")"});var e=at(),t=W.select(".nv-pieLabels").selectAll(".label-polyline").data(G),n=d3.svg.line().interpolate("cardinal").x(function(e){return e.x}).y(function(e){return e.y}),r=0,i=t.enter().append("path").classed("label-polyline",!0);t.transition().duration(0).attrTween("d",function(t,r){var i=ht(t);return!t.value||i<d?function(e){return[]}:function(t){return n(e[r])}}).attr("fill","none").attr("stroke-width","1px").attr("style",function(e,t){return"stroke:"+a(e.data,t)})},50)},50)}if(l){var vt=[];for(var z=0;z<M[0].length;z++)vt.push(k[z]),h?v&&(vt[z]=d3.svg.arc().outerRadius(k[z].outerRadius()),w!==!1&&vt[z].startAngle(w),S!==!1&&vt[z].endAngle(S)):v||vt[z].innerRadius(0);Z.enter().append("g").classed("nv-label",!0).each(function(e,t){var n=d3.select(this);n.attr("transform",function(e,t){if(b){e.outerRadius=I[t]+10,e.innerRadius=I[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+vt[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=F+10,e.innerRadius=F+15,"translate("+vt[t].centroid(e)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var mt={},gt=14,yt=140,bt=function(e){return Math.floor(e[0]/yt)*yt+","+Math.floor(e[1]/gt)*gt},ht=function(e){return(e.endAngle-e.startAngle)/(2*Math.PI)};Z.watchTransition(O,"pie labels").attr("transform",function(e,t){if(b){e.outerRadius=I[t]+10,e.innerRadius=I[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+vt[t].centroid(e)+") rotate("+n+")"}e.outerRadius=F+10,e.innerRadius=F+15;var r=vt[t].centroid(e),i=ht(e);if(e.value&&i>=d){var s=bt(r);mt[s]&&(r[1]-=gt),mt[bt(r)]=!0}return"translate("+r+")"}),Z.select(".nv-label text").style("text-anchor",function(e,t){return b?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(e,t){var n=ht(e),r="";if(!e.value||n<d)return"";if(typeof p=="function")r=p(e,t,{key:i(e.data),value:s(e.data),percent:f(n)});else switch(p){case"key":r=i(e.data);break;case"value":r=f(s(e.data));break;case"percent":r=d3.format("%")(n)}return r})}}),O.renderEnd("pie immediate"),M}var t={top:0,right:0,bottom:0,left:0},n=500,r=500,i=function(e){return e.x},s=function(e){return e.y},o=Math.floor(Math.random()*1e4),u=null,a=e.utils.defaultColor(),f=d3.format(",.2f"),l=!0,c=!1,h=!1,p="key",d=.02,v=!1,m=!1,g=!0,y=0,b=!1,w=!1,E=!1,S=!1,x=0,T=.5,N=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k=[],L=[],A=25,O=e.utils.renderWatch(C);return M.dispatch=C,M.options=e.utils.optionsFunc.bind(M),M._options=Object.create({},{arcsRadius:{get:function(){return N},set:function(e){N=e}},width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},showLabels:{get:function(){return l},set:function(e){l=e}},showLabelWithLine:{get:function(){return c},set:function(e){c=e}},title:{get:function(){return m},set:function(e){m=e}},titleOffset:{get:function(){return y},set:function(e){y=e}},labelThreshold:{get:function(){return d},set:function(e){d=e}},valueFormat:{get:function(){return f},set:function(e){f=e}},x:{get:function(){return i},set:function(e){i=e}},id:{get:function(){return o},set:function(e){o=e}},endAngle:{get:function(){return S},set:function(e){S=e}},startAngle:{get:function(){return w},set:function(e){w=e}},padAngle:{get:function(){return E},set:function(e){E=e}},cornerRadius:{get:function(){return x},set:function(e){x=e}},donutRatio:{get:function(){return T},set:function(e){T=e}},labelsOutside:{get:function(){return h},set:function(e){h=e}},labelSunbeamLayout:{get:function(){return b},set:function(e){b=e}},donut:{get:function(){return v},set:function(e){v=e}},growOnHover:{get:function(){return g},set:function(e){g=e}},pieLabelsOutside:{get:function(){return h},set:function(t){h=t,e.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return h},set:function(t){h=t,e.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return f},set:function(t){f=t,e.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=typeof e.top!="undefined"?e.top:t.top,t.right=typeof e.right!="undefined"?e.right:t.right,t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom,t.left=typeof e.left!="undefined"?e.left:t.left}},y:{get:function(){return s},set:function(e){s=d3.functor(e)}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}},labelType:{get:function(){return p},set:function(e){p=e||"key"}}}),e.utils.initOptions(M),M},e.models.pieChart=function(){"use strict";function b(r){return m.reset(),m.models(t),r.each(function(r){var u=d3.select(this);e.utils.initSVG(u);var l=this,p=e.utils.availableWidth(s,u,i),d=e.utils.availableHeight(o,u,i);b.update=function(){u.transition().call(b)},b.container=this,c.setter(y(r),b.update).getter(g(r)).update(),c.disabled=r.map(function(e){return!!e.disabled});if(!h){var m;h={};for(m in c)c[m]instanceof Array?h[m]=c[m].slice(0):h[m]=c[m]}if(!r||!r.length)return e.utils.noData(b,u),b;u.selectAll(".nv-noData").remove();var w=u.selectAll("g.nv-wrap.nv-pieChart").data([r]),E=w.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),S=w.select("g");E.append("g").attr("class","nv-pieWrap"),E.append("g").attr("class","nv-legendWrap");if(!a)S.select(".nv-legendWrap").selectAll("*").remove();else if(f==="top")n.width(p).key(t.x()),w.select(".nv-legendWrap").datum(r).call(n),i.top!=n.height()&&(i.top=n.height(),d=e.utils.availableHeight(o,u,i)),w.select(".nv-legendWrap").attr("transform","translate(0,"+ -i.top+")");else if(f==="right"){var x=e.models.legend().width();p/2<x&&(x=p/2),n.height(d).key(t.x()),n.width(x),p-=n.width(),w.select(".nv-legendWrap").datum(r).call(n).attr("transform","translate("+p+",0)")}else f=="bottom"&&(n.width(p).key(t.x()),w.select(".nv-legendWrap").datum(r).call(n),i.bottom!=n.height()&&(i.bottom=n.height(),d=e.utils.availableHeight(o,u,i)),w.select(".nv-legendWrap").attr("transform","translate(0,"+d+")"));w.attr("transform","translate("+i.left+","+i.top+")"),t.width(p).height(d);var T=S.select(".nv-pieWrap").datum([r]);d3.transition(T).call(t),n.dispatch.on("stateChange",function(e){for(var t in e)c[t]=e[t];v.stateChange(c),b.update()}),v.on("changeState",function(e){typeof e.disabled!="undefined"&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),c.disabled=e.disabled),b.update()})}),m.renderEnd("pieChart immediate"),b}var t=e.models.pie(),n=e.models.legend(),r=e.models.tooltip(),i={top:30,right:20,bottom:20,left:20},s=null,o=null,u=!1,a=!0,f="top",l=e.utils.defaultColor(),c=e.utils.state(),h=null,p=null,d=250,v=d3.dispatch("stateChange","changeState","renderEnd");r.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=e.utils.renderWatch(v),g=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},y=function(e){return function(t){t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return t.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:b.x()(e.data),value:b.y()(e.data),color:e.color,percent:e.percent},u||(delete e.percent,delete e.series.percent),r.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){r()}),b.legend=n,b.dispatch=v,b.pie=t,b.tooltip=r,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return o},set:function(e){o=e}},noData:{get:function(){return p},set:function(e){p=e}},showTooltipPercent:{get:function(){return u},set:function(e){u=e}},showLegend:{get:function(){return a},set:function(e){a=e}},legendPosition:{get:function(){return f},set:function(e){f=e}},defaultState:{get:function(){return h},set:function(e){h=e}},color:{get:function(){return l},set:function(e){l=e,n.color(l),t.color(l)}},duration:{get:function(){return d},set:function(e){d=e,m.reset(d)}},margin:{get:function(){return i},set:function(e){i.top=e.top!==undefined?e.top:i.top,i.right=e.right!==undefined?e.right:i.right,i.bottom=e.bottom!==undefined?e.bottom:i.bottom,i.left=e.left!==undefined?e.left:i.left}}}),e.utils.inheritOptions(b,t),e.utils.initOptions(b),b},e.models.scatter=function(){"use strict";function X(e){var t,n;return t=W=W||{},n=e[0].series,t=t[n]=t[n]||{},n=e[1],t=t[n]=t[n]||{},t}function V(e){var t,n,r=e[0],i=X(e),s=!1;for(t=1;t<arguments.length;t++){n=arguments[t];if(i[n]!==r[n]||!i.hasOwnProperty(n))i[n]=r[n],s=!0}return s}function $(P){return U.reset(),P.each(function(P){function rt(){R=!1;if(!g)return!1;if(D===!0){var f=d3.merge(P.map(function(t,n){return t.values.map(function(t,r){var i=l(t,r),s=c(t,r);return[e.utils.NaNtoZero(u(i))+Math.random()*1e-4,e.utils.NaNtoZero(a(s))+Math.random()*1e-4,n,r,t]}).filter(function(e,t){return y(e[4],t)})}));if(f.length==0)return!1;f.length<3&&(f.push([u.range()[0]-20,a.range()[0]-20,null,null]),f.push([u.range()[1]+20,a.range()[1]+20,null,null]),f.push([u.range()[0]-20,a.range()[0]+20,null,null]),f.push([u.range()[1]+20,a.range()[1]-20,null,null]));var h=d3.geom.polygon([[-10,-10],[-10,r+10],[n+10,r+10],[n+10,-10]]),p=d3.geom.voronoi(f).map(function(e,t){return{data:h.clip(e),series:f[t][2],point:f[t][3]}});Y.select(".nv-point-paths").selectAll("path").remove();var d=Y.select(".nv-point-paths").selectAll("path").data(p),v=d.enter().append("svg:path").attr("d",function(e){return!e||!e.data||e.data.length===0?"M 0 0":"M"+e.data.join(",")+"Z"}).attr("id",function(e,t){return"nv-path-"+t}).attr("clip-path",function(e,t){return"url(#nv-clip-"+s+"-"+t+")"});x&&v.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));if(S){Y.select(".nv-point-clips").selectAll("*").remove();var m=Y.select(".nv-point-clips").selectAll("clipPath").data(f),b=m.enter().append("svg:clipPath").attr("id",function(e,t){return"nv-clip-"+s+"-"+t}).append("svg:circle").attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",T)}var w=function(e,n){if(R)return 0;var r=P[e.series];if(r===undefined)return;var s=r.values[e.point];s.color=i(r,e.series),s.x=l(s),s.y=c(s);var f=o.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,p=window.pageXOffset||document.documentElement.scrollLeft,d={left:u(l(s,e.point))+f.left+p+t.left+10,top:a(c(s,e.point))+f.top+h+t.top+10};n({point:s,series:r,pos:d,relativePos:[u(l(s,e.point))+t.left,a(c(s,e.point))+t.top],seriesIndex:e.series,pointIndex:e.point})};d.on("click",function(e){w(e,_.elementClick)}).on("dblclick",function(e){w(e,_.elementDblClick)}).on("mouseover",function(e){w(e,_.elementMouseover)}).on("mouseout",function(e,t){w(e,_.elementMouseout)})}else Y.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(R||!P[e.series])return 0;var r=P[e.series],i=r.values[n],s=this;_.elementClick({point:i,series:r,pos:[u(l(i,n))+t.left,a(c(i,n))+t.top],relativePos:[u(l(i,n))+t.left,a(c(i,n))+t.top],seriesIndex:e.series,pointIndex:n,event:d3.event,element:s})}).on("dblclick",function(e,n){if(R||!P[e.series])return 0;var r=P[e.series],i=r.values[n];_.elementDblClick({point:i,series:r,pos:[u(l(i,n))+t.left,a(c(i,n))+t.top],relativePos:[u(l(i,n))+t.left,a(c(i,n))+t.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(R||!P[e.series])return 0;var r=P[e.series],s=r.values[n];_.elementMouseover({point:s,series:r,pos:[u(l(s,n))+t.left,a(c(s,n))+t.top],relativePos:[u(l(s,n))+t.left,a(c(s,n))+t.top],seriesIndex:e.series,pointIndex:n,color:i(e,n)})}).on("mouseout",function(e,n){if(R||!P[e.series])return 0;var r=P[e.series],s=r.values[n];_.elementMouseout({point:s,series:r,pos:[u(l(s,n))+t.left,a(c(s,n))+t.top],relativePos:[u(l(s,n))+t.left,a(c(s,n))+t.top],seriesIndex:e.series,pointIndex:n,color:i(e,n)})})}o=d3.select(this);var W=e.utils.availableWidth(n,o,t),X=e.utils.availableHeight(r,o,t);e.utils.initSVG(o),P.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var J=$.yScale().name===d3.scale.log().name?!0:!1,K=N&&C&&A?[]:d3.merge(P.map(function(e){return e.values.map(function(e,t){return{x:l(e,t),y:c(e,t),size:h(e,t)}})}));u.domain(N||d3.extent(K.map(function(e){return e.x}).concat(d))),b&&P[0]?u.range(k||[(W*w+W)/(2*P[0].values.length),W-W*(1+w)/(2*P[0].values.length)]):u.range(k||[0,W]);if(J){var Q=d3.min(K.map(function(e){if(e.y!==0)return e.y}));a.clamp(!0).domain(C||d3.extent(K.map(function(e){return e.y!==0?e.y:Q*.1}).concat(v))).range(L||[X,0])}else a.domain(C||d3.extent(K.map(function(e){return e.y}).concat(v))).range(L||[X,0]);f.domain(A||d3.extent(K.map(function(e){return e.size}).concat(m))).range(O||z),M=u.domain()[0]===u.domain()[1]||a.domain()[0]===a.domain()[1],u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.01,u.domain()[1]+u.domain()[1]*.01]):u.domain([-1,1])),a.domain()[0]===a.domain()[1]&&(a.domain()[0]?a.domain([a.domain()[0]-a.domain()[0]*.01,a.domain()[1]+a.domain()[1]*.01]):a.domain([-1,1])),isNaN(u.domain()[0])&&u.domain([-1,1]),isNaN(a.domain()[0])&&a.domain([-1,1]),j=j||u,F=F||a,I=I||f;var G=u(1)!==j(1)||a(1)!==F(1)||f(1)!==I(1),Y=o.selectAll("g.nv-wrap.nv-scatter").data([P]),Z=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+s),et=Z.append("defs"),tt=Z.append("g"),nt=Y.select("g");Y.classed("nv-single-point",M),tt.append("g").attr("class","nv-groups"),tt.append("g").attr("class","nv-point-paths"),Z.append("g").attr("class","nv-point-clips"),Y.attr("transform","translate("+t.left+","+t.top+")"),et.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),Y.select("#nv-edge-clip-"+s+" rect").attr("width",W).attr("height",X>0?X:0),nt.attr("clip-path",E?"url(#nv-edge-clip-"+s+")":""),R=!0;var it=Y.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});it.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),it.exit().remove(),it.attr("class",function(e,t){return(e.classed||"")+" nv-group nv-series-"+t}).classed("nv-noninteractive",!g).classed("hover",function(e){return e.hover}),it.watchTransition(U,"scatter: groups").style("fill",function(e,t){return i(e,t)}).style("stroke",function(e,t){return i(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5);var st=it.selectAll("path.nv-point").data(function(e){return e.values.map(function(e,t){return[e,t]}).filter(function(e,t){return y(e[0],t)})});st.enter().append("path").attr("class",function(e){return"nv-point nv-point-"+e[1]}).style("fill",function(e){return e.color}).style("stroke",function(e){return e.color}).attr("transform",function(t){return"translate("+e.utils.NaNtoZero(j(l(t[0],t[1])))+","+e.utils.NaNtoZero(F(c(t[0],t[1])))+")"}).attr("d",e.utils.symbol().type(function(e){return p(e[0])}).size(function(e){return f(h(e[0],e[1]))})),st.exit().remove(),it.exit().selectAll("path.nv-point").watchTransition(U,"scatter exit").attr("transform",function(t){return"translate("+e.utils.NaNtoZero(u(l(t[0],t[1])))+","+e.utils.NaNtoZero(a(c(t[0],t[1])))+")"}).remove(),st.filter(function(e){return G||V(e,"x","y")}).watchTransition(U,"scatter points").attr("transform",function(t){return"translate("+e.utils.NaNtoZero(u(l(t[0],t[1])))+","+e.utils.NaNtoZero(a(c(t[0],t[1])))+")"}),st.filter(function(e){return G||V(e,"shape","size")}).watchTransition(U,"scatter points").attr("d",e.utils.symbol().type(function(e){return p(e[0])}).size(function(e){return f(h(e[0],e[1]))}));if(B){var ot=it.selectAll(".nv-label").data(function(e){return e.values.map(function(e,t){return[e,t]}).filter(function(e,t){return y(e[0],t)})});ot.enter().append("text").style("fill",function(e,t){return e.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){var n=e.utils.NaNtoZero(j(l(t[0],t[1])))+Math.sqrt(f(h(t[0],t[1]))/Math.PI)+2;return"translate("+n+","+e.utils.NaNtoZero(F(c(t[0],t[1])))+")"}).text(function(e,t){return e[0].label}),ot.exit().remove(),it.exit().selectAll("path.nv-label").watchTransition(U,"scatter exit").attr("transform",function(t){var n=e.utils.NaNtoZero(u(l(t[0],t[1])))+Math.sqrt(f(h(t[0],t[1]))/Math.PI)+2;return"translate("+n+","+e.utils.NaNtoZero(a(c(t[0],t[1])))+")"}).remove(),ot.each(function(e){d3.select(this).classed("nv-label",!0).classed("nv-label-"+e[1],!1).classed("hover",!1)}),ot.watchTransition(U,"scatter labels").attr("transform",function(t){var n=e.utils.NaNtoZero(u(l(t[0],t[1])))+Math.sqrt(f(h(t[0],t[1]))/Math.PI)+2;return"translate("+n+","+e.utils.NaNtoZero(a(c(t[0],t[1])))+")"})}H?(clearTimeout(q),q=setTimeout(rt,H)):rt(),j=u.copy(),F=a.copy(),I=f.copy()}),U.renderEnd("scatter immediate"),$}var t={top:0,right:0,bottom:0,left:0},n=null,r=null,i=e.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=null,u=d3.scale.linear(),a=d3.scale.linear(),f=d3.scale.linear(),l=function(e){return e.x},c=function(e){return e.y},h=function(e){return e.size||1},p=function(e){return e.shape||"circle"},d=[],v=[],m=[],g=!0,y=function(e){return!e.notActive},b=!1,w=.1,E=!1,S=!0,x=!1,T=function(){return 25},N=null,C=null,k=null,L=null,A=null,O=null,M=!1,_=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D=!0,P=250,H=300,B=!1,j,F,I,q,R=!1,U=e.utils.renderWatch(_,P),z=[16,256],W;return $.dispatch=_,$.options=e.utils.optionsFunc.bind($),$._calls=new function(){this.clearHighlights=function(){return e.dom.write(function(){o.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,n,r){e.dom.write(function(){o.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+n).classed("hover",r)})}},_.on("elementMouseover.point",function(e){g&&$._calls.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),_.on("elementMouseout.point",function(e){g&&$._calls.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),$._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},xScale:{get:function(){return u},set:function(e){u=e}},yScale:{get:function(){return a},set:function(e){a=e}},pointScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return N},set:function(e){N=e}},yDomain:{get:function(){return C},set:function(e){C=e}},pointDomain:{get:function(){return A},set:function(e){A=e}},xRange:{get:function(){return k},set:function(e){k=e}},yRange:{get:function(){return L},set:function(e){L=e}},pointRange:{get:function(){return O},set:function(e){O=e}},forceX:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return v},set:function(e){v=e}},forcePoint:{get:function(){return m},set:function(e){m=e}},interactive:{get:function(){return g},set:function(e){g=e}},pointActive:{get:function(){return y},set:function(e){y=e}},padDataOuter:{get:function(){return w},set:function(e){w=e}},padData:{get:function(){return b},set:function(e){b=e}},clipEdge:{get:function(){return E},set:function(e){E=e}},clipVoronoi:{get:function(){return S},set:function(e){S=e}},clipRadius:{get:function(){return T},set:function(e){T=e}},showVoronoi:{get:function(){return x},set:function(e){x=e}},id:{get:function(){return s},set:function(e){s=e}},interactiveUpdateDelay:{get:function(){return H},set:function(e){H=e}},showLabels:{get:function(){return B},set:function(e){B=e}},x:{get:function(){return l},set:function(e){l=d3.functor(e)}},y:{get:function(){return c},set:function(e){c=d3.functor(e)}},pointSize:{get:function(){return h},set:function(e){h=d3.functor(e)}},pointShape:{get:function(){return p},set:function(e){p=d3.functor(e)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},duration:{get:function(){return P},set:function(e){P=e,U.reset(P)}},color:{get:function(){return i},set:function(t){i=e.utils.getColor(t)}},useVoronoi:{get:function(){return D},set:function(e){D=e,D===!1&&(S=!1)}}}),e.utils.initOptions($),$},e.models.scatterChart=function(){"use strict";function _(T){return A.reset(),A.models(t),y&&A.models(n),b&&A.models(r),v&&A.models(s),m&&A.models(o),T.each(function(T){var D=this;c=d3.select(this),e.utils.initSVG(c);var P=e.utils.availableWidth(f,c,a),H=e.utils.availableHeight(l,c,a);_.update=function(){N===0?c.call(_):c.transition().duration(N).call(_)},_.container=this,E.setter(M(T),_.update).getter(O(T)).update(),E.disabled=T.map(function(e){return!!e.disabled});if(!S){var B;S={};for(B in E)E[B]instanceof Array?S[B]=E[B].slice(0):S[B]=E[B]}if(!T||!T.length||!T.filter(function(e){return e.values.length}).length)return e.utils.noData(_,c),A.renderEnd("scatter immediate"),_;c.selectAll(".nv-noData").remove(),p=t.xScale(),d=t.yScale();var j=c.selectAll("g.nv-wrap.nv-scatterChart").data([T]),F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()),I=F.append("g"),q=j.select("g");I.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-scatterWrap"),I.append("g").attr("class","nv-regressionLinesWrap"),I.append("g").attr("class","nv-distWrap"),I.append("g").attr("class","nv-legendWrap"),w&&q.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)");if(!g)q.select(".nv-legendWrap").selectAll("*").remove();else{var R=P;i.width(R),j.select(".nv-legendWrap").datum(T).call(i),a.top!=i.height()&&(a.top=i.height(),H=e.utils.availableHeight(l,c,a)),j.select(".nv-legendWrap").attr("transform","translate(0,"+ -a.top+")")}j.attr("transform","translate("+a.left+","+a.top+")"),t.width(P).height(H).color(T.map(function(e,t){return e.color=e.color||h(e,t),e.color}).filter(function(e,t){return!T[t].disabled})).showLabels(C),j.select(".nv-scatterWrap").datum(T.filter(function(e){return!e.disabled})).call(t),j.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var U=j.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(e){return e});U.enter().append("g").attr("class","nv-regLines");var z=U.selectAll(".nv-regLine").data(function(e){return[e]});z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),z.filter(function(e){return e.intercept&&e.slope}).watchTransition(A,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(e,t){return d(p.domain()[0]*e.slope+e.intercept)}).attr("y2",function(e,t){return d(p.domain()[1]*e.slope+e.intercept)}).style("stroke",function(e,t,n){return h(e,n)}).style("stroke-opacity",function(e,t){return e.disabled||typeof e.slope=="undefined"||typeof e.intercept=="undefined"?0:1}),y&&(n.scale(p)._ticks(e.utils.calcTicksX(P/100,T)).tickSize(-H,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")").call(n)),b&&(r.scale(d)._ticks(e.utils.calcTicksY(H/36,T)).tickSize(-P,0),q.select(".nv-y.nv-axis").call(r)),v&&(s.getData(t.x()).scale(p).width(P).color(T.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!T[t].disabled})),I.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),q.select(".nv-distributionX").attr("transform","translate(0,"+d.range()[0]+")").datum(T.filter(function(e){return!e.disabled})).call(s)),m&&(o.getData(t.y()).scale(d).width(H).color(T.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!T[t].disabled})),I.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),q.select(".nv-distributionY").attr("transform","translate("+(w?P:-o.size())+",0)").datum(T.filter(function(e){return!e.disabled})).call(o)),i.dispatch.on("stateChange",function(e){for(var t in e)E[t]=e[t];x.stateChange(E),_.update()}),x.on("changeState",function(e){typeof e.disabled!="undefined"&&(T.forEach(function(t,n){t.disabled=e.disabled[n]}),E.disabled=e.disabled),_.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0),c.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),c.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",o.size())}),t.dispatch.on("elementMouseover.tooltip",function(e){c.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.relativePos[1]-H),c.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.relativePos[0]+s.size()),u.data(e).hidden(!1)}),k=p.copy(),L=d.copy()}),A.renderEnd("scatter with line immediate"),_}var t=e.models.scatter(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.distribution(),o=e.models.distribution(),u=e.models.tooltip(),a={top:30,right:20,bottom:50,left:75},f=null,l=null,c=null,h=e.utils.defaultColor(),p=t.xScale(),d=t.yScale(),v=!1,m=!1,g=!0,y=!0,b=!0,w=!1,E=e.utils.state(),S=null,x=d3.dispatch("stateChange","changeState","renderEnd"),T=null,N=250,C=!1;t.xScale(p).yScale(d),n.orient("bottom").tickPadding(10),r.orient(w?"right":"left").tickPadding(10),s.axis("x"),o.axis("y"),u.headerFormatter(function(e,t){return n.tickFormat()(e,t)}).valueFormatter(function(e,t){return r.tickFormat()(e,t)});var k,L,A=e.utils.renderWatch(x,N),O=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},M=function(e){return function(t){t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return _.dispatch=x,_.scatter=t,_.legend=i,_.xAxis=n,_.yAxis=r,_.distX=s,_.distY=o,_.tooltip=u,_.options=e.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return l},set:function(e){l=e}},container:{get:function(){return c},set:function(e){c=e}},showDistX:{get:function(){return v},set:function(e){v=e}},showDistY:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return y},set:function(e){y=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return T},set:function(e){T=e}},duration:{get:function(){return N},set:function(e){N=e}},showLabels:{get:function(){return C},set:function(e){C=e}},margin:{get:function(){return a},set:function(e){a.top=e.top!==undefined?e.top:a.top,a.right=e.right!==undefined?e.right:a.right,a.bottom=e.bottom!==undefined?e.bottom:a.bottom,a.left=e.left!==undefined?e.left:a.left}},rightAlignYAxis:{get:function(){return w},set:function(e){w=e,r.orient(e?"right":"left")}},color:{get:function(){return h},set:function(t){h=e.utils.getColor(t),i.color(h),s.color(h),o.color(h)}}}),e.utils.inheritOptions(_,t),e.utils.initOptions(_),_},e.models.sparkline=function(){"use strict";function b(s){return y.reset(),s.each(function(s){var g=n-t.left-t.right,y=r-t.top-t.bottom;i=d3.select(this),e.utils.initSVG(i),o.domain(c||d3.extent(s,a)).range(p||[0,g]),u.domain(h||d3.extent(s,f)).range(d||[y,0]);var b=i.selectAll("g.nv-wrap.nv-sparkline").data([s]),w=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline"),E=w.append("g"),S=b.select("g");b.attr("transform","translate("+t.left+","+t.top+")");var T=b.selectAll("path").data(function(e){return[e]});T.enter().append("path"),T.exit().remove(),T.style("stroke",function(e,t){return e.color||l(e,t)}).attr("d",d3.svg.line().x(function(e,t){return o(a(e,t))}).y(function(e,t){return u(f(e,t))}));var N=b.selectAll("circle.nv-point").data(function(e){function n(t){if(t!=-1){var n=e[t];return n.pointIndex=t,n}return null}var t=e.map(function(e,t){return f(e,t)}),r=n(t.lastIndexOf(u.domain()[1])),i=n(t.indexOf(u.domain()[0])),s=n(t.length-1);return[v?i:null,v?r:null,m?s:null].filter(function(e){return e!=null})});N.enter().append("circle"),N.exit().remove(),N.attr("cx",function(e,t){return o(a(e,e.pointIndex))}).attr("cy",function(e,t){return u(f(e,e.pointIndex))}).attr("r",2).attr("class",function(e,t){return a(e,e.pointIndex)==o.domain()[1]?"nv-point nv-currentValue":f(e,e.pointIndex)==u.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),b}var t={top:2,right:0,bottom:2,left:0},n=400,r=32,i=null,s=!0,o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=e.utils.getColor(["#000"]),c,h,p,d,v=!0,m=!0,g=d3.dispatch("renderEnd"),y=e.utils.renderWatch(g);return b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},xDomain:{get:function(){return c},set:function(e){c=e}},yDomain:{get:function(){return h},set:function(e){h=e}},xRange:{get:function(){return p},set:function(e){p=e}},yRange:{get:function(){return d},set:function(e){d=e}},xScale:{get:function(){return o},set:function(e){o=e}},yScale:{get:function(){return u},set:function(e){u=e}},animate:{get:function(){return s},set:function(e){s=e}},showMinMaxPoints:{get:function(){return v},set:function(e){v=e}},showCurrentPoint:{get:function(){return m},set:function(e){m=e}},x:{get:function(){return a},set:function(e){a=d3.functor(e)}},y:{get:function(){return f},set:function(e){f=d3.functor(e)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t)}}}),b.dispatch=g,e.utils.initOptions(b),b},e.models.sparklinePlus=function(){"use strict";function g(d){return m.reset(),m.models(t),d.each(function(d){function A(){if(a)return;var e=N.selectAll(".nv-hoverValue").data(u),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+s(t.x()(d[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(!u.length)return;r.append("line").attr("x1",0).attr("y1",-n.top).attr("x2",0).attr("y2",b),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-n.top).attr("text-anchor","end").attr("dy",".9em"),N.select(".nv-hoverValue .nv-xValue").text(f(t.x()(d[u[0]],u[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-n.top).attr("text-anchor","start").attr("dy",".9em"),N.select(".nv-hoverValue .nv-yValue").text(l(t.y()(d[u[0]],u[0])))}function O(){function r(e,n){var r=Math.abs(t.x()(e[0],0)-n),i=0;for(var s=0;s<e.length;s++)Math.abs(t.x()(e[s],s)-n)<r&&(r=Math.abs(t.x()(e[s],s)-n),i=s);return i}if(a)return;var e=d3.mouse(this)[0]-n.left;u=[r(d,Math.round(s.invert(e)))],A()}var v=d3.select(this);e.utils.initSVG(v);var m=e.utils.availableWidth(r,v,n),b=e.utils.availableHeight(i,v,n);g.update=function(){v.call(g)},g.container=this;if(!d||!d.length)return e.utils.noData(g,v),g;v.selectAll(".nv-noData").remove();var w=t.y()(d[d.length-1],d.length-1);s=t.xScale(),o=t.yScale();var E=v.selectAll("g.nv-wrap.nv-sparklineplus").data([d]),S=E.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),T=S.append("g"),N=E.select("g");T.append("g").attr("class","nv-sparklineWrap"),T.append("g").attr("class","nv-valueWrap"),T.append("g").attr("class","nv-hoverArea"),E.attr("transform","translate("+n.left+","+n.top+")");var C=N.select(".nv-sparklineWrap");t.width(m).height(b),C.call(t);if(c){var k=N.select(".nv-valueWrap"),L=k.selectAll(".nv-currentValue").data([w]);L.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),L.attr("x",m+(p?n.right:0)).attr("y",h?function(e){return o(e)}:0).style("fill",t.color()(d[d.length-1],d.length-1)).text(l(w))}T.select(".nv-hoverArea").append("rect").on("mousemove",O).on("click",function(){a=!a}).on("mouseout",function(){u=[],A()}),N.select(".nv-hoverArea rect").attr("transform",function(e){return"translate("+ -n.left+","+ -n.top+")"}).attr("width",m+n.left+n.right).attr("height",b+n.top)}),m.renderEnd("sparklinePlus immediate"),g}var t=e.models.sparkline(),n={top:15,right:100,bottom:10,left:50},r=null,i=null,s,o,u=[],a=!1,f=d3.format(",r"),l=d3.format(",.2f"),c=!0,h=!0,p=!1,d=null,v=d3.dispatch("renderEnd"),m=e.utils.renderWatch(v);return g.dispatch=v,g.sparkline=t,g.options=e.utils.optionsFunc.bind(g),g._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},xTickFormat:{get:function(){return f},set:function(e){f=e}},yTickFormat:{get:function(){return l},set:function(e){l=e}},showLastValue:{get:function(){return c},set:function(e){c=e}},alignValue:{get:function(){return h},set:function(e){h=e}},rightAlignValue:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return n},set:function(e){n.top=e.top!==undefined?e.top:n.top,n.right=e.right!==undefined?e.right:n.right,n.bottom=e.bottom!==undefined?e.bottom:n.bottom,n.left=e.left!==undefined?e.left:n.left}}}),e.utils.inheritOptions(g,t),e.utils.initOptions(g),g},e.models.stackedArea=function(){"use strict";function E(l){return w.reset(),w.models(g),l.each(function(l){var y=n-t.left-t.right,S=r-t.top-t.bottom;o=d3.select(this),e.utils.initSVG(o),v=g.xScale(),m=g.yScale();var T=l;l.forEach(function(e,t){e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e})});var N=l.filter(function(e){return!e.disabled});l=d3.layout.stack().order(h).offset(c).values(function(e){return e.values}).x(u).y(a).out(function(e,t,n){e.display={y:n,y0:t}})(N);var C=o.selectAll("g.nv-wrap.nv-stackedarea").data([l]),k=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),L=k.append("defs"),A=k.append("g"),O=C.select("g");A.append("g").attr("class","nv-areaWrap"),A.append("g").attr("class","nv-scatterWrap"),C.attr("transform","translate("+t.left+","+t.top+")"),g.forceY().length==0&&g.forceY().push(0),g.width(y).height(S).x(u).y(function(e){if(e.display!==undefined)return e.display.y+e.display.y0}).color(l.map(function(e,t){return e.color=e.color||i(e,e.seriesIndex),e.color}));var M=O.select(".nv-scatterWrap").datum(l);M.call(g),L.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),C.select("#nv-edge-clip-"+s+" rect").attr("width",y).attr("height",S),O.attr("clip-path",d?"url(#nv-edge-clip-"+s+")":"");var _=d3.svg.area().defined(f).x(function(e,t){return v(u(e,t))}).y0(function(e){return m(e.display.y0)}).y1(function(e){return m(e.display.y+e.display.y0)}).interpolate(p),D=d3.svg.area().defined(f).x(function(e,t){return v(u(e,t))}).y0(function(e){return m(e.display.y0)}).y1(function(e){return m(e.display.y0)}),P=O.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});P.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e,t){return D(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),b.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),b.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("click",function(e,t){d3.select(this).classed("hover",!1),b.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}),P.exit().remove(),P.style("fill",function(e,t){return e.color||i(e,e.seriesIndex)}).style("stroke",function(e,t){return e.color||i(e,e.seriesIndex)}),P.watchTransition(w,"stackedArea path").attr("d",function(e,t){return _(e.values,t)}),g.dispatch.on("elementMouseover.area",function(e){O.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!0)}),g.dispatch.on("elementMouseout.area",function(e){O.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!1)}),E.d3_stackedOffset_stackPercent=function(e){var t=e.length,n=e[0].length,r,i,s,o=[];for(i=0;i<n;++i){for(r=0,s=0;r<T.length;r++)s+=a(T[r].values[i]);if(s)for(r=0;r<t;r++)e[r][i][1]/=s;else for(r=0;r<t;r++)e[r][i][1]=0}for(i=0;i<n;++i)o[i]=0;return o}}),w.renderEnd("stackedArea immediate"),E}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=e.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=null,u=function(e){return e.x},a=function(e){return e.y},f=function(e,t){return!isNaN(a(e,t))&&a(e,t)!==null},l="stack",c="zero",h="default",p="linear",d=!1,v,m,g=e.models.scatter(),y=250,b=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");g.pointSize(2.2).pointDomain([2.2,2.2]);var w=e.utils.renderWatch(b,y);return E.dispatch=b,E.scatter=g,g.dispatch.on("elementClick",function(){b.elementClick.apply(this,arguments)}),g.dispatch.on("elementMouseover",function(){b.elementMouseover.apply(this,arguments)}),g.dispatch.on("elementMouseout",function(){b.elementMouseout.apply(this,arguments)}),E.interpolate=function(e){return arguments.length?(p=e,E):p},E.duration=function(e){return arguments.length?(y=e,w.reset(y),g.duration(y),E):y},E.dispatch=b,E.scatter=g,E.options=e.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},defined:{get:function(){return f},set:function(e){f=e}},clipEdge:{get:function(){return d},set:function(e){d=e}},offset:{get:function(){return c},set:function(e){c=e}},order:{get:function(){return h},set:function(e){h=e}},interpolate:{get:function(){return p},set:function(e){p=e}},x:{get:function(){return u},set:function(e){u=d3.functor(e)}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==undefined?e.top:t.top,t.right=e.right!==undefined?e.right:t.right,t.bottom=e.bottom!==undefined?e.bottom:t.bottom,t.left=e.left!==undefined?e.left:t.left}},color:{get:function(){return i},set:function(t){i=e.utils.getColor(t)}},style:{get:function(){return l},set:function(e){l=e;switch(l){case"stack":E.offset("zero"),E.order("default");break;case"stream":E.offset("wiggle"),E.order("inside-out");break;case"stream-center":E.offset("silhouette"),E.order("inside-out");break;case"expand":E.offset("expand"),E.order("default");break;case"stack_percent":E.offset(E.d3_stackedOffset_stackPercent),E.order("default")}}},duration:{get:function(){return y},set:function(e){y=e,w.reset(y),g.duration(y)}}}),e.utils.inheritOptions(E,g),e.utils.initOptions(E),E},e.models.stackedAreaChart=function(){"use strict";function I(u){return P.reset(),P.models(t),v&&P.models(n),m&&P.models(r),u.each(function(u){function Y(){v&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R+")").transition().duration(M).call(n)}function Z(){if(m){if(t.style()==="expand"||t.style()==="stack_percent"){var e=r.tickFormat();if(!_||e!==F)_=e;r.tickFormat(F)}else _&&(r.tickFormat(_),_=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(r)}}function tt(e){var n=X.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(e){return!e.disabled}).map(function(n,r){return{key:n.key,area:n.area,classed:n.classed,values:n.values.filter(function(n,r){return t.x()(n,r)>=e[0]&&t.x()(n,r)<=e[1]}),disableTooltip:n.disableTooltip}}));n.transition().duration(M).call(t),Y(),Z()}var C=d3.select(this),P=this;e.utils.initSVG(C);var q=e.utils.availableWidth(l,C,f),R=e.utils.availableHeight(c,C,f)-(y?a.height():0);I.update=function(){C.transition().duration(M).call(I)},I.container=this,T.setter(j(u),I.update).getter(B(u)).update(),T.disabled=u.map(function(e){return!!e.disabled});if(!N){var U;N={};for(U in T)T[U]instanceof Array?N[U]=T[U].slice(0):N[U]=T[U]}if(!u||!u.length||!u.filter(function(e){return e.values.length}).length)return e.utils.noData(I,C),I;C.selectAll(".nv-noData").remove(),S=t.xScale(),x=t.yScale();var z=C.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),W=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=z.select("g");W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap");var V=W.append("g").attr("class","nv-focus");V.append("g").attr("class","nv-background").append("rect"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-stackedWrap"),V.append("g").attr("class","nv-interactive");var $=W.append("g").attr("class","nv-focusWrap");if(!d)X.select(".nv-legendWrap").selectAll("*").remove();else{var J=p?q-L:q;i.width(J),X.select(".nv-legendWrap").datum(u).call(i),f.top!=i.height()&&(f.top=i.height(),R=e.utils.availableHeight(c,C,f)-(y?a.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(q-J)+","+ -f.top+")")}if(!p)X.select(".nv-controlsWrap").selectAll("*").remove();else{var K=[{key:O.stacked||"Stacked",metaKey:"Stacked",disabled:t.style()!="stack",style:"stack"},{key:O.stream||"Stream",metaKey:"Stream",disabled:t.style()!="stream",style:"stream"},{key:O.expanded||"Expanded",metaKey:"Expanded",disabled:t.style()!="expand",style:"expand"},{key:O.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:t.style()!="stack_percent",style:"stack_percent"}];L=A.length/3*260,K=K.filter(function(e){return A.indexOf(e.metaKey)!==-1}),s.width(L).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(K).call(s),f.top!=Math.max(s.height(),i.height())&&(f.top=Math.max(s.height(),i.height()),R=e.utils.availableHeight(c,C,f)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+ -f.top+")")}z.attr("transform","translate("+f.left+","+f.top+")"),g&&X.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)"),b&&(o.width(q).height(R).margin({left:f.left,top:f.top}).svgContainer(C).xScale(S),z.select(".nv-interactive").call(o)),X.select(".nv-focus .nv-background rect").attr("width",q).attr("height",R),t.width(q).height(R).color(u.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!u[t].disabled}));var Q=X.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(e){return!e.disabled}));v&&n.scale(S)._ticks(e.utils.calcTicksX(q/100,u)).tickSize(-R,0);if(m){var G;t.offset()==="wiggle"?G=0:G=e.utils.calcTicksY(R/36,u),r.scale(x)._ticks(G).tickSize(-q,0)}if(!y)Q.transition().call(t),Y(),Z();else{a.width(q),X.select(".nv-focusWrap").attr("transform","translate(0,"+(R+f.bottom+a.margin().top)+")").datum(u.filter(function(e){return!e.disabled})).call(a);var et=a.brush.empty()?a.xDomain():a.brush.extent();et!==null&&tt(et)}t.dispatch.on("areaClick.toggle",function(e){u.filter(function(e){return!e.disabled}).length===1?u.forEach(function(e){e.disabled=!1}):u.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),T.disabled=u.map(function(e){return!!e.disabled}),k.stateChange(T),I.update()}),i.dispatch.on("stateChange",function(e){for(var t in e)T[t]=e[t];k.stateChange(T),I.update()}),s.dispatch.on("legendClick",function(e,n){if(!e.disabled)return;K=K.map(function(e){return e.disabled=!0,e}),e.disabled=!1,t.style(e.style),T.style=t.style(),k.stateChange(T),I.update()}),o.dispatch.on("elementMousemove",function(n){t.clearHighlights();var r,i,s,a=[],f=0,l=!0;u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(o,u){i=e.interactiveBisect(o.values,n.pointXValue,I.x());var c=o.values[i],p=I.y()(c,i);p!=null&&t.highlightPoint(u,i,!0);if(typeof c=="undefined")return;typeof r=="undefined"&&(r=c),typeof s=="undefined"&&(s=I.xScale()(I.x()(c,i)));var d=t.style()=="expand"?c.display.y:I.y()(c,i);a.push({key:o.key,value:d,color:h(o,o.seriesIndex),point:c}),w&&t.style()!="expand"&&d!=null&&(f+=d,l=!1)}),a.reverse();if(a.length>2){var c=I.yScale().invert(n.mouseY),p=Infinity,d=null;a.forEach(function(e,t){c=Math.abs(c);var n=Math.abs(e.point.display.y0),r=Math.abs(e.point.display.y);if(c>=n&&c<=r+n){d=t;return}}),d!=null&&(a[d].highlight=!0)}w&&t.style()!="expand"&&a.length>=2&&!l&&a.push({key:E,value:f,total:!0});var v=I.x()(r,i),m=o.tooltip.valueFormatter();t.style()==="expand"||t.style()==="stack_percent"?(D||(D=m),m=d3.format(".1%")):D&&(m=D,D=null),o.tooltip.chartContainer(P.parentNode).valueFormatter(m).data({value:v,series:a})(),o.renderGuideLine(s)}),o.dispatch.on("elementMouseout",function(e){t.clearHighlights()}),a.dispatch.on("onBrush",function(e){tt(e)}),k.on("changeState",function(e){typeof e.disabled!="undefined"&&u.length===e.disabled.length&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),T.disabled=e.disabled),typeof e.style!="undefined"&&(t.style(e.style),H=e.style),I.update()})}),P.renderEnd("stacked Area chart immediate"),I}var t=e.models.stackedArea(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.interactiveGuideline(),u=e.models.tooltip(),a=e.models.focus(e.models.stackedArea()),f={top:30,right:25,bottom:50,left:60},l=null,c=null,h=e.utils.defaultColor(),p=!0,d=!0,v=!0,m=!0,g=!1,y=!1,b=!1,w=!0,E="TOTAL",S,x,T=e.utils.state(),N=null,C=null,k=d3.dispatch("stateChange","changeState","renderEnd"),L=250,A=["Stacked","Stream","Expanded"],O={},M=250;T.style=t.style(),n.orient("bottom").tickPadding(7),r.orient(g?"right":"left"),u.headerFormatter(function(e,t){return n.tickFormat()(e,t)}).valueFormatter(function(e,t){return r.tickFormat()(e,t)}),o.tooltip.headerFormatter(function(e,t){return n.tickFormat()(e,t)}).valueFormatter(function(e,t){return e==null?"N/A":r.tickFormat()(e,t)});var _=null,D=null;s.updateState(!1);var P=e.utils.renderWatch(k),H=t.style(),B=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),style:t.style()}}},j=function(e){return function(t){t.style!==undefined&&(H=t.style),t.active!==undefined&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},F=d3.format("%");return t.dispatch.on("elementMouseover.tooltip",function(e){e.point.x=t.x()(e.point),e.point.y=t.y()(e.point),u.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),I.dispatch=k,I.stacked=t,I.legend=i,I.controls=s,I.xAxis=n,I.x2Axis=a.xAxis,I.yAxis=r,I.y2Axis=a.yAxis,I.interactiveLayer=o,I.tooltip=u,I.focus=a,I.dispatch=k,I.options=e.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},showLegend:{get:function(){return d},set:function(e){d=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},defaultState:{get:function(){return N},set:function(e){N=e}},noData:{get:function(){return C},set:function(e){C=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return O},set:function(e){O=e}},controlOptions:{get:function(){return A},set:function(e){A=e}},showTotalInTooltip:{get:function(){return w},set:function(e){w=e}},totalLabel:{get:function(){return E},set:function(e){E=e}},focusEnable:{get:function(){return y},set:function(e){y=e}},focusHeight:{get:function(){return a.height()},set:function(e){a.height(e)}},brushExtent:{get:function(){return a.brushExtent()},set:function(e){a.brushExtent(e)}},margin:{get:function(){return f},set:function(e){f.top=e.top!==undefined?e.top:f.top,f.right=e.right!==undefined?e.right:f.right,f.bottom=e.bottom!==undefined?e.bottom:f.bottom,f.left=e.left!==undefined?e.left:f.left}},focusMargin:{get:function(){return a.margin},set:function(e){a.margin.top=e.top!==undefined?e.top:a.margin.top,a.margin.right=e.right!==undefined?e.right:a.margin.right,a.margin.bottom=e.bottom!==undefined?e.bottom:a.margin.bottom,a.margin.left=e.left!==undefined?e.left:a.margin.left}},duration:{get:function(){return M},set:function(e){M=e,P.reset(M),t.duration(M),n.duration(M),r.duration(M)}},color:{get:function(){return h},set:function(n){h=e.utils.getColor(n),i.color(h),t.color(h),a.color(h)}},x:{get:function(){return t.x()},set:function(e){t.x(e),a.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e),a.y(e)}},rightAlignYAxis:{get:function(){return g},set:function(e){g=e,r.orient(g?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(e){b=!!e,I.interactive(!e),I.useVoronoi(!e),t.scatter.interactive(!e)}}}),e.utils.inheritOptions(I,t),e.utils.initOptions(I),I},e.models.stackedAreaWithFocusChart=function(){return e.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},e.models.sunburst=function(){"use strict";function C(e){var t=k(e);return t>90?180:0}function k(e){var t=Math.max(0,Math.min(2*Math.PI,g(e.x))),n=Math.max(0,Math.min(2*Math.PI,g(e.x+e.dx))),r=(t+n)/2*(180/Math.PI)-90;return r}function L(e){var t=Math.max(0,Math.min(2*Math.PI,g(e.x))),n=Math.max(0,Math.min(2*Math.PI,g(e.x+e.dx))),r=n-t;return r>c}function A(e,t){var n=d3.interpolate(g.domain(),[w.x,w.x+w.dx]),r=d3.interpolate(y.domain(),[w.y,1]),i=d3.interpolate(y.range(),[w.y?20:0,x]);return t===0?function(){return N(e)}:function(t){return g.domain(n(t)),y.domain(r(t)).range(i(t)),N(e)}}function O(e){var t=d3.interpolate({x:e.x0,dx:e.dx0,y:e.y0,dy:e.dy0},e);return function(n){var r=t(n);return e.x0=r.x,e.dx0=r.dx,e.y0=r.y,e.dy0=r.dy,N(r)}}function M(e){var t=p(e);T[t]||(T[t]={});var n=T[t];n.dx=e.dx,n.x=e.x,n.dy=e.dy,n.y=e.y}function _(e){e.forEach(function(e){var t=p(e),n=T[t];n?(e.dx0=n.dx,e.x0=n.x,e.dy0=n.dy,e.y0=n.y):(e.dx0=e.dx,e.x0=e.x,e.dy0=e.dy,e.y0=e.y),M(e)})}function D(e){var t=u.selectAll("text"),n=u.selectAll("path");t.transition().attr("opacity",0),w=e,n.transition().duration(v).attrTween("d",A).each("end",function(t){if(t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth){var n=d3.select(this.parentNode),r=n.select("text");r.transition().duration(v).text(function(e){return l(e)}).attr("opacity",function(e){return L(e)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(t.depth===0)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(y(t.y)+5)+",0)";var r=k(t),i=C(t);return i===0?"rotate("+r+")translate("+(y(t.y)+5)+",0)":"rotate("+r+")translate("+(y(t.y)+n+5)+",0)rotate("+i+")"})}})}function H(c){return P.reset(),c.each(function(c){u=d3.select(this),E=e.utils.availableWidth(n,u,t),S=e.utils.availableHeight(r,u,t),x=Math.min(E,S)/2,y.range([0,x]);var h=u.select("g.nvd3.nv-wrap.nv-sunburst");h[0][0]||(h=u.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+o).attr("transform","translate("+E/2+","+S/2+")")),u.on("click",function(e,t){m.chartClick({data:e,index:t,pos:d3.event,id:o})}),b.value(s[i]||s.count);var g=b.nodes(c[0]).reverse();_(g);var w=h.selectAll(".arc-container").data(g,p),A=w.enter().append("g").attr("class","arc-container");A.append("path").attr("d",N).style("fill",function(e){return e.color?e.color:d?a((e.children?e:e.parent).name):a(e.name)}).style("stroke","#FFF").on("click",D).on("mouseover",function(e,t){d3.select(this).classed("hover",!0).style("opacity",.8),m.elementMouseover({data:e,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1).style("opacity",1),m.elementMouseout({data:e})}).on("mousemove",function(e,t){m.elementMousemove({data:e})}),w.each(function(e){d3.select(this).select("path").transition().duration(v).attrTween("d",O)}),f&&(w.selectAll("text").remove(),w.append("text").text(function(e){return l(e)}).transition().duration(v).attr("opacity",function(e){return L(e)?1:0}).attr("transform",function(e){var t=this.getBBox().width;if(e.depth===0)return"rotate(0)translate("+t/2*-1+",0)";var n=k(e),r=C(e);return r===0?"rotate("+n+")translate("+(y(e.y)+5)+",0)":"rotate("+n+")translate("+(y(e.y)+t+5)+",0)rotate("+r+")"})),D(g[g.length-1]),w.exit().transition().duration(v).attr("opacity",0).each("end",function(e){var t=p(e);T[t]=undefined}).remove()}),P.renderEnd("sunburst immediate"),H}var t={top:0,right:0,bottom:0,left:0},n=600,r=600,i="count",s={count:function(e){return 1},value:function(e){return e.value||e.size},size:function(e){return e.value||e.size}},o=Math.floor(Math.random()*1e4),u=null,a=e.utils.defaultColor(),f=!1,l=function(e){return i==="count"?e.name+" #"+e.value:e.name+" "+(e.value||e.size)},c=.02,h=function(e,t){return e.name>t.name},p=function(e,t){return e.name},d=!0,v=500,m=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),g=d3.scale.linear().range([0,2*Math.PI]),y=d3.scale.sqrt(),b=d3.layout.partition().sort(h),w,E,S,x,T={},N=d3.svg.arc().startAngle(function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x)))}).endAngle(function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x+e.dx)))}).innerRadius(function(e){return Math.max(0,y(e.y))}).outerRadius(function(e){return Math.max(0,y(e.y+e.dy))}),P=e.utils.renderWatch(m);return H.dispatch=m,H.options=e.utils.optionsFunc.bind(H),H._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return r},set:function(e){r=e}},mode:{get:function(){return i},set:function(e){i=e}},id:{get:function(){return o},set:function(e){o=e}},duration:{get:function(){return v},set:function(e){v=e}},groupColorByParent:{get:function(){return d},set:function(e){d=!!e}},showLabels:{get:function(){return f},set:function(e){f=!!e}},labelFormat:{get:function(){return l},set:function(e){l=e}},labelThreshold:{get:function(){return c},set:function(e){c=e}},sort:{get:function(){return h},set:function(e){h=e}},key:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!=undefined?e.top:t.top,t.right=e.right!=undefined?e.right:t.right,t.bottom=e.bottom!=undefined?e.bottom:t.bottom,t.left=e.left!=undefined?e.left:t.left}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}}}),e.utils.initOptions(H),H},e.models.sunburstChart=function(){"use strict";function p(n){return h.reset(),h.models(t),n.each(function(n){var o=d3.select(this);e.utils.initSVG(o);var u=e.utils.availableWidth(i,o,r),a=e.utils.availableHeight(s,o,r);p.update=function(){l===0?o.call(p):o.transition().duration(l).call(p)},p.container=o;if(!n||!n.length)return e.utils.noData(p,o),p;o.selectAll(".nv-noData").remove(),t.width(u).height(a),o.call(t)}),h.renderEnd("sunburstChart immediate"),p}var t=e.models.sunburst(),n=e.models.tooltip(),r={top:30,right:20,bottom:20,left:20},i=null,s=null,o=e.utils.defaultColor(),u=Math.round(Math.random()*1e5),a=null,f=null,l=250,c=d3.dispatch("stateChange","changeState","renderEnd"),h=e.utils.renderWatch(c);return n.duration(0).headerEnabled(!1).valueFormatter(function(e){return e}),t.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.data.name,value:e.data.value||e.data.size,color:e.color},n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(e){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(e){n()}),p.dispatch=c,p.sunburst=t,p.tooltip=n,p.options=e.utils.optionsFunc.bind(p),p._options=Object.create({},{noData:{get:function(){return f},set:function(e){f=e}},defaultState:{get:function(){return a},set:function(e){a=e}},color:{get:function(){return o},set:function(e){o=e,t.color(o)}},duration:{get:function(){return l},set:function(e){l=e,h.reset(l),t.duration(l)}},margin:{get:function(){return r},set:function(e){r.top=e.top!==undefined?e.top:r.top,r.right=e.right!==undefined?e.right:r.right,r.bottom=e.bottom!==undefined?e.bottom:r.bottom,r.left=e.left!==undefined?e.left:r.left}}}),e.utils.inheritOptions(p,t),e.utils.initOptions(p),p},e.version="1.8.4"}(),define("nvd3",["d3"],function(e){return function(){var t,n;return t||e.nvd3}}(this)),define("common/charts/helper/cubicBezierInterpolateHelper",["angular"],function(e){function t(t){function r(e,t,n){var r=t[0],i=t[1],s=e[n-1],o=e[n+1];if(s&&o){var u=s[0],a=s[1],f=o[0],l=o[1],c,h=(r+u)/2,p=(i+a)/2,d=(r+f)/2,v=(i+l)/2;c=(v-p)*(d-r)/(d-h)+i-v,p+=c,v+=c,p>a&&p>i?(p=Math.max(a,i),v=2*i-p):p<a&&p<i&&(p=Math.min(a,i),v=2*i-p),v>l&&v>i?(v=Math.max(l,i),p=2*i-v):v<l&&v<i&&(v=Math.min(l,i),p=2*i-v),t.rightControlPointX=d,t.rightControlPointY=v}return n==0?[r,i]:["C",s.rightControlPointX||s[0],s.rightControlPointY||s[1],h||r,p||i,r,i]}var n=[];return e.forEach(t,function(e,i){var s=r(t,e,i);n=n.concat(s)}),n.join(" ")}return{getSvgPathByGivenPoints:t}}),define("common/charts/core/angular-nvd3/index",["app","nvd3","../../../services/i18nService","../../helper/cubicBezierInterpolateHelper"],function(e,t,n,r){if(t&&t.BROWSER_NOT_SUPPORT){var i=n.getI18n("chart");e.directive("nvd3",[function(){return{template:'<div class="text-center" style="height: 100px; margin: 40px 0;">'+i.i18n("browser.not.support")+"</div>"}}]);return}e.directive("nvd3",["nvd3Utils",function(e){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(t,n,i){function o(e,n,r){e&&n&&angular.forEach(e,function(i,s){s[0]!=="_"&&(s==="dispatch"?((n[s]===undefined||n[s]===null)&&t._config.extended&&(n[s]={}),u(i,n[s])):s==="tooltip"?((n[s]===undefined||n[s]===null)&&t._config.extended&&(n[s]={}),o(e[s],n[s],r)):s==="contentGenerator"?n[s]&&e[s](n[s]):["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close"].indexOf(s)===-1&&(n[s]===undefined||n[s]===null?t._config.extended&&(n[s]=i()):e[s](n[s])))})}function u(e,n){e&&n&&angular.forEach(e,function(r,i){n[i]===undefined||n[i]===null?t._config.extended&&(n[i]=r.on):e.on(i+"._",n[i])})}function a(r){var i=e.deepExtend(l(r),t.options[r]||{});t._config.extended&&(t.options[r]=i);var s=angular.element("<div></div>").html(i.html||"").addClass(r).addClass(i.className).removeAttr("style").css(i.css);i.html||s.text(i.text),i.enable&&(r==="title"?n.prepend(s):r==="subtitle"?angular.element(n[0].querySelector(".title")).after(s):r==="caption"&&n.append(s))}function f(){var r=e.deepExtend(c(),t.options.styles||{});t._config.extended&&(t.options.styles=r),angular.forEach(r.classes,function(e,t){e?n.addClass(t):n.removeClass(t)}),n.removeAttr("style").css(r.css)}function l(e){switch(e){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:t.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:t.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:t.options.chart.width+"px",textAlign:"center"}}}}function c(){return{classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}}}function h(e,n){e&&e!==n&&(t._config.disabled||(t._config.refreshDataOnly?t.api.update():t.api.refresh()))}var s={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10};t.isReady=!1,t._config=angular.extend(s,t.config),t.api={refresh:function(){t.api.updateWithOptions(t.options),t.isReady=!0},refreshWithTimeout:function(e){setTimeout(function(){t.api.refresh()},e)},update:function(){t.chart&&t.svg?t.svg.datum(t.data).call(t.chart):t.api.refresh()},updateWithTimeout:function(e){setTimeout(function(){t.api.update()},e)},updateWithOptions:function(n){t.api.clearElement();if(angular.isDefined(n)===!1)return;if(!t._config.visible)return;t.chart=nv.models[n.chart.type](),t.chart.id=Math.random().toString(36).substr(2,15),t.config&&t.config.interpolate&&t.chart.interpolate(t.config.interpolate),n.chart.interpolate=="spline"&&(n.chart.interpolate=r.getSvgPathByGivenPoints),angular.forEach(t.chart,function(e,r){if(r[0]!=="_"&&!(["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(r)>=0))if(r==="dispatch")(n.chart[r]===undefined||n.chart[r]===null)&&t._config.extended&&(n.chart[r]={}),u(t.chart[r],n.chart[r]);else if(["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(r)>=0||r==="stacked"&&n.chart.type==="stackedAreaChart")(n.chart[r]===undefined||n.chart[r]===null)&&t._config.extended&&(n.chart[r]={}),o(t.chart[r],n.chart[r],n.chart.type);else if(r!=="xTickFormat"&&r!=="yTickFormat"||n.chart.type!=="lineWithFocusChart")if(r!=="tooltips"||n.chart.type!=="boxPlotChart")if(r!=="tooltipXContent"&&r!=="tooltipYContent"||n.chart.type!=="scatterChart")n.chart[r]===undefined||n.chart[r]===null?t._config.extended&&(r==="barColor"?n.chart[r]=e()():n.chart[r]=e()):t.chart[r](n.chart[r])}),n.chart.type==="sunburstChart"?t.api.updateWithData(angular.copy(t.data)):t.api.updateWithData(t.data),(n.title||t._config.extended)&&a("title"),(n.subtitle||t._config.extended)&&a("subtitle"),(n.caption||t._config.extended)&&a("caption"),(n.styles||t._config.extended)&&f(),nv.addGraph(function(){if(!t.chart)return;return t.chart.resizeHandler&&t.chart.resizeHandler.clear(),t.chart.resizeHandler=nv.utils.windowResize(function(){t.chart&&t.chart.update&&t.chart.update()}),n.chart.zoom!==undefined&&["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(n.chart.type)>-1&&e.zoom(t,n),t.chart},n.chart.callback)},updateWithData:function(e){if(e){d3.select(n[0]).select("svg").remove();var r,i;t.svg=d3.select(n[0]).append("svg");if(r=t.options.chart.height)isNaN(+r)||(r+="px"),t.svg.attr("height",r).style({height:r});(i=t.options.chart.width)?(isNaN(+i)||(i+="px"),t.svg.attr("width",i).style({width:i})):t.svg.attr("width","100%").style({width:"100%"}),t.svg.datum(e).call(t.chart)}},clearElement:function(){n.find(".title").remove(),n.find(".subtitle").remove(),n.find(".caption").remove(),n.empty(),t.chart&&t.chart.tooltip&&t.chart.tooltip.id&&d3.select("#"+t.chart.tooltip.id()).remove();if(nv.graphs&&t.chart)for(var e=nv.graphs.length-1;e>=0;e--)nv.graphs[e]&&nv.graphs[e].id===t.chart.id&&nv.graphs.splice(e,1);nv.tooltip&&nv.tooltip.cleanup&&nv.tooltip.cleanup(),t.chart&&t.chart.resizeHandler&&t.chart.resizeHandler.clear(),t.chart=null},getScope:function(){return t},getElement:function(){return n}},t._config.deepWatchOptions&&t.$watch("options",e.debounce(function(e){e&&!t._config.disabled&&t.api.refresh()},t._config.debounce,!0),!0),t._config.deepWatchData&&(t._config.deepWatchDataDepth===1?t.$watchCollection("data",h):t.$watch("data",h,t._config.deepWatchDataDepth===2)),t.$watch("config",function(e,n){if(!e)return;e!==n&&(t._config=angular.extend(s,e),t.api.refresh())},!0),!t._config.deepWatchOptions&&!t._config.deepWatchData&&t.api.refresh(),angular.forEach(t.events,function(e,n){t.$on(n,function(n,r){return e(n,t,r)})}),n.on("$destroy",function(){t.api.clearElement()}),t.$watch("isReady",function(e){e&&t.onReady&&typeof t.onReady()=="function"&&t.onReady()(t,n)})}}}]).factory("nvd3Utils",function(){return{debounce:function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||e.apply(i,s)},u=n&&!r;clearTimeout(r),r=setTimeout(o,t),u&&e.apply(i,s)}},deepExtend:function(e){var t=this;return angular.forEach(arguments,function(n){n!==e&&angular.forEach(n,function(n,r){e[r]&&e[r].constructor&&e[r].constructor===Object?t.deepExtend(e[r],n):e[r]=n})}),e},zoom:function(e,t){var n=t.chart.zoom,r=typeof n.enabled=="undefined"||n.enabled===null?!0:n.enabled;if(!r)return;var i=e.chart.xAxis.scale(),s=e.chart.yAxis.scale(),o=e.chart.xDomain||i.domain,u=e.chart.yDomain||s.domain,a=i.domain().slice(),f=s.domain().slice(),l=n.scale||1,c=n.translate||[0,0],h=n.scaleExtent||[1,10],p=n.useFixedDomain||!1,d=n.useNiceScale||!1,v=n.horizontalOff||!1,m=n.verticalOff||!1,g=n.unzoomEventType||"dblclick.zoom",y,b,w,E;d&&(i.nice(),s.nice()),y=function(e,t){return e[0]=Math.min(Math.max(e[0],t[0]),t[1]-t[1]/h[1]),e[1]=Math.max(t[0]+t[1]/h[1],Math.min(e[1],t[1])),e},w=function(){if(n.zoomed!==undefined){var t=n.zoomed(i.domain(),s.domain());v||o([t.x1,t.x2]),m||u([t.y1,t.y2])}else v||o(p?y(i.domain(),a):i.domain()),m||u(p?y(s.domain(),f):s.domain());e.chart.update()},E=function(){if(n.unzoomed!==undefined){var t=n.unzoomed(i.domain(),s.domain());v||o([t.x1,t.x2]),m||u([t.y1,t.y2])}else v||o(a),m||u(f);b.scale(l).translate(c),e.chart.update()},b=d3.behavior.zoom().x(i).y(s).scaleExtent(h).on("zoom",w),e.svg.call(b),b.scale(l).translate(c).event(e.svg),g!=="none"&&e.svg.on(g,E)}}})}),define("common/charts/helper/util",["angular","jQuery"],function(e){function t(t,n){var r=n.constructor||function(){};return r.super=t,r.prototype=new t,r.prototype.constructor=r,e.extend(r.prototype,n),r}function n(){var e=Array.prototype.slice.call(arguments);return e.unshift(!0),jQuery.extend.apply(jQuery,e)}return{extendClass:t,merge:n}}),define("common/charts/adapters/BaseAdapter",["d3","angular","../helper/util","../../services/i18nService"],function(e,t,n,r){function o(e,t){this.highchartConfig=e,this.nvd3Config=null,this.containerNode=t,this.containerHeight=400;if(t){var n=t.getBoundingClientRect();this.containerWidth=n.width}}var i=r.getI18n("directives.simpleChart"),s={chart:{noData:i.i18n("lang.noData")}};return o.prototype={constructor:o,colors:["#3BC0FF","#F2AC38","#55B802","#E45443","#4B64EE","#E45F8C","#AC7948","#8463C0","#58BDBD","#9C9624"],convert:function(){var t=this;return this.colors=this.highchartConfig.colors||this.colors,t.presetNvd3Config(),e.BROWSER_NOT_SUPPORT?t.nvd3Config:(t.presetHighchartConfig(),t.setDefaultChart(),t.setChartStyle(),t.setTitle(),this.highchartConfig.nvd3Data?t.nvd3Config.data=this.highchartConfig.nvd3Data:t.setData(),n.merge(this.nvd3Config.options,this.highchartConfig.nvd3Options),this.nvd3Config.options=n.merge({},s,this.nvd3Config.options),t.nvd3Config)},updateData:function(e,t){return this.highchartConfig.series=t,this.nvd3Config=e,this.setData(),this.nvd3Config.data},presetNvd3Config:function(){this.nvd3Config={options:{},config:{},data:null}},presetHighchartConfig:function(){this.highchartConfig=this.highchartConfig||{},this.highchartConfig.chart=this.highchartConfig.chart||{height:400},this.containerHeight=this.highchartConfig.chart.height||this.containerHeight,this.highchartConfig.title=this.highchartConfig.title||{}},setDefaultChart:function(){throw new Error("please override setDefaultChart")},setChartStyle:function(){this.nvd3Config.options.chart.height=this.highchartConfig.chart.height||400,this.setLegend(),this.highchartConfig.nvd3Options&&n.merge(this.nvd3Config.options,this.highchartConfig.nvd3Options)},setLegend:function(){this.highchartConfig.legend&&this.highchartConfig.legend.enabled!==undefined&&(this.nvd3Config.options.chart.showLegend=this.highchartConfig.legend.enabled,this.nvd3Config.options.chart.legend||(this.nvd3Config.options.chart.legend={}),this.nvd3Config.options.chart.legend.maxHeight=this.highchartConfig.legend.maxHeight)},setTitle:function(){var e=this;this.nvd3Config.options.title&&this.nvd3Config.options.title.text&&(this.nvd3Config.options.title={enable:!0,text:this.highchartConfig.title.text,css:t.extend(e.getTitleStyle(e.highchartConfig.title.style),{"text-align":this.highchartConfig.title.align?this.highchartConfig.title.align:"center"})}),this.highchartConfig.subtitle&&this.highchartConfig.subtitle.text&&(this.nvd3Config.options.subtitle={enable:!0,text:this.highchartConfig.subtitle.text,css:t.extend(e.getTitleStyle(e.highchartConfig.subtitle),{"text-align":this.highchartConfig.subtitle.align?this.highchartConfig.subtitle.align:"center"})})},setData:function(){throw new Error("please override setDefaultChart")},getTitleStyle:function(e){var t={};if(!e)return t;for(var n in e){var r=n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});t[r]=e[n]}return t}},o}),define("common/charts/helper/tickHelper",[],function(){function e(){}function t(e){var t=(e+"").split(".");return t.length>1&&t[1].length>2?Number(e).toFixed(2):e}return e.formatBigNumber=function(e){if(e<1e4)return t(e);if(e<1e7)return t(e/1e3)+"K";if(e<1e10)return t(e/1e3/1e3)+"M";if(e<1e13)return t(e/1e3/1e3/1e3)+"G";if(e<1e16)return t(e/1e3/1e3/1e3/1e3)+"T"},e}),define("common/helper/dateHelper",[],function(){var e={getISODateString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},getDateFromISOString:function(e){if(e){var t=e.match(/\d+/g),n=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]||0),r=new Date(n);return r}return undefined},formatDate:function(e,t){if(!t)return null;var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)(new RegExp("("+r+")")).test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}};return e}),define("common/charts/adapters/LineAdapter",["d3","angular","../helper/util","./BaseAdapter","../helper/tickHelper","../../helper/dateHelper"],function(e,t,n,r,i,s){var o=function(e){return e?t.isUndefined(e.x)?e[0]:e.x:0},u=function(e){return e?t.isUndefined(e.y)?e[1]:e.y:0},a=n.extendClass(r,{constructor:function(e,t){a.super.call(this,e,t)},presetHighchartConfig:function(){a.super.prototype.presetHighchartConfig.call(this),this.highchartConfig.chart.type="line"},setDefaultChart:function(){var n=this,r=this.nvd3Config,a=this.containerWidth;r.options=r.options||{},r.options.chart={type:"lineChart",useInteractiveGuideline:!0,legendPosition:"bottom",zoomType:this.highchartConfig.chart.zoomType,x:o,y:u,xScale:e.time.scale(),margin:{left:t.isUndefined(n.highchartConfig.chart.marginLeft)?40:n.highchartConfig.chart.marginLeft,bottom:32},legend:{padding:18,rightAlign:!1,align:!1},xAxis:{showMaxMin:!1,tickPadding:14,tickFormat:function(r){return n.highchartConfig.xAxis&&n.highchartConfig.xAxis.labels&&n.highchartConfig.xAxis.labels.formatter?t.bind({value:r},n.highchartConfig.xAxis.labels.formatter)():e.time.format.multi([["%H:%M:%S",function(e){return e.getMinutes()}],["%H:%M",function(e){return e.getHours()}],["%m-%d",function(e){return!0}]])(new Date(r))}},x2Axis:{showMaxMin:!1,tickPadding:14,tickFormat:function(t){return e.time.format.multi([["%H:%M",function(e){return e.getHours()}],["%m-%d",function(e){return!0}]])(new Date(t))}},yAxis:{showMaxMin:!1,tickFormat:function(e){return n.highchartConfig.yAxis&&n.highchartConfig.yAxis.labels&&n.highchartConfig.yAxis.labels.formatter?t.bind({value:e},n.highchartConfig.yAxis.labels.formatter)():i.formatBigNumber(e)}},interactiveLayer:{tooltip:{headerFormatter:function(e){return s.formatDate("yyyy-MM-dd hh:mm:ss",new Date(e))},valueFormatter:function(e){return n.highchartConfig.tooltip&&n.highchartConfig.tooltip.valueFormatter?n.highchartConfig.tooltip.valueFormatter(e):e}}},dispatch:{stateChange:function(t){var i=[],s=[];t.disabled.forEach(function(t,n){if(t)return;i.push(e.min(r.data[n].values,function(e){return e[1]})),s.push(e.max(r.data[n].values,function(e){return e[1]}))});var o=e.min(i),u=e.max(s);n._setForceY(o,u,r)}},callback:function(e){}}},setChartStyle:function(){var e=this.nvd3Config,t=this.highchartConfig;a.super.prototype.setChartStyle.call(this,e,t),t.lang&&t.lang.noData&&(e.options.chart.noData=t.lang.noData)},setData:function(){var n=this,r=this.nvd3Config,i=this.highchartConfig,s=[],o=[0],a=[0];i.series=i.series||[],i.series.forEach(function(i,o){i=n._formatHighchartSeries(i),s.push({key:i.name,values:i.data,color:n.colors[o],area:n.highchartConfig.chart.areaMode||(i.type||"").indexOf("area")>-1,strokeWidth:i.lineWidth||1,classed:i.dashStyle,data:i.data,setVisible:function(e){this.disabled=e},setData:function(t){this.values=t,n._setForceY(0,e.max(t,function(e){return e[1]}),r)},addPoint:function(i,o,a){t.isUndefined(i.x)&&(i.x=i[0]),t.isUndefined(i.y)&&(i.y=i[1]),this.values.push(i),this.values.shift();var f=e.max(s,function(t){return e.max(t.values,function(e){return u(e)})}),l=r.options.chart.forceY;n._setForceY(0,f,r)},options:{id:i.id}}),a.push(e.max(i.data,function(e){return u(e)}))}),r.data=s,n._setForceY(0,e.max(a),r)},_formatHighchartSeries:function(e){var n=t.copy(e);Array.isArray(n.data)||(n.data=[]);if(n.pointStart&&n.pointInterval){var r=[],i=n.data.length;for(var s=0;s<i;s++)r[s]=[n.pointStart+s*n.pointInterval,n.data[s]];n.data=r}return n},_setForceY:function(e,t,n){var r;t==0?(r=[-10,10],n.options.chart.yAxis.tickValues=[0]):(t>=1?(t=1.2*t,t=Math.ceil(t),r=[0,t]):t>0&&t<1&&(r=[0,1.6*t]),n.options.chart.yAxis.tickValues=null,n.options.chart.yAxis.ticks=Math.floor(this.containerHeight/72)),n.options.chart.forceY=r}});return a}),define("common/charts/adapters/SplineAdapter",["../helper/util","./LineAdapter","../helper/cubicBezierInterpolateHelper"],function(e,t,n){var r=e.extendClass(t,{constructor:function(e,t){r.super.call(this,e,t)},presetHighchartConfig:function(){r.super.prototype.presetHighchartConfig.call(this),this.highchartConfig.chart.type="spline"},setDefaultChart:function(){this.nvd3Config.config.interpolate=n.getSvgPathByGivenPoints,r.super.prototype.setDefaultChart.call(this)}});return r}),define("common/charts/adapters/PieAdapter",["d3","../helper/util","./BaseAdapter"],function(e,t,n){var r=t.extendClass(n,{constructor:function(e,t){r.super.call(this,e,t)},setDefaultChart:function(){var t=this,n=this.nvd3Config,r=this.highchartConfig;n.config=n.config||{},n.options=n.options||{},n.options.chart={type:"pieChart",showLegend:r.legend&&r.enabled,labelsOutside:!0,margin:{top:10,bottom:10},x:function(e){return e[0]},y:function(e){return e[1]},valueFormat:function(t){return e.format(".2f")(t)+"%"},color:function(e,n){return t.colors[n]},callback:function(){}}},setData:function(){var e,t=this.nvd3Config,n=this.highchartConfig;e=n.series[0].data,t.data=e}});return r}),define("common/charts/adapters/AnnulusAdapter",["d3","angular","../helper/util","./PieAdapter"],function(e,t,n,r){var i=n.extendClass(r,{constructor:function(e,t){i.super.call(this,e,t),this._total=0},presetHighchartConfig:function(){i.super.prototype.presetHighchartConfig.call(this)},setDefaultChart:function(){i.super.prototype.setDefaultChart.call(this);var n=this,r=n.highchartConfig;t.extend(this.nvd3Config.options.chart,{donut:!0,showLabels:!1,legendPosition:"right",growOnHover:!1,x:function(e){return e&&e.name},y:function(e){return e&&e.y},pie:{dispatch:{elementMouseover:function(e){var n=e.data,i={series:{chart:{options:r}},name:n.name,color:e.color,y:n.y,total:n.total,percentage:n.percentage};r.plotOptions&&r.plotOptions.pie&&r.plotOptions.pie.point&&r.plotOptions.pie.point.events&&r.plotOptions.pie.point.events.mouseOver&&t.bind(i,r.plotOptions.pie.point.events.mouseOver)(e)}}}});if(this.highchartConfig.annulusConfig&&this.highchartConfig.annulusConfig.userPercentData){var s=e.sum(this.highchartConfig.series[0].data,function(e){return e?e.y:0});this._total=s,this.nvd3Config.options.chart.valueFormat=function(t){return e.format(".2f")(t/s*100)+"%"}}r.plotOptions&&r.plotOptions.pie&&r.plotOptions.pie.innerSize&&(this.nvd3Config.options.chart.donutRatio=parseFloat(r.plotOptions.pie.innerSize)/100)},setData:function(){var e=this;i.super.prototype.setData.call(this),this.nvd3Config.data.forEach(function(t){t.total=e._total,t.percentage=t.y/t.total*100})}});return i}),define("common/charts/adapters/BarAdapter",["d3","../helper/util","./BaseAdapter"],function(e,t,n){var r=t.extendClass(n,{constructor:function(e,t){r.super.call(this,e,t)},setDefaultChart:function(){var t=this,n=this.nvd3Config,r=this.highchartConfig;n.options.chart={type:"multiBarHorizontalChart",showLegend:!1,showControls:!1,x:function(e){return e.name},y:function(e){return e.value},yAxis:{showMaxMin:!1,tickFormat:function(t){return e.format(",")(t)}},color:function(e,n){return t.colors[n]},callback:function(e){}}},setData:function(){var t=this.nvd3Config,n=this.highchartConfig,r=[],i=0,s=1;n.xAxis.categories&&n.series.forEach(function(t){var i=[];s=e.max([s,e.max(t.data)]),t.data.forEach(function(e,t){i.push({name:n.xAxis.categories[t],value:e})}),r.push({key:t.name,values:i})}),t.data=r,this._setForceY(i,s,t)},_setForceY:function(e,t,n){var r;t==0?r=[-10,10]:t>1?(t=1.08*t,t=Math.ceil(t),r=[0,t]):t>0&&t<1&&(r=[0,1.2*t]),n.options.chart.forceY=r,n.options.chart.yAxis.ticks=Math.floor(this.containerWidth/80)}});return r}),define("common/charts/adapters/ColumnAdapter",["d3","../helper/util","./BaseAdapter","../helper/tickHelper","../../helper/dateHelper"],function(e,t,n,r,i){var s=t.extendClass(n,{constructor:function(e,t){s.super.call(this,e,t)},setDefaultChart:function(){var t=this,n=this.nvd3Config,s=this.highchartConfig;n.options.chart={type:"historicalBarChart",showLegend:!0,showControls:!1,x:function(e){return e[0]},y:function(e){return e[1]},xScale:e.time.scale(),legend:{align:!1},margin:{left:50,right:20},xAxis:{showMaxMin:!1,tickFormat:function(t){return e.time.format.multi([["%H:%M",function(e){return e.getHours()}],["%m-%d",function(e){return!0}]])(new Date(t))}},yAxis:{showMaxMin:!1,tickFormat:function(e){return t.highchartConfig.yAxis&&t.highchartConfig.yAxis.labels&&t.highchartConfig.yAxis.labels.formatter?angular.bind({value:e},t.highchartConfig.yAxis.labels.formatter)():r.formatBigNumber(e)}},tooltip:{keyFormatter:function(e){return i.formatDate("yyyy-MM-dd hh:mm:ss",new Date(e))},valueFormatter:function(e){return t.highchartConfig.tooltip&&t.highchartConfig.tooltip.valueFormatter?t.highchartConfig.tooltip.valueFormatter(e):e}},color:function(e,n){return t.colors[n]},callback:function(e){}}},setData:function(){var t=this,n=this.nvd3Config,r=this.highchartConfig,i=[],s=[0],o=[0],u,a;r.series=r.series||[],r.series.forEach(function(t,n){i.push({key:t.name,values:t.data,area:(t.type||"").indexOf("area")>-1,strokeWidth:t.lineWidth||1,classed:t.dashStyle}),s.push(e.min(t.data,function(e){return e[1]})),o.push(e.max(t.data,function(e){return e[1]}))}),t._setForceY(e.min(s),e.max(o),n),n.data=i,u=e.min(r.series,function(t){return e.min(t.data,function(e){return e[0]})}),a=e.max(r.series,function(t){return e.max(t.data,function(e){return e[0]})});if(r.series&&r.series[0]&&r.series[0].data){var f=(a-u)/r.series[0].data.length;n.options.chart.forceX=[u-f/2,a+f/2]}},_setForceY:function(e,t,n){var r;t==0?(r=[-10,10],n.options.chart.yAxis.tickValues=[0]):(t>1?(t=1.2*t,t=Math.ceil(t),r=[0,t]):t>0&&t<1&&(r=[0,1.6*t]),n.options.chart.yAxis.tickValues=null,n.options.chart.yAxis.ticks=Math.floor(this.containerHeight/72)),n.options.chart.forceY=r}});return s}),define("common/charts/highchartsNvd3AdapterFactory",["angular","./adapters/LineAdapter","./adapters/SplineAdapter","./adapters/PieAdapter","./adapters/AnnulusAdapter","./adapters/BarAdapter","./adapters/ColumnAdapter"],function(e,t,n,r,i,s,o){function f(){}function l(e){var t=e.nvd3Options;return t&&t.chart&&t.chart.type?c(t.chart.type):(e.chart=e.chart||{},e.chart.type||(e.chart.type="",e.series.forEach(function(t){t.type&&t.type.indexOf("line")>-1&&(e.chart.type="spline")})),e.chart.type.indexOf("area")==0&&(e.chart.type=e.chart.type.replace("area",""),e.chart.areaMode=!0),e.chart.type||"spline")}function c(e){return a[e]}var u={line:t,spline:n,pie:r,annulus:i,bar:s,column:o},a={lineChart:"line",pieChart:"pie",multiBarHorizontalChart:"bar",historicalBarChart:"column"};return f.createAdapter=function(e,t){var n=l(e),r=u[n];return new r(e,t)},f}),define("common/charts/aliyunConsoleChartD3",["app","nvd3","./highchartsNvd3AdapterFactory"],function(e,t,n){function r(e){function t(t,r){var i=!t.disableDeepWatchConfig;t.nvd3=null,t.$watch("config",function(i){if(!i)return;t.nvd3=null,e(function(){var e=n.createAdapter(t.config,r[0]);t.nvd3=e.convert(),t.chartCreated({chart:{destroy:function(){},series:t.nvd3.data}})},0)},i),t.$watch("config.series",function(e){if(!e)return;if(!t.nvd3)return;var i=n.createAdapter(t.config,r[0]);i.updateData(t.nvd3,e)},!0)}return{scope:{config:"=",chartCreated:"&",disableDeepWatchConfig:"="},link:t,template:'<div nvd3 options="nvd3.options" data="nvd3.data" config="nvd3.config"></div>'}}e.directive("aliyunConsoleChartD3",r),r.$inject=["$timeout"]}),define("common/charts/index",["d3","nvd3","./core/angular-nvd3/index","./aliyunConsoleChartD3"],function(e,t,n,r){}),define("expenseCenter/bootstrap",["angular","app","expenseCenter/initConfig","base/index","common/services/_base","common/services/topicService","common/directives/_baseWithoutChart","common/directives/tooltip","common/directives/aliyunClipCopy","common/services/aliyunConsoleRequest","common/services/aliyunCacheFactoryHelper","common/charts/index"],function(e){"use strict";function n(t){e.element(document).ready(function(){e.bootstrap(document,["expenseCenterConsole"])})}function r(){t=setTimeout(function(){e?(clearTimeout(t),n()):r()},200)}var t=0;e?n():r()});