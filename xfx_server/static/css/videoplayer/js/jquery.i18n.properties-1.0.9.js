!function($){function loadAndParseFile(a,b){$.ajax({url:a,async:!1,cache:b.cache,contentType:"text/plain;charset="+b.encoding,dataType:"text",success:function(a,c){parseData(a,b.mode)}})}function parseData(data,mode){for(var parsed="",parameters=data.split(/\n/),regPlaceHolder=/(\{\d+\})/g,regRepPlaceHolder=/\{(\d+)\}/g,unicodeRE=/(\\u.{4})/gi,i=0;i<parameters.length;i++)if(parameters[i]=parameters[i].replace(/^\s\s*/,"").replace(/\s\s*$/,""),parameters[i].length>0&&"#"!=parameters[i].match("^#")){var pair=parameters[i].split("=");if(pair.length>0){for(var name=unescape(pair[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),value=1==pair.length?"":pair[1];"\\"==value.match(/\\$/);)value=value.substring(0,value.length-1),value+=parameters[++i].replace(/\s\s*$/,"");for(var s=2;s<pair.length;s++)value+="="+pair[s];if(value=value.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"map"==mode||"both"==mode){var unicodeMatches=value.match(unicodeRE);if(unicodeMatches)for(var u=0;u<unicodeMatches.length;u++)value=value.replace(unicodeMatches[u],unescapeUnicode(unicodeMatches[u]));$.i18n.map[name]=value}if("vars"==mode||"both"==mode)if(value=value.replace(/"/g,'\\"'),checkKeyNamespace(name),regPlaceHolder.test(value)){for(var parts=value.split(regPlaceHolder),first=!0,fnArgs="",usedArgs=[],p=0;p<parts.length;p++)!regPlaceHolder.test(parts[p])||0!=usedArgs.length&&usedArgs.indexOf(parts[p])!=-1||(first||(fnArgs+=","),fnArgs+=parts[p].replace(regRepPlaceHolder,"v$1"),usedArgs.push(parts[p]),first=!1);parsed+=name+"=function("+fnArgs+"){";var fnExpr='"'+value.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+fnExpr+";};"}else parsed+=name+'="'+value+'";'}}eval(parsed)}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key))for(var fullname="",names=key.split(/\./),i=0;i<names.length;i++)i>0&&(fullname+="."),fullname+=names[i],eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")}function getFiles(a){return a&&a.constructor==Array?a:[a]}function normaliseLanguageCode(a){return a=a.toLowerCase(),a.length>3&&(a=a.substring(0,3)+a.substring(3).toUpperCase()),a}function unescapeUnicode(a){var b=[],c=parseInt(a.substr(2),16);c>=0&&c<Math.pow(2,16)&&b.push(c);for(var d="",e=0;e<b.length;++e)d+=String.fromCharCode(b[e]);return d}$.i18n={},$.i18n.map={},$.i18n.properties=function(a){var b={name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",callback:null};a=$.extend(b,a),null!==a.language&&""!=a.language||(a.language=$.i18n.browserLang()),null===a.language&&(a.language="");var c=getFiles(a.name);for(i=0;i<c.length;i++)a.language.length>=2?loadAndParseFile(a.path+c[i]+"_"+a.language.substring(0,2)+".txt",a):loadAndParseFile(a.path+c[i]+"_zh.txt",a);a.callback&&a.callback()},$.i18n.prop=function(a){var b=$.i18n.map[a];if(null==b)return"["+a+"]";var c;if("string"==typeof b){for(c=0;(c=b.indexOf("\\",c))!=-1;)b="t"==b[c+1]?b.substring(0,c)+"\t"+b.substring(c++ +2):"r"==b[c+1]?b.substring(0,c)+"\r"+b.substring(c++ +2):"n"==b[c+1]?b.substring(0,c)+"\n"+b.substring(c++ +2):"f"==b[c+1]?b.substring(0,c)+"\f"+b.substring(c++ +2):"\\"==b[c+1]?b.substring(0,c)+"\\"+b.substring(c++ +2):b.substring(0,c)+b.substring(c+1);var d,e,f=[];for(c=0;c<b.length;)if("'"==b[c])if(c==b.length-1)b=b.substring(0,c);else if("'"==b[c+1])b=b.substring(0,c)+b.substring(++c);else{for(d=c+2;(d=b.indexOf("'",d))!=-1;){if(d==b.length-1||"'"!=b[d+1]){b=b.substring(0,c)+b.substring(c+1,d)+b.substring(d+1),c=d-1;break}b=b.substring(0,d)+b.substring(++d)}d==-1&&(b=b.substring(0,c)+b.substring(c+1))}else if("{"==b[c])if(d=b.indexOf("}",c+1),d==-1)c++;else if(e=parseInt(b.substring(c+1,d)),!isNaN(e)&&e>=0){var g=b.substring(0,c);""!=g&&f.push(g),f.push(e),c=0,b=b.substring(d+1)}else c=d+1;else c++;""!=b&&f.push(b),b=f,$.i18n.map[a]=f}if(0==b.length)return"";if(1==b.lengh&&"string"==typeof b[0])return b[0];var g="";for(c=0;c<b.length;c++)g+="string"==typeof b[c]?b[c]:b[c]+1<arguments.length?arguments[b[c]+1]:"{"+b[c]+"}";return g},$.i18n.browserLang=function(){return normaliseLanguageCode(navigator.language||navigator.userLanguage)};var cbSplit;cbSplit||(cbSplit=function(a,b,c){if("[object RegExp]"!==Object.prototype.toString.call(b))return"undefined"==typeof cbSplit._nativeSplit?a.split(b,c):cbSplit._nativeSplit.call(a,b,c);var d,e,f,g,h=[],i=0,j=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.sticky?"y":""),b=RegExp(b.source,j+"g");if(a+="",cbSplit._compliantExecNpcg||(d=RegExp("^"+b.source+"$(?!\\s)",j)),void 0===c||+c<0)c=1/0;else if(c=Math.floor(+c),!c)return[];for(;(e=b.exec(a))&&(f=e.index+e[0].length,!(f>i&&(h.push(a.slice(i,e.index)),!cbSplit._compliantExecNpcg&&e.length>1&&e[0].replace(d,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(e[a]=void 0)}),e.length>1&&e.index<a.length&&Array.prototype.push.apply(h,e.slice(1)),g=e[0].length,i=f,h.length>=c)));)b.lastIndex===e.index&&b.lastIndex++;return i===a.length?!g&&b.test("")||h.push(""):h.push(a.slice(i)),h.length>c?h.slice(0,c):h},cbSplit._compliantExecNpcg=void 0===/()??/.exec("")[1],cbSplit._nativeSplit=String.prototype.split),String.prototype.split=function(a,b){return cbSplit(this,a,b)}}(jQuery);